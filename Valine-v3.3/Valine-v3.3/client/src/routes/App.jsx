import { lazy } from 'react';import { Routes,Route, Navigate } from 'react-router-dom';import AppLayout from '../layouts/AppLayout';import { AuthProvider,useAuth } from '../context/AuthContext';const Home=lazy(()=>import('../pages/Home'));const Feed=lazy(()=>import('../pages/Feed'));const Scripts=lazy(()=>import('../pages/Scripts'));const ScriptDetail=lazy(()=>import('../pages/ScriptDetail'));const NewScript=lazy(()=>import('../pages/NewScript'));const Auditions=lazy(()=>import('../pages/Auditions'));const AuditionDetail=lazy(()=>import('../pages/AuditionDetail'));const NewAudition=lazy(()=>import('../pages/NewAudition'));const Search=lazy(()=>import('../pages/Search'));const Messages=lazy(()=>import('../pages/Messages'));const Notifications=lazy(()=>import('../pages/Notifications'));const Bookmarks=lazy(()=>import('../pages/Bookmarks'));const Settings=lazy(()=>import('../pages/Settings'));const Profile=lazy(()=>import('../pages/Profile'));const Requests=lazy(()=>import('../pages/Requests'));const Trending=lazy(()=>import('../pages/Trending'));function Protected({children}){const {user}=useAuth();return user?children:<Navigate to='/'/>;}export default function App(){return(<AuthProvider><Routes><Route element={<AppLayout/>}><Route index element={<Home/>}/><Route path='feed' element={<Feed/>}/><Route path='scripts' element={<Scripts/>}/><Route path='scripts/new' element={<Protected><NewScript/></Protected>}/><Route path='scripts/:id' element={<ScriptDetail/>}/><Route path='auditions' element={<Auditions/>}/><Route path='auditions/new' element={<Protected><NewAudition/></Protected>}/><Route path='auditions/:id' element={<AuditionDetail/>}/><Route path='trending' element={<Trending/>}/><Route path='search' element={<Search/>}/><Route path='messages' element={<Protected><Messages/></Protected>}/><Route path='notifications' element={<Protected><Notifications/></Protected>}/><Route path='bookmarks' element={<Protected><Bookmarks/></Protected>}/><Route path='settings' element={<Protected><Settings/></Protected>}/><Route path='profile/:id' element={<Profile/>}/><Route path='requests' element={<Protected><Requests/></Protected>}/></Route></Routes></AuthProvider>);}
