# ============================================
# Project Valine Server Environment Variables
# ============================================

# --------------------------------------------
# Server Configuration
# --------------------------------------------
PORT=5000
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173

# --------------------------------------------
# Database
# --------------------------------------------
DATABASE_URL=postgresql://postgres:password@localhost:5432/valine

# --------------------------------------------
# JWT Configuration
# --------------------------------------------
# IMPORTANT: Change this in production! Use a strong random string.
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=7d

# --------------------------------------------
# Security Features
# --------------------------------------------

# CSRF Protection
# Enable for cookie-based authentication
CSRF_ENABLED=false

# Session Tracking
# Enable to track active sessions in database
USE_SESSION_TRACKING=false

# Two-Factor Authentication
# Enable 2FA feature
FEATURE_2FA_ENABLED=false

# TOTP Encryption Key
# IMPORTANT: Change this in production! Use a strong random string.
TOTP_ENCRYPTION_KEY=your-encryption-key-change-in-production

# --------------------------------------------
# Email Configuration
# --------------------------------------------

# Email Service
EMAIL_ENABLED=false

# SMTP Configuration (required if EMAIL_ENABLED=true)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-smtp-password
FROM_EMAIL=noreply@valine.app

# Application Base URL (for email links)
BASE_URL=http://localhost:5173
APP_NAME=Project Valine

# --------------------------------------------
# Content Security Policy
# --------------------------------------------

# CSP Report Only Mode (recommended to start)
CSP_REPORT_ONLY=true

# CSP Report URI (optional)
# CSP_REPORT_URI=https://your-csp-report-endpoint.com/report

# Allowed API domains for CSP (comma-separated)
# API_DOMAINS=https://api.valine.app,https://cdn.valine.app

# --------------------------------------------
# Rate Limiting
# --------------------------------------------

# Auth rate limiting is always enabled with these defaults:
# - Login attempts: 5 per 15 minutes
# - Registration: 3 per hour
# - Password reset: 3 per hour

# --------------------------------------------
# Audit Logging
# --------------------------------------------

# Audit log retention in days (default: 90)
AUDIT_LOG_RETENTION_DAYS=90

# --------------------------------------------
# Notes
# --------------------------------------------
# - Never commit this file with real credentials
# - Use environment-specific .env files (.env.development, .env.production)
# - For production, use secure secret management (AWS Secrets Manager, etc.)
# - All security features are disabled by default for backward compatibility
# - Enable features gradually and test thoroughly
