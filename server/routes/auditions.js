import { Router } from 'express';import { store,nextId } from '../db/store.js';import { paginate } from './helpers.js';const r=Router();r.get('/',(req,res)=>{const page=Number(req.query.page||0);res.json(paginate(store.auditions,page,10));});r.get('/:id',(req,res)=>{const a=store.auditions.find(x=>x.id===req.params.id);if(!a) return res.status(404).json({error:'Not found'});res.json(a);});r.post('/',(req,res)=>{const { title, summary, seekerId='u2' }=req.body||{};const item={id:nextId('a'),title,summary,seekerId};store.auditions.unshift(item);res.json(item);});export default r;
