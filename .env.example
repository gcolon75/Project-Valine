# ============================================
# Project Valine Environment Variables
# ============================================

# --------------------------------------------
# Frontend Configuration
# --------------------------------------------

# API Base URL - The serverless backend endpoint
# Development: http://localhost:3001 (local serverless offline)
# Staging: https://your-api-id.execute-api.us-west-2.amazonaws.com/dev
# Production: https://your-api-id.execute-api.us-west-2.amazonaws.com/prod
VITE_API_BASE=http://localhost:3001

# API Integration Mode - Controls whether to use real API or fallback to mocks
# Set to 'true' to enable real API integration with fallback
# Set to 'false' to use only MSW mocks (useful for development without backend)
# Default: false (uses mocks)
VITE_API_INTEGRATION=false

# API Credentials Mode - Controls withCredentials for cookie-based authentication
# DEPRECATED: Use VITE_ENABLE_AUTH instead
# Set to 'true' if your backend uses HTTP-only cookies for auth
# Set to 'false' if using Bearer tokens (default)
# Default: false
VITE_API_USE_CREDENTIALS=false

# Cookie-Based Authentication - Enable Phase C HttpOnly cookie auth
# Set to 'true' to use secure HttpOnly cookies for authentication (recommended for production)
# Set to 'false' to use localStorage tokens (development/legacy mode)
# When true:
#   - Tokens stored in HttpOnly cookies (XSS protection)
#   - Auto token refresh with rotation
#   - CSRF protection via SameSite=Lax
# When false:
#   - Tokens stored in localStorage (backward compatibility)
#   - Manual token management required
# Default: false
VITE_ENABLE_AUTH=false

# MSW Development Mode - Enable Mock Service Worker in browser
# Set to 'true' to enable MSW for development without real backend
# Set to 'false' to disable MSW and use real API
# Default: false
VITE_USE_MSW=false

# Profile Links API - Enable backend integration for profile links
# Set to 'true' to call backend API for profile links and headline updates
# Set to 'false' to use local state only (optimistic updates)
# Default: false (backend integration pending)
VITE_ENABLE_PROFILE_LINKS_API=false

# --------------------------------------------
# Backend Configuration (Serverless/Lambda)
# --------------------------------------------

# Database connection string
# This is used by the serverless backend and should be set in:
# - Local development: .env file or environment variable
# - AWS Lambda: Environment variable in serverless.yml or AWS Systems Manager

# PostgreSQL (recommended for production)
DATABASE_URL=postgresql://username:password@host:5432/valine_db

# PostgreSQL with SSL (recommended for production with RDS)
# DATABASE_URL=postgresql://username:password@host:5432/valine_db?sslmode=require

# MySQL (alternative)
# DATABASE_URL=mysql://username:password@host:3306/valine_db

# SQLite (for local development only - not recommended for production)
# DATABASE_URL=file:./dev.db

# --------------------------------------------
# Account Creation & Authentication (NEW)
# --------------------------------------------

# JWT Secret for authentication tokens
# REQUIRED - Generate a secure random string (256 bits / 32+ characters)
# Example: openssl rand -base64 32
AUTH_JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT Token Expiration (default: 24h)
JWT_EXPIRATION=24h

# Frontend Base URL (for verification emails)
# Used to generate verification links
FRONTEND_BASE_URL=http://localhost:5173

# Email sending (MVP: disabled, tokens logged to console)
# Set to 'true' to enable actual email sending (requires SMTP config)
EMAIL_ENABLED=false

# --------------------------------------------
# AWS Configuration (for deployment)
# --------------------------------------------

# AWS Region for deployment
AWS_REGION=us-west-2

# Deployment stage (dev, staging, prod)
STAGE=dev

# --------------------------------------------
# Optional: AWS Services (if using)
# --------------------------------------------

# S3 bucket for file uploads
# S3_BUCKET=valine-uploads-dev

# Cognito configuration for authentication
# COGNITO_POOL_ID=us-west-2_XXXXXXXXX
# COGNITO_REGION=us-west-2
# COGNITO_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXXXX

# --------------------------------------------
# Notes
# --------------------------------------------
# - The .env file is gitignored for security
# - Never commit sensitive credentials to version control
# - For production, use AWS Systems Manager Parameter Store or Secrets Manager
# - Frontend variables must be prefixed with VITE_ to be exposed to the client
