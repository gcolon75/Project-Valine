var vee=Object.create;var Bp=Object.defineProperty;var Aee=Object.getOwnPropertyDescriptor;var Ree=Object.getOwnPropertyNames;var Tee=Object.getPrototypeOf,kee=Object.prototype.hasOwnProperty;var I=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zn=(e,t)=>{for(var r in t)Bp(e,r,{get:t[r],enumerable:!0})},bD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ree(t))!kee.call(e,s)&&s!==r&&Bp(e,s,{get:()=>t[s],enumerable:!(n=Aee(t,s))||n.enumerable});return e};var N=(e,t,r)=>(r=e!=null?vee(Tee(e)):{},bD(t||!e||!e.__esModule?Bp(r,"default",{value:e,enumerable:!0}):r,e)),je=e=>bD(Bp({},"__esModule",{value:!0}),e);var q_=E((O5e,S2)=>{"use strict";var Iee=Object.create,sg=Object.defineProperty,Pee=Object.getOwnPropertyDescriptor,Oee=Object.getOwnPropertyNames,Nee=Object.getPrototypeOf,Dee=Object.prototype.hasOwnProperty,d3=(e,t)=>()=>(e&&(t=e(e=0)),t),ms=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dc=(e,t)=>{for(var r in t)sg(e,r,{get:t[r],enumerable:!0})},u3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Oee(t))!Dee.call(e,s)&&s!==r&&sg(e,s,{get:()=>t[s],enumerable:!(n=Pee(t,s))||n.enumerable});return e},St=(e,t,r)=>(r=e!=null?Iee(Nee(e)):{},u3(t||!e||!e.__esModule?sg(r,"default",{value:e,enumerable:!0}):r,e)),Bee=e=>u3(sg({},"__esModule",{value:!0}),e),f3=ms((e,t)=>{"use strict";t.exports=(r,n=process.argv)=>{let s=r.startsWith("-")?"":r.length===1?"-":"--",i=n.indexOf(s+r),o=n.indexOf("--");return i!==-1&&(o===-1||i<o)}}),qee=ms((e,t)=>{"use strict";var r=require("node:os"),n=require("node:tty"),s=f3(),{env:i}=process,o;s("no-color")||s("no-colors")||s("color=false")||s("color=never")?o=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(o=1),"FORCE_COLOR"in i&&(i.FORCE_COLOR==="true"?o=1:i.FORCE_COLOR==="false"?o=0:o=i.FORCE_COLOR.length===0?1:Math.min(parseInt(i.FORCE_COLOR,10),3));function a(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function c(u,f){if(o===0)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(u&&!f&&o===void 0)return 0;let m=o||0;if(i.TERM==="dumb")return m;if(process.platform==="win32"){let h=r.release().split(".");return Number(h[0])>=10&&Number(h[2])>=10586?Number(h[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(h=>h in i)||i.CI_NAME==="codeship"?1:m;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if(i.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in i){let h=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:m}function d(u){let f=c(u,u&&u.isTTY);return a(f)}t.exports={supportsColor:d,stdout:a(c(!0,n.isatty(1))),stderr:a(c(!0,n.isatty(2)))}}),Mee=ms((e,t)=>{"use strict";var r=qee(),n=f3();function s(o){if(/^\d{3,4}$/.test(o)){let c=/(\d{1,2})(\d{2})/.exec(o)||[];return{major:0,minor:parseInt(c[1],10),patch:parseInt(c[2],10)}}let a=(o||"").split(".").map(c=>parseInt(c,10));return{major:a[0],minor:a[1],patch:a[2]}}function i(o){let{CI:a,FORCE_HYPERLINK:c,NETLIFY:d,TEAMCITY_VERSION:u,TERM_PROGRAM:f,TERM_PROGRAM_VERSION:m,VTE_VERSION:h,TERM:y}=process.env;if(c)return!(c.length>0&&parseInt(c,10)===0);if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||d)return!0;if(!r.supportsColor(o)||o&&!o.isTTY)return!1;if("WT_SESSION"in process.env)return!0;if(process.platform==="win32"||a||u)return!1;if(f){let b=s(m||"");switch(f){case"iTerm.app":return b.major===3?b.minor>=1:b.major>3;case"WezTerm":return b.major>=20200620;case"vscode":return b.major>1||b.major===1&&b.minor>=72;case"ghostty":return!0}}if(h){if(h==="0.50.0")return!1;let b=s(h);return b.major>0||b.minor>=50}switch(y){case"alacritty":return!0}return!1}t.exports={supportsHyperlink:i,stdout:i(process.stdout),stderr:i(process.stderr)}}),Lee=ms((e,t)=>{t.exports={name:"@prisma/internals",version:"6.19.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0","escape-string-regexp":"5.0.0",execa:"8.0.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","global-directory":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-engine-wasm":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),m3=ms((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),d_=ms(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=m3().prisma.enginesVersion}),Fee=ms((e,t)=>{"use strict";t.exports=r=>{let n=r.match(/^[ \t]*(?=\S)/gm);return n?n.reduce((s,i)=>Math.min(s,i.length),1/0):0}}),h3=ms((e,t)=>{"use strict";t.exports=(r,n=1,s)=>{if(s={indent:" ",includeEmptyLines:!1,...s},typeof r!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof n!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof n}\``);if(typeof s.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof s.indent}\``);if(n===0)return r;let i=s.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(i,s.indent.repeat(n))}}),Uee=ms((e,t)=>{t.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}}),$ee=ms((e,t)=>{"use strict";var r=require("node:fs"),n=require("node:path"),s=require("node:os"),i=require("node:crypto"),o=Uee(),a=o.version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function d(W){let J={},te=W.toString();te=te.replace(/\r\n?/mg,`
`);let ge;for(;(ge=c.exec(te))!=null;){let be=ge[1],Te=ge[2]||"";Te=Te.trim();let at=Te[0];Te=Te.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),at==='"'&&(Te=Te.replace(/\\n/g,`
`),Te=Te.replace(/\\r/g,"\r")),J[be]=Te}return J}function u(W){let J=b(W),te=re.configDotenv({path:J});if(!te.parsed){let at=new Error(`MISSING_DATA: Cannot parse ${J} for an unknown reason`);throw at.code="MISSING_DATA",at}let ge=h(W).split(","),be=ge.length,Te;for(let at=0;at<be;at++)try{let dt=ge[at].trim(),ct=y(te,dt);Te=re.decrypt(ct.ciphertext,ct.key);break}catch(dt){if(at+1>=be)throw dt}return re.parse(Te)}function f(W){console.log(`[dotenv@${a}][WARN] ${W}`)}function m(W){console.log(`[dotenv@${a}][DEBUG] ${W}`)}function h(W){return W&&W.DOTENV_KEY&&W.DOTENV_KEY.length>0?W.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function y(W,J){let te;try{te=new URL(J)}catch(dt){if(dt.code==="ERR_INVALID_URL"){let ct=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw ct.code="INVALID_DOTENV_KEY",ct}throw dt}let ge=te.password;if(!ge){let dt=new Error("INVALID_DOTENV_KEY: Missing key part");throw dt.code="INVALID_DOTENV_KEY",dt}let be=te.searchParams.get("environment");if(!be){let dt=new Error("INVALID_DOTENV_KEY: Missing environment part");throw dt.code="INVALID_DOTENV_KEY",dt}let Te=`DOTENV_VAULT_${be.toUpperCase()}`,at=W.parsed[Te];if(!at){let dt=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${Te} in your .env.vault file.`);throw dt.code="NOT_FOUND_DOTENV_ENVIRONMENT",dt}return{ciphertext:at,key:ge}}function b(W){let J=null;if(W&&W.path&&W.path.length>0)if(Array.isArray(W.path))for(let te of W.path)r.existsSync(te)&&(J=te.endsWith(".vault")?te:`${te}.vault`);else J=W.path.endsWith(".vault")?W.path:`${W.path}.vault`;else J=n.resolve(process.cwd(),".env.vault");return r.existsSync(J)?J:null}function v(W){return W[0]==="~"?n.join(s.homedir(),W.slice(1)):W}function R(W){W&&W.debug&&m("Loading env from encrypted .env.vault");let J=re._parseVault(W),te=process.env;return W&&W.processEnv!=null&&(te=W.processEnv),re.populate(te,J,W),{parsed:J}}function D(W){let J=n.resolve(process.cwd(),".env"),te="utf8",ge=!!(W&&W.debug);W&&W.encoding?te=W.encoding:ge&&m("No encoding is specified. UTF-8 is used by default");let be=[J];if(W&&W.path)if(!Array.isArray(W.path))be=[v(W.path)];else{be=[];for(let ct of W.path)be.push(v(ct))}let Te,at={};for(let ct of be)try{let Je=re.parse(r.readFileSync(ct,{encoding:te}));re.populate(at,Je,W)}catch(Je){ge&&m(`Failed to load ${ct} ${Je.message}`),Te=Je}let dt=process.env;return W&&W.processEnv!=null&&(dt=W.processEnv),re.populate(dt,at,W),Te?{parsed:at,error:Te}:{parsed:at}}function Y(W){if(h(W).length===0)return re.configDotenv(W);let J=b(W);return J?re._configVault(W):(f(`You set DOTENV_KEY but you are missing a .env.vault file at ${J}. Did you forget to build it?`),re.configDotenv(W))}function ee(W,J){let te=Buffer.from(J.slice(-64),"hex"),ge=Buffer.from(W,"base64"),be=ge.subarray(0,12),Te=ge.subarray(-16);ge=ge.subarray(12,-16);try{let at=i.createDecipheriv("aes-256-gcm",te,be);return at.setAuthTag(Te),`${at.update(ge)}${at.final()}`}catch(at){let dt=at instanceof RangeError,ct=at.message==="Invalid key length",Je=at.message==="Unsupported state or unable to authenticate data";if(dt||ct){let nc=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw nc.code="INVALID_DOTENV_KEY",nc}else if(Je){let nc=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw nc.code="DECRYPTION_FAILED",nc}else throw at}}function ye(W,J,te={}){let ge=!!(te&&te.debug),be=!!(te&&te.override);if(typeof J!="object"){let Te=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw Te.code="OBJECT_REQUIRED",Te}for(let Te of Object.keys(J))Object.prototype.hasOwnProperty.call(W,Te)?(be===!0&&(W[Te]=J[Te]),ge&&m(be===!0?`"${Te}" is already defined and WAS overwritten`:`"${Te}" is already defined and was NOT overwritten`)):W[Te]=J[Te]}var re={configDotenv:D,_configVault:R,_parseVault:u,config:Y,decrypt:ee,parse:d,populate:ye};t.exports.configDotenv=re.configDotenv,t.exports._configVault=re._configVault,t.exports._parseVault=re._parseVault,t.exports.config=re.config,t.exports.decrypt=re.decrypt,t.exports.parse=re.parse,t.exports.populate=re.populate,t.exports=re}),jee=ms((e,t)=>{"use strict";t.exports=(r={})=>{let n;if(r.repoUrl)n=r.repoUrl;else if(r.user&&r.repo)n=`https://github.com/${r.user}/${r.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let s=new URL(`${n}/issues/new`),i=["body","title","labels","template","milestone","assignee","projects"];for(let o of i){let a=r[o];if(a!==void 0){if(o==="labels"||o==="projects"){if(!Array.isArray(a))throw new TypeError(`The \`${o}\` option should be an array`);a=a.join(",")}s.searchParams.set(o,a)}}return s.toString()},t.exports.default=t.exports}),p3=ms((e,t)=>{"use strict";t.exports=(function(){function r(n,s,i,o,a){return n<s||i<s?n>i?i+1:n+1:o===a?s:s+1}return function(n,s){if(n===s)return 0;if(n.length>s.length){var i=n;n=s,s=i}for(var o=n.length,a=s.length;o>0&&n.charCodeAt(o-1)===s.charCodeAt(a-1);)o--,a--;for(var c=0;c<o&&n.charCodeAt(c)===s.charCodeAt(c);)c++;if(o-=c,a-=c,o===0||a<3)return a;var d=0,u,f,m,h,y,b,v,R,D,Y,ee,ye,re=[];for(u=0;u<o;u++)re.push(u+1),re.push(n.charCodeAt(c+u));for(var W=re.length-1;d<a-3;)for(D=s.charCodeAt(c+(f=d)),Y=s.charCodeAt(c+(m=d+1)),ee=s.charCodeAt(c+(h=d+2)),ye=s.charCodeAt(c+(y=d+3)),b=d+=4,u=0;u<W;u+=2)v=re[u],R=re[u+1],f=r(v,f,m,D,R),m=r(f,m,h,Y,R),h=r(m,h,y,ee,R),b=r(h,y,b,ye,R),re[u]=b,y=h,h=m,m=f,f=v;for(;d<a;)for(D=s.charCodeAt(c+(f=d)),b=++d,u=0;u<W;u+=2)v=re[u],re[u]=b=r(v,f,b,D,re[u+1]),f=v;return b}})()}),Vee=d3(()=>{"use strict"}),zee=d3(()=>{"use strict"}),g3={};dc(g3,{DMMF:()=>nB,Debug:()=>_n,Decimal:()=>dg,Extensions:()=>y3,MetricsClient:()=>OB,PrismaClientInitializationError:()=>pr,PrismaClientKnownRequestError:()=>Go,PrismaClientRustPanicError:()=>zo,PrismaClientUnknownRequestError:()=>es,PrismaClientValidationError:()=>Qi,Public:()=>b3,Sql:()=>Xo,createParam:()=>Xse,defineDmmfProperty:()=>oie,deserializeJsonResponse:()=>ng,deserializeRawResult:()=>g2,dmmfToRuntimeDataModel:()=>Zre,empty:()=>hie,getPrismaClient:()=>nce,getRuntime:()=>WB,join:()=>mie,makeStrictEnum:()=>oce,makeTypedQueryFactory:()=>cie,objectEnumValues:()=>bB,raw:()=>BB,serializeJsonQuery:()=>kB,skip:()=>RB,sqltag:()=>pie,warnEnvConflicts:()=>ace,warnOnce:()=>V3});S2.exports=Bee(g3);var y3={};dc(y3,{defineExtension:()=>Hee,getExtensionContext:()=>Gee});function Hee(e){return typeof e=="function"?e:t=>t.$extends(e)}function Gee(e){return e}var b3={};dc(b3,{validator:()=>Kee});function Kee(...e){return t=>t}var NC={};dc(NC,{$:()=>C3,bgBlack:()=>nte,bgBlue:()=>ate,bgCyan:()=>lte,bgGreen:()=>ite,bgMagenta:()=>cte,bgRed:()=>ste,bgWhite:()=>dte,bgYellow:()=>ote,black:()=>Zee,blue:()=>Bf,bold:()=>Hs,cyan:()=>ac,dim:()=>Wf,gray:()=>u_,green:()=>$f,grey:()=>rte,hidden:()=>Yee,inverse:()=>Qee,italic:()=>Xee,magenta:()=>ete,red:()=>cc,reset:()=>Wee,strikethrough:()=>Jee,underline:()=>fs,white:()=>tte,yellow:()=>Xf});var DC,S3,E3,x3,w3=!0;typeof process<"u"&&({FORCE_COLOR:DC,NODE_DISABLE_COLORS:S3,NO_COLOR:E3,TERM:x3}=process.env||{},w3=process.stdout&&process.stdout.isTTY);var C3={enabled:!S3&&E3==null&&x3!=="dumb"&&(DC!=null&&DC!=="0"||w3)};function Lt(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,s=`\x1B[${t}m`;return function(i){return!C3.enabled||i==null?i:n+(~(""+i).indexOf(s)?i.replace(r,s+n):i)+s}}var Wee=Lt(0,0),Hs=Lt(1,22),Wf=Lt(2,22),Xee=Lt(3,23),fs=Lt(4,24),Qee=Lt(7,27),Yee=Lt(8,28),Jee=Lt(9,29),Zee=Lt(30,39),cc=Lt(31,39),$f=Lt(32,39),Xf=Lt(33,39),Bf=Lt(34,39),ete=Lt(35,39),ac=Lt(36,39),tte=Lt(37,39),u_=Lt(90,39),rte=Lt(90,39),nte=Lt(40,49),ste=Lt(41,49),ite=Lt(42,49),ote=Lt(43,49),ate=Lt(44,49),cte=Lt(45,49),lte=Lt(46,49),dte=Lt(47,49),ute=100,SD=["green","yellow","blue","magenta","cyan","red"],qf=[],ED=Date.now(),fte=0,BC=typeof process<"u"?process.env:{};globalThis.DEBUG??=BC.DEBUG??"";globalThis.DEBUG_COLORS??=BC.DEBUG_COLORS?BC.DEBUG_COLORS==="true":!0;var Mf={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(s=>s.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(s=>s===""||s[0]==="-"?!1:e.match(RegExp(s.split("*").join(".*")+"$"))),n=t.some(s=>s===""||s[0]!=="-"?!1:e.match(RegExp(s.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function mte(e){let t={color:SD[fte++%SD.length],enabled:Mf.enabled(e),namespace:e,log:Mf.log,extend:()=>{}},r=(...n)=>{let{enabled:s,namespace:i,color:o,log:a}=t;if(n.length!==0&&qf.push([i,...n]),qf.length>ute&&qf.shift(),Mf.enabled(i)||s){let c=n.map(u=>typeof u=="string"?u:hte(u)),d=`+${Date.now()-ED}ms`;ED=Date.now(),globalThis.DEBUG_COLORS?a(NC[o](Hs(i)),...c,NC[o](d)):a(i,...c,d)}};return new Proxy(r,{get:(n,s)=>t[s],set:(n,s,i)=>t[s]=i})}var _n=new Proxy(mte,{get:(e,t)=>Mf[t],set:(e,t,r)=>Mf[t]=r});function hte(e,t=2){let r=new Set;return JSON.stringify(e,(n,s)=>{if(typeof s=="object"&&s!==null){if(r.has(s))return"[Circular *]";r.add(s)}else if(typeof s=="bigint")return s.toString();return s},t)}function pte(e=7500){let t=qf.map(([r,...n])=>`${r} ${n.map(s=>typeof s=="string"?s:JSON.stringify(s)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function gte(){qf.length=0}var f_=_n,yte=St(require("node:fs"));function bte(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&yte.default.existsSync(e))&&process.arch==="ia32")throw new Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Ste=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],qp="libquery_engine";function Ete(e,t){let r=t==="url";return e.includes("windows")?r?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?r?`${qp}.dylib.node`:`${qp}-${e}.dylib.node`:r?`${qp}.so.node`:`${qp}-${e}.so.node`}var xte=St(require("node:child_process")),_3=St(require("node:fs/promises")),qC=St(require("node:os")),Ji=Symbol.for("@ts-pattern/matcher"),wte=Symbol.for("@ts-pattern/isVariadic"),Qp="@ts-pattern/anonymous-select-key",MC=e=>!!(e&&typeof e=="object"),jp=e=>e&&!!e[Ji],fi=(e,t,r)=>{if(jp(e)){let n=e[Ji](),{matched:s,selections:i}=n.match(t);return s&&i&&Object.keys(i).forEach(o=>r(o,i[o])),s}if(MC(e)){if(!MC(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],s=[],i=[];for(let o of e.keys()){let a=e[o];jp(a)&&a[wte]?i.push(a):i.length?s.push(a):n.push(a)}if(i.length){if(i.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+s.length)return!1;let o=t.slice(0,n.length),a=s.length===0?[]:t.slice(-s.length),c=t.slice(n.length,s.length===0?1/0:-s.length);return n.every((d,u)=>fi(d,o[u],r))&&s.every((d,u)=>fi(d,a[u],r))&&(i.length===0||fi(i[0],c,r))}return e.length===t.length&&e.every((o,a)=>fi(o,t[a],r))}return Reflect.ownKeys(e).every(n=>{let s=e[n];return(n in t||jp(i=s)&&i[Ji]().matcherType==="optional")&&fi(s,t[n],r);var i})}return Object.is(t,e)},Ho=e=>{var t,r,n;return MC(e)?jp(e)?(t=(r=(n=e[Ji]()).getSelectionKeys)==null?void 0:r.call(n))!=null?t:[]:Array.isArray(e)?jf(e,Ho):jf(Object.values(e),Ho):[]},jf=(e,t)=>e.reduce((r,n)=>r.concat(t(n)),[]);function hs(e){return Object.assign(e,{optional:()=>Cte(e),and:t=>Qt(e,t),or:t=>_te(e,t),select:t=>t===void 0?xD(e):xD(t,e)})}function Cte(e){return hs({[Ji]:()=>({match:t=>{let r={},n=(s,i)=>{r[s]=i};return t===void 0?(Ho(e).forEach(s=>n(s,void 0)),{matched:!0,selections:r}):{matched:fi(e,t,n),selections:r}},getSelectionKeys:()=>Ho(e),matcherType:"optional"})})}function Qt(...e){return hs({[Ji]:()=>({match:t=>{let r={},n=(s,i)=>{r[s]=i};return{matched:e.every(s=>fi(s,t,n)),selections:r}},getSelectionKeys:()=>jf(e,Ho),matcherType:"and"})})}function _te(...e){return hs({[Ji]:()=>({match:t=>{let r={},n=(s,i)=>{r[s]=i};return jf(e,Ho).forEach(s=>n(s,void 0)),{matched:e.some(s=>fi(s,t,n)),selections:r}},getSelectionKeys:()=>jf(e,Ho),matcherType:"or"})})}function ht(e){return{[Ji]:()=>({match:t=>({matched:!!e(t)})})}}function xD(...e){let t=typeof e[0]=="string"?e[0]:void 0,r=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return hs({[Ji]:()=>({match:n=>{let s={[t??Qp]:n};return{matched:r===void 0||fi(r,n,(i,o)=>{s[i]=o}),selections:s}},getSelectionKeys:()=>[t??Qp].concat(r===void 0?[]:Ho(r))})})}function li(e){return typeof e=="number"}function Lo(e){return typeof e=="string"}function Fo(e){return typeof e=="bigint"}var a5e=hs(ht(function(e){return!0})),Uo=e=>Object.assign(hs(e),{startsWith:t=>{return Uo(Qt(e,(r=t,ht(n=>Lo(n)&&n.startsWith(r)))));var r},endsWith:t=>{return Uo(Qt(e,(r=t,ht(n=>Lo(n)&&n.endsWith(r)))));var r},minLength:t=>Uo(Qt(e,(r=>ht(n=>Lo(n)&&n.length>=r))(t))),length:t=>Uo(Qt(e,(r=>ht(n=>Lo(n)&&n.length===r))(t))),maxLength:t=>Uo(Qt(e,(r=>ht(n=>Lo(n)&&n.length<=r))(t))),includes:t=>{return Uo(Qt(e,(r=t,ht(n=>Lo(n)&&n.includes(r)))));var r},regex:t=>{return Uo(Qt(e,(r=t,ht(n=>Lo(n)&&!!n.match(r)))));var r}}),c5e=Uo(ht(Lo)),di=e=>Object.assign(hs(e),{between:(t,r)=>di(Qt(e,((n,s)=>ht(i=>li(i)&&n<=i&&s>=i))(t,r))),lt:t=>di(Qt(e,(r=>ht(n=>li(n)&&n<r))(t))),gt:t=>di(Qt(e,(r=>ht(n=>li(n)&&n>r))(t))),lte:t=>di(Qt(e,(r=>ht(n=>li(n)&&n<=r))(t))),gte:t=>di(Qt(e,(r=>ht(n=>li(n)&&n>=r))(t))),int:()=>di(Qt(e,ht(t=>li(t)&&Number.isInteger(t)))),finite:()=>di(Qt(e,ht(t=>li(t)&&Number.isFinite(t)))),positive:()=>di(Qt(e,ht(t=>li(t)&&t>0))),negative:()=>di(Qt(e,ht(t=>li(t)&&t<0)))}),l5e=di(ht(li)),$o=e=>Object.assign(hs(e),{between:(t,r)=>$o(Qt(e,((n,s)=>ht(i=>Fo(i)&&n<=i&&s>=i))(t,r))),lt:t=>$o(Qt(e,(r=>ht(n=>Fo(n)&&n<r))(t))),gt:t=>$o(Qt(e,(r=>ht(n=>Fo(n)&&n>r))(t))),lte:t=>$o(Qt(e,(r=>ht(n=>Fo(n)&&n<=r))(t))),gte:t=>$o(Qt(e,(r=>ht(n=>Fo(n)&&n>=r))(t))),positive:()=>$o(Qt(e,ht(t=>Fo(t)&&t>0))),negative:()=>$o(Qt(e,ht(t=>Fo(t)&&t<0)))}),d5e=$o(ht(Fo)),u5e=hs(ht(function(e){return typeof e=="boolean"})),f5e=hs(ht(function(e){return typeof e=="symbol"})),m5e=hs(ht(function(e){return e==null})),h5e=hs(ht(function(e){return e!=null})),vte=class extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch{t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}},LC={matched:!1,value:void 0};function ig(e){return new Ate(e,LC)}var Ate=class FC{constructor(t,r){this.input=void 0,this.state=void 0,this.input=t,this.state=r}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],s;t.length===3&&typeof t[1]=="function"?s=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let i=!1,o={},a=(d,u)=>{i=!0,o[d]=u},c=!n.some(d=>fi(d,this.input,a))||s&&!s(this.input)?LC:{matched:!0,value:r(i?Qp in o?o[Qp]:o:this.input,this.input)};return new FC(this.input,c)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new FC(this.input,n?{matched:!0,value:r(this.input,this.input)}:LC)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new vte(this.input)}run(){return this.exhaustive()}returnType(){return this}},Rte=require("node:util"),Tte={warn:Xf("prisma:warn")},kte={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function CC(e,...t){kte.warn()&&console.warn(`${Tte.warn} ${e}`,...t)}var Ite=(0,Rte.promisify)(xte.default.exec),Cn=f_("prisma:get-platform"),Pte=["1.0.x","1.1.x","3.0.x"];async function Ote(){let e=qC.default.platform(),t=process.arch;if(e==="freebsd"){let o=await Yp("freebsd-version");if(o&&o.trim().length>0){let a=/^(\d+)\.?/.exec(o);if(a)return{platform:"freebsd",targetDistro:`freebsd${a[1]}`,arch:t}}}if(e!=="linux")return{platform:e,arch:t};let r=await Dte(),n=await Vte(),s=qte({arch:t,archFromUname:n,familyDistro:r.familyDistro}),{libssl:i}=await Mte(s);return{platform:"linux",libssl:i,arch:t,archFromUname:n,...r}}function Nte(e){let t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),s=n&&n[1]&&n[1].toLowerCase()||"",i=r.exec(e),o=i&&i[1]&&i[1].toLowerCase()||"",a=ig({id:s,idLike:o}).with({id:"alpine"},({id:c})=>({targetDistro:"musl",familyDistro:c,originalDistro:c})).with({id:"raspbian"},({id:c})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:c})).with({id:"nixos"},({id:c})=>({targetDistro:"nixos",originalDistro:c,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:c})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:c})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:c})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:c})).when(({idLike:c})=>c.includes("debian")||c.includes("ubuntu"),({id:c})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:c})).when(({idLike:c})=>s==="arch"||c.includes("arch"),({id:c})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:c})).when(({idLike:c})=>c.includes("centos")||c.includes("fedora")||c.includes("rhel")||c.includes("suse"),({id:c})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:c})).otherwise(({id:c})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:c}));return Cn(`Found distro info:
${JSON.stringify(a,null,2)}`),a}async function Dte(){let e="/etc/os-release";try{let t=await _3.default.readFile(e,{encoding:"utf-8"});return Nte(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Bte(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t){let r=`${t[1]}.x`;return v3(r)}}function wD(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t){let r=`${t[1]}${t[2]??".0"}.x`;return v3(r)}}function v3(e){let t=(()=>{if(R3(e))return e;let r=e.split(".");return r[1]="0",r.join(".")})();if(Pte.includes(t))return t}function qte(e){return ig(e).with({familyDistro:"musl"},()=>(Cn('Trying platform-specific paths for "alpine"'),["/lib","/usr/lib"])).with({familyDistro:"debian"},({archFromUname:t})=>(Cn('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${t}-linux-gnu`,`/lib/${t}-linux-gnu`])).with({familyDistro:"rhel"},()=>(Cn('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:t,arch:r,archFromUname:n})=>(Cn(`Don't know any platform-specific paths for "${t}" on ${r} (${n})`),[]))}async function Mte(e){let t='grep -v "libssl.so.0"',r=await CD(e);if(r){Cn(`Found libssl.so file using platform-specific paths: ${r}`);let i=wD(r);if(Cn(`The parsed libssl version is: ${i}`),i)return{libssl:i,strategy:"libssl-specific-path"}}Cn('Falling back to "ldconfig" and other generic paths');let n=await Yp(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(n||(n=await CD(["/lib64","/usr/lib64","/lib","/usr/lib"])),n){Cn(`Found libssl.so file using "ldconfig" or other generic paths: ${n}`);let i=wD(n);if(Cn(`The parsed libssl version is: ${i}`),i)return{libssl:i,strategy:"ldconfig"}}let s=await Yp("openssl version -v");if(s){Cn(`Found openssl binary with version: ${s}`);let i=Bte(s);if(Cn(`The parsed openssl version is: ${i}`),i)return{libssl:i,strategy:"openssl-binary"}}return Cn("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function CD(e){for(let t of e){let r=await Lte(t);if(r)return r}}async function Lte(e){try{return(await _3.default.readdir(e)).find(t=>t.startsWith("libssl.so.")&&!t.startsWith("libssl.so.0"))}catch(t){if(t.code==="ENOENT")return;throw t}}async function m_(){let{binaryTarget:e}=await A3();return e}function Fte(e){return e.binaryTarget!==void 0}async function Ute(){let{memoized:e,...t}=await A3();return t}var Mp={};async function A3(){if(Fte(Mp))return Promise.resolve({...Mp,memoized:!0});let e=await Ote(),t=$te(e);return Mp={...e,binaryTarget:t},{...Mp,memoized:!1}}function $te(e){let{platform:t,arch:r,archFromUname:n,libssl:s,targetDistro:i,familyDistro:o,originalDistro:a}=e;t==="linux"&&!["x64","arm64"].includes(r)&&CC(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let c="1.1.x";if(t==="linux"&&s===void 0){let u=ig({familyDistro:o}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");CC(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${c}".
${u}`)}let d="debian";if(t==="linux"&&i===void 0&&Cn(`Distro is "${a}". Falling back to Prisma engines built for "${d}".`),t==="darwin"&&r==="arm64")return"darwin-arm64";if(t==="darwin")return"darwin";if(t==="win32")return"windows";if(t==="freebsd")return i;if(t==="openbsd")return"openbsd";if(t==="netbsd")return"netbsd";if(t==="linux"&&i==="nixos")return"linux-nixos";if(t==="linux"&&r==="arm64")return`${i==="musl"?"linux-musl-arm64":"linux-arm64"}-openssl-${s||c}`;if(t==="linux"&&r==="arm")return`linux-arm-openssl-${s||c}`;if(t==="linux"&&i==="musl"){let u="linux-musl";return!s||R3(s)?u:`${u}-openssl-${s}`}return t==="linux"&&i&&s?`${i}-openssl-${s}`:(t!=="linux"&&CC(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),s?`${d}-openssl-${s}`:i?`${i}-openssl-${c}`:`${d}-openssl-${c}`)}async function jte(e){try{return await e()}catch{return}}function Yp(e){return jte(async()=>{let t=await Ite(e);return Cn(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function Vte(){return typeof qC.default.machine=="function"?qC.default.machine():(await Yp("uname -m"))?.trim()}function R3(e){return e.startsWith("1.")}var T3={};dc(T3,{beep:()=>pre,clearScreen:()=>ure,clearTerminal:()=>fre,cursorBackward:()=>Qte,cursorDown:()=>Wte,cursorForward:()=>Xte,cursorGetPosition:()=>Zte,cursorHide:()=>rre,cursorLeft:()=>P3,cursorMove:()=>Kte,cursorNextLine:()=>ere,cursorPrevLine:()=>tre,cursorRestorePosition:()=>Jte,cursorSavePosition:()=>Yte,cursorShow:()=>nre,cursorTo:()=>Gte,cursorUp:()=>I3,enterAlternativeScreen:()=>mre,eraseDown:()=>are,eraseEndLine:()=>ire,eraseLine:()=>O3,eraseLines:()=>sre,eraseScreen:()=>UC,eraseStartLine:()=>ore,eraseUp:()=>cre,exitAlternativeScreen:()=>hre,iTerm:()=>bre,image:()=>yre,link:()=>gre,scrollDown:()=>dre,scrollUp:()=>lre});var h_=St(require("node:process"),1),p_=globalThis.window?.document!==void 0,p5e=globalThis.process?.versions?.node!==void 0,g5e=globalThis.process?.versions?.bun!==void 0,y5e=globalThis.Deno?.version?.deno!==void 0,b5e=globalThis.process?.versions?.electron!==void 0,S5e=globalThis.navigator?.userAgent?.includes("jsdom")===!0,E5e=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,x5e=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,w5e=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,C5e=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Qf=globalThis.navigator?.userAgentData?.platform,_5e=Qf==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",v5e=Qf==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",A5e=Qf==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",R5e=Qf==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),T5e=Qf==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android",pt="\x1B[",Vf="\x1B]",Xl="\x07",Nf=";",k3=!p_&&h_.default.env.TERM_PROGRAM==="Apple_Terminal",zte=!p_&&h_.default.platform==="win32",Hte=p_?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:h_.default.cwd,Gte=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?pt+(e+1)+"G":pt+(t+1)+Nf+(e+1)+"H"},Kte=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=pt+-e+"D":e>0&&(r+=pt+e+"C"),t<0?r+=pt+-t+"A":t>0&&(r+=pt+t+"B"),r},I3=(e=1)=>pt+e+"A",Wte=(e=1)=>pt+e+"B",Xte=(e=1)=>pt+e+"C",Qte=(e=1)=>pt+e+"D",P3=pt+"G",Yte=k3?"\x1B7":pt+"s",Jte=k3?"\x1B8":pt+"u",Zte=pt+"6n",ere=pt+"E",tre=pt+"F",rre=pt+"?25l",nre=pt+"?25h",sre=e=>{let t="";for(let r=0;r<e;r++)t+=O3+(r<e-1?I3():"");return e&&(t+=P3),t},ire=pt+"K",ore=pt+"1K",O3=pt+"2K",are=pt+"J",cre=pt+"1J",UC=pt+"2J",lre=pt+"S",dre=pt+"T",ure="\x1Bc",fre=zte?`${UC}${pt}0f`:`${UC}${pt}3J${pt}H`,mre=pt+"?1049h",hre=pt+"?1049l",pre=Xl,gre=(e,t)=>[Vf,"8",Nf,Nf,t,Xl,e,Vf,"8",Nf,Nf,Xl].join(""),yre=(e,t={})=>{let r=`${Vf}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+Buffer.from(e).toString("base64")+Xl},bre={setCwd:(e=Hte())=>`${Vf}50;CurrentDir=${e}${Xl}`,annotation(e,t={}){let r=`${Vf}1337;`,n=t.x!==void 0,s=t.y!==void 0;if((n||s)&&!(n&&s&&t.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replaceAll("|",""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Xl}},g_=St(Mee(),1);function zf(e,t,{target:r="stdout",...n}={}){return g_.default[r]?T3.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (\u200B${t}\u200B)`}zf.isSupported=g_.default.stdout;zf.stderr=(e,t,r={})=>zf(e,t,{target:"stderr",...r});zf.stderr.isSupported=g_.default.stderr;function Sre(e){return zf(e,e,{fallback:fs})}var Ere=Lee(),xre=Ere.version;function $C(e){return wre()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":e?.config.engineType==="client"?"client":Cre())}function wre(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return e==="library"?"library":e==="binary"?"binary":e==="client"?"client":void 0}function Cre(){return"library"}function N3(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}function y_(e){return{ok:!0,value:e,map(t){return y_(t(e))},flatMap(t){return t(e)}}}function Ql(e){return{ok:!1,error:e,map(){return Ql(e)},flatMap(){return Ql(e)}}}var D3=_n("driver-adapter-utils"),_re=class{registeredErrors=[];consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;this.registeredErrors[t]!==void 0;)t++;return this.registeredErrors[t]={error:e},t}},_D=(e,t=new _re)=>{let r={adapterName:e.adapterName,errorRegistry:t,queryRaw:Xi(t,e.queryRaw.bind(e)),executeRaw:Xi(t,e.executeRaw.bind(e)),executeScript:Xi(t,e.executeScript.bind(e)),dispose:Xi(t,e.dispose.bind(e)),provider:e.provider,startTransaction:async(...n)=>(await Xi(t,e.startTransaction.bind(e))(...n)).map(s=>vre(t,s))};return e.getConnectionInfo&&(r.getConnectionInfo=Are(t,e.getConnectionInfo.bind(e))),r},vre=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:Xi(e,t.queryRaw.bind(t)),executeRaw:Xi(e,t.executeRaw.bind(t)),commit:Xi(e,t.commit.bind(t)),rollback:Xi(e,t.rollback.bind(t))});function Xi(e,t){return async(...r)=>{try{return y_(await t(...r))}catch(n){if(D3("[error@wrapAsync]",n),N3(n))return Ql(n.cause);let s=e.registerNewError(n);return Ql({kind:"GenericJs",id:s})}}}function Are(e,t){return(...r)=>{try{return y_(t(...r))}catch(n){if(D3("[error@wrapSync]",n),N3(n))return Ql(n.cause);let s=e.registerNewError(n);return Ql({kind:"GenericJs",id:s})}}}var k5e=St(d_()),Kt=St(require("node:path")),I5e=St(d_()),P5e=_n("prisma:engines");function Rre(){return Kt.default.join(__dirname,"../")}Kt.default.join(__dirname,"../query-engine-darwin");Kt.default.join(__dirname,"../query-engine-darwin-arm64");Kt.default.join(__dirname,"../query-engine-debian-openssl-1.0.x");Kt.default.join(__dirname,"../query-engine-debian-openssl-1.1.x");Kt.default.join(__dirname,"../query-engine-debian-openssl-3.0.x");Kt.default.join(__dirname,"../query-engine-linux-static-x64");Kt.default.join(__dirname,"../query-engine-linux-static-arm64");Kt.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x");Kt.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x");Kt.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x");Kt.default.join(__dirname,"../libquery_engine-darwin.dylib.node");Kt.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node");Kt.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node");Kt.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node");Kt.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-linux-musl.so.node");Kt.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node");Kt.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node");Kt.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node");Kt.default.join(__dirname,"../query_engine-windows.dll.node");var vD=St(require("node:fs")),AD=f_("chmodPlusX");function Tre(e){if(process.platform==="win32")return;let t=vD.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){AD(`Execution permissions of ${e} are fine`);return}let n=r.toString(8).slice(-3);AD(`Have to call chmodPlusX on ${e}`),vD.default.chmodSync(e,n)}function kre(e){let t=e.e,r=a=>`Prisma cannot find the required \`${a}\` system library in your system`,n=t.message.includes("cannot open shared object file"),s=`Please refer to the documentation about Prisma's system requirements: ${Sre("https://pris.ly/d/system-requirements")}`,i=`Unable to require(\`${Wf(e.id)}\`).`,o=ig({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:a})=>n&&a.includes("libz"),()=>`${r("libz")}. Please install it and try again.`).when(({message:a})=>n&&a.includes("libgcc_s"),()=>`${r("libgcc_s")}. Please install it and try again.`).when(({message:a})=>n&&a.includes("libssl"),()=>{let a=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${r("libssl")}. Please install ${a} and try again.`}).when(({message:a})=>a.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${s}`).when(({message:a})=>e.platformInfo.platform==="linux"&&a.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${s}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${s}`);return`${i}
${o}

Details: ${t.message}`}var Ire=St(Fee(),1);function Pre(e){let t=(0,Ire.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var Ore="prisma+postgres",B3=`${Ore}:`;function q3(e){return e?.toString().startsWith(`${B3}//`)??!1}function Nre(e){if(!q3(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Dre=St(h3());function Bre(e){return String(new qre(e))}var qre=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,r=JSON.parse(JSON.stringify({provider:t,binaryTargets:Mre(e.binaryTargets)}));return`generator ${e.name} {
${(0,Dre.default)(Lre(r),2)}
}`}};function Mre(e){let t;if(e.length>0){let r=e.find(n=>n.fromEnvVar!==null);r?t=`env("${r.fromEnvVar}")`:t=e.map(n=>n.native?"native":n.value)}else t=void 0;return t}function Lre(e){let t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${Fre(n)}`).join(`
`)}function Fre(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}var jC={};dc(jC,{error:()=>jre,info:()=>$re,log:()=>Ure,query:()=>Vre,should:()=>M3,tags:()=>Yf,warn:()=>L3});var Yf={error:cc("prisma:error"),warn:Xf("prisma:warn"),info:ac("prisma:info"),query:Bf("prisma:query")},M3={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Ure(...e){console.log(...e)}function L3(e,...t){M3.warn()&&console.warn(`${Yf.warn} ${e}`,...t)}function $re(e,...t){console.info(`${Yf.info} ${e}`,...t)}function jre(e,...t){console.error(`${Yf.error} ${e}`,...t)}function Vre(e,...t){console.log(`${Yf.query} ${e}`,...t)}function RD(e,t){if(!e)throw new Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function b_(e,t){throw new Error(t)}function zre({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}var Hre=zre();function VC(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Hre,"")}var Lp=St(require("node:path"));function Gre(e){return Lp.default.sep===Lp.default.posix.sep?e:e.split(Lp.default.sep).join(Lp.default.posix.sep)}var F3=St($ee()),zC=St(require("node:fs")),Hf=St(require("node:path"));function Kre(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(s,i){let o=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(i);if(!o)return s;let a=o[1],c,d;if(a==="\\")d=o[0],c=d.replace("\\$","$");else{let u=o[2];d=o[0].substring(a.length),c=Object.hasOwnProperty.call(t,u)?t[u]:e.parsed[u]||"",c=r(c)}return s.replace(d,c)},n)??n;for(let n in e.parsed){let s=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(s)}for(let n in e.parsed)t[n]=e.parsed[n];return e}var HC=f_("prisma:tryLoadEnv");function U3({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=TD(e);r.conflictCheck!=="none"&&Wre(n,t,r.conflictCheck);let s=null;return $3(n?.path,t)||(s=TD(t)),!n&&!s&&HC("No Environment variables loaded"),s?.dotenvResult.error?console.error(cc(Hs("Schema Env Error: "))+s.dotenvResult.error):{message:[n?.message,s?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...s?.dotenvResult?.parsed}}}function Wre(e,t,r){let n=e?.dotenvResult.parsed,s=!$3(e?.path,t);if(n&&t&&s&&zC.default.existsSync(t)){let i=F3.default.parse(zC.default.readFileSync(t)),o=[];for(let a in i)n[a]===i[a]&&o.push(a);if(o.length>0){let a=Hf.default.relative(process.cwd(),e.path),c=Hf.default.relative(process.cwd(),t);if(r==="error"){let d=`There is a conflict between env var${o.length>1?"s":""} in ${fs(a)} and ${fs(c)}
Conflicting env vars:
${o.map(u=>`  ${Hs(u)}`).join(`
`)}

We suggest to move the contents of ${fs(c)} to ${fs(a)} to consolidate your env vars.
`;throw new Error(d)}else if(r==="warn"){let d=`Conflict for env var${o.length>1?"s":""} ${o.map(u=>Hs(u)).join(", ")} in ${fs(a)} and ${fs(c)}
Env vars from ${fs(c)} overwrite the ones from ${fs(a)}
      `;console.warn(`${Xf("warn(prisma)")} ${d}`)}}}}function TD(e){if(Xre(e)){HC(`Environment variables loaded from ${e}`);let t=F3.default.config({path:e,debug:process.env.DOTENV_CONFIG_DEBUG?!0:void 0});return{dotenvResult:Kre(t),message:Wf(`Environment variables loaded from ${Hf.default.relative(process.cwd(),e)}`),path:e}}else HC(`Environment variables not found at ${e}`);return null}function $3(e,t){return e&&t&&Hf.default.resolve(e)===Hf.default.resolve(t)}function Xre(e){return!!(e&&zC.default.existsSync(e))}function Qre(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j3(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Yre(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function cr(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var kD=new Set,V3=(e,t,...r)=>{kD.has(e)||(kD.add(e),L3(t,...r))},pr=class z3 extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(z3)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};cr(pr,"PrismaClientInitializationError");var Go=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:s}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:s,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};cr(Go,"PrismaClientKnownRequestError");var zo=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};cr(zo,"PrismaClientRustPanicError");var es=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};cr(es,"PrismaClientUnknownRequestError");var Qi=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};cr(Qi,"PrismaClientValidationError");var Lf=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function og(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Jre(e,t){let r={};for(let n of e){let s=n[t];r[s]=n}return r}function GC(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function Zre(e){return{models:_C(e.models),enums:_C(e.enums),types:_C(e.types)}}function _C(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function S_(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function H3(e){return e.toString()!=="Invalid Date"}var Wl=9e15,Wo=1e9,KC="0123456789abcdef",Jp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Zp="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",WC={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Wl,maxE:Wl,crypto:!1},G3,Yi,ke=!0,ag="[DecimalError] ",Ko=ag+"Invalid argument: ",K3=ag+"Precision limit exceeded",W3=ag+"crypto unavailable",X3="[object Decimal]",sn=Math.floor,Rr=Math.pow,ene=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tne=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,rne=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Q3=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gs=1e7,ve=7,nne=9007199254740991,sne=Jp.length-1,XC=Zp.length-1,$={toStringTag:X3};$.absoluteValue=$.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Se(e)};$.ceil=function(){return Se(new this.constructor(this),this.e+1,2)};$.clampedTo=$.clamp=function(e,t){var r,n=this,s=n.constructor;if(e=new s(e),t=new s(t),!e.s||!t.s)return new s(NaN);if(e.gt(t))throw Error(Ko+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new s(n)};$.comparedTo=$.cmp=function(e){var t,r,n,s,i=this,o=i.d,a=(e=new i.constructor(e)).d,c=i.s,d=e.s;if(!o||!a)return!c||!d?NaN:c!==d?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-d:0;if(c!==d)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(n=o.length,s=a.length,t=0,r=n<s?n:s;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return n===s?0:n>s^c<0?1:-1};$.cosine=$.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ve,n.rounding=1,r=ine(n,tB(n,r)),n.precision=e,n.rounding=t,Se(Yi==2||Yi==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};$.cubeRoot=$.cbrt=function(){var e,t,r,n,s,i,o,a,c,d,u=this,f=u.constructor;if(!u.isFinite()||u.isZero())return new f(u);for(ke=!1,i=u.s*Rr(u.s*u,1/3),!i||Math.abs(i)==1/0?(r=Xr(u.d),e=u.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Rr(r,1/3),e=sn((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new f(r),n.s=u.s):n=new f(i.toString()),o=(e=f.precision)+3;;)if(a=n,c=a.times(a).times(a),d=c.plus(u),n=Rt(d.plus(u).times(a),d.plus(c),o+2,1),Xr(a.d).slice(0,o)===(r=Xr(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!s&&r=="4999"){if(!s&&(Se(a,e+1,0),a.times(a).times(a).eq(u))){n=a;break}o+=4,s=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Se(n,e+1,1),t=!n.times(n).times(n).eq(u));break}return ke=!0,Se(n,e,f.rounding,t)};$.decimalPlaces=$.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-sn(this.e/ve))*ve,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};$.dividedBy=$.div=function(e){return Rt(this,new this.constructor(e))};$.dividedToIntegerBy=$.divToInt=function(e){var t=this,r=t.constructor;return Se(Rt(t,new r(e),0,1,1),r.precision,r.rounding)};$.equals=$.eq=function(e){return this.cmp(e)===0};$.floor=function(){return Se(new this.constructor(this),this.e+1,3)};$.greaterThan=$.gt=function(e){return this.cmp(e)>0};$.greaterThanOrEqualTo=$.gte=function(e){var t=this.cmp(e);return t==1||t===0};$.hyperbolicCosine=$.cosh=function(){var e,t,r,n,s,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,s=i.d.length,s<32?(e=Math.ceil(s/3),t=(1/lg(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Yl(o,1,i.times(t),new o(1),!0);for(var c,d=e,u=new o(8);d--;)c=i.times(i),i=a.minus(c.times(u.minus(c.times(u))));return Se(i,o.precision=r,o.rounding=n,!0)};$.hyperbolicSine=$.sinh=function(){var e,t,r,n,s=this,i=s.constructor;if(!s.isFinite()||s.isZero())return new i(s);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(s.e,s.sd())+4,i.rounding=1,n=s.d.length,n<3)s=Yl(i,2,s,s,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,s=s.times(1/lg(5,e)),s=Yl(i,2,s,s,!0);for(var o,a=new i(5),c=new i(16),d=new i(20);e--;)o=s.times(s),s=s.times(a.plus(o.times(c.times(o).plus(d))))}return i.precision=t,i.rounding=r,Se(s,t,r,!0)};$.hyperbolicTangent=$.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Rt(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};$.inverseCosine=$.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,s=t.rounding;return r!==-1?r===0?e.isNeg()?mi(t,n,s):new t(0):new t(NaN):e.isZero()?mi(t,n+4,s).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=s,e.times(2))};$.inverseHyperbolicCosine=$.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ke=!1,r=r.times(r).minus(1).sqrt().plus(r),ke=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};$.inverseHyperbolicSine=$.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ke=!1,r=r.times(r).plus(1).sqrt().plus(r),ke=!0,n.precision=e,n.rounding=t,r.ln())};$.inverseHyperbolicTangent=$.atanh=function(){var e,t,r,n,s=this,i=s.constructor;return s.isFinite()?s.e>=0?new i(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(e=i.precision,t=i.rounding,n=s.sd(),Math.max(n,e)<2*-s.e-1?Se(new i(s),e,t,!0):(i.precision=r=n-s.e,s=Rt(s.plus(1),new i(1).minus(s),r+e,1),i.precision=e+4,i.rounding=1,s=s.ln(),i.precision=e,i.rounding=t,s.times(.5))):new i(NaN)};$.inverseSine=$.asin=function(){var e,t,r,n,s=this,i=s.constructor;return s.isZero()?new i(s):(t=s.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=mi(i,r+4,n).times(.5),e.s=s.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,s=s.div(new i(1).minus(s.times(s)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,s.times(2)))};$.inverseTangent=$.atan=function(){var e,t,r,n,s,i,o,a,c,d=this,u=d.constructor,f=u.precision,m=u.rounding;if(d.isFinite()){if(d.isZero())return new u(d);if(d.abs().eq(1)&&f+4<=XC)return o=mi(u,f+4,m).times(.25),o.s=d.s,o}else{if(!d.s)return new u(NaN);if(f+4<=XC)return o=mi(u,f+4,m).times(.5),o.s=d.s,o}for(u.precision=a=f+10,u.rounding=1,r=Math.min(28,a/ve+2|0),e=r;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(ke=!1,t=Math.ceil(a/ve),n=1,c=d.times(d),o=new u(d),s=d;e!==-1;)if(s=s.times(c),i=o.minus(s.div(n+=2)),s=s.times(c),o=i.plus(s.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ke=!0,Se(o,u.precision=f,u.rounding=m,!0)};$.isFinite=function(){return!!this.d};$.isInteger=$.isInt=function(){return!!this.d&&sn(this.e/ve)>this.d.length-2};$.isNaN=function(){return!this.s};$.isNegative=$.isNeg=function(){return this.s<0};$.isPositive=$.isPos=function(){return this.s>0};$.isZero=function(){return!!this.d&&this.d[0]===0};$.lessThan=$.lt=function(e){return this.cmp(e)<0};$.lessThanOrEqualTo=$.lte=function(e){return this.cmp(e)<1};$.logarithm=$.log=function(e){var t,r,n,s,i,o,a,c,d=this,u=d.constructor,f=u.precision,m=u.rounding,h=5;if(e==null)e=new u(10),t=!0;else{if(e=new u(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new u(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(s=r[0];s%10===0;)s/=10;i=s!==1}if(ke=!1,a=f+h,o=Vo(d,a),n=t?eg(u,a+10):Vo(e,a),c=Rt(o,n,a,1),Gf(c.d,s=f,m))do if(a+=10,o=Vo(d,a),n=t?eg(u,a+10):Vo(e,a),c=Rt(o,n,a,1),!i){+Xr(c.d).slice(s+1,s+15)+1==1e14&&(c=Se(c,f+1,0));break}while(Gf(c.d,s+=10,m));return ke=!0,Se(c,f,m)};$.minus=$.sub=function(e){var t,r,n,s,i,o,a,c,d,u,f,m,h=this,y=h.constructor;if(e=new y(e),!h.d||!e.d)return!h.s||!e.s?e=new y(NaN):h.d?e.s=-e.s:e=new y(e.d||h.s!==e.s?h:NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(d=h.d,m=e.d,a=y.precision,c=y.rounding,!d[0]||!m[0]){if(m[0])e.s=-e.s;else if(d[0])e=new y(h);else return new y(c===3?-0:0);return ke?Se(e,a,c):e}if(r=sn(e.e/ve),u=sn(h.e/ve),d=d.slice(),i=u-r,i){for(f=i<0,f?(t=d,i=-i,o=m.length):(t=m,r=u,o=d.length),n=Math.max(Math.ceil(a/ve),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=d.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(d[n]!=m[n]){f=d[n]<m[n];break}i=0}for(f&&(t=d,d=m,m=t,e.s=-e.s),o=d.length,n=m.length-o;n>0;--n)d[o++]=0;for(n=m.length;n>i;){if(d[--n]<m[n]){for(s=n;s&&d[--s]===0;)d[s]=Gs-1;--d[s],d[n]+=Gs}d[n]-=m[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=cg(d,r),ke?Se(e,a,c):e):new y(c===3?-0:0)};$.modulo=$.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Se(new n(r),n.precision,n.rounding):(ke=!1,n.modulo==9?(t=Rt(r,e.abs(),0,3,1),t.s*=e.s):t=Rt(r,e,0,n.modulo,1),t=t.times(e),ke=!0,r.minus(t))};$.naturalExponential=$.exp=function(){return QC(this)};$.naturalLogarithm=$.ln=function(){return Vo(this)};$.negated=$.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Se(e)};$.plus=$.add=function(e){var t,r,n,s,i,o,a,c,d,u,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return!f.s||!e.s?e=new m(NaN):f.d||(e=new m(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(d=f.d,u=e.d,a=m.precision,c=m.rounding,!d[0]||!u[0])return u[0]||(e=new m(f)),ke?Se(e,a,c):e;if(i=sn(f.e/ve),n=sn(e.e/ve),d=d.slice(),s=i-n,s){for(s<0?(r=d,s=-s,o=u.length):(r=u,n=i,o=d.length),i=Math.ceil(a/ve),o=i>o?i+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=d.length,s=u.length,o-s<0&&(s=o,r=u,u=d,d=r),t=0;s;)t=(d[--s]=d[s]+u[s]+t)/Gs|0,d[s]%=Gs;for(t&&(d.unshift(t),++n),o=d.length;d[--o]==0;)d.pop();return e.d=d,e.e=cg(d,n),ke?Se(e,a,c):e};$.precision=$.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ko+e);return r.d?(t=Y3(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};$.round=function(){var e=this,t=e.constructor;return Se(new t(e),e.e+1,t.rounding)};$.sine=$.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ve,n.rounding=1,r=ane(n,tB(n,r)),n.precision=e,n.rounding=t,Se(Yi>2?r.neg():r,e,t,!0)):new n(NaN)};$.squareRoot=$.sqrt=function(){var e,t,r,n,s,i,o=this,a=o.d,c=o.e,d=o.s,u=o.constructor;if(d!==1||!a||!a[0])return new u(!d||d<0&&(!a||a[0])?NaN:a?o:1/0);for(ke=!1,d=Math.sqrt(+o),d==0||d==1/0?(t=Xr(a),(t.length+c)%2==0&&(t+="0"),d=Math.sqrt(t),c=sn((c+1)/2)-(c<0||c%2),d==1/0?t="5e"+c:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new u(t)):n=new u(d.toString()),r=(c=u.precision)+3;;)if(i=n,n=i.plus(Rt(o,i,r+2,1)).times(.5),Xr(i.d).slice(0,r)===(t=Xr(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!s&&t=="4999"){if(!s&&(Se(i,c+1,0),i.times(i).eq(o))){n=i;break}r+=4,s=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Se(n,c+1,1),e=!n.times(n).eq(o));break}return ke=!0,Se(n,c,u.rounding,e)};$.tangent=$.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Rt(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Se(Yi==2||Yi==4?r.neg():r,e,t,!0)):new n(NaN)};$.times=$.mul=function(e){var t,r,n,s,i,o,a,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(e.s*=u.s,!m||!m[0]||!h||!h[0])return new f(!e.s||m&&!m[0]&&!h||h&&!h[0]&&!m?NaN:!m||!h?e.s/0:e.s*0);for(r=sn(u.e/ve)+sn(e.e/ve),c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)a=i[s]+h[n]*m[s-n-1]+t,i[s--]=a%Gs|0,t=a/Gs|0;i[s]=(i[s]+t)%Gs|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=cg(i,r),ke?Se(e,f.precision,f.rounding):e};$.toBinary=function(e,t){return E_(this,2,e,t)};$.toDecimalPlaces=$.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fn(e,0,Wo),t===void 0?t=n.rounding:Fn(t,0,8),Se(r,e+r.e+1,t))};$.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=pi(n,!0):(Fn(e,0,Wo),t===void 0?t=s.rounding:Fn(t,0,8),n=Se(new s(n),e+1,t),r=pi(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};$.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?r=pi(s):(Fn(e,0,Wo),t===void 0?t=i.rounding:Fn(t,0,8),n=Se(new i(s),e+s.e+1,t),r=pi(n,!1,e+n.e+1)),s.isNeg()&&!s.isZero()?"-"+r:r};$.toFraction=function(e){var t,r,n,s,i,o,a,c,d,u,f,m,h=this,y=h.d,b=h.constructor;if(!y)return new b(h);if(d=r=new b(1),n=c=new b(0),t=new b(n),i=t.e=Y3(y)-h.e-1,o=i%ve,t.d[0]=Rr(10,o<0?ve+o:o),e==null)e=i>0?t:d;else{if(a=new b(e),!a.isInt()||a.lt(d))throw Error(Ko+a);e=a.gt(t)?i>0?t:d:a}for(ke=!1,a=new b(Xr(y)),u=b.precision,b.precision=i=y.length*ve*2;f=Rt(a,t,0,1,1),s=r.plus(f.times(n)),s.cmp(e)!=1;)r=n,n=s,s=d,d=c.plus(f.times(s)),c=s,s=t,t=a.minus(f.times(s)),a=s;return s=Rt(e.minus(r),n,0,1,1),c=c.plus(s.times(d)),r=r.plus(s.times(n)),c.s=d.s=h.s,m=Rt(d,n,i,1).minus(h).abs().cmp(Rt(c,r,i,1).minus(h).abs())<1?[d,n]:[c,r],b.precision=u,ke=!0,m};$.toHexadecimal=$.toHex=function(e,t){return E_(this,16,e,t)};$.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Fn(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ke=!1,r=Rt(r,e,0,t,1).times(e),ke=!0,Se(r)):(e.s=r.s,r=e),r};$.toNumber=function(){return+this};$.toOctal=function(e,t){return E_(this,8,e,t)};$.toPower=$.pow=function(e){var t,r,n,s,i,o,a=this,c=a.constructor,d=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Rr(+a,d));if(a=new c(a),a.eq(1))return a;if(n=c.precision,i=c.rounding,e.eq(1))return Se(a,n,i);if(t=sn(e.e/ve),t>=e.d.length-1&&(r=d<0?-d:d)<=nne)return s=J3(c,a,r,n),e.s<0?new c(1).div(s):Se(s,n,i);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Rr(+a,d),t=r==0||!isFinite(r)?sn(d*(Math.log("0."+Xr(a.d))/Math.LN10+a.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(ke=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),s=QC(e.times(Vo(a,n+r)),n),s.d&&(s=Se(s,n+5,1),Gf(s.d,n,i)&&(t=n+10,s=Se(QC(e.times(Vo(a,t+r)),t),t+5,1),+Xr(s.d).slice(n+1,n+15)+1==1e14&&(s=Se(s,n+1,0)))),s.s=o,ke=!0,c.rounding=i,Se(s,n,i))};$.toPrecision=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=pi(n,n.e<=s.toExpNeg||n.e>=s.toExpPos):(Fn(e,1,Wo),t===void 0?t=s.rounding:Fn(t,0,8),n=Se(new s(n),e,t),r=pi(n,e<=n.e||n.e<=s.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};$.toSignificantDigits=$.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fn(e,1,Wo),t===void 0?t=n.rounding:Fn(t,0,8)),Se(new n(r),e,t)};$.toString=function(){var e=this,t=e.constructor,r=pi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};$.truncated=$.trunc=function(){return Se(new this.constructor(this),this.e+1,1)};$.valueOf=$.toJSON=function(){var e=this,t=e.constructor,r=pi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Xr(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=ve-n.length,r&&(i+=jo(r)),i+=n;o=e[t],n=o+"",r=ve-n.length,r&&(i+=jo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Fn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ko+e)}function Gf(e,t,r,n){var s,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=ve,s=0):(s=Math.ceil((t+1)/ve),t%=ve),i=Rr(10,ve-t),a=e[s]%i|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==i||r>3&&a+1==i/2)&&(e[s+1]/i/100|0)==Rr(10,t-2)-1||(a==i/2||a==0)&&(e[s+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==i||!n&&r>3&&a+1==i/2)&&(e[s+1]/i/1e3|0)==Rr(10,t-3)-1,o}function Vp(e,t,r){for(var n,s=[0],i,o=0,a=e.length;o<a;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=KC.indexOf(e.charAt(o++)),n=0;n<s.length;n++)s[n]>r-1&&(s[n+1]===void 0&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}function ine(e,t){var r,n,s;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),s=(1/lg(4,r)).toString()):(r=16,s="2.3283064365386962890625e-10"),e.precision+=r,t=Yl(e,1,t.times(s),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var Rt=(function(){function e(n,s,i){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*s+a,n[c]=o%i|0,a=o/i|0;return a&&n.unshift(a),n}function t(n,s,i,o){var a,c;if(i!=o)c=i>o?1:-1;else for(a=c=0;a<i;a++)if(n[a]!=s[a]){c=n[a]>s[a]?1:-1;break}return c}function r(n,s,i,o){for(var a=0;i--;)n[i]-=a,a=n[i]<s[i]?1:0,n[i]=a*o+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o,a,c){var d,u,f,m,h,y,b,v,R,D,Y,ee,ye,re,W,J,te,ge,be,Te,at=n.constructor,dt=n.s==s.s?1:-1,ct=n.d,Je=s.d;if(!ct||!ct[0]||!Je||!Je[0])return new at(!n.s||!s.s||(ct?Je&&ct[0]==Je[0]:!Je)?NaN:ct&&ct[0]==0||!Je?dt*0:dt/0);for(c?(h=1,u=n.e-s.e):(c=Gs,h=ve,u=sn(n.e/h)-sn(s.e/h)),be=Je.length,te=ct.length,R=new at(dt),D=R.d=[],f=0;Je[f]==(ct[f]||0);f++);if(Je[f]>(ct[f]||0)&&u--,i==null?(re=i=at.precision,o=at.rounding):a?re=i+(n.e-s.e)+1:re=i,re<0)D.push(1),y=!0;else{if(re=re/h+2|0,f=0,be==1){for(m=0,Je=Je[0],re++;(f<te||m)&&re--;f++)W=m*c+(ct[f]||0),D[f]=W/Je|0,m=W%Je|0;y=m||f<te}else{for(m=c/(Je[0]+1)|0,m>1&&(Je=e(Je,m,c),ct=e(ct,m,c),be=Je.length,te=ct.length),J=be,Y=ct.slice(0,be),ee=Y.length;ee<be;)Y[ee++]=0;Te=Je.slice(),Te.unshift(0),ge=Je[0],Je[1]>=c/2&&++ge;do m=0,d=t(Je,Y,be,ee),d<0?(ye=Y[0],be!=ee&&(ye=ye*c+(Y[1]||0)),m=ye/ge|0,m>1?(m>=c&&(m=c-1),b=e(Je,m,c),v=b.length,ee=Y.length,d=t(b,Y,v,ee),d==1&&(m--,r(b,be<v?Te:Je,v,c))):(m==0&&(d=m=1),b=Je.slice()),v=b.length,v<ee&&b.unshift(0),r(Y,b,ee,c),d==-1&&(ee=Y.length,d=t(Je,Y,be,ee),d<1&&(m++,r(Y,be<ee?Te:Je,ee,c))),ee=Y.length):d===0&&(m++,Y=[0]),D[f++]=m,d&&Y[0]?Y[ee++]=ct[J]||0:(Y=[ct[J]],ee=1);while((J++<te||Y[0]!==void 0)&&re--);y=Y[0]!==void 0}D[0]||D.shift()}if(h==1)R.e=u,G3=y;else{for(f=1,m=D[0];m>=10;m/=10)f++;R.e=f+u*h-1,Se(R,a?i+R.e+1:i,o,y)}return R}})();function Se(e,t,r,n){var s,i,o,a,c,d,u,f,m,h=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(s=1,a=f[0];a>=10;a/=10)s++;if(i=t-s,i<0)i+=ve,o=t,u=f[m=0],c=u/Rr(10,s-o-1)%10|0;else if(m=Math.ceil((i+1)/ve),a=f.length,m>=a)if(n){for(;a++<=m;)f.push(0);u=c=0,s=1,i%=ve,o=i-ve+1}else break e;else{for(u=a=f[m],s=1;a>=10;a/=10)s++;i%=ve,o=i-ve+s,c=o<0?0:u/Rr(10,s-o-1)%10|0}if(n=n||t<0||f[m+1]!==void 0||(o<0?u:u%Rr(10,s-o-1)),d=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(i>0?o>0?u/Rr(10,s-o):0:f[m-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,d?(t-=e.e+1,f[0]=Rr(10,(ve-t%ve)%ve),e.e=-t||0):f[0]=e.e=0,e;if(i==0?(f.length=m,a=1,m--):(f.length=m+1,a=Rr(10,ve-i),f[m]=o>0?(u/Rr(10,s-o)%Rr(10,o)|0)*a:0),d)for(;;)if(m==0){for(i=1,o=f[0];o>=10;o/=10)i++;for(o=f[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,f[0]==Gs&&(f[0]=1));break}else{if(f[m]+=a,f[m]!=Gs)break;f[m--]=0,a=1}for(i=f.length;f[--i]===0;)f.pop()}return ke&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function pi(e,t,r){if(!e.isFinite())return eB(e);var n,s=e.e,i=Xr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+jo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):s<0?(i="0."+jo(-s-1)+i,r&&(n=r-o)>0&&(i+=jo(n))):s>=o?(i+=jo(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+jo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=jo(n))),i}function cg(e,t){var r=e[0];for(t*=ve;r>=10;r/=10)t++;return t}function eg(e,t,r){if(t>sne)throw ke=!0,r&&(e.precision=r),Error(K3);return Se(new e(Jp),t,1,!0)}function mi(e,t,r){if(t>XC)throw Error(K3);return Se(new e(Zp),t,r,!0)}function Y3(e){var t=e.length-1,r=t*ve+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function jo(e){for(var t="";e--;)t+="0";return t}function J3(e,t,r,n){var s,i=new e(1),o=Math.ceil(n/ve+4);for(ke=!1;;){if(r%2&&(i=i.times(t),PD(i.d,o)&&(s=!0)),r=sn(r/2),r===0){r=i.d.length-1,s&&i.d[r]===0&&++i.d[r];break}t=t.times(t),PD(t.d,o)}return ke=!0,i}function ID(e){return e.d[e.d.length-1]&1}function Z3(e,t,r){for(var n,s,i=new e(t[0]),o=0;++o<t.length;){if(s=new e(t[o]),!s.s){i=s;break}n=i.cmp(s),(n===r||n===0&&i.s===r)&&(i=s)}return i}function QC(e,t){var r,n,s,i,o,a,c,d=0,u=0,f=0,m=e.constructor,h=m.rounding,y=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ke=!1,c=y):c=t,a=new m(.03125);e.e>-2;)e=e.times(a),f+=5;for(n=Math.log(Rr(2,f))/Math.LN10*2+5|0,c+=n,r=i=o=new m(1),m.precision=c;;){if(i=Se(i.times(e),c,1),r=r.times(++u),a=o.plus(Rt(i,r,c,1)),Xr(a.d).slice(0,c)===Xr(o.d).slice(0,c)){for(s=f;s--;)o=Se(o.times(o),c,1);if(t==null)if(d<3&&Gf(o.d,c-n,h,d))m.precision=c+=10,r=i=a=new m(1),u=0,d++;else return Se(o,m.precision=y,h,ke=!0);else return m.precision=y,o}o=a}}function Vo(e,t){var r,n,s,i,o,a,c,d,u,f,m,h=1,y=10,b=e,v=b.d,R=b.constructor,D=R.rounding,Y=R.precision;if(b.s<0||!v||!v[0]||!b.e&&v[0]==1&&v.length==1)return new R(v&&!v[0]?-1/0:b.s!=1?NaN:v?0:b);if(t==null?(ke=!1,u=Y):u=t,R.precision=u+=y,r=Xr(v),n=r.charAt(0),Math.abs(i=b.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Xr(b.d),n=r.charAt(0),h++;i=b.e,n>1?(b=new R("0."+r),i++):b=new R(n+"."+r.slice(1))}else return d=eg(R,u+2,Y).times(i+""),b=Vo(new R(n+"."+r.slice(1)),u-y).plus(d),R.precision=Y,t==null?Se(b,Y,D,ke=!0):b;for(f=b,c=o=b=Rt(b.minus(1),b.plus(1),u,1),m=Se(b.times(b),u,1),s=3;;){if(o=Se(o.times(m),u,1),d=c.plus(Rt(o,new R(s),u,1)),Xr(d.d).slice(0,u)===Xr(c.d).slice(0,u))if(c=c.times(2),i!==0&&(c=c.plus(eg(R,u+2,Y).times(i+""))),c=Rt(c,new R(h),u,1),t==null)if(Gf(c.d,u-y,D,a))R.precision=u+=y,d=o=b=Rt(f.minus(1),f.plus(1),u,1),m=Se(b.times(b),u,1),s=a=1;else return Se(c,R.precision=Y,D,ke=!0);else return R.precision=Y,c;c=d,s+=2}}function eB(e){return String(e.s*e.s/0)}function zp(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(s=t.length;t.charCodeAt(s-1)===48;--s);if(t=t.slice(n,s),t){if(s-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%ve,r<0&&(n+=ve),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ve;n<s;)e.d.push(+t.slice(n,n+=ve));t=t.slice(n),n=ve-t.length}else n-=s;for(;n--;)t+="0";e.d.push(+t),ke&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function one(e,t){var r,n,s,i,o,a,c,d,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Q3.test(t))return zp(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(tne.test(t))r=16,t=t.toLowerCase();else if(ene.test(t))r=2;else if(rne.test(t))r=8;else throw Error(Ko+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,s=J3(n,new n(r),i,i*2)),d=Vp(t,r,Gs),u=d.length-1,i=u;d[i]===0;--i)d.pop();return i<0?new n(e.s*0):(e.e=cg(d,u),e.d=d,ke=!1,o&&(e=Rt(e,s,a*4)),c&&(e=e.times(Math.abs(c)<54?Rr(2,c):uc.pow(2,c))),ke=!0,e)}function ane(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Yl(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/lg(5,r)),t=Yl(e,2,t,t);for(var s,i=new e(5),o=new e(16),a=new e(20);r--;)s=t.times(t),t=t.times(i.plus(s.times(o.times(s).minus(a))));return t}function Yl(e,t,r,n,s){var i,o,a,c,d=1,u=e.precision,f=Math.ceil(u/ve);for(ke=!1,c=r.times(r),a=new e(n);;){if(o=Rt(a.times(c),new e(t++*t++),u,1),a=s?n.plus(o):n.minus(o),n=Rt(o.times(c),new e(t++*t++),u,1),o=a.plus(n),o.d[f]!==void 0){for(i=f;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=n,n=o,o=i,d++}return ke=!0,o.d.length=f+1,o}function lg(e,t){for(var r=e;--t;)r*=e;return r}function tB(e,t){var r,n=t.s<0,s=mi(e,e.precision,1),i=s.times(.5);if(t=t.abs(),t.lte(i))return Yi=n?4:1,t;if(r=t.divToInt(s),r.isZero())Yi=n?3:2;else{if(t=t.minus(r.times(s)),t.lte(i))return Yi=ID(r)?n?2:3:n?4:1,t;Yi=ID(r)?n?1:4:n?3:2}return t.minus(s).abs()}function E_(e,t,r,n){var s,i,o,a,c,d,u,f,m,h=e.constructor,y=r!==void 0;if(y?(Fn(r,1,Wo),n===void 0?n=h.rounding:Fn(n,0,8)):(r=h.precision,n=h.rounding),!e.isFinite())u=eB(e);else{for(u=pi(e),o=u.indexOf("."),y?(s=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):s=t,o>=0&&(u=u.replace(".",""),m=new h(1),m.e=u.length-o,m.d=Vp(pi(m),10,s),m.e=m.d.length),f=Vp(u,10,s),i=c=f.length;f[--c]==0;)f.pop();if(!f[0])u=y?"0p+0":"0";else{if(o<0?i--:(e=new h(e),e.d=f,e.e=i,e=Rt(e,m,r,n,0,s),f=e.d,i=e.e,d=G3),o=f[r],a=s/2,d=d||f[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(e.s<0?3:2)):o>a||o===a&&(n===4||d||n===6&&f[r-1]&1||n===(e.s<0?8:7)),f.length=r,d)for(;++f[--r]>s-1;)f[r]=0,r||(++i,f.unshift(1));for(c=f.length;!f[c-1];--c);for(o=0,u="";o<c;o++)u+=KC.charAt(f[o]);if(y){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)u+="0";for(f=Vp(u,s,t),c=f.length;!f[c-1];--c);for(o=1,u="1.";o<c;o++)u+=KC.charAt(f[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)u="0"+u;u="0."+u}else if(++i>c)for(i-=c;i--;)u+="0";else i<c&&(u=u.slice(0,i)+"."+u.slice(i))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return e.s<0?"-"+u:u}function PD(e,t){if(e.length>t)return e.length=t,!0}function cne(e){return new this(e).abs()}function lne(e){return new this(e).acos()}function dne(e){return new this(e).acosh()}function une(e,t){return new this(e).plus(t)}function fne(e){return new this(e).asin()}function mne(e){return new this(e).asinh()}function hne(e){return new this(e).atan()}function pne(e){return new this(e).atanh()}function gne(e,t){e=new this(e),t=new this(t);var r,n=this.precision,s=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=mi(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?mi(this,n,s):new this(0),r.s=e.s):!e.d||t.isZero()?(r=mi(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(Rt(e,t,i,1)),t=mi(this,i,1),this.precision=n,this.rounding=s,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Rt(e,t,i,1)),r}function yne(e){return new this(e).cbrt()}function bne(e){return Se(e=new this(e),e.e+1,2)}function Sne(e,t,r){return new this(e).clamp(t,r)}function Ene(e){if(!e||typeof e!="object")throw Error(ag+"Object expected");var t,r,n,s=e.defaults===!0,i=["precision",1,Wo,"rounding",0,8,"toExpNeg",-Wl,0,"toExpPos",0,Wl,"maxE",0,Wl,"minE",-Wl,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],s&&(this[r]=WC[r]),(n=e[r])!==void 0)if(sn(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ko+r+": "+n);if(r="crypto",s&&(this[r]=WC[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(W3);else this[r]=!1;else throw Error(Ko+r+": "+n);return this}function xne(e){return new this(e).cos()}function wne(e){return new this(e).cosh()}function rB(e){var t,r,n;function s(i){var o,a,c,d=this;if(!(d instanceof s))return new s(i);if(d.constructor=s,OD(i)){d.s=i.s,ke?!i.d||i.e>s.maxE?(d.e=NaN,d.d=null):i.e<s.minE?(d.e=0,d.d=[0]):(d.e=i.e,d.d=i.d.slice()):(d.e=i.e,d.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){d.s=1/i<0?-1:1,d.e=0,d.d=[0];return}if(i<0?(i=-i,d.s=-1):d.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;ke?o>s.maxE?(d.e=NaN,d.d=null):o<s.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[i]):(d.e=o,d.d=[i]);return}if(i*0!==0){i||(d.s=NaN),d.e=NaN,d.d=null;return}return zp(d,i.toString())}if(c==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),d.s=-1):(a===43&&(i=i.slice(1)),d.s=1),Q3.test(i)?zp(d,i):one(d,i);if(c==="bigint")return i<0?(i=-i,d.s=-1):d.s=1,zp(d,i.toString());throw Error(Ko+i)}if(s.prototype=$,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=Ene,s.clone=rB,s.isDecimal=OD,s.abs=cne,s.acos=lne,s.acosh=dne,s.add=une,s.asin=fne,s.asinh=mne,s.atan=hne,s.atanh=pne,s.atan2=gne,s.cbrt=yne,s.ceil=bne,s.clamp=Sne,s.cos=xne,s.cosh=wne,s.div=Cne,s.exp=_ne,s.floor=vne,s.hypot=Ane,s.ln=Rne,s.log=Tne,s.log10=Ine,s.log2=kne,s.max=Pne,s.min=One,s.mod=Nne,s.mul=Dne,s.pow=Bne,s.random=qne,s.round=Mne,s.sign=Lne,s.sin=Fne,s.sinh=Une,s.sqrt=$ne,s.sub=jne,s.sum=Vne,s.tan=zne,s.tanh=Hne,s.trunc=Gne,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Cne(e,t){return new this(e).div(t)}function _ne(e){return new this(e).exp()}function vne(e){return Se(e=new this(e),e.e+1,3)}function Ane(){var e,t,r=new this(0);for(ke=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ke=!0,new this(1/0);r=t}return ke=!0,r.sqrt()}function OD(e){return e instanceof uc||e&&e.toStringTag===X3||!1}function Rne(e){return new this(e).ln()}function Tne(e,t){return new this(e).log(t)}function kne(e){return new this(e).log(2)}function Ine(e){return new this(e).log(10)}function Pne(){return Z3(this,arguments,-1)}function One(){return Z3(this,arguments,1)}function Nne(e,t){return new this(e).mod(t)}function Dne(e,t){return new this(e).mul(t)}function Bne(e,t){return new this(e).pow(t)}function qne(e){var t,r,n,s,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:Fn(e,1,Wo),n=Math.ceil(e/ve),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)s=t[i],s>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=s%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)s=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(s%1e7),i+=4);i=n/4}else throw Error(W3);else for(;i<n;)a[i++]=Math.random()*1e7|0;for(n=a[--i],e%=ve,n&&e&&(s=Rr(10,ve-e),a[i]=(n/s|0)*s);a[i]===0;i--)a.pop();if(i<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=ve)a.shift();for(n=1,s=a[0];s>=10;s/=10)n++;n<ve&&(r-=ve-n)}return o.e=r,o.d=a,o}function Mne(e){return Se(e=new this(e),e.e+1,this.rounding)}function Lne(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Fne(e){return new this(e).sin()}function Une(e){return new this(e).sinh()}function $ne(e){return new this(e).sqrt()}function jne(e,t){return new this(e).sub(t)}function Vne(){var e=0,t=arguments,r=new this(t[e]);for(ke=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ke=!0,Se(r,this.precision,this.rounding)}function zne(e){return new this(e).tan()}function Hne(e){return new this(e).tanh()}function Gne(e){return Se(e=new this(e),e.e+1,1)}$[Symbol.for("nodejs.util.inspect.custom")]=$.toString;$[Symbol.toStringTag]="Decimal";var uc=$.constructor=rB(WC);Jp=new uc(Jp);Zp=new uc(Zp);var dg=uc;function x_(e){return uc.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}var nB={};dc(nB,{ModelAction:()=>ug,datamodelEnumToSchemaEnum:()=>Kne});function Kne(e){return{name:e.name,values:e.values.map(t=>t.name)}}var ug=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(ug||{}),Wne=St(h3()),Xne=St(require("node:fs")),Qne={keyword:ac,entity:ac,value:e=>Hs(Bf(e)),punctuation:Bf,directive:ac,function:ac,variable:e=>Hs(Bf(e)),string:e=>Hs($f(e)),boolean:Xf,number:ac,comment:u_},Yne=e=>e,Fp={},Jne=0,Me={manual:Fp.Prism&&Fp.Prism.manual,disableWorkerMessageHandler:Fp.Prism&&Fp.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof ui){let t=e;return new ui(t.type,Me.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(Me.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Jne}),e.__id},clone:function e(t,r){let n,s,i=Me.util.type(t);switch(r=r||{},i){case"Object":if(s=Me.util.objId(t),r[s])return r[s];n={},r[s]=n;for(let o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],r));return n;case"Array":return s=Me.util.objId(t),r[s]?r[s]:(n=[],r[s]=n,t.forEach(function(o,a){n[a]=e(o,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=Me.util.clone(Me.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||Me.languages;let s=n[e],i={};for(let a in s)if(s.hasOwnProperty(a)){if(a==t)for(let c in r)r.hasOwnProperty(c)&&(i[c]=r[c]);r.hasOwnProperty(a)||(i[a]=s[a])}let o=n[e];return n[e]=i,Me.languages.DFS(Me.languages,function(a,c){c===o&&a!=e&&(this[a]=i)}),i},DFS:function e(t,r,n,s){s=s||{};let i=Me.util.objId;for(let o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);let a=t[o],c=Me.util.type(a);c==="Object"&&!s[i(a)]?(s[i(a)]=!0,e(a,r,null,s)):c==="Array"&&!s[i(a)]&&(s[i(a)]=!0,e(a,r,o,s))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return Me.hooks.run("before-tokenize",n),n.tokens=Me.tokenize(n.code,n.grammar),Me.hooks.run("after-tokenize",n),ui.stringify(Me.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,s,i,o){for(let b in r){if(!r.hasOwnProperty(b)||!r[b])continue;if(b==o)return;let v=r[b];v=Me.util.type(v)==="Array"?v:[v];for(let R=0;R<v.length;++R){let D=v[R],Y=D.inside,ee=!!D.lookbehind,ye=!!D.greedy,re=0,W=D.alias;if(ye&&!D.pattern.global){let J=D.pattern.toString().match(/[imuy]*$/)[0];D.pattern=RegExp(D.pattern.source,J+"g")}D=D.pattern||D;for(let J=n,te=s;J<t.length;te+=t[J].length,++J){let ge=t[J];if(t.length>e.length)return;if(ge instanceof ui)continue;if(ye&&J!=t.length-1){D.lastIndex=te;var f=D.exec(e);if(!f)break;var u=f.index+(ee?f[1].length:0),m=f.index+f[0].length,a=J,c=te;for(let Je=t.length;a<Je&&(c<m||!t[a].type&&!t[a-1].greedy);++a)c+=t[a].length,u>=c&&(++J,te=c);if(t[J]instanceof ui)continue;d=a-J,ge=e.slice(te,c),f.index-=te}else{D.lastIndex=0;var f=D.exec(ge),d=1}if(!f){if(i)break;continue}ee&&(re=f[1]?f[1].length:0);var u=f.index+re,f=f[0].slice(re),m=u+f.length,h=ge.slice(0,u),y=ge.slice(m);let be=[J,d];h&&(++J,te+=h.length,be.push(h));let Te=new ui(b,Y?Me.tokenize(f,Y):f,W,f,ye);if(be.push(Te),y&&be.push(y),Array.prototype.splice.apply(t,be),d!=1&&Me.matchGrammar(e,t,r,J,te,!0,b),i)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let s in n)t[s]=n[s];delete t.rest}return Me.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=Me.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=Me.hooks.all[e];if(!(!r||!r.length))for(var n=0,s;s=r[n++];)s(t)}},Token:ui};Me.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Me.languages.javascript=Me.languages.extend("clike",{"class-name":[Me.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Me.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;Me.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:Me.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:Me.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:Me.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:Me.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Me.languages.markup&&Me.languages.markup.tag.addInlined("script","javascript");Me.languages.js=Me.languages.javascript;Me.languages.typescript=Me.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});Me.languages.ts=Me.languages.typescript;function ui(e,t,r,n,s){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!s}ui.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return ui.stringify(r,t)}).join(""):Zne(e.type)(e.content)};function Zne(e){return Qne[e]||Yne}function ese(e){return tse(e,Me.languages.javascript)}function tse(e,t){return Me.tokenize(e,t).map(r=>ui.stringify(r)).join("")}function rse(e){return Pre(e)}var nse=class ic{firstLineNumber;lines;static read(t){let r;try{r=Xne.default.readFileSync(t,"utf-8")}catch{return null}return ic.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new ic(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,s=[...this.lines];return s[n]=r(s[n]),new ic(this.firstLineNumber,s)}mapLines(t){return new ic(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,s)=>s===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new ic(t,rse(n).split(`
`))}highlight(){let t=ese(this.toString());return new ic(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},sse={red:cc,gray:u_,dim:Wf,bold:Hs,underline:fs,highlightSource:e=>e.highlight()},ise={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function ose({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function ase({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:s},i){let o=ose({message:t,originalMethod:r,isPanic:n,callArguments:s});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return o;let a=e.getLocation();if(!a||!a.lineNumber||!a.columnNumber)return o;let c=Math.max(1,a.lineNumber-3),d=nse.read(a.fileName)?.slice(c,a.lineNumber),u=d?.lineAt(a.lineNumber);if(d&&u){let f=lse(u),m=cse(u);if(!m)return o;o.functionName=`${m.code})`,o.location=a,n||(d=d.mapLineAt(a.lineNumber,y=>y.slice(0,m.openingBraceIndex))),d=i.highlightSource(d);let h=String(d.lastLineNumber).length;if(o.contextLines=d.mapLines((y,b)=>i.gray(String(b).padStart(h))+" "+y).mapLines(y=>i.dim(y)).prependSymbolAt(a.lineNumber,i.bold(i.red("\u2192"))),s){let y=f+h+1;y+=2,o.callArguments=(0,Wne.default)(s,y).slice(y)}}return o}function cse(e){let t=Object.keys(ug).join("|"),r=new RegExp(String.raw`\.(${t})\(`).exec(e);if(r){let n=r.index+r[0].length,s=e.lastIndexOf(" ",r.index)+1;return{code:e.slice(s,n),openingBraceIndex:n}}return null}function lse(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function dse({functionName:e,location:t,message:r,isPanic:n,contextLines:s,callArguments:i},o){let a=[""],c=t?" in":":";if(n?(a.push(o.red(`Oops, an unknown error occurred! This is ${o.bold("on us")}, you did nothing wrong.`)),a.push(o.red(`It occurred in the ${o.bold(`\`${e}\``)} invocation${c}`))):a.push(o.red(`Invalid ${o.bold(`\`${e}\``)} invocation${c}`)),t&&a.push(o.underline(use(t))),s){a.push("");let d=[s.toString()];i&&(d.push(i),d.push(o.dim(")"))),a.push(d.join("")),i&&a.push("")}else a.push(""),i&&a.push(i),a.push("");return a.push(r),a.join(`
`)}function use(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function sB(e){let t=e.showColors?sse:ise,r;return r=ase(e,t),dse(r,t)}var fse=St(p3());function mse(e,t,r){let n=iB(e),s=hse(n),i=gse(s);i?uB(i,t,r):t.addErrorMessage(()=>"Unknown error")}function iB(e){return e.errors.flatMap(t=>t.kind==="Union"?iB(t):[t])}function hse(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let s=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,i=t.get(s);i?t.set(s,{...n,argument:{...n.argument,typeNames:pse(i.argument.typeNames,n.argument.typeNames)}}):t.set(s,n)}return r.push(...t.values()),r}function pse(e,t){return[...new Set(e.concat(t))]}function gse(e){return Yre(e,(t,r)=>{let n=ND(t),s=ND(r);return n!==s?n-s:DD(t)-DD(r)})}function ND(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function DD(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var gi=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),typeof this.value=="string"?e.write(t(this.value)):e.write(this.value)}};zee();var oB=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return typeof e=="string"?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(n,s)=>s.write(n)){let n=t.length-1;for(let s=0;s<t.length;s++)r(t[s],this),s!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};Vee();var yse=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},Up=e=>e,aB={bold:Up,red:Up,green:Up,dim:Up,enabled:!1},bse={bold:Hs,red:cc,green:$f,dim:Wf,enabled:!0},w_={write(e){e.writeLine(",")}},fg=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},C_=class{hasError=!1;markAsError(){return this.hasError=!0,this}},cB=class extends C_{items=[];addItem(e){return this.items.push(new yse(e)),this}getField(e){return this.items[e]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(this.items.length===0){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new fg("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(w_,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},lB=class Hp extends C_{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,s=this.getField(r);if(!s)return;let i=s;for(let o of n){let a;if(i.value instanceof Hp?a=i.value.getField(o):i.value instanceof cB&&(a=i.value.getField(Number(o))),!a)return;i=a}return i}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof Hp))return;let s=r.getSubSelectionValue(n);if(!s)return;r=s}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let s of t){let i=n.value.getFieldValue(s);if(!i||!(i instanceof Hp))return;let o=i.getSelectionParent();if(!o)return;n=o}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(r=>r.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new fg("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(w_,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}},Ln=class extends C_{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new fg(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},dB=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:s}=r.context.colors;r.write(n(s(`${e}: ${t}`))).addMarginSymbol(n(s("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(w_,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function uB(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Sse(e,t);break;case"IncludeOnScalar":Ese(e,t);break;case"EmptySelection":xse(e,t,r);break;case"UnknownSelectionField":vse(e,t);break;case"InvalidSelectionValue":Ase(e,t);break;case"UnknownArgument":Rse(e,t);break;case"UnknownInputField":Tse(e,t);break;case"RequiredArgumentMissing":kse(e,t);break;case"InvalidArgumentType":Ise(e,t);break;case"InvalidArgumentValue":Pse(e,t);break;case"ValueTooLarge":Ose(e,t);break;case"SomeFieldsMissing":Nse(e,t);break;case"TooManyFieldsGiven":Dse(e,t);break;case"Union":mse(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Sse(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function Ese(e,t){let[r,n]=Jl(e.selectionPath),s=e.outputType,i=t.arguments.getDeepSelectionParent(r)?.value;if(i&&(i.getField(n)?.markAsError(),s))for(let o of s.fields)o.isRelation&&i.addSuggestion(new gi(o.name,"true"));t.addErrorMessage(o=>{let a=`Invalid scalar field ${o.red(`\`${n}\``)} for ${o.bold("include")} statement`;return s?a+=` on model ${o.bold(s.name)}. ${Jf(o)}`:a+=".",a+=`
Note that ${o.bold("include")} statements only accept relation fields.`,a})}function xse(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let s=n.getField("omit")?.value.asObject();if(s){wse(e,t,s);return}if(n.hasField("select")){Cse(e,t);return}}if(r?.[og(e.outputType.name)]){_se(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function wse(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new gi(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Cse(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,s=n?.isEmpty()??!1;n&&(n.removeAllFields(),hB(n,r)),t.addErrorMessage(i=>s?`The ${i.red("`select`")} statement for type ${i.bold(r.name)} must not be empty. ${Jf(i)}`:`The ${i.red("`select`")} statement for type ${i.bold(r.name)} needs ${i.bold("at least one truthy value")}.`)}function _se(e,t){let r=new dB;for(let s of e.outputType.fields)s.isRelation||r.addField(s.name,"false");let n=new gi("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[s,i]=Jl(e.selectionPath),o=t.arguments.getDeepSelectionParent(s)?.value.asObject()?.getField(i);if(o){let a=o?.value.asObject()??new lB;a.addSuggestion(n),o.value=a}}t.addErrorMessage(s=>`The global ${s.red("omit")} configuration excludes every field of the model ${s.bold(e.outputType.name)}. At least one field must be included in the result`)}function vse(e,t){let r=pB(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":hB(n,e.outputType);break;case"include":Bse(n,e.outputType);break;case"omit":qse(n,e.outputType);break}}t.addErrorMessage(n=>{let s=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&s.push(`for ${n.bold(r.parentKind)} statement`),s.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),s.push(Jf(n)),s.join(" ")})}function Ase(e,t){let r=pB(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function Rse(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Mse(n,e.arguments)),t.addErrorMessage(s=>fB(s,r,e.arguments.map(i=>i.name)))}function Tse(e,t){let[r,n]=Jl(e.argumentPath),s=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(s){s.getDeepField(e.argumentPath)?.markAsError();let i=s.getDeepFieldValue(r)?.asObject();i&&gB(i,e.inputType)}t.addErrorMessage(i=>fB(i,n,e.inputType.fields.map(o=>o.name)))}function fB(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],s=Fse(t,r);return s&&n.push(`Did you mean \`${e.green(s)}\`?`),r.length>0&&n.push(Jf(e)),n.join(" ")}function kse(e,t){let r;t.addErrorMessage(c=>r?.value instanceof Ln&&r.value.text==="null"?`Argument \`${c.green(i)}\` must not be ${c.red("null")}.`:`Argument \`${c.green(i)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[s,i]=Jl(e.argumentPath),o=new dB,a=n.getDeepFieldValue(s)?.asObject();if(a){if(r=a.getField(i),r&&a.removeField(i),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let c of e.inputTypes[0].fields)o.addField(c.name,c.typeNames.join(" | "));a.addSuggestion(new gi(i,o).makeRequired())}else{let c=e.inputTypes.map(mB).join(" | ");a.addSuggestion(new gi(i,c).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,c]=Jl(e.dependentArgumentPath);t.addErrorMessage(d=>`Argument \`${d.green(i)}\` is required because argument \`${d.green(c)}\` was provided.`)}}}function mB(e){return e.kind==="list"?`${mB(e.elementType)}[]`:e.name}function Ise(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(s=>{let i=mg("or",e.argument.typeNames.map(o=>s.green(o)));return`Argument \`${s.bold(r)}\`: Invalid value provided. Expected ${i}, provided ${s.red(e.inferredType)}.`})}function Pse(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(s=>{let i=[`Invalid value for argument \`${s.bold(r)}\``];if(e.underlyingError&&i.push(`: ${e.underlyingError}`),i.push("."),e.argument.typeNames.length>0){let o=mg("or",e.argument.typeNames.map(a=>s.green(a)));i.push(` Expected ${o}.`)}return i.join("")})}function Ose(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),s;if(n){let i=n.getDeepField(e.argumentPath)?.value;i?.markAsError(),i instanceof Ln&&(s=i.text)}t.addErrorMessage(i=>{let o=["Unable to fit value"];return s&&o.push(i.red(s)),o.push(`into a 64-bit signed integer for field \`${i.bold(r)}\``),o.join(" ")})}function Nse(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let s=n.getDeepFieldValue(e.argumentPath)?.asObject();s&&gB(s,e.inputType)}t.addErrorMessage(s=>{let i=[`Argument \`${s.bold(r)}\` of type ${s.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?i.push(`${s.green("at least one of")} ${mg("or",e.constraints.requiredFields.map(o=>`\`${s.bold(o)}\``))} arguments.`):i.push(`${s.green("at least one")} argument.`):i.push(`${s.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),i.push(Jf(s)),i.join(" ")})}function Dse(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),s=[];if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&(i.markAsError(),s=Object.keys(i.getFields()))}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?o.push(`${i.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?o.push(`${i.green("at most one")} argument,`):o.push(`${i.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),o.push(`but you provided ${mg("and",s.map(a=>i.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?o.push("one."):o.push(`${e.constraints.maxFieldCount}.`),o.join(" ")})}function hB(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new gi(r.name,"true"))}function Bse(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new gi(r.name,"true"))}function qse(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new gi(r.name,"true"))}function Mse(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new gi(r.name,r.typeNames.join(" | ")))}function pB(e,t){let[r,n]=Jl(e),s=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!s)return{parentKind:"unknown",fieldName:n};let i=s.getFieldValue("select")?.asObject(),o=s.getFieldValue("include")?.asObject(),a=s.getFieldValue("omit")?.asObject(),c=i?.getField(n);return i&&c?{parentKind:"select",parent:i,field:c,fieldName:n}:(c=o?.getField(n),o&&c?{parentKind:"include",field:c,parent:o,fieldName:n}:(c=a?.getField(n),a&&c?{parentKind:"omit",field:c,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function gB(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new gi(r.name,r.typeNames.join(" | ")))}function Jl(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function Jf({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function mg(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var Lse=3;function Fse(e,t){let r=1/0,n;for(let s of t){let i=(0,fse.default)(e,s);i>Lse||i<r&&(r=i,n=s)}return n}var yB=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,s){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=s}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function __(e){return e instanceof yB}var Gp=Symbol(),vC=new WeakMap,hg=class{constructor(e){e===Gp?vC.set(this,`Prisma.${this._getName()}`):vC.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return vC.get(this)}},v_=class extends hg{_getNamespace(){return"NullTypes"}},YC=class extends v_{#e};A_(YC,"DbNull");var JC=class extends v_{#e};A_(JC,"JsonNull");var ZC=class extends v_{#e};A_(ZC,"AnyNull");var bB={classes:{DbNull:YC,JsonNull:JC,AnyNull:ZC},instances:{DbNull:new YC(Gp),JsonNull:new JC(Gp),AnyNull:new ZC(Gp)}};function A_(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var BD=": ",Use=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+BD.length}write(e){let t=new fg(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(BD).write(this.value)}},$se=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function R_(e){return new $se(SB(e))}function SB(e){let t=new lB;for(let[r,n]of Object.entries(e)){let s=new Use(r,EB(n));t.addField(s)}return t}function EB(e){if(typeof e=="string")return new Ln(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new Ln(String(e));if(typeof e=="bigint")return new Ln(`${e}n`);if(e===null)return new Ln("null");if(e===void 0)return new Ln("undefined");if(x_(e))return new Ln(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new Ln(`Buffer.alloc(${e.byteLength})`):new Ln(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=H3(e)?e.toISOString():"Invalid Date";return new Ln(`new Date("${t}")`)}return e instanceof hg?new Ln(`Prisma.${e._getName()}`):__(e)?new Ln(`prisma.${og(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?jse(e):typeof e=="object"?SB(e):new Ln(Object.prototype.toString.call(e))}function jse(e){let t=new cB;for(let r of e)t.addItem(EB(r));return t}function xB(e,t){let r=t==="pretty"?bse:aB,n=e.renderAllMessages(r),s=new oB(0,{colors:r}).write(e).toString();return{message:n,args:s}}function wB({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:s,clientVersion:i,globalOmit:o}){let a=R_(e);for(let f of t)uB(f,a,o);let{message:c,args:d}=xB(a,r),u=sB({message:c,callsite:n,originalMethod:s,showColors:r==="pretty",callArguments:d});throw new Qi(u,{clientVersion:i})}function Zf(e){return e.replace(/^./,t=>t.toLowerCase())}function Vse(e,t,r){let n=Zf(r);return!t.result||!(t.result.$allModels||t.result[n])?e:zse({...e,...qD(t.name,e,t.result.$allModels),...qD(t.name,e,t.result[n])})}function zse(e){let t=new Lf,r=(n,s)=>t.getOrCreate(n,()=>s.has(n)?[n]:(s.add(n),e[n]?e[n].needs.flatMap(i=>r(i,s)):[n]));return j3(e,n=>({...n,needs:r(n.name,new Set)}))}function qD(e,t,r){return r?j3(r,({needs:n,compute:s},i)=>({name:i,needs:n?Object.keys(n).filter(o=>n[o]):[],compute:Hse(t,i,s)})):{}}function Hse(e,t,r){let n=e?.[t]?.compute;return n?s=>r({...s,[t]:n(s)}):r}function Gse(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let s of n.needs)r[s]=!0;return r}function Kse(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let s of n.needs)delete r[s];return r}var MD=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new Lf;modelExtensionsCache=new Lf;queryCallbacksCache=new Lf;clientExtensions=GC(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=GC(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>Vse(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Zf(e);return!this.extension.model||!(this.extension.model[t]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(e):{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],s=this.extension.query;return!s||!(s[e]||s.$allModels||s[t]||s.$allOperations)?r:(s[e]!==void 0&&(s[e][t]!==void 0&&n.push(s[e][t]),s[e].$allOperations!==void 0&&n.push(s[e].$allOperations)),e!=="$none"&&s.$allModels!==void 0&&(s.$allModels[t]!==void 0&&n.push(s.$allModels[t]),s.$allModels.$allOperations!==void 0&&n.push(s.$allModels.$allOperations)),s[t]!==void 0&&n.push(s[t]),s.$allOperations!==void 0&&n.push(s.$allOperations),r.concat(n))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},CB=class Kp{constructor(t){this.head=t}static empty(){return new Kp}static single(t){return new Kp(new MD(t))}isEmpty(){return this.head===void 0}append(t){return new Kp(new MD(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},_B=class{constructor(e){this.name=e}};function Wse(e){return e instanceof _B}function Xse(e){return new _B(e)}var vB=Symbol(),AB=class{constructor(e){if(e!==vB)throw new Error("Skip instance can not be constructed directly")}ifUndefined(e){return e===void 0?RB:e}},RB=new AB(vB);function lc(e){return e instanceof AB}var Qse={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},TB="explicitly `undefined` values are not allowed";function kB({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:s=CB.empty(),callsite:i,clientMethod:o,errorFormat:a,clientVersion:c,previewFeatures:d,globalOmit:u}){let f=new iie({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:i,extensions:s,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:a,clientVersion:c,previewFeatures:d,globalOmit:u});return{modelName:e,action:Qse[t],query:Kf(r,f)}}function Kf({select:e,include:t,...r}={},n){let s=r.omit;return delete r.omit,{arguments:PB(r,n),selection:Yse(e,t,s,n)}}function Yse(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),tie(e,n)):Jse(n,t,r)}function Jse(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Zse(n,t,e),eie(n,r,e),n}function Zse(e,t,r){for(let[n,s]of Object.entries(t)){if(lc(s))continue;let i=r.nestSelection(n);if(T_(s,i),s===!1||s===void 0){e[n]=!1;continue}let o=r.findField(n);if(o&&o.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),o){e[n]=Kf(s===!0?{}:s,i);continue}if(s===!0){e[n]=!0;continue}e[n]=Kf(s,i)}}function eie(e,t,r){let n=r.getComputedFields(),s={...r.getGlobalOmit(),...t},i=Kse(s,n);for(let[o,a]of Object.entries(i)){if(lc(a))continue;T_(a,r.nestSelection(o));let c=r.findField(o);n?.[o]&&!c||(e[o]=!a)}}function tie(e,t){let r={},n=t.getComputedFields(),s=Gse(e,n);for(let[i,o]of Object.entries(s)){if(lc(o))continue;let a=t.nestSelection(i);T_(o,a);let c=t.findField(i);if(!(n?.[i]&&!c)){if(o===!1||o===void 0||lc(o)){r[i]=!1;continue}if(o===!0){c?.kind==="object"?r[i]=Kf({},a):r[i]=!0;continue}r[i]=Kf(o,a)}}return r}function IB(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(S_(e)){if(H3(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Wse(e))return{$type:"Param",value:e.name};if(__(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return rie(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:s}=e;return{$type:"Bytes",value:Buffer.from(r,n,s).toString("base64")}}if(nie(e))return e.values;if(x_(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof hg){if(e!==bB.instances[e._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(sie(e))return e.toJSON();if(typeof e=="object")return PB(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function PB(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let s=e[n],i=t.nestArgument(n);lc(s)||(s!==void 0?r[n]=IB(s,i):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:i.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:TB}))}return r}function rie(e,t){let r=[];for(let n=0;n<e.length;n++){let s=t.nestArgument(String(n)),i=e[n];if(i===void 0||lc(i)){let o=i===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:s.getSelectionPath(),argumentPath:s.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${o}\` value within array. Use \`null\` or filter out \`${o}\` values`})}r.push(IB(i,s))}return r}function nie(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function sie(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function T_(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:TB})}var iie=class e_{constructor(t){this.params=t,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){wB({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e_({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[og(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:b_(this.params.action,"Unknown action")}}nestArgument(t){return new e_({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function LD(e){if(!e._hasPreviewFlag("metrics"))throw new Qi("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}var OB=class{_client;constructor(e){this._client=e}prometheus(e){return LD(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return LD(this._client),this._client._engine.metrics({format:"json",...e})}};function oie(e,t){let r=GC(()=>aie(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function aie(e){return{datamodel:{models:AC(e.models),enums:AC(e.enums),types:AC(e.types)}}}function AC(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var RC=new WeakMap,tg="$$PrismaTypedSql",NB=class{constructor(e,t){RC.set(this,{sql:e,values:t}),Object.defineProperty(this,tg,{value:tg})}get sql(){return RC.get(this).sql}get values(){return RC.get(this).values}};function cie(e){return(...t)=>new NB(e,t)}function DB(e){return e!=null&&e[tg]===tg}var lie=St(m3()),die=require("node:async_hooks"),uie=require("node:events"),fie=St(require("node:fs")),TC=St(require("node:path")),Xo=class t_{constructor(t,r){if(t.length-1!==r.length)throw t.length===0?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((o,a)=>o+(a instanceof t_?a.values.length:1),0);this.values=new Array(n),this.strings=new Array(n+1),this.strings[0]=t[0];let s=0,i=0;for(;s<r.length;){let o=r[s++],a=t[s];if(o instanceof t_){this.strings[i]+=o.strings[0];let c=0;for(;c<o.values.length;)this.values[i++]=o.values[c++],this.strings[i]=o.strings[c];this.strings[i]+=a}else this.values[i++]=o,this.strings[i]=a}}get sql(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`?${this.strings[r++]}`;return n}get statement(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`:${r}${this.strings[r++]}`;return n}get text(){let t=this.strings.length,r=1,n=this.strings[0];for(;r<t;)n+=`$${r}${this.strings[r++]}`;return n}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function mie(e,t=",",r="",n=""){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new Xo([r,...Array(e.length-1).fill(t),n],e)}function BB(e){return new Xo([e],[])}var hie=BB("");function pie(e,...t){return new Xo(e,t)}function qB(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function hi(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function k_(e){let t=new Lf;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var r_={enumerable:!0,configurable:!0,writable:!0};function MB(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>r_,has:(r,n)=>t.has(n),set:(r,n,s)=>t.add(n)&&Reflect.set(r,n,s),ownKeys:()=>[...t]}}var FD=Symbol.for("nodejs.util.inspect.custom");function Zl(e,t){let r=gie(t),n=new Set,s=new Proxy(e,{get(i,o){if(n.has(o))return i[o];let a=r.get(o);return a?a.getPropertyValue(o):i[o]},has(i,o){if(n.has(o))return!0;let a=r.get(o);return a?a.has?.(o)??!0:Reflect.has(i,o)},ownKeys(i){let o=UD(Reflect.ownKeys(i),r),a=UD(Array.from(r.keys()),r);return[...new Set([...o,...a,...n])]},set(i,o,a){return r.get(o)?.getPropertyDescriptor?.(o)?.writable===!1?!1:(n.add(o),Reflect.set(i,o,a))},getOwnPropertyDescriptor(i,o){let a=Reflect.getOwnPropertyDescriptor(i,o);if(a&&!a.configurable)return a;let c=r.get(o);return c?c.getPropertyDescriptor?{...r_,...c?.getPropertyDescriptor(o)}:r_:a},defineProperty(i,o,a){return n.add(o),Reflect.defineProperty(i,o,a)},getPrototypeOf:()=>Object.prototype});return s[FD]=function(){let i={...this};return delete i[FD],i},s}function gie(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let s of n)t.set(s,r)}return t}function UD(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function n_(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function I_(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function yie(e){if(e===void 0)return"";let t=R_(e);return new oB(0,{colors:aB}).write(t).toString()}var bie="P2037";function P_({error:e,user_facing_error:t},r,n){return t.error_code?new Go(Sie(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new es(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function Sie(e,t){let r=e.message;return(t==="postgresql"||t==="postgres"||t==="mysql")&&e.error_code===bie&&(r+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),r}var em="<unknown>";function Eie(e){var t=e.split(`
`);return t.reduce(function(r,n){var s=Cie(n)||vie(n)||Tie(n)||Oie(n)||Iie(n);return s&&r.push(s),r},[])}var xie=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,wie=/\((\S*)(?::(\d+))(?::(\d+))\)/;function Cie(e){var t=xie.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,s=wie.exec(t[2]);return n&&s!=null&&(t[2]=s[1],t[3]=s[2],t[4]=s[3]),{file:r?null:t[2],methodName:t[1]||em,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var _ie=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function vie(e){var t=_ie.exec(e);return t?{file:t[2],methodName:t[1]||em,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Aie=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Rie=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Tie(e){var t=Aie.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Rie.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||em,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var kie=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Iie(e){var t=kie.exec(e);return t?{file:t[3],methodName:t[1]||em,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Pie=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Oie(e){var t=Pie.exec(e);return t?{file:t[2],methodName:t[1]||em,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Nie=class{getLocation(){return null}},Die=class{_error;constructor(){this._error=new Error}getLocation(){let e=this._error.stack;if(!e)return null;let t=Eie(e).find(r=>{if(!r.file)return!1;let n=Gre(r.file);return n!=="<anonymous>"&&!n.includes("@prisma")&&!n.includes("/packages/client/src/runtime/")&&!n.endsWith("/runtime/binary.js")&&!n.endsWith("/runtime/library.js")&&!n.endsWith("/runtime/edge.js")&&!n.endsWith("/runtime/edge-esm.js")&&!n.startsWith("internal/")&&!r.methodName.includes("new ")&&!r.methodName.includes("getCallSite")&&!r.methodName.includes("Proxy.")&&r.methodName.split(".").length<4});return!t||!t.file?null:{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}}};function Ff(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new Nie:new Die}var Bie={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function rg(e={}){let t=qie(e);return Object.entries(t).reduce((r,[n,s])=>(Bie[n]!==void 0?r.select[n]={select:s}:r[n]=s,r),{select:{}})}function qie(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function s_(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function Mie(e,t){let r=s_(e);return t({action:"aggregate",unpacker:r,argsMapper:rg})(e)}function Lie(e={}){let{select:t,...r}=e;return rg(typeof t=="object"?{...r,_count:t}:{...r,_count:{_all:!0}})}function Fie(e={}){return typeof e.select=="object"?t=>s_(e)(t)._count:t=>s_(e)(t)._count._all}function Uie(e,t){return t({action:"count",unpacker:Fie(e),argsMapper:Lie})(e)}function $ie(e={}){let t=rg(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function jie(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function Vie(e,t){return t({action:"groupBy",unpacker:jie(e),argsMapper:$ie})(e)}function zie(e,t,r){if(t==="aggregate")return n=>Mie(n,r);if(t==="count")return n=>Uie(n,r);if(t==="groupBy")return n=>Vie(n,r)}function Hie(e,t){let r=t.fields.filter(s=>!s.relationName),n=Jre(r,"name");return new Proxy({},{get(s,i){if(i in s||typeof i=="symbol")return s[i];let o=n[i];if(o)return new yB(e,i,o.type,o.isList,o.kind==="enum")},...MB(Object.keys(n))})}var LB=e=>Array.isArray(e)?e:e.split("."),FB=(e,t)=>LB(t).reduce((r,n)=>r&&r[n],e),Gie=(e,t,r)=>LB(t).reduceRight((n,s,i,o)=>Object.assign({},FB(e,o.slice(0,i)),{[s]:n}),r);function Kie(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function Wie(e,t,r){return t===void 0?e??{}:Gie(t,r,e||!0)}function UB(e,t,r,n,s,i){let o=e._runtimeDataModel.models[t].fields.reduce((a,c)=>({...a,[c.name]:c}),{});return a=>{let c=Ff(e._errorFormat),d=Kie(n,s),u=Wie(a,i,d),f=r({dataPath:d,callsite:c})(u),m=Xie(e,t);return new Proxy(f,{get(h,y){if(!m.includes(y))return h[y];let b=[o[y].type,r,y],v=[d,u];return UB(e,...b,...v)},...MB([...m,...Object.getOwnPropertyNames(f)])})}}function Xie(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var Qie=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],Yie=["aggregate","count","groupBy"];function $D(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[Jie(e,t),eoe(e,t),qB(r),hi("name",()=>t),hi("$name",()=>t),hi("$parent",()=>e._appliedParent)];return Zl({},n)}function Jie(e,t){let r=Zf(t),n=Object.keys(ug).concat("count");return{getKeys(){return n},getPropertyValue(s){let i=s,o=a=>c=>{let d=Ff(e._errorFormat);return e._createPrismaPromise(u=>{let f={args:c,dataPath:[],action:i,model:t,clientMethod:`${r}.${s}`,jsModelName:r,transaction:u,callsite:d};return e._request({...f,...a})},{action:i,args:c,model:t})};return Qie.includes(i)?UB(e,t,o):Zie(s)?zie(e,s,o):o({})}}}function Zie(e){return Yie.includes(e)}function eoe(e,t){return k_(hi("fields",()=>{let r=e._runtimeDataModel.models[t];return Hie(t,r)}))}function toe(e){return e.replace(/^./,t=>t.toUpperCase())}var i_=Symbol();function o_(e){let t=[roe(e),noe(e),hi(i_,()=>e),hi("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(qB(r)),Zl(e,t)}function roe(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function noe(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Zf),n=[...new Set(t.concat(r))];return k_({getKeys(){return n},getPropertyValue(s){let i=toe(s);if(e._runtimeDataModel.models[i]!==void 0)return $D(e,i);if(e._runtimeDataModel.models[s]!==void 0)return $D(e,s)},getPropertyDescriptor(s){if(!r.includes(s))return{enumerable:!1}}})}function soe(e){return e[i_]?e[i_]:e}function ioe(e){if(typeof e=="function")return e(this);if(e.client?.__AccelerateEngine){let r=e.client.__AccelerateEngine;this._originalClient._engine=new r(this._originalClient._accelerateEngineConfig)}let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return o_(t)}function ooe({result:e,modelName:t,select:r,omit:n,extensions:s}){let i=s.getAllComputedFields(t);if(!i)return e;let o=[],a=[];for(let c of Object.values(i)){if(n){if(n[c.name])continue;let d=c.needs.filter(u=>n[u]);d.length>0&&a.push(n_(d))}else if(r){if(!r[c.name])continue;let d=c.needs.filter(u=>!r[u]);d.length>0&&a.push(n_(d))}aoe(e,c.needs)&&o.push(coe(c,Zl(e,o)))}return o.length>0||a.length>0?Zl(e,[...o,...a]):e}function aoe(e,t){return t.every(r=>Qre(e,r))}function coe(e,t){return k_(hi(e.name,()=>e.compute(t)))}function O_({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:s}){if(Array.isArray(t)){for(let o=0;o<t.length;o++)t[o]=O_({result:t[o],args:r,modelName:s,runtimeDataModel:n,visitor:e});return t}let i=e(t,s,r)??t;return r.include&&jD({includeOrSelect:r.include,result:i,parentModelName:s,runtimeDataModel:n,visitor:e}),r.select&&jD({includeOrSelect:r.select,result:i,parentModelName:s,runtimeDataModel:n,visitor:e}),i}function jD({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:s}){for(let[i,o]of Object.entries(e)){if(!o||t[i]==null||lc(o))continue;let a=n.models[r].fields.find(d=>d.name===i);if(!a||a.kind!=="object"||!a.relationName)continue;let c=typeof o=="object"?o:{};t[i]=O_({visitor:s,result:t[i],args:c,modelName:a.type,runtimeDataModel:n})}}function loe({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:s,globalOmit:i}){return n.isEmpty()||e==null||typeof e!="object"||!s.models[t]?e:O_({result:e,args:r??{},modelName:t,runtimeDataModel:s,visitor:(o,a,c)=>{let d=Zf(a);return ooe({result:o,modelName:d,select:c.select,omit:c.select?void 0:{...i?.[d],...c.omit},extensions:n})}})}var doe=["$connect","$disconnect","$on","$transaction","$extends"],uoe=doe;function foe(e){if(e instanceof Xo)return moe(e);if(DB(e))return hoe(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Uf(e[n]);return r}let t={};for(let r in e)t[r]=Uf(e[r]);return t}function moe(e){return new Xo(e.strings,e.values)}function hoe(e){return new NB(e.sql,e.values)}function Uf(e){if(typeof e!="object"||e==null||e instanceof hg||__(e))return e;if(x_(e))return new dg(e.toFixed());if(S_(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Uf(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Uf(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Uf(e[r]);return t}b_(e,"Unknown value")}function $B(e,t,r,n=0){return e._createPrismaPromise(s=>{let i=t.customDataProxyFetch;return"transaction"in t&&s!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=s),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:foe(t.args??{}),__internalParams:t,query:(o,a=t)=>{let c=a.customDataProxyFetch;return a.customDataProxyFetch=VB(i,c),a.args=o,$B(e,a,r,n+1)}})})}function poe(e,t){let{jsModelName:r,action:n,clientMethod:s}=t,i=r?n:s;if(e._extensions.isEmpty())return e._executeRequest(t);let o=e._extensions.getAllQueryCallbacks(r??"$none",i);return $B(e,t,o)}function goe(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?jB(r,n,0,e):e(r)}}function jB(e,t,r,n){if(r===t.length)return n(e);let s=e.customDataProxyFetch,i=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(o=>({model:o.modelName,operation:o.action,args:o.args})),transaction:i?{isolationLevel:i.kind==="batch"?i.isolationLevel:void 0}:void 0},__internalParams:e,query(o,a=e){let c=a.customDataProxyFetch;return a.customDataProxyFetch=VB(s,c),jB(a,t,r+1,n)}})}var VD=e=>e;function VB(e=VD,t=VD){return r=>e(t(r))}var zD=_n("prisma:client"),HD={Vercel:"vercel","Netlify CI":"netlify"};function yoe({postinstall:e,ciName:t,clientVersion:r,generator:n}){if(zD("checkPlatformCaching:postinstall",e),zD("checkPlatformCaching:ciName",t),e===!0&&!(n?.output&&typeof(n.output.fromEnvVar??n.output.value)=="string")&&t&&t in HD){let s=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${HD[t]}-build`;throw console.error(s),new pr(s,r)}}function boe(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var Soe=St(require("node:fs")),Wp=St(require("node:path"));function zB(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${Eoe(e)}`}function Eoe(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,s={fromEnvVar:null,value:n},i=[...r,s];return Bre({...t,binaryTargets:i})}function pg(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function gg(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(r=>`  ${r}`).join(`
`)}`}function xoe(e){let{runtimeBinaryTarget:t}=e;return`${pg(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${zB(e)}

${gg(e)}`}function HB(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function GB(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function woe(e){let{queryEngineName:t}=e;return`${pg(e)}${GB(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${HB("engine-not-found-bundler-investigation")}

${gg(e)}`}function Coe(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(s=>s.native);return`${pg(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${zB(e)}

${gg(e)}`}function _oe(e){let{queryEngineName:t}=e;return`${pg(e)}${GB(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${HB("engine-not-found-tooling-investigation")}

${gg(e)}`}var voe=_n("prisma:client:engines:resolveEnginePath"),Aoe=()=>new RegExp("runtime[\\\\/]library\\.m?js$");async function Roe(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(r!==void 0)return r;let{enginePath:n,searchedLocations:s}=await Toe(e,t);if(voe("enginePath",n),n!==void 0&&e==="binary"&&Tre(n),n!==void 0)return t.prismaPath=n;let i=await m_(),o=t.generator?.binaryTargets??[],a=o.some(m=>m.native),c=!o.some(m=>m.value===i),d=__filename.match(Aoe())===null,u={searchedLocations:s,generatorBinaryTargets:o,generator:t.generator,runtimeBinaryTarget:i,queryEngineName:KB(e,i),expectedLocation:Wp.default.relative(process.cwd(),t.dirname),errorStack:new Error().stack},f;throw a&&c?f=Coe(u):c?f=xoe(u):d?f=woe(u):f=_oe(u),new pr(f,t.clientVersion)}async function Toe(e,t){let r=await m_(),n=[],s=[t.dirname,Wp.default.resolve(__dirname,".."),t.generator?.output?.value??__dirname,Wp.default.resolve(__dirname,"../../../.prisma/client"),"/tmp/prisma-engines",t.cwd];__filename.includes("resolveEnginePath")&&s.push(Rre());for(let i of s){let o=KB(e,r),a=Wp.default.join(i,o);if(n.push(i),Soe.default.existsSync(a))return{enginePath:a,searchedLocations:n}}return{enginePath:void 0,searchedLocations:n}}function KB(e,t){return e==="library"?Ete(t,"fs"):`query-engine-${t}${t==="windows"?".exe":""}`}function koe(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function Ioe(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var Poe=St(jee());function Ooe({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:s}){return(0,Poe.default)({user:t,repo:r,template:n,title:e,body:s})}function Noe({version:e,binaryTarget:t,title:r,description:n,engineVersion:s,database:i,query:o}){let a=pte(6e3-(o?.length??0)),c=Ioe(VC(a)),d=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=VC(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${s?.padEnd(19)}|
| Database        | ${i?.padEnd(19)}|

${d}

## Logs
\`\`\`
${c}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${o?koe(o):""}
\`\`\`
`),f=Ooe({title:r,body:u});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${fs(f)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function Doe(e,t){throw new Error(t)}function Boe(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function qoe(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function ng(e){return e===null?e:Array.isArray(e)?e.map(ng):typeof e=="object"?Boe(e)?Moe(e):e.constructor!==null&&e.constructor.name!=="Object"?e:qoe(e,ng):e}function Moe({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:s}=Buffer.from(t,"base64");return new Uint8Array(r,n,s)}case"DateTime":return new Date(t);case"Decimal":return new uc(t);case"Json":return JSON.parse(t);default:Doe(t,"Unknown tagged value")}}var Loe="6.19.0",Foe=()=>globalThis.process?.release?.name==="node",Uoe=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,$oe=()=>!!globalThis.Deno,joe=()=>typeof globalThis.Netlify=="object",Voe=()=>typeof globalThis.EdgeRuntime=="object",zoe=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Hoe(){return[[joe,"netlify"],[Voe,"edge-light"],[zoe,"workerd"],[$oe,"deno"],[Uoe,"bun"],[Foe,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var Goe={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function WB(){let e=Hoe();return{id:e,prettyName:Goe[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}function N_({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let s,i=Object.keys(e)[0],o=e[i]?.url,a=t[i]?.url;if(i===void 0?s=void 0:a?s=a:o?.value?s=o.value:o?.fromEnvVar&&(s=r[o.fromEnvVar]),o?.fromEnvVar!==void 0&&s===void 0)throw new pr(`error: Environment variable not found: ${o.fromEnvVar}.`,n);if(s===void 0)throw new pr("error: Missing URL environment variable, value, or override.",n);return s}var Koe=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},ed=class extends Koe{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function on(e,t){return{...e,isRetryable:t}}var Xp=class extends ed{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,on(t,!1))}};cr(Xp,"InvalidDatasourceError");function Woe(e){let t={clientVersion:e.clientVersion},r=Object.keys(e.inlineDatasources)[0],n=N_({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,...typeof process<"u"?process.env:{}}}),s;try{s=new URL(n)}catch{throw new Xp(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\``,t)}let{protocol:i,searchParams:o}=s;if(i!=="prisma:"&&i!==B3)throw new Xp(`Error validating datasource \`${r}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,t);let a=o.get("api_key");if(a===null||a.length<1)throw new Xp(`Error validating datasource \`${r}\`: the URL must contain a valid API key`,t);let c=Nre(s)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&s.searchParams.has("use_http")&&(c="http:");let d=new URL(s.href.replace(i,c));return{apiKey:a,url:d}}var Xoe=St(d_()),Qoe=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:s}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=s}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":Xoe.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function Yoe(e){return e[0]*1e3+e[1]/1e6}function GD(e){return new Date(Yoe(e))}var a_=class extends ed{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",on(e,!0))}};cr(a_,"ForcedRetryError");var D_=class extends ed{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,on(t,!1))}};cr(D_,"NotImplementedYetError");var ps=class extends ed{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let n=`(The request id was: ${r})`;this.message=this.message+" "+n}}},B_=class extends ps{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",on(e,!0))}};cr(B_,"SchemaMissingError");var XB="This request could not be understood by the server",QB=class extends ps{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||XB,on(e,!1)),r&&(this.code=r)}};cr(QB,"BadRequestError");var YB=class extends ps{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",on(e,!0)),this.logs=t}};cr(YB,"HealthcheckTimeoutError");var JB=class extends ps{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,on(e,!0)),this.logs=r}};cr(JB,"EngineStartupError");var ZB=class extends ps{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",on(e,!1))}};cr(ZB,"EngineVersionNotSupportedError");var e2="Request timed out",t2=class extends ps{name="GatewayTimeoutError";code="P5009";constructor(e,t=e2){super(t,on(e,!1))}};cr(t2,"GatewayTimeoutError");var Joe="Interactive transaction error",r2=class extends ps{name="InteractiveTransactionError";code="P5015";constructor(e,t=Joe){super(t,on(e,!1))}};cr(r2,"InteractiveTransactionError");var Zoe="Request parameters are invalid",n2=class extends ps{name="InvalidRequestError";code="P5011";constructor(e,t=Zoe){super(t,on(e,!1))}};cr(n2,"InvalidRequestError");var s2="Requested resource does not exist",i2=class extends ps{name="NotFoundError";code="P5003";constructor(e,t=s2){super(t,on(e,!1))}};cr(i2,"NotFoundError");var o2="Unknown server error",c_=class extends ps{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||o2,on(e,!0)),this.logs=r}};cr(c_,"ServerError");var a2="Unauthorized, check your connection string",c2=class extends ps{name="UnauthorizedError";code="P5007";constructor(e,t=a2){super(t,on(e,!1))}};cr(c2,"UnauthorizedError");var l2="Usage exceeded, retry again later",d2=class extends ps{name="UsageExceededError";code="P5008";constructor(e,t=l2){super(t,on(e,!0))}};cr(d2,"UsageExceededError");async function eae(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let r=JSON.parse(t);if(typeof r=="string")switch(r){case"InternalDataProxyError":return{type:"DataProxyError",body:r};default:return{type:"UnknownTextError",body:r}}if(typeof r=="object"&&r!==null){if("is_panic"in r&&"message"in r&&"error_code"in r)return{type:"QueryEngineError",body:r};if("EngineNotStarted"in r||"InteractiveTransactionMisrouted"in r||"InvalidRequestError"in r){let n=Object.values(r)[0].reason;return typeof n=="string"&&!["SchemaMissing","EngineVersionNotSupported"].includes(n)?{type:"UnknownJsonError",body:r}:{type:"DataProxyError",body:r}}}return{type:"UnknownJsonError",body:r}}catch{return t===""?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function $p(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await eae(e);if(n.type==="QueryEngineError")throw new Go(n.body.message,{code:n.body.error_code,clientVersion:t});if(n.type==="DataProxyError"){if(n.body==="InternalDataProxyError")throw new c_(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if(n.body.EngineNotStarted.reason==="SchemaMissing")return new B_(r);if(n.body.EngineNotStarted.reason==="EngineVersionNotSupported")throw new ZB(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:s,logs:i}=n.body.EngineNotStarted.reason.EngineStartupError;throw new JB(r,s,i)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:s,error_code:i}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new pr(s,t,i)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:s}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new YB(r,s)}}if("InteractiveTransactionMisrouted"in n.body){let s={IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"};throw new r2(r,s[n.body.InteractiveTransactionMisrouted.reason])}if("InvalidRequestError"in n.body)throw new n2(r,n.body.InvalidRequestError.reason)}if(e.status===401||e.status===403)throw new c2(r,Gl(a2,n));if(e.status===404)return new i2(r,Gl(s2,n));if(e.status===429)throw new d2(r,Gl(l2,n));if(e.status===504)throw new t2(r,Gl(e2,n));if(e.status>=500)throw new c_(r,Gl(o2,n));if(e.status>=400)throw new QB(r,Gl(XB,n))}function Gl(e,t){return t.type==="EmptyError"?e:`${e}: ${JSON.stringify(t)}`}function tae(e){let t=Math.pow(2,e)*50,r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(s=>setTimeout(()=>s(n),n))}var Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function rae(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,s=n%3,i=n-s,o,a,c,d,u;for(let f=0;f<i;f=f+3)u=t[f]<<16|t[f+1]<<8|t[f+2],o=(u&16515072)>>18,a=(u&258048)>>12,c=(u&4032)>>6,d=u&63,r+=Wi[o]+Wi[a]+Wi[c]+Wi[d];return s==1?(u=t[i],o=(u&252)>>2,a=(u&3)<<4,r+=Wi[o]+Wi[a]+"=="):s==2&&(u=t[i]<<8|t[i+1],o=(u&64512)>>10,a=(u&1008)>>4,c=(u&15)<<2,r+=Wi[o]+Wi[a]+Wi[c]+"="),r}function nae(e){if(e.generator?.previewFeatures.some(t=>t.toLowerCase().includes("metrics")))throw new pr("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}var sae={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.19.0-26.2ba551f319ab1df4bc874a89965d8b3641056773","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},u2=class extends ed{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:
${e}`,on(t,!0))}};cr(u2,"RequestError");async function Df(e,t,r=n=>n){let{clientVersion:n,...s}=t,i=r(fetch);try{return await i(e,s)}catch(o){let a=o.message??"Unknown error";throw new u2(a,{clientVersion:n,cause:o})}}var iae=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,f2=_n("prisma:client:dataproxyEngine");async function oae(e,t){let r=sae["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&n!=="0.0.0"&&n!=="in-memory")return n;let[s,i]=n?.split("-")??[];if(i===void 0&&iae.test(s))return s;if(i!==void 0||n==="0.0.0"||n==="in-memory"){let[o]=r.split("-")??[],[a,c,d]=o.split("."),u=cae(`<=${a}.${c}.${d}`),f=await Df(u,{clientVersion:n});if(!f.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${f.status} ${f.statusText}, response body: ${await f.text()||"<empty body>"}`);let m=await f.text();f2("length of body fetched from unpkg.com",m.length);let h;try{h=JSON.parse(m)}catch(y){throw console.error("JSON.parse error: body fetched from unpkg.com: ",m),y}return h.version}throw new D_("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function aae(e,t){let r=await oae(e,t);return f2("version",r),r}function cae(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var KD=3,Pf=_n("prisma:client:dataproxyEngine"),lae=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){nae(e),this.config=e,this.env=e.env,this.inlineSchema=rae(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){this.startPromise!==void 0&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new Qoe({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await aae(this.host,this.config),Pf("host",this.host),Pf("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(t=>{switch(t.level){case"debug":case"trace":Pf(t);break;case"error":case"warn":case"info":{this.logEmitter.emit(t.level,{timestamp:GD(t.timestamp),message:t.attributes.message??"",target:t.target??"BinaryEngine"});break}case"query":{this.logEmitter.emit("query",{query:t.attributes.query??"",timestamp:GD(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"BinaryEngine"});break}default:t.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let t=await Df(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});t.ok||Pf("schema response status",t.status);let r=await $p(t,this.clientVersion);if(r)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${r.message}`,timestamp:new Date,target:""}),r;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let s=r?.kind==="itx"?r.options:void 0,i=I_(e,r);return(await this.requestInternal({body:i,customDataProxyFetch:n,interactiveTransaction:s,traceparent:t})).map(o=>(o.extensions&&this.propagateResponseExtensions(o.extensions),"errors"in o?this.convertProtocolErrorsToClientError(o.errors):o))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:s})=>{let i=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");s(i);let o=await Df(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);o.ok||Pf("graphql response status",o.status),await this.handleError(await $p(o,this.clientVersion));let a=await o.json();if(a.extensions&&this.propagateResponseExtensions(a.extensions),"errors"in a)throw this.convertProtocolErrorsToClientError(a.errors);return"batchResult"in a?a.batchResult:a}})}async transaction(e,t,r){let n={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${n[e]} transaction`,callback:async({logHttpCall:s})=>{if(e==="start"){let i=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),o=await this.url("transaction/start");s(o);let a=await Df(o,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:i,clientVersion:this.clientVersion});await this.handleError(await $p(a,this.clientVersion));let c=await a.json(),{extensions:d}=c;d&&this.propagateResponseExtensions(d);let u=c.id,f=c["data-proxy"].endpoint;return{id:u,payload:{endpoint:f}}}else{let i=`${r.payload.endpoint}/${e}`;s(i);let o=await Df(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await $p(o,this.clientVersion));let a=await o.json(),{extensions:c}=a;c&&this.propagateResponseExtensions(c);return}}})}getURLAndAPIKey(){return Woe({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new D_("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=n=>{this.logEmitter.emit("info",{message:`Calling ${n} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof ed)||!n.isRetryable)throw n;if(t>=KD)throw n instanceof a_?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${KD} failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let s=await tae(t);this.logEmitter.emit("warn",{message:`Retrying after ${s}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof B_)throw await this.uploadSchema(),new a_({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return e.length===1?P_(e[0],this.config.clientVersion,this.config.activeProvider):new es(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function dae(e){if(e?.kind==="itx")return e.options.id}var WD=St(require("node:os")),uae=St(require("node:path")),kC=Symbol("PrismaLibraryEngineCache");function fae(){let e=globalThis;return e[kC]===void 0&&(e[kC]={}),e[kC]}function mae(e){let t=fae();if(t[e]!==void 0)return t[e];let r=uae.default.toNamespacedPath(e),n={exports:{}},s=0;return process.platform!=="win32"&&(s=WD.default.constants.dlopen.RTLD_LAZY|WD.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,r,s),t[e]=n.exports,n.exports}var hae={async loadLibrary(e){let t=await Ute(),r=await Roe("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>mae(r))}catch(n){let s=kre({e:n,platformInfo:t,id:r});throw new pr(s,e.clientVersion)}}},IC,pae={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(r===void 0)throw new pr(`The \`adapter\` option for \`PrismaClient\` is required in this context (${WB().prettyName})`,t);if(n===void 0)throw new pr("WASM engine was unexpectedly `undefined`",t);IC===void 0&&(IC=(async()=>{let i=await n.getRuntime(),o=await n.getQueryEngineWasmModule();if(o==null)throw new pr("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let a={"./query_engine_bg.js":i},c=new WebAssembly.Instance(o,a),d=c.exports.__wbindgen_start;return i.__wbg_set_wasm(c.exports),d(),i.QueryEngine})());let s=await IC;return{debugPanic(){return Promise.reject("{}")},dmmf(){return Promise.resolve("{}")},version(){return{commit:"unknown",version:"unknown"}},QueryEngine:s}}},gae="P2036",ci=_n("prisma:client:libraryEngine");function yae(e){return e.item_type==="query"&&"query"in e}function bae(e){return"level"in e?e.level==="error"&&e.message==="PANIC":!1}var XD=[...Ste,"native"],Sae=0xffffffffffffffffn,PC=1n;function Eae(){let e=PC++;return PC>Sae&&(PC=1n),e}var QD=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;adapterPromise;versionInfo;constructor(e,t){this.libraryLoader=t??hae,e.engineWasm!==void 0&&(this.libraryLoader=t??pae),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;r!==void 0&&n!==void 0&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(e){return{applyPendingMigrations:e.applyPendingMigrations?.bind(e),commitTransaction:this.withRequestId(e.commitTransaction.bind(e)),connect:this.withRequestId(e.connect.bind(e)),disconnect:this.withRequestId(e.disconnect.bind(e)),metrics:e.metrics?.bind(e),query:this.withRequestId(e.query.bind(e)),rollbackTransaction:this.withRequestId(e.rollbackTransaction.bind(e)),sdlSchema:e.sdlSchema?.bind(e),startTransaction:this.withRequestId(e.startTransaction.bind(e)),trace:e.trace.bind(e),free:e.free?.bind(e)}}withRequestId(e){return async(...t)=>{let r=Eae().toString();try{return await e(...t,r)}finally{if(this.tracingHelper.isEnabled()){let n=await this.engine?.trace(r);if(n){let s=JSON.parse(n);this.tracingHelper.dispatchEngineSpans(s.spans)}}}}}async applyPendingMigrations(){throw new Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){await this.start();let n=await this.adapterPromise,s=JSON.stringify(t),i;if(e==="start"){let a=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});i=await this.engine?.startTransaction(a,s)}else e==="commit"?i=await this.engine?.commitTransaction(r.id,s):e==="rollback"&&(i=await this.engine?.rollbackTransaction(r.id,s));let o=this.parseEngineResponse(i);if(xae(o)){let a=this.getExternalAdapterError(o,n?.errorRegistry);throw a?a.error:new Go(o.message,{code:o.error_code,clientVersion:this.config.clientVersion,meta:o.meta})}else if(typeof o.message=="string")throw new es(o.message,{clientVersion:this.config.clientVersion});return o}async instantiateLibrary(){if(ci("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;bte(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await this.tracingHelper.runInChildSpan("detect_platform",()=>m_());if(!XD.includes(e))throw new pr(`Unknown ${cc("PRISMA_QUERY_ENGINE_LIBRARY")} ${cc(Hs(e))}. Possible binaryTargets: ${$f(XD.join(", "))} or a path to the query engine library.
You may have to run ${$f("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new es("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new es("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this);this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(_D));let t=await this.adapterPromise;t&&ci("Using driver adapter: %O",t),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},r=>{e.deref()?.logger(r)},t))}catch(e){let t=e,r=this.parseInitError(t.message);throw typeof r=="string"?t:new pr(r.message,this.config.clientVersion,r.error_code)}}}logger(e){let t=this.parseEngineResponse(e);t&&(t.level=t?.level.toLowerCase()??"unknown",yae(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):bae(t)?this.loggerRustPanic=new zo(OC(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path}))}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(this.libraryInstantiationPromise||(this.libraryInstantiationPromise=this.instantiateLibrary()),await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return ci(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{ci("library starting");try{let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(t)),this.libraryStarted=!0,this.adapterPromise||(this.adapterPromise=this.config.adapter?.connect()?.then(_D)),await this.adapterPromise,ci("library started")}catch(t){let r=this.parseInitError(t.message);throw typeof r=="string"?t:new pr(r.message,this.config.clientVersion,r.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryInstantiationPromise,await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return ci("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted){await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0;return}let e=async()=>{await new Promise(r=>setImmediate(r)),ci("library stopping");let t={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(t)),this.engine?.free&&this.engine.free(),this.engine=void 0,this.libraryStarted=!1,this.libraryStoppingPromise=void 0,this.libraryInstantiationPromise=void 0,await(await this.adapterPromise)?.dispose(),this.adapterPromise=void 0,ci("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){ci(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),s=JSON.stringify(e);try{await this.start();let i=await this.adapterPromise;this.executingQueryPromise=this.engine?.query(s,n,r?.id),this.lastQuery=s;let o=this.parseEngineResponse(await this.executingQueryPromise);if(o.errors)throw o.errors.length===1?this.buildQueryError(o.errors[0],i?.errorRegistry):new es(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:o}}catch(i){if(i instanceof pr)throw i;if(i.code==="GenericFailure"&&i.message?.startsWith("PANIC:"))throw new zo(OC(this,i.message),this.config.clientVersion);let o=this.parseRequestError(i.message);throw typeof o=="string"?i:new es(`${o.message}
${o.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){ci("requestBatch");let n=I_(e,t);await this.start();let s=await this.adapterPromise;this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine?.query(this.lastQuery,JSON.stringify({traceparent:r}),dae(t));let i=await this.executingQueryPromise,o=this.parseEngineResponse(i);if(o.errors)throw o.errors.length===1?this.buildQueryError(o.errors[0],s?.errorRegistry):new es(JSON.stringify(o.errors),{clientVersion:this.config.clientVersion});let{batchResult:a,errors:c}=o;if(Array.isArray(a))return a.map(d=>d.errors&&d.errors.length>0?this.loggerRustPanic??this.buildQueryError(d.errors[0],s?.errorRegistry):{data:d});throw c&&c.length===1?new Error(c[0].error):new Error(JSON.stringify(o))}buildQueryError(e,t){if(e.user_facing_error.is_panic)return new zo(OC(this,e.user_facing_error.message),this.config.clientVersion);let r=this.getExternalAdapterError(e.user_facing_error,t);return r?r.error:P_(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e,t){if(e.error_code===gae&&t){let r=e.meta?.id;RD(typeof r=="number","Malformed external JS error received from the engine");let n=t.consumeError(r);return RD(n,"External error with reported id was not registered"),n}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return e.format==="prometheus"?t:this.parseEngineResponse(t)}};function xae(e){return typeof e=="object"&&e!==null&&e.error_code!==void 0}function OC(e,t){return Noe({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function wae({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let s=[],i=[],o=b=>{s.push({_tag:"warning",value:b})},a=b=>{let v=b.join(`
`);i.push({_tag:"error",value:v})},c=!!e?.startsWith("prisma://"),d=q3(e),u=!!t,f=c||d;!u&&r&&f&&n!=="client"&&n!=="wasm-compiler-edge"&&o(["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"]);let m=f||!r;u&&(m||n==="edge")&&(n==="edge"?a(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):f?a(["You've provided both a driver adapter and an Accelerate database URL. Driver adapters currently cannot connect to Accelerate.","Please provide either a driver adapter with a direct database URL or an Accelerate URL and no driver adapter."]):r||a(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let h={accelerate:m,ppg:d,driverAdapters:u};function y(b){return b.length>0}return y(i)?{ok:!1,diagnostics:{warnings:s,errors:i},isUsing:h}:{ok:!0,diagnostics:{warnings:s},isUsing:h}}function Cae({copyEngine:e=!0},t){let r;try{r=N_({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:s,diagnostics:i}=wae({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"library"});for(let f of i.warnings)V3(...f.value);if(!n){let f=i.errors[0];throw new Qi(f.value,{clientVersion:t.clientVersion})}let o=$C(t.generator),a=o==="library",c=o==="binary",d=o==="client",u=(s.accelerate||s.ppg)&&!s.driverAdapters;return s.accelerate?new lae(t):(s.driverAdapters,a?new QD(t):(s.accelerate,new QD(t)))}function _ae({generator:e}){return e?.previewFeatures??[]}var vae=e=>({command:e}),Aae=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);function Of(e){try{return YD(e,"fast")}catch{return YD(e,"slow")}}function YD(e,t){return JSON.stringify(e.map(r=>m2(r,t)))}function m2(e,t){if(Array.isArray(e))return e.map(r=>m2(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(S_(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(dg.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Rae(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:s}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,s).toString("base64")}}return typeof e=="object"&&t==="slow"?h2(e):e}function Rae(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function h2(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(JD);let t={};for(let r of Object.keys(e))t[r]=JD(e[r]);return t}function JD(e){return typeof e=="bigint"?e.toString():h2(e)}var Tae=/^(\s*alter\s)/i,ZD=_n("prisma:client");function e3(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Tae.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var t3=({clientMethod:e,activeProvider:t})=>r=>{let n="",s;if(DB(r))n=r.sql,s={values:Of(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[i,...o]=r;n=i,s={values:Of(o||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,s={values:Of(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,s={values:Of(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Aae(r),s={values:Of(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return s?.values?ZD(`prisma.${e}(${n}, ${s.values})`):ZD(`prisma.${e}(${n})`),{query:n,parameters:s}},kae={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new Xo(t,r)}},Iae={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function r3(e){return function(t,r){let n,s=(i=e)=>{try{return i===void 0||i?.kind==="itx"?n??=n3(t(i)):n3(t(i))}catch(o){return Promise.reject(o)}};return{get spec(){return r},then(i,o){return s().then(i,o)},catch(i){return s().catch(i)},finally(i){return s().finally(i)},requestTransaction(i){let o=s(i);return o.requestTransaction?o.requestTransaction(i):o},[Symbol.toStringTag]:"PrismaPromise"}}}function n3(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Pae=xre.split(".")[0],Oae={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Nae=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${Pae}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Oae}};function Dae(){return new Nae}function Bae(e,t=()=>{}){let r,n=new Promise(s=>r=s);return{then(s){return--e===0&&r(t()),s?.(n)}}}function qae(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function p2(e){return typeof e.batchRequestIdx=="number"}function Mae(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(l_(e.query.arguments)),t.push(l_(e.query.selection)),t.join("")}function l_(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return typeof r=="object"&&r!==null?`(${t} ${l_(r)})`:t}).join(" ")})`}var Lae={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function s3(e){return Lae[e]}var Fae=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):(t.sort((r,n)=>this.options.batchOrder(r.request,n.request)),this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){let s=r[n];s instanceof Error?t[n].reject(s):t[n].resolve(s)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function oc(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:s}=Buffer.from(t,"base64");return new Uint8Array(r,n,s)}case"decimal":return new dg(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>oc("bigint",r));case"bytes-array":return t.map(r=>oc("bytes",r));case"decimal-array":return t.map(r=>oc("decimal",r));case"datetime-array":return t.map(r=>oc("datetime",r));case"date-array":return t.map(r=>oc("date",r));case"time-array":return t.map(r=>oc("time",r));default:return t}}function g2(e){let t=[],r=Uae(e);for(let n=0;n<e.rows.length;n++){let s=e.rows[n],i={...r};for(let o=0;o<s.length;o++)i[e.columns[o]]=oc(e.types[o],s[o]);t.push(i)}return t}function Uae(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var $ae=_n("prisma:client:request_handler"),jae=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new Fae({batchLoader:goe(async({requests:r,customDataProxyFetch:n})=>{let{transaction:s,otelParentCtx:i}=r[0],o=r.map(d=>d.protocolQuery),a=this.client._tracingHelper.getTraceParent(i),c=r.some(d=>s3(d.protocolQuery.action));return(await this.client._engine.requestBatch(o,{traceparent:a,transaction:Vae(s),containsWrite:c,customDataProxyFetch:n})).map((d,u)=>{if(d instanceof Error)return d;try{return this.mapQueryEngineResult(r[u],d)}catch(f){return f}})}),singleLoader:async r=>{let n=r.transaction?.kind==="itx"?y2(r.transaction):void 0,s=await this.client._engine.request(r.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:n,isWrite:s3(r.protocolQuery.action),customDataProxyFetch:r.customDataProxyFetch});return this.mapQueryEngineResult(r,s)},batchBy:r=>r.transaction?.id?`transaction-${r.transaction.id}`:Mae(r.protocolQuery),batchOrder(r,n){return r.transaction?.kind==="batch"&&n.transaction?.kind==="batch"?r.transaction.index-n.transaction.index:0}})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:r,callsite:n,transaction:s,args:i,modelName:o}=e;this.handleAndLogRequestError({error:t,clientMethod:r,callsite:n,transaction:s,args:i,modelName:o,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,s=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:s}:s}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:s,modelName:i,globalOmit:o}){if($ae(e),zae(e,n))throw e;if(e instanceof Go&&Hae(e)){let c=b2(e.meta);wB({args:s,errors:[c],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o})}let a=e.message;if(r&&(a=sB({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:this.client._errorFormat==="pretty",message:a})),a=this.sanitizeMessage(a),e.code){let c=i?{modelName:i,...e.meta}:e.meta;throw new Go(a,{code:e.code,clientVersion:this.client._clientVersion,meta:c,batchRequestIdx:e.batchRequestIdx})}else{if(e.isPanic)throw new zo(a,this.client._clientVersion);if(e instanceof es)throw new es(a,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof pr)throw new pr(a,this.client._clientVersion);if(e instanceof zo)throw new zo(a,this.client._clientVersion)}throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?VC(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],s=Object.values(e)[0],i=t.filter(c=>c!=="select"&&c!=="include"),o=FB(s,i),a=n==="queryRaw"?g2(o):ng(o);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function Vae(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:y2(e)};b_(e,"Unknown transaction kind")}}function y2(e){return{id:e.id,payload:e.payload}}function zae(e,t){return p2(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Hae(e){return e.code==="P2009"||e.code==="P2012"}function b2(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(b2)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var Gae=Loe,Kae=St(p3()),Gt=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};cr(Gt,"PrismaClientConstructorValidationError");var i3=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],o3=["pretty","colorless","minimal"],a3=["info","query","warn","error"],Wae={datasources:(e,{datasourceNames:t})=>{if(e){if(typeof e!="object"||Array.isArray(e))throw new Gt(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let s=Kl(r,t)||` Available datasources: ${t.join(", ")}`;throw new Gt(`Unknown datasource ${r} provided to PrismaClient constructor.${s}`)}if(typeof n!="object"||Array.isArray(n))throw new Gt(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&typeof n=="object")for(let[s,i]of Object.entries(n)){if(s!=="url")throw new Gt(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(typeof i!="string")throw new Gt(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&$C(t.generator)==="client")throw new Gt('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(e!==null){if(e===void 0)throw new Gt('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if($C(t.generator)==="binary")throw new Gt('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if(typeof e<"u"&&typeof e!="string")throw new Gt(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if(typeof e!="string")throw new Gt(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!o3.includes(e)){let t=Kl(e,o3);throw new Gt(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new Gt(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!a3.includes(r)){let n=Kl(r,a3);throw new Gt(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:s=>{let i=["stdout","event"];if(!i.includes(s)){let o=Kl(s,i);throw new Gt(`Invalid value ${JSON.stringify(s)} for "emit" in logLevel provided to PrismaClient constructor.${o}`)}}};if(r&&typeof r=="object")for(let[s,i]of Object.entries(r))if(n[s])n[s](i);else throw new Gt(`Invalid property ${s} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new Gt(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new Gt(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new Gt('"omit" option is expected to be an object.');if(e===null)throw new Gt('"omit" option can not be `null`');let r=[];for(let[n,s]of Object.entries(e)){let i=Yae(n,t.runtimeDataModel);if(!i){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[o,a]of Object.entries(s)){let c=i.fields.find(d=>d.name===o);if(!c){r.push({kind:"UnknownField",modelKey:n,fieldName:o});continue}if(c.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:o});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:o})}}if(r.length>0)throw new Gt(Jae(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new Gt(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Kl(r,t);throw new Gt(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Xae(e,t){for(let[r,n]of Object.entries(e)){if(!i3.includes(r)){let s=Kl(r,i3);throw new Gt(`Unknown property ${r} provided to PrismaClient constructor.${s}`)}Wae[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new Gt('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Kl(e,t){if(t.length===0||typeof e!="string")return"";let r=Qae(e,t);return r?` Did you mean "${r}"?`:""}function Qae(e,t){if(t.length===0)return null;let r=t.map(s=>({value:s,distance:(0,Kae.default)(e,s)}));r.sort((s,i)=>s.distance<i.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Yae(e,t){return c3(t.models,e)??c3(t.types,e)}function c3(e,t){let r=Object.keys(e).find(n=>og(n)===t);if(r)return e[r]}function Jae(e,t){let r=R_(e);for(let i of t)switch(i.kind){case"UnknownModel":r.arguments.getField(i.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${i.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([i.modelKey,i.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${i.modelKey}" does not have a field named "${i.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([i.modelKey,i.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([i.modelKey,i.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:s}=xB(r,"colorless");return`Error validating "omit" option:

${s}

${n}`}function Zae(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),s=null,i=!1,o=0,a=()=>{i||(o++,o===e.length&&(i=!0,s?r(s):t(n)))},c=d=>{i||(i=!0,r(d))};for(let d=0;d<e.length;d++)e[d].then(u=>{n[d]=u,a()},u=>{if(!p2(u)){c(u);return}u.batchRequestIdx===d?c(u):(s||(s=u),a())})})}var Mo=_n("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var ece={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},tce=Symbol.for("prisma.client.transaction.id"),rce={id:0,nextId(){return++this.id}};function nce(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=r3();constructor(n){e=n?.__internal?.configOverride?.(e)??e,yoe(e),n&&Xae(n,e);let s=new uie.EventEmitter().on("error",()=>{});this._extensions=CB.empty(),this._previewFeatures=_ae(e),this._clientVersion=e.clientVersion??Gae,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Dae();let i=e.relativeEnvPaths&&{rootEnvPath:e.relativeEnvPaths.rootEnvPath&&TC.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&TC.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},o;if(n?.adapter){o=n.adapter;let c=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==c)throw new pr(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${c}\` specified in the Prisma schema.`,this._clientVersion);if(n.datasources||n.datasourceUrl!==void 0)throw new pr("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!o&&i&&U3(i,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let c=n??{},d=c.__internal??{},u=d.debug===!0;u&&_n.enable("prisma:client");let f=TC.default.resolve(e.dirname,e.relativePath);fie.default.existsSync(f)||(f=e.dirname),Mo("dirname",e.dirname),Mo("relativePath",e.relativePath),Mo("cwd",f);let m=d.engine||{};if(c.errorFormat?this._errorFormat=c.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:f,dirname:e.dirname,enableDebugLogs:u,allowTriggerPanic:m.allowTriggerPanic,prismaPath:m.binaryPath??void 0,engineEndpoint:m.endpoint,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:c.log&&qae(c.log),logQueries:c.log&&!!(typeof c.log=="string"?c.log==="query":c.log.find(h=>typeof h=="string"?h==="query":h.level==="query")),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:boe(c,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:c.transactionOptions?.maxWait??2e3,timeout:c.transactionOptions?.timeout??5e3,isolationLevel:c.transactionOptions?.isolationLevel},logEmitter:s,isBundled:e.isBundled,adapter:o},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:N_,getBatchRequestPayload:I_,prismaGraphQLToJSError:P_,PrismaClientUnknownRequestError:es,PrismaClientInitializationError:pr,PrismaClientKnownRequestError:Go,debug:_n("prisma:client:accelerateEngine"),engineVersion:lie.version,clientVersion:e.clientVersion}},Mo("clientVersion",e.clientVersion),this._engine=Cae(e,this._engineConfig),this._requestHandler=new jae(this,s),c.log)for(let h of c.log){let y=typeof h=="string"?h:h.emit==="stdout"?h.level:null;y&&this.$on(y,b=>{jC.log(`${jC.tags[y]??""}`,b.message||b.query)})}}catch(c){throw c.clientVersion=this._clientVersion,c}return this._appliedParent=o_(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,s){return n==="beforeExit"?this._engine.onBeforeExit(s):n&&this._engineConfig.logEmitter.on(n,s),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{gte()}}$executeRawInternal(n,s,i,o){let a=this._activeProvider;return this._request({action:"executeRaw",args:i,transaction:n,clientMethod:s,argsMapper:t3({clientMethod:s,activeProvider:a}),callsite:Ff(this._errorFormat),dataPath:[],middlewareArgsMapper:o})}$executeRaw(n,...s){return this._createPrismaPromise(i=>{if(n.raw!==void 0||n.sql!==void 0){let[o,a]=l3(n,s);return e3(this._activeProvider,o.text,o.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(i,"$executeRaw",o,a)}throw new Qi("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...s){return this._createPrismaPromise(i=>(e3(this._activeProvider,n,s,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(i,"$executeRawUnsafe",[n,...s])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new Qi(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(s=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:vae,callsite:Ff(this._errorFormat),transaction:s}))}async $queryRawInternal(n,s,i,o){let a=this._activeProvider;return this._request({action:"queryRaw",args:i,transaction:n,clientMethod:s,argsMapper:t3({clientMethod:s,activeProvider:a}),callsite:Ff(this._errorFormat),dataPath:[],middlewareArgsMapper:o})}$queryRaw(n,...s){return this._createPrismaPromise(i=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(i,"$queryRaw",...l3(n,s));throw new Qi("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(s=>{if(!this._hasPreviewFlag("typedSql"))throw new Qi("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(s,"$queryRawTyped",n)})}$queryRawUnsafe(n,...s){return this._createPrismaPromise(i=>this.$queryRawInternal(i,"$queryRawUnsafe",[n,...s]))}_transactionWithArray({promises:n,options:s}){let i=rce.nextId(),o=Bae(n.length),a=n.map((c,d)=>{if(c?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let u=s?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,f={kind:"batch",id:i,index:d,isolationLevel:u,lock:o};return c.requestTransaction?.(f)??c});return Zae(a)}async _transactionWithCallback({callback:n,options:s}){let i={traceparent:this._tracingHelper.getTraceParent()},o={maxWait:s?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:s?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:s?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",i,o),c;try{let d={kind:"itx",...a};c=await n(this._createItxClient(d)),await this._engine.transaction("commit",i,a)}catch(d){throw await this._engine.transaction("rollback",i,a).catch(()=>{}),d}return c}_createItxClient(n){return Zl(o_(Zl(soe(this),[hi("_appliedParent",()=>this._appliedParent._createItxClient(n)),hi("_createPrismaPromise",()=>r3(n)),hi(tce,()=>n.id)])),[n_(uoe)])}$transaction(n,s){let i;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?i=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:i=()=>this._transactionWithCallback({callback:n,options:s}):i=()=>this._transactionWithArray({promises:n,options:s});let o={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(o,i)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let s=n.middlewareArgsMapper??ece,i={args:s.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},o={operation:{name:"operation",attributes:{method:i.action,model:i.model,name:i.model?`${i.model}.${i.action}`:i.action}}},a=async c=>{let{runInTransaction:d,args:u,...f}=c,m={...n,...f};u&&(m.args=s.middlewareArgsToRequestArgs(u)),n.transaction!==void 0&&d===!1&&delete m.transaction;let h=await poe(this,m);return m.model?loe({result:h,modelName:m.model,args:m.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(o.operation,()=>new die.AsyncResource("prisma-client-request").runInAsyncScope(()=>a(i)))}async _executeRequest({args:n,clientMethod:s,dataPath:i,callsite:o,action:a,model:c,argsMapper:d,transaction:u,unpacker:f,otelParentCtx:m,customDataProxyFetch:h}){try{n=d?d(n):n;let y={name:"serialize"},b=this._tracingHelper.runInChildSpan(y,()=>kB({modelName:c,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:s,callsite:o,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return _n.enabled("prisma:client")&&(Mo("Prisma Client call:"),Mo(`prisma.${s}(${yie(n)})`),Mo("Generated request:"),Mo(JSON.stringify(b,null,2)+`
`)),u?.kind==="batch"&&await u.lock,this._requestHandler.request({protocolQuery:b,modelName:c,action:a,clientMethod:s,dataPath:i,callsite:o,args:n,extensions:this._extensions,transaction:u,unpacker:f,otelParentCtx:m,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:h})}catch(y){throw y.clientVersion=this._clientVersion,y}}$metrics=new OB(this);_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=ioe}return t}function l3(e,t){return sce(e)?[new Xo(e,t),kae]:[e,Iae]}function sce(e){return Array.isArray(e)&&Array.isArray(e.raw)}var ice=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function oce(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!ice.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}function ace(e){U3(e,{conflictCheck:"warn"})}});var w2=E(Ve=>{Object.defineProperty(Ve,"__esModule",{value:!0});var{PrismaClientKnownRequestError:cce,PrismaClientUnknownRequestError:lce,PrismaClientRustPanicError:dce,PrismaClientInitializationError:uce,PrismaClientValidationError:fce,getPrismaClient:mce,sqltag:hce,empty:pce,join:gce,raw:yce,skip:qVe,Decimal:bce,Debug:MVe,objectEnumValues:td,makeStrictEnum:Sce,Extensions:x2,warnOnce:LVe,defineDmmfProperty:Ece,Public:xce,getRuntime:FVe,createParam:UVe}=q_(),Ft={};Ve.Prisma=Ft;Ve.$Enums={};Ft.prismaVersion={client:"6.19.0",engine:"2ba551f319ab1df4bc874a89965d8b3641056773"};Ft.PrismaClientKnownRequestError=cce;Ft.PrismaClientUnknownRequestError=lce;Ft.PrismaClientRustPanicError=dce;Ft.PrismaClientInitializationError=uce;Ft.PrismaClientValidationError=fce;Ft.Decimal=bce;Ft.sql=hce;Ft.empty=pce;Ft.join=gce;Ft.raw=yce;Ft.validator=xce.validator;Ft.getExtensionContext=x2.getExtensionContext;Ft.defineExtension=x2.defineExtension;Ft.DbNull=td.instances.DbNull;Ft.JsonNull=td.instances.JsonNull;Ft.AnyNull=td.instances.AnyNull;Ft.NullTypes={DbNull:td.classes.DbNull,JsonNull:td.classes.JsonNull,AnyNull:td.classes.AnyNull};var Zi=require("path");Ve.Prisma.TransactionIsolationLevel=Sce({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"});Ve.Prisma.UserScalarFieldEnum={id:"id",username:"username",email:"email",normalizedEmail:"normalizedEmail",password:"password",displayName:"displayName",bio:"bio",avatar:"avatar",name:"name",role:"role",emailVerified:"emailVerified",emailVerifiedAt:"emailVerifiedAt",twoFactorEnabled:"twoFactorEnabled",twoFactorSecret:"twoFactorSecret",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.ScriptScalarFieldEnum={id:"id",title:"title",summary:"summary",authorId:"authorId",createdAt:"createdAt"};Ve.Prisma.AuditionScalarFieldEnum={id:"id",title:"title",summary:"summary",hostId:"hostId",createdAt:"createdAt"};Ve.Prisma.PostScalarFieldEnum={id:"id",content:"content",media:"media",authorId:"authorId",createdAt:"createdAt"};Ve.Prisma.ReelScalarFieldEnum={id:"id",videoUrl:"videoUrl",thumbnail:"thumbnail",caption:"caption",authorId:"authorId",createdAt:"createdAt"};Ve.Prisma.CommentScalarFieldEnum={id:"id",text:"text",reelId:"reelId",authorId:"authorId",createdAt:"createdAt"};Ve.Prisma.LikeScalarFieldEnum={id:"id",reelId:"reelId",userId:"userId",createdAt:"createdAt"};Ve.Prisma.BookmarkScalarFieldEnum={id:"id",reelId:"reelId",userId:"userId",createdAt:"createdAt"};Ve.Prisma.ConversationScalarFieldEnum={id:"id",title:"title",lastMessage:"lastMessage",lastMessageAt:"lastMessageAt",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.ConversationParticipantScalarFieldEnum={id:"id",conversationId:"conversationId",userId:"userId",joinedAt:"joinedAt"};Ve.Prisma.MessageScalarFieldEnum={id:"id",text:"text",conversationId:"conversationId",senderId:"senderId",createdAt:"createdAt"};Ve.Prisma.NotificationScalarFieldEnum={id:"id",type:"type",message:"message",recipientId:"recipientId",triggererId:"triggererId",isRead:"isRead",metadata:"metadata",createdAt:"createdAt"};Ve.Prisma.ConnectionRequestScalarFieldEnum={id:"id",senderId:"senderId",receiverId:"receiverId",status:"status",message:"message",createdAt:"createdAt"};Ve.Prisma.ProfileScalarFieldEnum={id:"id",userId:"userId",vanityUrl:"vanityUrl",headline:"headline",bio:"bio",roles:"roles",location:"location",privacy:"privacy",tags:"tags",socialLinks:"socialLinks",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.MediaScalarFieldEnum={id:"id",profileId:"profileId",type:"type",s3Key:"s3Key",posterS3Key:"posterS3Key",title:"title",description:"description",duration:"duration",width:"width",height:"height",fileSize:"fileSize",privacy:"privacy",processedStatus:"processedStatus",metadata:"metadata",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.CreditScalarFieldEnum={id:"id",profileId:"profileId",title:"title",role:"role",company:"company",year:"year",description:"description",orderIndex:"orderIndex",metadata:"metadata",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.UserSettingsScalarFieldEnum={id:"id",userId:"userId",notifications:"notifications",accountSecurity:"accountSecurity",privacy:"privacy",billing:"billing",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.ReelRequestScalarFieldEnum={id:"id",mediaId:"mediaId",requesterId:"requesterId",ownerId:"ownerId",status:"status",message:"message",response:"response",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.EmailVerificationTokenScalarFieldEnum={id:"id",userId:"userId",token:"token",expiresAt:"expiresAt",createdAt:"createdAt"};Ve.Prisma.RefreshTokenScalarFieldEnum={id:"id",userId:"userId",jti:"jti",expiresAt:"expiresAt",invalidatedAt:"invalidatedAt",createdAt:"createdAt",lastUsedAt:"lastUsedAt"};Ve.Prisma.PRIntelligenceScalarFieldEnum={id:"id",prNumber:"prNumber",changedFilesCount:"changedFilesCount",sensitivePathsCount:"sensitivePathsCount",riskScore:"riskScore",metadata:"metadata",createdAt:"createdAt"};Ve.Prisma.TestRunScalarFieldEnum={id:"id",suite:"suite",testName:"testName",status:"status",durationMs:"durationMs",runAt:"runAt",metadata:"metadata"};Ve.Prisma.ModerationReportScalarFieldEnum={id:"id",reporterId:"reporterId",targetType:"targetType",targetId:"targetId",category:"category",description:"description",evidenceUrls:"evidenceUrls",status:"status",severity:"severity",createdAt:"createdAt",updatedAt:"updatedAt"};Ve.Prisma.ModerationActionScalarFieldEnum={id:"id",reportId:"reportId",action:"action",reason:"reason",actorId:"actorId",createdAt:"createdAt"};Ve.Prisma.AnalyticsEventScalarFieldEnum={id:"id",event:"event",anonId:"anonId",userId:"userId",sessionId:"sessionId",properties:"properties",createdAt:"createdAt"};Ve.Prisma.SortOrder={asc:"asc",desc:"desc"};Ve.Prisma.NullableJsonNullValueInput={DbNull:Ft.DbNull,JsonNull:Ft.JsonNull};Ve.Prisma.JsonNullValueInput={JsonNull:Ft.JsonNull};Ve.Prisma.QueryMode={default:"default",insensitive:"insensitive"};Ve.Prisma.NullsOrder={first:"first",last:"last"};Ve.Prisma.JsonNullValueFilter={DbNull:Ft.DbNull,JsonNull:Ft.JsonNull,AnyNull:Ft.AnyNull};Ve.Prisma.ModelName={User:"User",Script:"Script",Audition:"Audition",Post:"Post",Reel:"Reel",Comment:"Comment",Like:"Like",Bookmark:"Bookmark",Conversation:"Conversation",ConversationParticipant:"ConversationParticipant",Message:"Message",Notification:"Notification",ConnectionRequest:"ConnectionRequest",Profile:"Profile",Media:"Media",Credit:"Credit",UserSettings:"UserSettings",ReelRequest:"ReelRequest",EmailVerificationToken:"EmailVerificationToken",RefreshToken:"RefreshToken",PRIntelligence:"PRIntelligence",TestRun:"TestRun",ModerationReport:"ModerationReport",ModerationAction:"ModerationAction",AnalyticsEvent:"AnalyticsEvent"};var Un={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"C:\\Users\\ghawk\\Documents\\GitHub\\Project-Valine\\serverless\\node_modules\\@prisma\\client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"rhel-openssl-3.0.x"}],previewFeatures:[],sourceFilePath:"C:\\Users\\ghawk\\Documents\\GitHub\\Project-Valine\\serverless\\prisma\\schema.prisma"},relativeEnvPaths:{rootEnvPath:null},relativePath:"../../../prisma",clientVersion:"6.19.0",engineVersion:"2ba551f319ab1df4bc874a89965d8b3641056773",datasourceNames:["db"],activeProvider:"postgresql",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:`generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String    @id @default(uuid())
  username         String    @unique
  email            String    @unique
  normalizedEmail  String?   @unique // Lowercase normalized email for case-insensitive lookups
  password         String // hashed password
  displayName      String
  bio              String?
  avatar           String?
  name             String?
  role             String    @default("artist") // 'artist' | 'observer'
  emailVerified    Boolean   @default(false)
  emailVerifiedAt  DateTime?
  twoFactorEnabled Boolean   @default(false)
  twoFactorSecret  String? // Encrypted or hashed TOTP secret
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt

  scripts              Script[]
  auditions            Audition[]
  posts                Post[]
  reels                Reel[]
  comments             Comment[]
  likes                Like[]
  bookmarks            Bookmark[]
  sentRequests         ConnectionRequest[]       @relation("sender")
  receivedRequests     ConnectionRequest[]       @relation("receiver")
  sentMessages         Message[]                 @relation("sender")
  conversations        ConversationParticipant[]
  notifications        Notification[]            @relation("recipient")
  triggeredNotifs      Notification[]            @relation("triggerer")
  profile              Profile?
  settings             UserSettings?
  sentReelRequests     ReelRequest[]             @relation("requester")
  receivedReelRequests ReelRequest[]             @relation("owner")
  verificationTokens   EmailVerificationToken[]
  refreshTokens        RefreshToken[]

  @@map("users")
}

model Script {
  id        String   @id @default(cuid())
  title     String
  summary   String
  authorId  String
  author    User     @relation(fields: [authorId], references: [id])
  createdAt DateTime @default(now())
}

model Audition {
  id        String   @id @default(cuid())
  title     String
  summary   String
  hostId    String
  host      User     @relation(fields: [hostId], references: [id])
  createdAt DateTime @default(now())
}

model Post {
  id        String   @id @default(uuid())
  content   String   @db.Text
  media     String[]
  authorId  String
  author    User     @relation(fields: [authorId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@index([authorId])
  @@map("posts")
}

model Reel {
  id        String   @id @default(uuid())
  videoUrl  String
  thumbnail String?
  caption   String?  @db.Text
  authorId  String
  author    User     @relation(fields: [authorId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  comments  Comment[]
  likes     Like[]
  bookmarks Bookmark[]

  @@index([authorId])
  @@index([createdAt])
  @@map("reels")
}

model Comment {
  id        String   @id @default(uuid())
  text      String   @db.Text
  reelId    String
  reel      Reel     @relation(fields: [reelId], references: [id], onDelete: Cascade)
  authorId  String
  author    User     @relation(fields: [authorId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@index([reelId])
  @@index([authorId])
  @@map("comments")
}

model Like {
  id        String   @id @default(uuid())
  reelId    String
  reel      Reel     @relation(fields: [reelId], references: [id], onDelete: Cascade)
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@unique([reelId, userId])
  @@index([reelId])
  @@index([userId])
  @@map("likes")
}

model Bookmark {
  id        String   @id @default(uuid())
  reelId    String
  reel      Reel     @relation(fields: [reelId], references: [id], onDelete: Cascade)
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@unique([reelId, userId])
  @@index([reelId])
  @@index([userId])
  @@map("bookmarks")
}

model Conversation {
  id            String    @id @default(uuid())
  title         String?
  lastMessage   String?   @db.Text
  lastMessageAt DateTime?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt

  participants ConversationParticipant[]
  messages     Message[]

  @@map("conversations")
}

model ConversationParticipant {
  id             String       @id @default(uuid())
  conversationId String
  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  userId         String
  user           User         @relation(fields: [userId], references: [id], onDelete: Cascade)
  joinedAt       DateTime     @default(now())

  @@unique([conversationId, userId])
  @@index([userId])
  @@map("conversation_participants")
}

model Message {
  id             String       @id @default(uuid())
  text           String       @db.Text
  conversationId String
  conversation   Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  senderId       String
  sender         User         @relation("sender", fields: [senderId], references: [id], onDelete: Cascade)
  createdAt      DateTime     @default(now())

  @@index([conversationId])
  @@index([senderId])
  @@map("messages")
}

model Notification {
  id          String   @id @default(uuid())
  type        String // 'like', 'comment', 'follow', 'message'
  message     String   @db.Text
  recipientId String
  recipient   User     @relation("recipient", fields: [recipientId], references: [id], onDelete: Cascade)
  triggererId String?
  triggerer   User?    @relation("triggerer", fields: [triggererId], references: [id], onDelete: SetNull)
  isRead      Boolean  @default(false)
  metadata    Json? // Additional data like reelId, commentId, etc.
  createdAt   DateTime @default(now())

  @@index([recipientId, isRead])
  @@index([createdAt])
  @@map("notifications")
}

model ConnectionRequest {
  id         String   @id @default(uuid())
  senderId   String
  sender     User     @relation("sender", fields: [senderId], references: [id])
  receiverId String
  receiver   User     @relation("receiver", fields: [receiverId], references: [id])
  status     String   @default("pending")
  message    String?
  createdAt  DateTime @default(now())

  @@unique([senderId, receiverId])
  @@map("connection_requests")
}

model Profile {
  id          String   @id @default(uuid())
  userId      String   @unique
  user        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  vanityUrl   String   @unique
  headline    String?
  bio         String?  @db.Text
  roles       String[] // ["Actor", "Director", "Writer"]
  location    Json? // { city: "Los Angeles", state: "CA", country: "USA" }
  privacy     Json     @default("{}") // { visibility: "public|network|private", showEmail: false, showPhone: false }
  tags        String[] // searchable tags
  socialLinks Json? // { website: "", instagram: "", imdb: "" }
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  media   Media[]
  credits Credit[]

  @@index([vanityUrl])
  @@index([roles])
  @@map("profiles")
}

model Media {
  id              String   @id @default(uuid())
  profileId       String
  profile         Profile  @relation(fields: [profileId], references: [id], onDelete: Cascade)
  type            String // "image" | "video" | "pdf"
  s3Key           String // S3 object key
  posterS3Key     String? // For videos - thumbnail/poster frame
  title           String?
  description     String?  @db.Text
  duration        Int? // For videos in seconds
  width           Int?
  height          Int?
  fileSize        Int? // In bytes
  privacy         String   @default("public") // "public" | "on-request" | "private"
  processedStatus String   @default("pending") // "pending" | "processing" | "complete" | "failed"
  metadata        Json? // Additional metadata like tags, derivatives, etc.
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  reelRequests ReelRequest[]

  @@index([profileId])
  @@index([type])
  @@index([privacy])
  @@index([processedStatus])
  @@map("media")
}

model Credit {
  id          String   @id @default(uuid())
  profileId   String
  profile     Profile  @relation(fields: [profileId], references: [id], onDelete: Cascade)
  title       String // Project/show title
  role        String // Character or position
  company     String? // Production company
  year        Int?
  description String?  @db.Text
  orderIndex  Int      @default(0) // For custom ordering
  metadata    Json? // Additional fields like genre, awards, etc.
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([profileId])
  @@index([year])
  @@map("credits")
}

model UserSettings {
  id              String   @id @default(uuid())
  userId          String   @unique
  user            User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  notifications   Json     @default("{}") // { email: true, push: true, reelRequests: true, messages: true }
  accountSecurity Json     @default("{}") // { twoFactorEnabled: false, loginNotifications: true }
  privacy         Json     @default("{}") // { showActivity: true, allowMessagesFrom: "everyone" }
  billing         Json? // Reference to billing info (not stored directly for PCI compliance)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@map("user_settings")
}

model ReelRequest {
  id          String   @id @default(uuid())
  mediaId     String
  media       Media    @relation(fields: [mediaId], references: [id], onDelete: Cascade)
  requesterId String
  requester   User     @relation("requester", fields: [requesterId], references: [id], onDelete: Cascade)
  ownerId     String
  owner       User     @relation("owner", fields: [ownerId], references: [id], onDelete: Cascade)
  status      String   @default("pending") // "pending" | "approved" | "denied"
  message     String?  @db.Text
  response    String?  @db.Text
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@unique([mediaId, requesterId])
  @@index([mediaId])
  @@index([requesterId])
  @@index([ownerId, status])
  @@map("reel_requests")
}

model EmailVerificationToken {
  id        String   @id @default(uuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  token     String   @unique
  expiresAt DateTime
  createdAt DateTime @default(now())

  @@index([userId])
  @@index([token])
  @@map("email_verification_tokens")
}

model RefreshToken {
  id            String    @id @default(uuid())
  userId        String
  user          User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  jti           String    @unique // JWT ID for tracking
  expiresAt     DateTime
  invalidatedAt DateTime? // When token was invalidated (logout)
  createdAt     DateTime  @default(now())
  lastUsedAt    DateTime  @default(now())

  @@index([userId])
  @@index([jti])
  @@index([userId, invalidatedAt])
  @@map("refresh_tokens")
}

model PRIntelligence {
  id                  String   @id @default(uuid())
  prNumber            Int
  changedFilesCount   Int
  sensitivePathsCount Int
  riskScore           Float
  metadata            Json? // Additional PR metadata
  createdAt           DateTime @default(now())

  @@index([prNumber])
  @@index([riskScore])
  @@map("pr_intelligence")
}

model TestRun {
  id         String   @id @default(uuid())
  suite      String
  testName   String
  status     String // "passed" | "failed" | "skipped"
  durationMs Int
  runAt      DateTime @default(now())
  metadata   Json? // Additional test metadata

  @@index([suite, testName])
  @@index([runAt])
  @@index([status])
  @@map("test_runs")
}

model ModerationReport {
  id           String   @id @default(cuid())
  reporterId   String
  targetType   String // "user" | "profile" | "post" | "comment" | "link"
  targetId     String
  category     String // from REPORT_CATEGORY_ALLOWLIST
  description  String?  @db.Text
  evidenceUrls String[] @default([])
  status       String   @default("open") // "open" | "reviewed" | "actioned" | "dismissed"
  severity     Int      @default(0) // 0=info,1=low,2=med,3=high
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  actions ModerationAction[]

  @@index([reporterId])
  @@index([targetType, targetId])
  @@index([status])
  @@index([category])
  @@index([severity])
  @@index([createdAt])
  @@map("moderation_reports")
}

model ModerationAction {
  id        String   @id @default(cuid())
  reportId  String
  action    String // "allow" | "remove" | "ban" | "warn"
  reason    String?  @db.Text
  actorId   String // admin userId
  createdAt DateTime @default(now())

  report ModerationReport @relation(fields: [reportId], references: [id], onDelete: Cascade)

  @@index([reportId])
  @@index([actorId])
  @@index([createdAt])
  @@map("moderation_actions")
}

model AnalyticsEvent {
  id         String   @id @default(cuid())
  event      String
  anonId     String? // random UUID per browser (cookie); no userId unless strictly needed
  userId     String? // optional: only if user is logged in AND consented (flag controlled)
  sessionId  String? // generated client-side ephemeral (no personal data)
  properties Json?
  createdAt  DateTime @default(now())

  @@index([event])
  @@index([createdAt])
  @@map("analytics_events")
}
`,inlineSchemaHash:"7e2e2a26a1c41eb103ff9d68413a3e4434415fea613cb1fa8dc67b1314b1865b",copyEngine:!0},E2=require("fs");Un.dirname=__dirname;if(!E2.existsSync(Zi.join(__dirname,"schema.prisma"))){let e=["node_modules/.prisma/client",".prisma/client"],t=e.find(r=>E2.existsSync(Zi.join(process.cwd(),r,"schema.prisma")))??e[0];Un.dirname=Zi.join(process.cwd(),t),Un.isBundled=!0}Un.runtimeDataModel=JSON.parse('{"models":{"User":{"dbName":"users","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"username","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"normalizedEmail","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"password","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"displayName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"bio","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"avatar","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"artist","isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"emailVerifiedAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"twoFactorEnabled","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"twoFactorSecret","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"scripts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Script","nativeType":null,"relationName":"ScriptToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"auditions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Audition","nativeType":null,"relationName":"AuditionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"posts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Post","nativeType":null,"relationName":"PostToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"reels","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Reel","nativeType":null,"relationName":"ReelToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"comments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Comment","nativeType":null,"relationName":"CommentToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"likes","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Like","nativeType":null,"relationName":"LikeToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"bookmarks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Bookmark","nativeType":null,"relationName":"BookmarkToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"sentRequests","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ConnectionRequest","nativeType":null,"relationName":"sender","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"receivedRequests","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ConnectionRequest","nativeType":null,"relationName":"receiver","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"sentMessages","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Message","nativeType":null,"relationName":"sender","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"conversations","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ConversationParticipant","nativeType":null,"relationName":"ConversationParticipantToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"notifications","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Notification","nativeType":null,"relationName":"recipient","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"triggeredNotifs","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Notification","nativeType":null,"relationName":"triggerer","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"profile","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"ProfileToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"settings","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"UserSettings","nativeType":null,"relationName":"UserToUserSettings","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"sentReelRequests","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ReelRequest","nativeType":null,"relationName":"requester","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"receivedReelRequests","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ReelRequest","nativeType":null,"relationName":"owner","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"verificationTokens","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"EmailVerificationToken","nativeType":null,"relationName":"EmailVerificationTokenToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"refreshTokens","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"RefreshToken","nativeType":null,"relationName":"RefreshTokenToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Script":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"summary","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ScriptToUser","relationFromFields":["authorId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Audition":{"dbName":null,"schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"summary","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"hostId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"host","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"AuditionToUser","relationFromFields":["hostId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Post":{"dbName":"posts","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"media","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"PostToUser","relationFromFields":["authorId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Reel":{"dbName":"reels","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"videoUrl","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"thumbnail","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"caption","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ReelToUser","relationFromFields":["authorId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"comments","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Comment","nativeType":null,"relationName":"CommentToReel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"likes","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Like","nativeType":null,"relationName":"LikeToReel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"bookmarks","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Bookmark","nativeType":null,"relationName":"BookmarkToReel","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Comment":{"dbName":"comments","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"reelId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reel","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Reel","nativeType":null,"relationName":"CommentToReel","relationFromFields":["reelId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"authorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"author","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"CommentToUser","relationFromFields":["authorId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Like":{"dbName":"likes","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"reelId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reel","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Reel","nativeType":null,"relationName":"LikeToReel","relationFromFields":["reelId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"LikeToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["reelId","userId"]],"uniqueIndexes":[{"name":null,"fields":["reelId","userId"]}],"isGenerated":false},"Bookmark":{"dbName":"bookmarks","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"reelId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reel","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Reel","nativeType":null,"relationName":"BookmarkToReel","relationFromFields":["reelId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"BookmarkToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["reelId","userId"]],"uniqueIndexes":[{"name":null,"fields":["reelId","userId"]}],"isGenerated":false},"Conversation":{"dbName":"conversations","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"lastMessage","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"lastMessageAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"participants","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ConversationParticipant","nativeType":null,"relationName":"ConversationToConversationParticipant","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"messages","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Message","nativeType":null,"relationName":"ConversationToMessage","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ConversationParticipant":{"dbName":"conversation_participants","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"conversationId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"conversation","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ConversationToConversationParticipant","relationFromFields":["conversationId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ConversationParticipantToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"joinedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["conversationId","userId"]],"uniqueIndexes":[{"name":null,"fields":["conversationId","userId"]}],"isGenerated":false},"Message":{"dbName":"messages","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"text","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"conversationId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"conversation","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Conversation","nativeType":null,"relationName":"ConversationToMessage","relationFromFields":["conversationId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"senderId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sender","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"sender","relationFromFields":["senderId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Notification":{"dbName":"notifications","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"message","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"recipientId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"recipient","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"recipient","relationFromFields":["recipientId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"triggererId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"triggerer","kind":"object","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"triggerer","relationFromFields":["triggererId"],"relationToFields":["id"],"relationOnDelete":"SetNull","isGenerated":false,"isUpdatedAt":false},{"name":"isRead","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Boolean","nativeType":null,"default":false,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ConnectionRequest":{"dbName":"connection_requests","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"senderId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sender","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"sender","relationFromFields":["senderId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"receiverId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"receiver","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"receiver","relationFromFields":["receiverId"],"relationToFields":["id"],"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"message","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["senderId","receiverId"]],"uniqueIndexes":[{"name":null,"fields":["senderId","receiverId"]}],"isGenerated":false},"Profile":{"dbName":"profiles","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"ProfileToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"vanityUrl","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"headline","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"bio","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"roles","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"location","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"privacy","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Json","nativeType":null,"default":"{}","isGenerated":false,"isUpdatedAt":false},{"name":"tags","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"socialLinks","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"media","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Media","nativeType":null,"relationName":"MediaToProfile","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"credits","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Credit","nativeType":null,"relationName":"CreditToProfile","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Media":{"dbName":"media","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"profileId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"profile","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"MediaToProfile","relationFromFields":["profileId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"s3Key","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"posterS3Key","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"duration","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"width","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"height","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"fileSize","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"privacy","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"public","isGenerated":false,"isUpdatedAt":false},{"name":"processedStatus","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"reelRequests","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ReelRequest","nativeType":null,"relationName":"MediaToReelRequest","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Credit":{"dbName":"credits","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"profileId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"profile","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Profile","nativeType":null,"relationName":"CreditToProfile","relationFromFields":["profileId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"role","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"company","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"year","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"orderIndex","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"UserSettings":{"dbName":"user_settings","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"UserToUserSettings","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"notifications","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Json","nativeType":null,"default":"{}","isGenerated":false,"isUpdatedAt":false},{"name":"accountSecurity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Json","nativeType":null,"default":"{}","isGenerated":false,"isUpdatedAt":false},{"name":"privacy","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Json","nativeType":null,"default":"{}","isGenerated":false,"isUpdatedAt":false},{"name":"billing","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ReelRequest":{"dbName":"reel_requests","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"mediaId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"media","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Media","nativeType":null,"relationName":"MediaToReelRequest","relationFromFields":["mediaId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"requesterId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"requester","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"requester","relationFromFields":["requesterId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"ownerId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"owner","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"owner","relationFromFields":["ownerId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"pending","isGenerated":false,"isUpdatedAt":false},{"name":"message","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"response","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true}],"primaryKey":null,"uniqueFields":[["mediaId","requesterId"]],"uniqueIndexes":[{"name":null,"fields":["mediaId","requesterId"]}],"isGenerated":false},"EmailVerificationToken":{"dbName":"email_verification_tokens","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"EmailVerificationTokenToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"token","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"RefreshToken":{"dbName":"refresh_tokens","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","nativeType":null,"relationName":"RefreshTokenToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false},{"name":"jti","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"expiresAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"invalidatedAt","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"lastUsedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"PRIntelligence":{"dbName":"pr_intelligence","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"prNumber","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"changedFilesCount","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sensitivePathsCount","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"riskScore","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Float","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"TestRun":{"dbName":"test_runs","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"uuid","args":[4]},"isGenerated":false,"isUpdatedAt":false},{"name":"suite","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"testName","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"durationMs","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"runAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"metadata","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ModerationReport":{"dbName":"moderation_reports","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"reporterId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"targetType","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"targetId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"category","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"description","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"evidenceUrls","kind":"scalar","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":[],"isGenerated":false,"isUpdatedAt":false},{"name":"status","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":"open","isGenerated":false,"isUpdatedAt":false},{"name":"severity","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"Int","nativeType":null,"default":0,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","nativeType":null,"isGenerated":false,"isUpdatedAt":true},{"name":"actions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ModerationAction","nativeType":null,"relationName":"ModerationActionToModerationReport","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"ModerationAction":{"dbName":"moderation_actions","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"reportId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"action","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"reason","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":["Text",[]],"isGenerated":false,"isUpdatedAt":false},{"name":"actorId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"report","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"ModerationReport","nativeType":null,"relationName":"ModerationActionToModerationReport","relationFromFields":["reportId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"AnalyticsEvent":{"dbName":"analytics_events","schema":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","nativeType":null,"default":{"name":"cuid","args":[1]},"isGenerated":false,"isUpdatedAt":false},{"name":"event","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"anonId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"sessionId","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"properties","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Json","nativeType":null,"isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","nativeType":null,"default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}');Ece(Ve.Prisma,Un.runtimeDataModel);Un.engineWasm=void 0;Un.compilerWasm=void 0;var{warnEnvConflicts:wce}=q_();wce({rootEnvPath:Un.relativeEnvPaths.rootEnvPath&&Zi.resolve(Un.dirname,Un.relativeEnvPaths.rootEnvPath),schemaEnvPath:Un.relativeEnvPaths.schemaEnvPath&&Zi.resolve(Un.dirname,Un.relativeEnvPaths.schemaEnvPath)});var Cce=mce(Un);Ve.PrismaClient=Cce;Object.assign(Ve,Ft);Zi.join(__dirname,"libquery_engine-rhel-openssl-3.0.x.so.node");Zi.join(process.cwd(),"node_modules/.prisma/client/libquery_engine-rhel-openssl-3.0.x.so.node");Zi.join(__dirname,"schema.prisma");Zi.join(process.cwd(),"node_modules/.prisma/client/schema.prisma")});var _2=E((jVe,C2)=>{C2.exports={...w2()}});var A2=E((VVe,v2)=>{v2.exports={..._2()}});var P2=E(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});function Rce(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var I2=Rce(require("crypto")),Tce=(e,t,r)=>I2.createHmac(e,Buffer.from(t,"hex")).update(Buffer.from(r,"hex")).digest().toString("hex"),kce=(e,t)=>I2.randomBytes(e).toString(t);yg.createDigest=Tce;yg.createRandomBytes=kce});var N2=E(L_=>{"use strict";var Ice="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",O2=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function Pce(e){var t=Math.floor(e.length/5);return e.length%5===0?t:t+1}L_.encode=function(e){Buffer.isBuffer(e)||(e=new Buffer(e));for(var t=0,r=0,n=0,s=0,i=new Buffer(Pce(e)*8);t<e.length;){var o=e[t];n>3?(s=o&255>>n,n=(n+5)%8,s=s<<n|(t+1<e.length?e[t+1]:0)>>8-n,t++):(s=o>>8-(n+5)&31,n=(n+5)%8,n===0&&t++),i[r]=Ice.charCodeAt(s),r++}for(t=r;t<i.length;t++)i[t]=61;return i};L_.decode=function(e){var t=0,r=0,n,s=0;Buffer.isBuffer(e)||(e=new Buffer(e));for(var i=new Buffer(Math.ceil(e.length*5/8)),o=0;o<e.length&&e[o]!==61;o++){var a=e[o]-48;if(a<O2.length)r=O2[a],t<=3?(t=(t+5)%8,t===0?(n|=r,i[s]=n,s++,n=0):n|=255&r<<8-t):(t=(t+5)%8,n|=255&r>>>t,i[s]=n,s++,n=255&r<<8-t);else throw new Error("Invalid input - it is not base32 encoded string")}return i.slice(0,s)}});var B2=E(F_=>{var D2=N2();F_.encode=D2.encode;F_.decode=D2.decode});var M2=E(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});function Oce(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var q2=Oce(B2()),Nce=(e,t)=>q2.decode(e).toString(t),Dce=(e,t)=>q2.encode(Buffer.from(e,t).toString("ascii")).toString().replace(/=/g,"");bg.keyDecoder=Nce;bg.keyEncoder=Dce});var iq=E(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});function _g(e){return Object.keys(e).map(t=>e[t])}(function(e){e.SHA1="sha1",e.SHA256="sha256",e.SHA512="sha512"})(he.HashAlgorithms||(he.HashAlgorithms={}));var Eg=_g(he.HashAlgorithms);(function(e){e.ASCII="ascii",e.BASE64="base64",e.HEX="hex",e.LATIN1="latin1",e.UTF8="utf8"})(he.KeyEncodings||(he.KeyEncodings={}));var U_=_g(he.KeyEncodings);(function(e){e.HOTP="hotp",e.TOTP="totp"})(he.Strategy||(he.Strategy={}));var $_=_g(he.Strategy),vg=()=>{throw new Error("Please provide an options.createDigest implementation.")};function z_(e){return/^(\d+)$/.test(e)}function H_(e,t,r){return e.length>=t?e:`${Array(t+1).join(r)}${e}`.slice(-1*t)}function G_(e){let t=`otpauth://${e.type}/{labelPrefix}:{accountName}?secret={secret}{query}`,r=[];if($_.indexOf(e.type)<0)throw new Error(`Expecting options.type to be one of ${$_.join(", ")}. Received ${e.type}.`);if(e.type==="hotp"){if(e.counter==null||typeof e.counter!="number")throw new Error('Expecting options.counter to be a number when options.type is "hotp".');r.push(`&counter=${e.counter}`)}return e.type==="totp"&&e.step&&r.push(`&period=${e.step}`),e.digits&&r.push(`&digits=${e.digits}`),e.algorithm&&r.push(`&algorithm=${e.algorithm.toUpperCase()}`),e.issuer&&r.push(`&issuer=${encodeURIComponent(e.issuer)}`),t.replace("{labelPrefix}",encodeURIComponent(e.issuer||e.accountName)).replace("{accountName}",encodeURIComponent(e.accountName)).replace("{secret}",e.secret).replace("{query}",r.join(""))}var xg=class e{constructor(t={}){this._defaultOptions=Object.freeze({...t}),this._options=Object.freeze({})}create(t={}){return new e(t)}clone(t={}){let r=this.create({...this._defaultOptions,...t});return r.options=this._options,r}get options(){return Object.freeze({...this._defaultOptions,...this._options})}set options(t){this._options=Object.freeze({...this._options,...t})}allOptions(){return this.options}resetOptions(){this._options=Object.freeze({})}};function K_(e){if(typeof e.createDigest!="function")throw new Error("Expecting options.createDigest to be a function.");if(typeof e.createHmacKey!="function")throw new Error("Expecting options.createHmacKey to be a function.");if(typeof e.digits!="number")throw new Error("Expecting options.digits to be a number.");if(!e.algorithm||Eg.indexOf(e.algorithm)<0)throw new Error(`Expecting options.algorithm to be one of ${Eg.join(", ")}. Received ${e.algorithm}.`);if(!e.encoding||U_.indexOf(e.encoding)<0)throw new Error(`Expecting options.encoding to be one of ${U_.join(", ")}. Received ${e.encoding}.`)}var F2=(e,t,r)=>Buffer.from(t,r).toString("hex");function U2(){return{algorithm:he.HashAlgorithms.SHA1,createHmacKey:F2,createDigest:vg,digits:6,encoding:he.KeyEncodings.ASCII}}function $2(e){let t={...U2(),...e};return K_(t),Object.freeze(t)}function j2(e){let t=e.toString(16);return H_(t,16,"0")}function V2(e,t){let r=Buffer.from(e,"hex"),n=r[r.length-1]&15,i=((r[n]&127)<<24|(r[n+1]&255)<<16|(r[n+2]&255)<<8|r[n+3]&255)%Math.pow(10,t);return H_(String(i),t,"0")}function Bce(e,t,r){let n=j2(t),s=r.createHmacKey(r.algorithm,e,r.encoding);return r.createDigest(r.algorithm,s,n)}function Ag(e,t,r){let n=r.digest||Bce(e,t,r);return V2(n,r.digits)}function z2(e,t,r,n){if(!z_(e))return!1;let s=Ag(t,r,n);return e===s}function H2(e,t,r,n,s){return G_({algorithm:s.algorithm,digits:s.digits,type:he.Strategy.HOTP,accountName:e,counter:n,issuer:t,secret:r})}var wg=class e extends xg{create(t={}){return new e(t)}allOptions(){return $2(this.options)}generate(t,r){return Ag(t,r,this.allOptions())}check(t,r,n){return z2(t,r,n,this.allOptions())}verify(t){if(typeof t!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(t.token,t.secret,t.counter)}keyuri(t,r,n,s){return H2(t,r,n,s,this.allOptions())}};function G2(e){if(typeof e=="number")return[Math.abs(e),Math.abs(e)];if(Array.isArray(e)){let[t,r]=e;if(typeof t=="number"&&typeof r=="number")return[Math.abs(t),Math.abs(r)]}throw new Error("Expecting options.window to be an number or [number, number].")}function W_(e){if(K_(e),G2(e.window),typeof e.epoch!="number")throw new Error("Expecting options.epoch to be a number.");if(typeof e.step!="number")throw new Error("Expecting options.step to be a number.")}var Sg=(e,t,r)=>{let n=e.length,s=Buffer.from(e,t).toString("hex");if(n<r){let i=new Array(r-n+1).join(s);return Buffer.from(i,"hex").slice(0,r).toString("hex")}return s},X_=(e,t,r)=>{switch(e){case he.HashAlgorithms.SHA1:return Sg(t,r,20);case he.HashAlgorithms.SHA256:return Sg(t,r,32);case he.HashAlgorithms.SHA512:return Sg(t,r,64);default:throw new Error(`Expecting algorithm to be one of ${Eg.join(", ")}. Received ${e}.`)}};function K2(){return{algorithm:he.HashAlgorithms.SHA1,createDigest:vg,createHmacKey:X_,digits:6,encoding:he.KeyEncodings.ASCII,epoch:Date.now(),step:30,window:0}}function W2(e){let t={...K2(),...e};return W_(t),Object.freeze(t)}function X2(e,t){return Math.floor(e/t/1e3)}function Rg(e,t){let r=X2(t.epoch,t.step);return Ag(e,r,t)}function L2(e,t,r,n){let s=[];if(n===0)return s;for(let i=1;i<=n;i++){let o=t*i*r;s.push(e+o)}return s}function Q2(e,t,r){let n=G2(r),s=t*1e3;return{current:e,past:L2(e,-1,s,n[0]),future:L2(e,1,s,n[1])}}function Q_(e,t,r){if(!z_(e))return!1;let n=Rg(t,r);return e===n}function j_(e,t,r,n){let s=null;return e.some((i,o)=>Q_(t,r,{...n,epoch:i})?(s=o+1,!0):!1),s}function Y_(e,t,r){if(Q_(e,t,r))return 0;let n=Q2(r.epoch,r.step,r.window),s=j_(n.past,e,t,r);return s!==null?s*-1:j_(n.future,e,t,r)}function J_(e,t){return Math.floor(e/1e3)%t}function Y2(e,t){return t-J_(e,t)}function J2(e,t,r,n){return G_({algorithm:n.algorithm,digits:n.digits,step:n.step,type:he.Strategy.TOTP,accountName:e,issuer:t,secret:r})}var Cg=class e extends wg{create(t={}){return new e(t)}allOptions(){return W2(this.options)}generate(t){return Rg(t,this.allOptions())}checkDelta(t,r){return Y_(t,r,this.allOptions())}check(t,r){return typeof this.checkDelta(t,r)=="number"}verify(t){if(typeof t!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(t.token,t.secret)}timeRemaining(){let t=this.allOptions();return Y2(t.epoch,t.step)}timeUsed(){let t=this.allOptions();return J_(t.epoch,t.step)}keyuri(t,r,n){return J2(t,r,n,this.allOptions())}};function Z2(e){if(W_(e),typeof e.keyDecoder!="function")throw new Error("Expecting options.keyDecoder to be a function.");if(e.keyEncoder&&typeof e.keyEncoder!="function")throw new Error("Expecting options.keyEncoder to be a function.")}function eq(){return{algorithm:he.HashAlgorithms.SHA1,createDigest:vg,createHmacKey:X_,digits:6,encoding:he.KeyEncodings.HEX,epoch:Date.now(),step:30,window:0}}function tq(e){let t={...eq(),...e};return Z2(t),Object.freeze(t)}function Z_(e,t){return t.keyEncoder(e,t.encoding)}function Tg(e,t){return t.keyDecoder(e,t.encoding)}function rq(e,t){let r=t.createRandomBytes(e,t.encoding);return Z_(r,t)}function nq(e,t){return Rg(Tg(e,t),t)}function sq(e,t,r){return Y_(e,Tg(t,r),r)}var V_=class e extends Cg{create(t={}){return new e(t)}allOptions(){return tq(this.options)}generate(t){return nq(t,this.allOptions())}checkDelta(t,r){return sq(t,r,this.allOptions())}encode(t){return Z_(t,this.allOptions())}decode(t){return Tg(t,this.allOptions())}generateSecret(t=10){return rq(t,this.allOptions())}};he.Authenticator=V_;he.HASH_ALGORITHMS=Eg;he.HOTP=wg;he.KEY_ENCODINGS=U_;he.OTP=xg;he.STRATEGY=$_;he.TOTP=Cg;he.authenticatorCheckWithWindow=sq;he.authenticatorDecoder=Tg;he.authenticatorDefaultOptions=eq;he.authenticatorEncoder=Z_;he.authenticatorGenerateSecret=rq;he.authenticatorOptionValidator=Z2;he.authenticatorOptions=tq;he.authenticatorToken=nq;he.createDigestPlaceholder=vg;he.hotpCheck=z2;he.hotpCounter=j2;he.hotpCreateHmacKey=F2;he.hotpDefaultOptions=U2;he.hotpDigestToToken=V2;he.hotpKeyuri=H2;he.hotpOptions=$2;he.hotpOptionsValidator=K_;he.hotpToken=Ag;he.isTokenValid=z_;he.keyuri=G_;he.objectValues=_g;he.padStart=H_;he.totpCheck=Q_;he.totpCheckByEpoch=j_;he.totpCheckWithWindow=Y_;he.totpCounter=X2;he.totpCreateHmacKey=X_;he.totpDefaultOptions=K2;he.totpEpochAvailable=Q2;he.totpKeyuri=J2;he.totpOptions=W2;he.totpOptionsValidator=W_;he.totpPadSecret=Sg;he.totpTimeRemaining=Y2;he.totpTimeUsed=J_;he.totpToken=Rg});var aq=E(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});var kg=P2(),oq=M2(),ev=iq(),qce=new ev.HOTP({createDigest:kg.createDigest}),Mce=new ev.TOTP({createDigest:kg.createDigest}),Lce=new ev.Authenticator({createDigest:kg.createDigest,createRandomBytes:kg.createRandomBytes,keyDecoder:oq.keyDecoder,keyEncoder:oq.keyEncoder});tm.authenticator=Lce;tm.hotp=qce;tm.totp=Mce});var lq=E(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});var cq=aq();Object.keys(cq).forEach(function(e){e!=="default"&&Object.defineProperty(tv,e,{enumerable:!0,get:function(){return cq[e]}})})});var uq=E((n8e,Vce)=>{Vce.exports={acl:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},append:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},asking:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},auth:{arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},bgrewriteaof:{arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bgsave:{arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bitcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bitfield:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},bitfield_ro:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},bitop:{arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},bitpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},blmove:{arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},blmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},blpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpoplpush:{arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},bzmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},bzpopmax:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},bzpopmin:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},client:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},cluster:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},command:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},config:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},copy:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},dbsize:{arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},debug:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},decr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},decrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},del:{arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},discard:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},dump:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},echo:{arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},exec:{arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},exists:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},expire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},failover:{arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},fcall:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},fcall_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},flushall:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},flushdb:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},geodist:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},geohash:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},geopos:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadius:{arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadius_ro:{arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadiusbymember:{arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadiusbymember_ro:{arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearch:{arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearchstore:{arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},get:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getbit:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getdel:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getex:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},getset:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hello:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},hexists:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hexpire:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hpexpire:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hget:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hgetall:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hincrbyfloat:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hkeys:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmget:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hrandfield:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},hset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hsetnx:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hstrlen:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hvals:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},incr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrbyfloat:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},info:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},keys:{arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},lastsave:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},latency:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},lcs:{arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},lindex:{arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},linsert:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},llen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},lmove:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},lmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},lolwut:{arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},lpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lrem:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},lset:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},ltrim:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},memory:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},mget:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},migrate:{arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},module:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},monitor:{arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},move:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mset:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},msetnx:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},multi:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},object:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},persist:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},pfadd:{arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pfcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},pfdebug:{arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},pfmerge:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pfselftest:{arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},ping:{arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},psetex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},psubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},psync:{arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},pttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},publish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},pubsub:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},punsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},quit:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},randomkey:{arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},readonly:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},readwrite:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},rename:{arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},renamenx:{arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},replconf:{arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},replicaof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},reset:{arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},restore:{arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},rpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},rpoplpush:{arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},rpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sadd:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},save:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},scan:{arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},scard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},script:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},sdiff:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sdiffstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},select:{arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},set:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setbit:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setnx:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},setrange:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},shutdown:{arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},sinter:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},sinterstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sismember:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},slaveof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},slowlog:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},smembers:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},smismember:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},smove:{arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},sort:{arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},sort_ro:{arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},spop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},spublish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},srandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},srem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},ssubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},strlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},subscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},substr:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sunion:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sunionstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sunsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},swapdb:{arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},sync:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},time:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},touch:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},type:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},unlink:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},unsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},unwatch:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},wait:{arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},watch:{arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},xack:{arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xadd:{arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xautoclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdelex:{arity:-5,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xgroup:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xinfo:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xpending:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},xrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xread:{arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xreadgroup:{arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xsetid:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xtrim:{arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},zadd:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zcard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zdiff:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zdiffstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zinter:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zinterstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zlexcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},zmscore:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zpopmax:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zpopmin:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zrandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangestore:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},zrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zrem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zremrangebylex:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyrank:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyscore:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},zscore:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zunion:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zunionstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1}}});var rd=E(ts=>{"use strict";var zce=ts&&ts.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ts,"__esModule",{value:!0});ts.getKeyIndexes=ts.hasFlag=ts.exists=ts.list=void 0;var Ig=zce(uq());ts.list=Object.keys(Ig.default);var sv={};ts.list.forEach(e=>{sv[e]=Ig.default[e].flags.reduce(function(t,r){return t[r]=!0,t},{})});function Hce(e){return!!Ig.default[e]}ts.exists=Hce;function Gce(e,t){if(!sv[e])throw new Error("Unknown command "+e);return!!sv[e][t]}ts.hasFlag=Gce;function Kce(e,t,r){let n=Ig.default[e];if(!n)throw new Error("Unknown command "+e);if(!Array.isArray(t))throw new Error("Expect args to be an array");let s=[],i=!!(r&&r.parseExternalKey),o=(c,d)=>{let u=[],f=Number(c[d]);for(let m=0;m<f;m++)u.push(m+d+1);return u},a=(c,d,u)=>{for(let f=d;f<c.length-1;f+=1)if(String(c[f]).toLowerCase()===u.toLowerCase())return f+1;return null};switch(e){case"zunionstore":case"zinterstore":case"zdiffstore":s.push(0,...o(t,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":s.push(...o(t,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{s.push(...o(t,0));break}case"georadius":{s.push(0);let c=a(t,5,"STORE");c&&s.push(c);let d=a(t,5,"STOREDIST");d&&s.push(d);break}case"georadiusbymember":{s.push(0);let c=a(t,4,"STORE");c&&s.push(c);let d=a(t,4,"STOREDIST");d&&s.push(d);break}case"sort":case"sort_ro":s.push(0);for(let c=1;c<t.length-1;c++){let d=t[c];if(typeof d!="string")continue;let u=d.toUpperCase();u==="GET"?(c+=1,d=t[c],d!=="#"&&(i?s.push([c,fq(d)]):s.push(c))):u==="BY"?(c+=1,i?s.push([c,fq(t[c])]):s.push(c)):u==="STORE"&&(c+=1,s.push(c))}break;case"migrate":if(t[2]==="")for(let c=5;c<t.length-1;c++){let d=t[c];if(typeof d=="string"&&d.toUpperCase()==="KEYS"){for(let u=c+1;u<t.length;u++)s.push(u);break}}else s.push(2);break;case"xreadgroup":case"xread":for(let c=e==="xread"?0:3;c<t.length-1;c++)if(String(t[c]).toUpperCase()==="STREAMS"){for(let d=c+1;d<=c+(t.length-1-c)/2;d++)s.push(d);break}break;default:if(n.step>0){let c=n.keyStart-1,d=n.keyStop>0?n.keyStop:t.length+n.keyStop+1;for(let u=c;u<d;u+=n.step)s.push(u)}break}return s}ts.getKeyIndexes=Kce;function fq(e){typeof e!="string"&&(e=String(e));let t=e.indexOf("->");return t===-1?e.length:t}});var mq=E(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.tryCatch=Qo.errorObj=void 0;Qo.errorObj={e:{}};var iv;function Wce(e,t){try{let r=iv;return iv=null,r.apply(this,arguments)}catch(r){return Qo.errorObj.e=r,Qo.errorObj}}function Xce(e){return iv=e,Wce}Qo.tryCatch=Xce});var Yo=E(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});var nd=mq();function hq(e){setTimeout(function(){throw e},0)}function Qce(e,t,r){return typeof t=="function"&&e.then(n=>{let s;r!==void 0&&Object(r).spread&&Array.isArray(n)?s=nd.tryCatch(t).apply(void 0,[null].concat(n)):s=n===void 0?nd.tryCatch(t)(null):nd.tryCatch(t)(null,n),s===nd.errorObj&&hq(s.e)},n=>{if(!n){let i=new Error(n+"");Object.assign(i,{cause:n}),n=i}let s=nd.tryCatch(t)(n);s===nd.errorObj&&hq(s.e)}),e}ov.default=Qce});var yq=E((a8e,gq)=>{"use strict";var pq=require("assert"),rm=require("util");function sd(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}rm.inherits(sd,Error);Object.defineProperty(sd.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function av(e,t,r){pq(t),pq.strictEqual(typeof r,"number"),Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});let n=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=n,this.offset=r,this.buffer=t}rm.inherits(av,sd);Object.defineProperty(av.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function cv(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});let t=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=t}rm.inherits(cv,sd);Object.defineProperty(cv.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function Pg(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}rm.inherits(Pg,sd);Object.defineProperty(Pg.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function lv(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}rm.inherits(lv,Pg);Object.defineProperty(lv.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0});gq.exports={RedisError:sd,ParserError:av,ReplyError:cv,AbortError:Pg,InterruptError:lv}});var Eq=E((c8e,Sq)=>{"use strict";var bq=require("assert"),id=class extends Error{get name(){return this.constructor.name}},dv=class extends id{constructor(t,r,n){bq(r),bq.strictEqual(typeof n,"number");let s=Error.stackTraceLimit;Error.stackTraceLimit=2,super(t),Error.stackTraceLimit=s,this.offset=n,this.buffer=r}get name(){return this.constructor.name}},uv=class extends id{constructor(t){let r=Error.stackTraceLimit;Error.stackTraceLimit=2,super(t),Error.stackTraceLimit=r}get name(){return this.constructor.name}},Og=class extends id{get name(){return this.constructor.name}},fv=class extends Og{get name(){return this.constructor.name}};Sq.exports={RedisError:id,ParserError:dv,ReplyError:uv,AbortError:Og,InterruptError:fv}});var mc=E((l8e,xq)=>{"use strict";var Yce=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?yq():Eq();xq.exports=Yce});var nm=E((d8e,mv)=>{var wq=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],Jce=function(t){for(var r,n=0,s=0,i=[],o=t.length;n<o;n++)r=t.charCodeAt(n),r<128?i[s++]=r:r<2048?(i[s++]=r>>6|192,i[s++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),i[s++]=r>>18|240,i[s++]=r>>12&63|128,i[s++]=r>>6&63|128,i[s++]=r&63|128):(i[s++]=r>>12|224,i[s++]=r>>6&63|128,i[s++]=r&63|128);return i},Cq=mv.exports=function(t){for(var r,n=0,s=-1,i=0,o=0,a=typeof t=="string"?Jce(t):t,c=a.length;n<c;){if(r=a[n++],s===-1)r===123&&(s=n);else if(r!==125)o=wq[(r^o>>8)&255]^o<<8;else if(n-1!==s)return o&16383;i=wq[(r^i>>8)&255]^i<<8}return i&16383};mv.exports.generateMulti=function(t){for(var r=1,n=t.length,s=Cq(t[0]);r<n;)if(Cq(t[r++])!==s)return-1;return s}});var Pq=E((u8e,Iq)=>{var vq=9007199254740991,Zce="[object Arguments]",ele="[object Function]",tle="[object GeneratorFunction]",rle=/^(?:0|[1-9]\d*)$/;function Aq(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function nle(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var sm=Object.prototype,im=sm.hasOwnProperty,Rq=sm.toString,sle=sm.propertyIsEnumerable,_q=Math.max;function ile(e,t){var r=ple(e)||hle(e)?nle(e.length,String):[],n=r.length,s=!!n;for(var i in e)(t||im.call(e,i))&&!(s&&(i=="length"||kq(i,n)))&&r.push(i);return r}function ole(e,t,r,n){return e===void 0||hv(e,sm[r])&&!im.call(n,r)?t:e}function ale(e,t,r){var n=e[t];(!(im.call(e,t)&&hv(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function cle(e){if(!gv(e))return mle(e);var t=fle(e),r=[];for(var n in e)n=="constructor"&&(t||!im.call(e,n))||r.push(n);return r}function Tq(e,t){return t=_q(t===void 0?e.length-1:t,0),function(){for(var r=arguments,n=-1,s=_q(r.length-t,0),i=Array(s);++n<s;)i[n]=r[t+n];n=-1;for(var o=Array(t+1);++n<t;)o[n]=r[n];return o[t]=i,Aq(e,this,o)}}function lle(e,t,r,n){r||(r={});for(var s=-1,i=t.length;++s<i;){var o=t[s],a=n?n(r[o],e[o],o,r,e):void 0;ale(r,o,a===void 0?e[o]:a)}return r}function dle(e){return Tq(function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,o&&ule(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var a=r[n];a&&e(t,a,n,i)}return t})}function kq(e,t){return t=t??vq,!!t&&(typeof e=="number"||rle.test(e))&&e>-1&&e%1==0&&e<t}function ule(e,t,r){if(!gv(r))return!1;var n=typeof t;return(n=="number"?pv(r)&&kq(t,r.length):n=="string"&&t in r)?hv(r[t],e):!1}function fle(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||sm;return e===r}function mle(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function hv(e,t){return e===t||e!==e&&t!==t}function hle(e){return gle(e)&&im.call(e,"callee")&&(!sle.call(e,"callee")||Rq.call(e)==Zce)}var ple=Array.isArray;function pv(e){return e!=null&&ble(e.length)&&!yle(e)}function gle(e){return Sle(e)&&pv(e)}function yle(e){var t=gv(e)?Rq.call(e):"";return t==ele||t==tle}function ble(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vq}function gv(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Sle(e){return!!e&&typeof e=="object"}var Ele=dle(function(e,t,r,n){lle(t,wle(t),e,n)}),xle=Tq(function(e){return e.push(void 0,ole),Aq(Ele,void 0,e)});function wle(e){return pv(e)?ile(e,!0):cle(e)}Iq.exports=xle});var Dq=E((f8e,Nq)=>{var Cle=9007199254740991,_le="[object Arguments]",vle="[object Function]",Ale="[object GeneratorFunction]",yv=Object.prototype,Rle=yv.hasOwnProperty,Oq=yv.toString,Tle=yv.propertyIsEnumerable;function kle(e){return Ple(e)&&Rle.call(e,"callee")&&(!Tle.call(e,"callee")||Oq.call(e)==_le)}function Ile(e){return e!=null&&Nle(e.length)&&!Ole(e)}function Ple(e){return Ble(e)&&Ile(e)}function Ole(e){var t=Dle(e)?Oq.call(e):"";return t==vle||t==Ale}function Nle(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cle}function Dle(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ble(e){return!!e&&typeof e=="object"}Nq.exports=kle});var Ng=E(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.isArguments=Jo.defaults=Jo.noop=void 0;var qle=Pq();Jo.defaults=qle;var Mle=Dq();Jo.isArguments=Mle;function Lle(){}Jo.noop=Lle});var bv=E((h8e,Bq)=>{var od=1e3,ad=od*60,cd=ad*60,hc=cd*24,Fle=hc*7,Ule=hc*365.25;Bq.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return $le(e);if(r==="number"&&isFinite(e))return t.long?Vle(e):jle(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function $le(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ule;case"weeks":case"week":case"w":return r*Fle;case"days":case"day":case"d":return r*hc;case"hours":case"hour":case"hrs":case"hr":case"h":return r*cd;case"minutes":case"minute":case"mins":case"min":case"m":return r*ad;case"seconds":case"second":case"secs":case"sec":case"s":return r*od;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function jle(e){var t=Math.abs(e);return t>=hc?Math.round(e/hc)+"d":t>=cd?Math.round(e/cd)+"h":t>=ad?Math.round(e/ad)+"m":t>=od?Math.round(e/od)+"s":e+"ms"}function Vle(e){var t=Math.abs(e);return t>=hc?Dg(e,t,hc,"day"):t>=cd?Dg(e,t,cd,"hour"):t>=ad?Dg(e,t,ad,"minute"):t>=od?Dg(e,t,od,"second"):e+" ms"}function Dg(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}});var Sv=E((p8e,qq)=>{function zle(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=s,r.enabled=a,r.humanize=bv(),r.destroy=d,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let f=0;for(let m=0;m<u.length;m++)f=(f<<5)-f+u.charCodeAt(m),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(u){let f,m=null,h,y;function b(...v){if(!b.enabled)return;let R=b,D=Number(new Date),Y=D-(f||D);R.diff=Y,R.prev=f,R.curr=D,f=D,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let ee=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(re,W)=>{if(re==="%%")return"%";ee++;let J=r.formatters[W];if(typeof J=="function"){let te=v[ee];re=J.call(R,te),v.splice(ee,1),ee--}return re}),r.formatArgs.call(R,v),(R.log||r.log).apply(R,v)}return b.namespace=u,b.useColors=r.useColors(),b.color=r.selectColor(u),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(h!==r.namespaces&&(h=r.namespaces,y=r.enabled(u)),y),set:v=>{m=v}}),typeof r.init=="function"&&r.init(b),b}function n(u,f){let m=r(this.namespace+(typeof f>"u"?":":f)+u);return m.log=this.log,m}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let m of f)m[0]==="-"?r.skips.push(m.slice(1)):r.names.push(m)}function i(u,f){let m=0,h=0,y=-1,b=0;for(;m<u.length;)if(h<f.length&&(f[h]===u[m]||f[h]==="*"))f[h]==="*"?(y=h,b=m,h++):(m++,h++);else if(y!==-1)h=y+1,b++,m=b;else return!1;for(;h<f.length&&f[h]==="*";)h++;return h===f.length}function o(){let u=[...r.names,...r.skips.map(f=>"-"+f)].join(",");return r.enable(""),u}function a(u){for(let f of r.skips)if(i(u,f))return!1;for(let f of r.names)if(i(u,f))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}qq.exports=zle});var Mq=E(($n,Bg)=>{$n.formatArgs=Gle;$n.save=Kle;$n.load=Wle;$n.useColors=Hle;$n.storage=Xle();$n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Hle(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Gle(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Bg.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}$n.log=console.debug||console.log||(()=>{});function Kle(e){try{e?$n.storage.setItem("debug",e):$n.storage.removeItem("debug")}catch{}}function Wle(){let e;try{e=$n.storage.getItem("debug")||$n.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Xle(){try{return localStorage}catch{}}Bg.exports=Sv()($n);var{formatters:Qle}=Bg.exports;Qle.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Fq=E((g8e,Lq)=>{"use strict";Lq.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var jq=E((y8e,$q)=>{"use strict";var Yle=require("os"),Uq=require("tty"),gs=Fq(),{env:qr}=process,qg;gs("no-color")||gs("no-colors")||gs("color=false")||gs("color=never")?qg=0:(gs("color")||gs("colors")||gs("color=true")||gs("color=always"))&&(qg=1);function Jle(){if("FORCE_COLOR"in qr)return qr.FORCE_COLOR==="true"?1:qr.FORCE_COLOR==="false"?0:qr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(qr.FORCE_COLOR,10),3)}function Zle(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ede(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=Jle();n!==void 0&&(qg=n);let s=r?qg:n;if(s===0)return 0;if(r){if(gs("color=16m")||gs("color=full")||gs("color=truecolor"))return 3;if(gs("color=256"))return 2}if(e&&!t&&s===void 0)return 0;let i=s||0;if(qr.TERM==="dumb")return i;if(process.platform==="win32"){let o=Yle.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in qr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(o=>o in qr)||qr.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in qr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(qr.TEAMCITY_VERSION)?1:0;if(qr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in qr){let o=Number.parseInt((qr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(qr.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(qr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(qr.TERM)||"COLORTERM"in qr?1:i}function Ev(e,t={}){let r=ede(e,{streamIsTTY:e&&e.isTTY,...t});return Zle(r)}$q.exports={supportsColor:Ev,stdout:Ev({isTTY:Uq.isatty(1)}),stderr:Ev({isTTY:Uq.isatty(2)})}});var zq=E((Mr,Lg)=>{var tde=require("tty"),Mg=require("util");Mr.init=cde;Mr.log=ide;Mr.formatArgs=nde;Mr.save=ode;Mr.load=ade;Mr.useColors=rde;Mr.destroy=Mg.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Mr.colors=[6,2,3,4,5,1];try{let e=jq();e&&(e.stderr||e).level>=2&&(Mr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Mr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function rde(){return"colors"in Mr.inspectOpts?!!Mr.inspectOpts.colors:tde.isatty(process.stderr.fd)}function nde(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${t} \x1B[0m`;e[0]=i+e[0].split(`
`).join(`
`+i),e.push(s+"m+"+Lg.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=sde()+t+" "+e[0]}function sde(){return Mr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ide(...e){return process.stderr.write(Mg.formatWithOptions(Mr.inspectOpts,...e)+`
`)}function ode(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function ade(){return process.env.DEBUG}function cde(e){e.inspectOpts={};let t=Object.keys(Mr.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Mr.inspectOpts[t[r]]}Lg.exports=Sv()(Mr);var{formatters:Vq}=Lg.exports;Vq.o=function(e){return this.inspectOpts.colors=this.useColors,Mg.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Vq.O=function(e){return this.inspectOpts.colors=this.useColors,Mg.inspect(e,this.inspectOpts)}});var Hq=E((b8e,xv)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?xv.exports=Mq():xv.exports=zq()});var Wq=E(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.genRedactedString=to.getStringValue=to.MAX_ARGUMENT_LENGTH=void 0;var lde=Hq(),wv=200;to.MAX_ARGUMENT_LENGTH=wv;var dde="ioredis";function Gq(e){if(e!==null)switch(typeof e){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(e))return e.toString("hex");if(Array.isArray(e))return e.join(",");try{return JSON.stringify(e)}catch{return}case"string":return e}}to.getStringValue=Gq;function Kq(e,t){let{length:r}=e;return r<=t?e:e.slice(0,t)+' ... <REDACTED full-length="'+r+'">'}to.genRedactedString=Kq;function ude(e){let t=(0,lde.default)(`${dde}:${e}`);function r(...n){if(t.enabled){for(let s=1;s<n.length;s++){let i=Gq(n[s]);typeof i=="string"&&i.length>wv&&(n[s]=Kq(i,wv))}return t.apply(null,n)}}return Object.defineProperties(r,{namespace:{get(){return t.namespace}},enabled:{get(){return t.enabled}},destroy:{get(){return t.destroy}},log:{get(){return t.log},set(n){t.log=n}}}),r}to.default=ude});var Qq=E(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});var Xq=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,fde={RedisCloudFixed:{ca:Xq},RedisCloudFlexible:{ca:Xq}};Cv.default=fde});var Qr=E(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.noop=ze.defaults=ze.Debug=ze.getPackageMeta=ze.zipMap=ze.CONNECTION_CLOSED_ERROR_MSG=ze.shuffle=ze.sample=ze.resolveTLSProfile=ze.parseURL=ze.optimizeErrorStack=ze.toArg=ze.convertMapToArray=ze.convertObjectToArray=ze.timeout=ze.packObject=ze.isInt=ze.wrapMultiResult=ze.convertBufferToString=void 0;var mde=require("fs"),hde=require("path"),Yq=require("url"),_v=Ng();Object.defineProperty(ze,"defaults",{enumerable:!0,get:function(){return _v.defaults}});Object.defineProperty(ze,"noop",{enumerable:!0,get:function(){return _v.noop}});var pde=Wq();ze.Debug=pde.default;var gde=Qq();function Jq(e,t){if(e instanceof Buffer)return e.toString(t);if(Array.isArray(e)){let r=e.length,n=Array(r);for(let s=0;s<r;++s)n[s]=e[s]instanceof Buffer&&t==="utf8"?e[s].toString():Jq(e[s],t);return n}return e}ze.convertBufferToString=Jq;function yde(e){if(!e)return null;let t=[],r=e.length;for(let n=0;n<r;++n){let s=e[n];s instanceof Error?t.push([s]):t.push([null,s])}return t}ze.wrapMultiResult=yde;function Zq(e){let t=parseFloat(e);return!isNaN(e)&&(t|0)===t}ze.isInt=Zq;function bde(e){let t={},r=e.length;for(let n=1;n<r;n+=2)t[e[n-1]]=e[n];return t}ze.packObject=bde;function Sde(e,t){let r=null,n=function(){r&&(clearTimeout(r),r=null,e.apply(this,arguments))};return r=setTimeout(n,t,new Error("timeout")),n}ze.timeout=Sde;function Ede(e){let t=[],r=Object.keys(e);for(let n=0,s=r.length;n<s;n++)t.push(r[n],e[r[n]]);return t}ze.convertObjectToArray=Ede;function xde(e){let t=[],r=0;return e.forEach(function(n,s){t[r]=s,t[r+1]=n,r+=2}),t}ze.convertMapToArray=xde;function wde(e){return e===null||typeof e>"u"?"":String(e)}ze.toArg=wde;function Cde(e,t,r){let n=t.split(`
`),s="",i;for(i=1;i<n.length&&n[i].indexOf(r)!==-1;++i);for(let o=i;o<n.length;++o)s+=`
`+n[o];if(e.stack){let o=e.stack.indexOf(`
`);e.stack=e.stack.slice(0,o)+s}return e}ze.optimizeErrorStack=Cde;function _de(e){if(Zq(e))return{port:e};let t=(0,Yq.parse)(e,!0,!0);!t.slashes&&e[0]!=="/"&&(e="//"+e,t=(0,Yq.parse)(e,!0,!0));let r=t.query||{},n={};if(t.auth){let s=t.auth.indexOf(":");n.username=s===-1?t.auth:t.auth.slice(0,s),n.password=s===-1?"":t.auth.slice(s+1)}if(t.pathname&&(t.protocol==="redis:"||t.protocol==="rediss:"?t.pathname.length>1&&(n.db=t.pathname.slice(1)):n.path=t.pathname),t.host&&(n.host=t.hostname),t.port&&(n.port=t.port),typeof r.family=="string"){let s=Number.parseInt(r.family,10);Number.isNaN(s)||(n.family=s)}return(0,_v.defaults)(n,r),n}ze.parseURL=_de;function vde(e){let t=e?.tls;typeof t=="string"&&(t={profile:t});let r=gde.default[t?.profile];return r&&(t=Object.assign({},r,t),delete t.profile,e=Object.assign({},e,{tls:t})),e}ze.resolveTLSProfile=vde;function Ade(e,t=0){let r=e.length;return t>=r?null:e[t+Math.floor(Math.random()*(r-t))]}ze.sample=Ade;function Rde(e){let t=e.length;for(;t>0;){let r=Math.floor(Math.random()*t);t--,[e[t],e[r]]=[e[r],e[t]]}return e}ze.shuffle=Rde;ze.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function Tde(e,t){let r=new Map;return e.forEach((n,s)=>{r.set(n,t[s])}),r}ze.zipMap=Tde;var ld=null;async function kde(){if(ld)return ld;try{let e=(0,hde.resolve)(__dirname,"..","..","package.json"),t=await mde.promises.readFile(e,"utf8");return ld={version:JSON.parse(t).version},ld}catch{return ld={version:"error-fetching-version"},ld}}ze.getPackageMeta=kde});var ro=E(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});var eM=rd(),Ide=nm(),Pde=Yo(),pc=Qr(),yi=class e{constructor(t,r=[],n={},s){if(this.name=t,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=n.replyEncoding,this.errorStack=n.errorStack,this.args=r.flat(),this.callback=s,this.initPromise(),n.keyPrefix){let i=n.keyPrefix instanceof Buffer,o=i?n.keyPrefix:null;this._iterateKeys(a=>a instanceof Buffer?(o===null&&(o=Buffer.from(n.keyPrefix)),Buffer.concat([o,a])):i?Buffer.concat([n.keyPrefix,Buffer.from(String(a))]):n.keyPrefix+a)}n.readOnly&&(this.isReadOnly=!0)}static checkFlag(t,r){return!!this.getFlagMap()[t][r]}static setArgumentTransformer(t,r){this._transformer.argument[t]=r}static setReplyTransformer(t,r){this._transformer.reply[t]=r}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(e.FLAGS).reduce((t,r)=>(t[r]={},e.FLAGS[r].forEach(n=>{t[r][n]=!0}),t),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){let t=this.getKeys()[0];this.slot=t==null?null:Ide(t)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(t){let r,n="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){let s=new vv;s.push(n);for(let i=0;i<this.args.length;++i){let o=this.args[i];o instanceof Buffer?o.length===0?s.push(`$0\r
\r
`):(s.push("$"+o.length+`\r
`),s.push(o),s.push(`\r
`)):s.push("$"+Buffer.byteLength(o)+`\r
`+o+`\r
`)}r=s.toBuffer()}else{r=n;for(let s=0;s<this.args.length;++s){let i=this.args[s];r+="$"+Buffer.byteLength(i)+`\r
`+i+`\r
`}}return r}stringifyArguments(){for(let t=0;t<this.args.length;++t){let r=this.args[t];typeof r=="string"||(r instanceof Buffer?this.bufferMode=!0:this.args[t]=(0,pc.toArg)(r))}}transformReply(t){this.replyEncoding&&(t=(0,pc.convertBufferToString)(t,this.replyEncoding));let r=e._transformer.reply[this.name];return r&&(t=r(t)),t}setTimeout(t){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},t))}initPromise(){let t=new Promise((r,n)=>{if(!this.transformed){this.transformed=!0;let s=e._transformer.argument[this.name];s&&(this.args=s(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(r),this.errorStack?this.reject=s=>{n((0,pc.optimizeErrorStack)(s,this.errorStack.stack,__dirname))}:this.reject=n});this.promise=(0,Pde.default)(t,this.callback)}_iterateKeys(t=r=>r){if(typeof this.keys>"u"&&(this.keys=[],(0,eM.exists)(this.name))){let r=(0,eM.getKeyIndexes)(this.name,this.args);for(let n of r)this.args[n]=t(this.args[n]),this.keys.push(this.args[n])}return this.keys}_convertValue(t){return r=>{try{let n=this._commandTimeoutTimer;n&&(clearTimeout(n),delete this._commandTimeoutTimer),t(this.transformReply(r)),this.isResolved=!0}catch(n){this.reject(n)}return this.promise}}};Av.default=yi;yi.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"],HANDSHAKE_COMMANDS:["auth","select","client","readonly","info"],IGNORE_RECONNECT_ON_ERROR:["client"]};yi._transformer={argument:{},reply:{}};var tM=function(e){if(e.length===1){if(e[0]instanceof Map)return(0,pc.convertMapToArray)(e[0]);if(typeof e[0]=="object"&&e[0]!==null)return(0,pc.convertObjectToArray)(e[0])}return e},rM=function(e){if(e.length===2){if(e[1]instanceof Map)return[e[0]].concat((0,pc.convertMapToArray)(e[1]));if(typeof e[1]=="object"&&e[1]!==null)return[e[0]].concat((0,pc.convertObjectToArray)(e[1]))}return e};yi.setArgumentTransformer("mset",tM);yi.setArgumentTransformer("msetnx",tM);yi.setArgumentTransformer("hset",rM);yi.setArgumentTransformer("hmset",rM);yi.setReplyTransformer("hgetall",function(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2){let n=e[r],s=e[r+1];n in t?Object.defineProperty(t,n,{value:s,configurable:!0,enumerable:!0,writable:!0}):t[n]=s}return t}return e});var vv=class{constructor(){this.length=0,this.items=[]}push(t){this.length+=Buffer.byteLength(t),this.items.push(t)}toBuffer(){let t=Buffer.allocUnsafe(this.length),r=0;for(let n of this.items){let s=Buffer.byteLength(n);Buffer.isBuffer(n)?n.copy(t,r):t.write(n,r,s),r+=s}return t}}});var nM=E(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});var Ode=mc(),Fg=class extends Ode.RedisError{constructor(t,r){super(t),this.lastNodeError=r,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};Rv.default=Fg;Fg.defaultMessage="Failed to refresh slots cache."});var Ug=E(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});var Nde=require("stream"),Tv=class extends Nde.Readable{constructor(t){super(t),this.opt=t,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}let t=[this._redisCursor];this.opt.key&&t.unshift(this.opt.key),this.opt.match&&t.push("MATCH",this.opt.match),this.opt.type&&t.push("TYPE",this.opt.type),this.opt.count&&t.push("COUNT",String(this.opt.count)),this.opt.noValues&&t.push("NOVALUES"),this.opt.redis[this.opt.command](t,(r,n)=>{if(r){this.emit("error",r);return}this._redisCursor=n[0]instanceof Buffer?n[0].toString():n[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(n[1])})}close(){this._redisDrained=!0}};kv.default=Tv});var lM=E(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.executeWithAutoPipelining=lr.getFirstValueInFlattenedArray=lr.shouldUseAutoPipelining=lr.notAllowedAutoPipelineCommands=lr.kCallbacks=lr.kExec=void 0;var iM=Ng(),Dde=nm(),sM=Yo();lr.kExec=Symbol("exec");lr.kCallbacks=Symbol("callbacks");lr.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select","client"];function oM(e,t){if(e._runningAutoPipelines.has(t)||!e._autoPipelines.has(t))return;e._runningAutoPipelines.add(t);let r=e._autoPipelines.get(t);e._autoPipelines.delete(t);let n=r[lr.kCallbacks];r[lr.kCallbacks]=null,r.exec(function(s,i){if(e._runningAutoPipelines.delete(t),s)for(let o=0;o<n.length;o++)process.nextTick(n[o],s);else for(let o=0;o<n.length;o++)process.nextTick(n[o],...i[o]);e._autoPipelines.has(t)&&oM(e,t)})}function Bde(e,t,r){return t&&e.options.enableAutoPipelining&&!e.isPipeline&&!lr.notAllowedAutoPipelineCommands.includes(r)&&!e.options.autoPipeliningIgnoredCommands.includes(r)}lr.shouldUseAutoPipelining=Bde;function aM(e){for(let t=0;t<e.length;t++){let r=e[t];if(typeof r=="string")return r;if(Array.isArray(r)||(0,iM.isArguments)(r)){if(r.length===0)continue;return r[0]}let n=[r].flat();if(n.length>0)return n[0]}}lr.getFirstValueInFlattenedArray=aM;function cM(e,t,r,n,s){if(e.isCluster&&!e.slots.length)return e.status==="wait"&&e.connect().catch(iM.noop),(0,sM.default)(new Promise(function(d,u){e.delayUntilReady(f=>{if(f){u(f);return}cM(e,t,r,n,null).then(d,u)})}),s);let i=e.options.keyPrefix||"",o=e.isCluster?e.slots[Dde(`${i}${aM(n)}`)].join(","):"main";if(!e._autoPipelines.has(o)){let d=e.pipeline();d[lr.kExec]=!1,d[lr.kCallbacks]=[],e._autoPipelines.set(o,d)}let a=e._autoPipelines.get(o);a[lr.kExec]||(a[lr.kExec]=!0,setImmediate(oM,e,o));let c=new Promise(function(d,u){a[lr.kCallbacks].push(function(f,m){if(f){u(f);return}d(m)}),t==="call"&&n.unshift(r),a[t](...n)});return(0,sM.default)(c,s)}lr.executeWithAutoPipelining=cM});var dM=E(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});var qde=require("crypto"),Mde=ro(),Lde=Yo(),Iv=class{constructor(t,r=null,n="",s=!1){this.lua=t,this.numberOfKeys=r,this.keyPrefix=n,this.readOnly=s,this.sha=(0,qde.createHash)("sha1").update(t).digest("hex");let i=this.sha,o=new WeakSet;this.Command=class extends Mde.default{toWritable(c){let d=this.reject;return this.reject=u=>{u.message.indexOf("NOSCRIPT")!==-1&&o.delete(c),d.call(this,u)},o.has(c)?this.name==="eval"&&(this.name="evalsha",this.args[0]=i):(o.add(c),this.name="eval",this.args[0]=t),super.toWritable(c)}}}execute(t,r,n,s){typeof this.numberOfKeys=="number"&&r.unshift(this.numberOfKeys),this.keyPrefix&&(n.keyPrefix=this.keyPrefix),this.readOnly&&(n.readOnly=!0);let i=new this.Command("evalsha",[this.sha,...r],n);return i.promise=i.promise.catch(o=>{if(o.message.indexOf("NOSCRIPT")===-1)throw o;let a=new this.Command("evalsha",[this.sha,...r],n);return(t.isPipeline?t.redis:t).sendCommand(a)}),(0,Lde.default)(i.promise,s),t.sendCommand(i)}};Pv.default=Iv});var jg=E(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});var Fde=rd(),$g=lM(),Ude=ro(),$de=dM(),no=class{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return Ov.slice(0)}createBuiltinCommand(t){return{string:Zo(null,t,"utf8"),buffer:Zo(null,t,null)}}addBuiltinCommand(t){this.addedBuiltinSet.add(t),this[t]=Zo(t,t,"utf8"),this[t+"Buffer"]=Zo(t+"Buffer",t,null)}defineCommand(t,r){let n=new $de.default(r.lua,r.numberOfKeys,this.options.keyPrefix,r.readOnly);this.scriptsSet[t]=n,this[t]=uM(t,t,n,"utf8"),this[t+"Buffer"]=uM(t+"Buffer",t,n,null)}sendCommand(t,r,n){throw new Error('"sendCommand" is not implemented')}},Ov=Fde.list.filter(e=>e!=="monitor");Ov.push("sentinel");Ov.forEach(function(e){no.prototype[e]=Zo(e,e,"utf8"),no.prototype[e+"Buffer"]=Zo(e+"Buffer",e,null)});no.prototype.call=Zo("call","utf8");no.prototype.callBuffer=Zo("callBuffer",null);no.prototype.send_command=no.prototype.call;function Zo(e,t,r){return typeof r>"u"&&(r=t,t=null),function(...n){let s=t||n.shift(),i=n[n.length-1];typeof i=="function"?n.pop():i=void 0;let o={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:r};return(0,$g.shouldUseAutoPipelining)(this,e,s)?(0,$g.executeWithAutoPipelining)(this,e,s,n,i):this.sendCommand(new Ude.default(s,n,o,i))}}function uM(e,t,r,n){return function(...s){let i=typeof s[s.length-1]=="function"?s.pop():void 0,o={replyEncoding:n};return this.options.showFriendlyErrorStack&&(o.errorStack=new Error),(0,$g.shouldUseAutoPipelining)(this,e,t)?(0,$g.executeWithAutoPipelining)(this,e,t,s,i):r.execute(this,s,o,i)}}Nv.default=no});var qv=E(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});var Dv=nm(),fM=rd(),mM=Yo(),jde=require("util"),Vde=ro(),zde=Qr(),Hde=jg();function Gde(e,t){let r=Dv(t[0]),n=e._groupsBySlot[r];for(let s=1;s<t.length;s++)if(e._groupsBySlot[Dv(t[s])]!==n)return-1;return r}var ea=class extends Hde.default{constructor(t){super(),this.redis=t,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=t.options,Object.keys(t.scriptsSet).forEach(n=>{let s=t.scriptsSet[n];this._shaToScript[s.sha]=s,this[n]=t[n],this[n+"Buffer"]=t[n+"Buffer"]}),t.addedBuiltinSet.forEach(n=>{this[n]=t[n],this[n+"Buffer"]=t[n+"Buffer"]}),this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s});let r=this;Object.defineProperty(this,"length",{get:function(){return r._queue.length}})}fillResult(t,r){if(this._queue[r].name==="exec"&&Array.isArray(t[1])){let s=t[1].length;for(let i=0;i<s;i++){if(t[1][i]instanceof Error)continue;let o=this._queue[r-(s-i)];try{t[1][i]=o.transformReply(t[1][i])}catch(a){t[1][i]=a}}}if(this._result[r]=t,--this.replyPending)return;if(this.isCluster){let s=!0,i;for(let o=0;o<this._result.length;++o){let a=this._result[o][0],c=this._queue[o];if(a){if(c.name==="exec"&&a.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!i)i={name:a.name,message:a.message};else if(i.name!==a.name||i.message!==a.message){s=!1;break}}else if(!c.inTransaction&&!((0,fM.exists)(c.name)&&(0,fM.hasFlag)(c.name,"readonly"))){s=!1;break}}if(i&&s){let o=this,a=i.message.split(" "),c=this._queue,d=!1;this._queue=[];for(let h=0;h<c.length;++h){if(a[0]==="ASK"&&!d&&c[h].name!=="asking"&&(!c[h-1]||c[h-1].name!=="asking")){let y=new Vde.default("asking");y.ignore=!0,this.sendCommand(y)}c[h].initPromise(),this.sendCommand(c[h]),d=c[h].inTransaction}let u=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});let f=function(){o.exec()},m=this.redis;if(m.handleError(i,this.leftRedirections,{moved:function(h,y){o.preferKey=y,m.slots[a[1]]=[y],m._groupsBySlot[a[1]]=m._groupsIds[m.slots[a[1]].join(";")],m.refreshSlotsCache(),o.exec()},ask:function(h,y){o.preferKey=y,o.exec()},tryagain:f,clusterDown:f,connectionClosed:f,maxRedirections:()=>{u=!1},defaults:()=>{u=!1}}),u)return}}let n=0;for(let s=0;s<this._queue.length-n;++s)this._queue[s+n].ignore&&(n+=1),this._result[s]=this._result[s+n];this.resolve(this._result.slice(0,this._result.length-n))}sendCommand(t){this._transactions>0&&(t.inTransaction=!0);let r=this._queue.length;return t.pipelineIndex=r,t.promise.then(n=>{this.fillResult([null,n],r)}).catch(n=>{this.fillResult([n],r)}),this._queue.push(t),this}addBatch(t){let r,n,s;for(let i=0;i<t.length;++i)r=t[i],n=r[0],s=r.slice(1),this[n].apply(this,s);return this}};Bv.default=ea;var Kde=ea.prototype.multi;ea.prototype.multi=function(){return this._transactions+=1,Kde.apply(this,arguments)};var hM=ea.prototype.execBuffer;ea.prototype.execBuffer=(0,jde.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),hM.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");ea.prototype.exec=function(e){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(zde.noop),e&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,mM.default)(this.promise,e)),this.redis.delayUntilReady(s=>{if(s){this.reject(s);return}this.exec(e)}),this.promise;if(this._transactions>0)return this._transactions-=1,hM.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,mM.default)(this.promise,e)),this._queue.length||this.resolve([]);let t;if(this.isCluster){let s=[];for(let i=0;i<this._queue.length;i++){let o=this._queue[i].getKeys();if(o.length&&s.push(o[0]),o.length&&Dv.generateMulti(o)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(s.length){if(t=Gde(this.redis,s),t<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else t=Math.random()*16384|0}let r=this;return n(),this.promise;function n(){let s=r.replyPending=r._queue.length,i;r.isCluster&&(i={slot:t,redis:r.redis.connectionPool.nodes.all[r.preferKey]});let o="",a,c={isPipeline:!0,destination:r.isCluster?i:{redis:r.redis},write(d){typeof d!="string"?(a||(a=[]),o&&(a.push(Buffer.from(o,"utf8")),o=""),a.push(d)):o+=d,--s||(a?(o&&a.push(Buffer.from(o,"utf8")),c.destination.redis.stream.write(Buffer.concat(a))):c.destination.redis.stream.write(o),s=r._queue.length,o="",a=void 0)}};for(let d=0;d<r._queue.length;++d)r.redis.sendCommand(r._queue[d],c,i);return r.promise}}});var Fv=E(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.addTransactionSupport=void 0;var Mv=Qr(),Lv=Yo(),pM=qv();function Wde(e){e.pipeline=function(n){let s=new pM.default(this);return Array.isArray(n)&&s.addBatch(n),s};let{multi:t}=e;e.multi=function(n,s){if(typeof s>"u"&&!Array.isArray(n)&&(s=n,n=null),s&&s.pipeline===!1)return t.call(this);let i=new pM.default(this);i.multi(),Array.isArray(n)&&i.addBatch(n);let o=i.exec;i.exec=function(c){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(Mv.noop),(0,Lv.default)(new Promise((u,f)=>{this.redis.delayUntilReady(m=>{if(m){f(m);return}this.exec(i).then(u,f)})}),c);if(this._transactions>0&&o.call(i),this.nodeifiedPromise)return o.call(i);let d=o.call(i);return(0,Lv.default)(d.then(function(u){let f=u[u.length-1];if(typeof f>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(f[0]){f[0].previousErrors=[];for(let m=0;m<u.length-1;++m)u[m][0]&&f[0].previousErrors.push(u[m][0]);throw f[0]}return(0,Mv.wrapMultiResult)(f[1])}),c)};let{execBuffer:a}=i;return i.execBuffer=function(c){return this._transactions>0&&a.call(i),i.exec(c)},i};let{exec:r}=e;e.exec=function(n){return(0,Lv.default)(r.call(this).then(function(s){return Array.isArray(s)&&(s=(0,Mv.wrapMultiResult)(s)),s}),n)}}Vg.addTransactionSupport=Wde});var $v=E(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});function Xde(e,t){Object.getOwnPropertyNames(t.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})}Uv.default=Xde});var yM=E(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.DEFAULT_CLUSTER_OPTIONS=void 0;var gM=require("dns");zg.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:e=>Math.min(100+e*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:gM.resolveSrv,dnsLookup:gM.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1}});var om=E(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.getConnectionName=an.weightSrvRecords=an.groupSrvRecords=an.getUniqueHostnamesFromOptions=an.normalizeNodeOptions=an.nodeKeyToRedisOptions=an.getNodeKey=void 0;var bM=Qr(),Qde=require("net");function Yde(e){return e.port=e.port||6379,e.host=e.host||"127.0.0.1",e.host+":"+e.port}an.getNodeKey=Yde;function Jde(e){let t=e.lastIndexOf(":");if(t===-1)throw new Error(`Invalid node key ${e}`);return{host:e.slice(0,t),port:Number(e.slice(t+1))}}an.nodeKeyToRedisOptions=Jde;function Zde(e){return e.map(t=>{let r={};if(typeof t=="object")Object.assign(r,t);else if(typeof t=="string")Object.assign(r,(0,bM.parseURL)(t));else if(typeof t=="number")r.port=t;else throw new Error("Invalid argument "+t);return typeof r.port=="string"&&(r.port=parseInt(r.port,10)),delete r.db,r.port||(r.port=6379),r.host||(r.host="127.0.0.1"),(0,bM.resolveTLSProfile)(r)})}an.normalizeNodeOptions=Zde;function eue(e){let t={};return e.forEach(r=>{t[r.host]=!0}),Object.keys(t).filter(r=>!(0,Qde.isIP)(r))}an.getUniqueHostnamesFromOptions=eue;function tue(e){let t={};for(let r of e)t.hasOwnProperty(r.priority)?(t[r.priority].totalWeight+=r.weight,t[r.priority].records.push(r)):t[r.priority]={totalWeight:r.weight,records:[r]};return t}an.groupSrvRecords=tue;function rue(e){if(e.records.length===1)return e.totalWeight=0,e.records.shift();let t=Math.floor(Math.random()*(e.totalWeight+e.records.length)),r=0;for(let[n,s]of e.records.entries())if(r+=1+s.weight,r>t)return e.totalWeight-=s.weight,e.records.splice(n,1),s}an.weightSrvRecords=rue;function nue(e,t){let r=`ioredis-cluster(${e})`;return t?`${r}:${t}`:r}an.getConnectionName=nue});var Hv=E(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});var SM=om(),jv=Qr(),sue=ta(),bi=(0,jv.Debug)("cluster:subscriber"),Vv=class{constructor(t,r,n=!1){this.connectionPool=t,this.emitter=r,this.isSharded=n,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){bi("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}bi("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(s,i)=>{!this.started||!this.subscriber||(0,SM.getNodeKey)(this.subscriber.options)===i&&(bi("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(bi("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(t){return this.isSharded&&(this.slotRange=t),this.slotRange}start(){this.started=!0,this.selectSubscriber(),bi("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){let t=this.lastActiveSubscriber;t&&(t.off("end",this.onSubscriberEnd),t.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());let r=(0,jv.sample)(this.connectionPool.getNodes());if(!r){bi("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}let{options:n}=r;bi("selected a subscriber %s:%s",n.host,n.port);let s="subscriber";this.isSharded&&(s="ssubscriber"),this.subscriber=new sue.default({port:n.port,host:n.host,username:n.username,password:n.password,enableReadyCheck:!0,connectionName:(0,SM.getConnectionName)(s,n.connectionName),lazyConnect:!0,tls:n.tls,retryStrategy:null}),this.subscriber.on("error",jv.noop),this.subscriber.on("moved",()=>{this.emitter.emit("forceRefresh")}),this.subscriber.once("end",this.onSubscriberEnd);let i={subscribe:[],psubscribe:[],ssubscribe:[]};if(t){let o=t.condition||t.prevCondition;o&&o.subscriber&&(i.subscribe=o.subscriber.channels("subscribe"),i.psubscribe=o.subscriber.channels("psubscribe"),i.ssubscribe=o.subscriber.channels("ssubscribe"))}if(i.subscribe.length||i.psubscribe.length||i.ssubscribe.length){let o=0;for(let a of["subscribe","psubscribe","ssubscribe"]){let c=i[a];if(c.length!=0)if(bi("%s %d channels",a,c.length),a==="ssubscribe")for(let d of c)o+=1,this.subscriber[a](d).then(()=>{--o||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{bi("failed to ssubscribe to channel: %s",d)});else o+=1,this.subscriber[a](c).then(()=>{--o||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{bi("failed to %s %d channels",a,c.length)})}}else this.lastActiveSubscriber=this.subscriber;for(let o of["message","messageBuffer"])this.subscriber.on(o,(a,c)=>{this.emitter.emit(o,a,c)});for(let o of["pmessage","pmessageBuffer"])this.subscriber.on(o,(a,c,d)=>{this.emitter.emit(o,a,c,d)});if(this.isSharded==!0)for(let o of["smessage","smessageBuffer"])this.subscriber.on(o,(a,c)=>{this.emitter.emit(o,a,c)})}};zv.default=Vv});var Xv=E(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});var iue=require("events"),Hg=Qr(),Gv=om(),oue=ta(),am=(0,Hg.Debug)("cluster:connectionPool"),Kv=class extends iue.EventEmitter{constructor(t){super(),this.redisOptions=t,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(t="all"){let r=this.nodes[t];return Object.keys(r).map(n=>r[n])}getInstanceByKey(t){return this.nodes.all[t]}getSampleInstance(t){let r=Object.keys(this.nodes[t]),n=(0,Hg.sample)(r);return this.nodes[t][n]}addMasterNode(t){let r=(0,Gv.getNodeKey)(t.options),n=this.createRedisFromOptions(t,t.options.readOnly);return t.options.readOnly?!1:(this.nodes.all[r]=n,this.nodes.master[r]=n,!0)}createRedisFromOptions(t,r){return new oue.default((0,Hg.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:r},t,this.redisOptions,{lazyConnect:!0}))}findOrCreate(t,r=!1){let n=(0,Gv.getNodeKey)(t);r=!!r,this.specifiedOptions[n]?Object.assign(t,this.specifiedOptions[n]):this.specifiedOptions[n]=t;let s;return this.nodes.all[n]?(s=this.nodes.all[n],s.options.readOnly!==r&&(s.options.readOnly=r,am("Change role of %s to %s",n,r?"slave":"master"),s[r?"readonly":"readwrite"]().catch(Hg.noop),r?(delete this.nodes.master[n],this.nodes.slave[n]=s):(delete this.nodes.slave[n],this.nodes.master[n]=s))):(am("Connecting to %s as %s",n,r?"slave":"master"),s=this.createRedisFromOptions(t,r),this.nodes.all[n]=s,this.nodes[r?"slave":"master"][n]=s,s.once("end",()=>{this.removeNode(n),this.emit("-node",s,n),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",s,n),s.on("error",function(i){this.emit("nodeError",i,n)})),s}reset(t){am("Reset with %O",t);let r={};t.forEach(n=>{let s=(0,Gv.getNodeKey)(n);n.readOnly&&r[s]||(r[s]=n)}),Object.keys(this.nodes.all).forEach(n=>{r[n]||(am("Disconnect %s because the node does not hold any slot",n),this.nodes.all[n].disconnect(),this.removeNode(n))}),Object.keys(r).forEach(n=>{let s=r[n];this.findOrCreate(s,s.readOnly)})}removeNode(t){let{nodes:r}=this;r.all[t]&&(am("Remove %s from the pool",t),delete r.all[t]),delete r.master[t],delete r.slave[t]}};Wv.default=Kv});var Gg=E((q8e,EM)=>{"use strict";function Zt(e,r){var r=r||{};this._capacity=r.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}Zt.prototype.peekAt=function(t){var r=t;if(r===(r|0)){var n=this.size();if(!(r>=n||r<-n))return r<0&&(r+=n),r=this._head+r&this._capacityMask,this._list[r]}};Zt.prototype.get=function(t){return this.peekAt(t)};Zt.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Zt.prototype.peekFront=function(){return this.peek()};Zt.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Zt.prototype,"length",{get:function(){return this.size()}});Zt.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zt.prototype.unshift=function(t){if(arguments.length===0)return this.size();var r=this._list.length;return this._head=this._head-1+r&this._capacityMask,this._list[this._head]=t,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zt.prototype.shift=function(){var t=this._head;if(t!==this._tail){var r=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),r}};Zt.prototype.push=function(t){if(arguments.length===0)return this.size();var r=this._tail;return this._list[r]=t,this._tail=r+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zt.prototype.pop=function(){var t=this._tail;if(t!==this._head){var r=this._list.length;this._tail=t-1+r&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&t>1e4&&t<=r>>>2&&this._shrinkArray(),n}};Zt.prototype.removeOne=function(t){var r=t;if(r===(r|0)&&this._head!==this._tail){var n=this.size(),s=this._list.length;if(!(r>=n||r<-n)){r<0&&(r+=n),r=this._head+r&this._capacityMask;var i=this._list[r],o;if(t<n/2){for(o=t;o>0;o--)this._list[r]=this._list[r=r-1+s&this._capacityMask];this._list[r]=void 0,this._head=this._head+1+s&this._capacityMask}else{for(o=n-1-t;o>0;o--)this._list[r]=this._list[r=r+1+s&this._capacityMask];this._list[r]=void 0,this._tail=this._tail-1+s&this._capacityMask}return i}}};Zt.prototype.remove=function(t,r){var n=t,s,i=r;if(n===(n|0)&&this._head!==this._tail){var o=this.size(),a=this._list.length;if(!(n>=o||n<-o||r<1)){if(n<0&&(n+=o),r===1||!r)return s=new Array(1),s[0]=this.removeOne(n),s;if(n===0&&n+r>=o)return s=this.toArray(),this.clear(),s;n+r>o&&(r=o-n);var c;for(s=new Array(r),c=0;c<r;c++)s[c]=this._list[this._head+n+c&this._capacityMask];if(n=this._head+n&this._capacityMask,t+r===o){for(this._tail=this._tail-r+a&this._capacityMask,c=r;c>0;c--)this._list[n=n+1+a&this._capacityMask]=void 0;return s}if(t===0){for(this._head=this._head+r+a&this._capacityMask,c=r-1;c>0;c--)this._list[n=n+1+a&this._capacityMask]=void 0;return s}if(n<o/2){for(this._head=this._head+t+r+a&this._capacityMask,c=t;c>0;c--)this.unshift(this._list[n=n-1+a&this._capacityMask]);for(n=this._head-1+a&this._capacityMask;i>0;)this._list[n=n-1+a&this._capacityMask]=void 0,i--;t<0&&(this._tail=n)}else{for(this._tail=n,n=n+r+a&this._capacityMask,c=o-(r+t);c>0;c--)this.push(this._list[n++]);for(n=this._tail;i>0;)this._list[n=n+1+a&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),s}}};Zt.prototype.splice=function(t,r){var n=t;if(n===(n|0)){var s=this.size();if(n<0&&(n+=s),!(n>s))if(arguments.length>2){var i,o,a,c=arguments.length,d=this._list.length,u=2;if(!s||n<s/2){for(o=new Array(n),i=0;i<n;i++)o[i]=this._list[this._head+i&this._capacityMask];for(r===0?(a=[],n>0&&(this._head=this._head+n+d&this._capacityMask)):(a=this.remove(n,r),this._head=this._head+n+d&this._capacityMask);c>u;)this.unshift(arguments[--c]);for(i=n;i>0;i--)this.unshift(o[i-1])}else{o=new Array(s-(n+r));var f=o.length;for(i=0;i<f;i++)o[i]=this._list[this._head+n+r+i&this._capacityMask];for(r===0?(a=[],n!=s&&(this._tail=this._head+n+d&this._capacityMask)):(a=this.remove(n,r),this._tail=this._tail-f+d&this._capacityMask);u<c;)this.push(arguments[u++]);for(i=0;i<f;i++)this.push(o[i])}return a}else return this.remove(n,r)}};Zt.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};Zt.prototype.isEmpty=function(){return this._head===this._tail};Zt.prototype.toArray=function(){return this._copyArray(!1)};Zt.prototype._fromArray=function(t){var r=t.length,n=this._nextPowerOf2(r);this._list=new Array(n),this._capacityMask=n-1,this._tail=r;for(var s=0;s<r;s++)this._list[s]=t[s]};Zt.prototype._copyArray=function(t,r){var n=this._list,s=n.length,i=this.length;if(r=r|i,r==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var o=new Array(r),a=0,c;if(t||this._head>this._tail){for(c=this._head;c<s;c++)o[a++]=n[c];for(c=0;c<this._tail;c++)o[a++]=n[c]}else for(c=this._head;c<this._tail;c++)o[a++]=n[c];return o};Zt.prototype._growArray=function(){if(this._head!=0){var t=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=t}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};Zt.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};Zt.prototype._nextPowerOf2=function(t){var r=Math.log(t)/Math.log(2),n=1<<r+1;return Math.max(n,4)};EM.exports=Zt});var xM=E(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});var aue=Qr(),cue=Gg(),lue=(0,aue.Debug)("delayqueue"),Qv=class{constructor(){this.queues={},this.timeouts={}}push(t,r,n){let s=n.callback||process.nextTick;this.queues[t]||(this.queues[t]=new cue),this.queues[t].push(r),this.timeouts[t]||(this.timeouts[t]=setTimeout(()=>{s(()=>{this.timeouts[t]=null,this.execute(t)})},n.timeout))}execute(t){let r=this.queues[t];if(!r)return;let{length:n}=r;if(n)for(lue("send %d commands in %s queue",n,t),this.queues[t]=null;r.length>0;)r.shift()()}};Yv.default=Qv});var _M=E(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});var due=Qr(),uue=Hv(),fue=Xv(),wM=om(),Kg=nm(),CM=(0,due.Debug)("cluster:subscriberGroup"),Jv=class{constructor(t,r){this.cluster=t,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,t.on("+node",n=>{this._addSubscriber(n)}),t.on("-node",n=>{this._removeSubscriber(n)}),t.on("refresh",()=>{this._refreshSlots(t)}),t.on("forceRefresh",()=>{r()})}getResponsibleSubscriber(t){let r=this.clusterSlots[t][0];return this.shardedSubscribers.get(r)}addChannels(t){let r=Kg(t[0]);t.forEach(s=>{if(Kg(s)!=r)return-1});let n=this.channels.get(r);return n?this.channels.set(r,n.concat(t)):this.channels.set(r,t),[...this.channels.values()].flatMap(s=>s).length}removeChannels(t){let r=Kg(t[0]);t.forEach(s=>{if(Kg(s)!=r)return-1});let n=this.channels.get(r);if(n){let s=n.filter(i=>!t.includes(i));this.channels.set(r,s)}return[...this.channels.values()].flatMap(s=>s).length}stop(){for(let t of this.shardedSubscribers.values())t.stop()}start(){for(let t of this.shardedSubscribers.values())t.isStarted()||t.start()}_addSubscriber(t){let r=new fue.default(t.options);if(r.addMasterNode(t)){let n=new uue.default(r,this.cluster,!0),s=(0,wM.getNodeKey)(t.options);return this.shardedSubscribers.set(s,n),n.start(),this._resubscribe(),this.cluster.emit("+subscriber"),n}return null}_removeSubscriber(t){let r=(0,wM.getNodeKey)(t.options),n=this.shardedSubscribers.get(r);return n&&(n.stop(),this.shardedSubscribers.delete(r),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(t){if(this._slotsAreEqual(t.slots))CM("Nothing to refresh because the new cluster map is equal to the previous one.");else{CM("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let r=0;r<t.slots.length;r++){let n=t.slots[r][0];this.subscriberToSlotsIndex.has(n)||this.subscriberToSlotsIndex.set(n,[]),this.subscriberToSlotsIndex.get(n).push(Number(r))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(t.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((t,r)=>{let n=this.subscriberToSlotsIndex.get(r);n&&(t.associateSlotRange(n),n.forEach(s=>{let i=t.getInstance(),o=this.channels.get(s);o&&o.length>0&&i&&(i.ssubscribe(o),i.on("ready",()=>{i.ssubscribe(o)}))}))})}_slotsAreEqual(t){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(t)}};Zv.default=Jv});var rA=E(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var vM=rd(),IM=require("events"),cm=mc(),AM=Yo(),RM=ro(),eA=nM(),mue=ta(),hue=Ug(),pue=Fv(),rs=Qr(),gue=$v(),yue=jg(),bue=yM(),Sue=Hv(),Eue=Xv(),xue=xM(),dd=om(),TM=Gg(),wue=_M(),er=(0,rs.Debug)("cluster"),kM=new WeakSet,lm=class e extends yue.default{constructor(t,r={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new xue.default,this.offlineQueue=new TM,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,IM.EventEmitter.call(this),this.startupNodes=t,this.options=(0,rs.defaults)({},r,bue.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new wue.default(this,this.refreshSlotsCache.bind(this))),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new Eue.default(this.options.redisOptions),this.connectionPool.on("-node",(n,s)=>{this.emit("-node",n)}),this.connectionPool.on("+node",n=>{this.emit("+node",n)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(n,s)=>{this.emit("node error",n,s)}),this.subscriber=new Sue.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([n,s])=>{this.defineCommand(n,s)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(n=>{er("connecting failed: %s",n)})}connect(){return new Promise((t,r)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){r(new Error("Redis is already connecting/connected"));return}let n=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(s=>{if(this.connectionEpoch!==n){er("discard connecting after resolving startup nodes because epoch not match: %d != %d",n,this.connectionEpoch),r(new cm.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){er("discard connecting after resolving startup nodes because the status changed to %s",this.status),r(new cm.RedisError("Connection is aborted"));return}this.connectionPool.reset(s);let i=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),t()},o,a=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",o),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((c,d)=>{c||d?(er("Ready check failed (%s). Reconnecting...",c||d),this.status==="connect"&&this.disconnect(!0)):i()}):i()};o=()=>{let c=new Error("None of startup nodes is available");this.removeListener("refresh",a),this.invokeReadyDelayedCallbacks(c),r(c)},this.once("refresh",a),this.once("close",o),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(c=>{c&&c.message===eA.default.defaultMessage&&(mue.default.prototype.silentEmit.call(this,"error",c),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(s=>{this.setStatus("close"),this.handleCloseEvent(s),this.invokeReadyDelayedCallbacks(s),r(s)})})}disconnect(t=!1){let r=this.status;this.setStatus("disconnecting"),t||(this.manuallyClosing=!0),this.reconnectTimeout&&!t&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,er("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),r==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(t){let r=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),r==="wait"){let n=(0,AM.default)(Promise.resolve("OK"),t);return setImmediate(function(){this.setStatus("close"),this.handleCloseEvent()}.bind(this)),n}return(0,AM.default)(Promise.all(this.nodes().map(n=>n.quit().catch(s=>{if(s.message===rs.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw s}))).then(()=>"OK"),t)}duplicate(t=[],r={}){let n=t.length>0?t:this.startupNodes.slice(0),s=Object.assign({},this.options,r);return new e(n,s)}nodes(t="all"){if(t!=="all"&&t!=="master"&&t!=="slave")throw new Error('Invalid role "'+t+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(t)}delayUntilReady(t){this._readyDelayedCallbacks.push(t)}get autoPipelineQueueSize(){let t=0;for(let r of this._autoPipelines.values())t+=r.length;return t}refreshSlotsCache(t){if(t&&this._refreshSlotsCacheCallbacks.push(t),this.isRefreshing)return;this.isRefreshing=!0;let r=this,n=a=>{this.isRefreshing=!1;for(let c of this._refreshSlotsCacheCallbacks)c(a);this._refreshSlotsCacheCallbacks=[]},s=(0,rs.shuffle)(this.connectionPool.getNodes()),i=null;function o(a){if(a===s.length){let u=new eA.default(eA.default.defaultMessage,i);return n(u)}let c=s[a],d=`${c.options.host}:${c.options.port}`;er("getting slot cache from %s",d),r.getInfoFromNode(c,function(u){switch(r.status){case"close":case"end":return n(new Error("Cluster is disconnected."));case"disconnecting":return n(new Error("Cluster is disconnecting."))}u?(r.emit("node error",u,d),i=u,o(a+1)):(r.emit("refresh"),n())})}o(0)}sendCommand(t,r,n){if(this.status==="wait"&&this.connect().catch(rs.noop),this.status==="end")return t.reject(new Error(rs.CONNECTION_CLOSED_ERROR_MSG)),t.promise;let s=this.options.scaleReads;s!=="master"&&(t.isReadOnly||(0,vM.exists)(t.name)&&(0,vM.hasFlag)(t.name,"readonly")||(s="master"));let i=n?n.slot:t.getSlot(),o={},a=this;if(!n&&!kM.has(t)){kM.add(t);let d=t.reject;t.reject=function(u){let f=c.bind(null,!0);a.handleError(u,o,{moved:function(m,h){er("command %s is moved to %s",t.name,h),i=Number(m),a.slots[m]?a.slots[m][0]=h:a.slots[m]=[h],a._groupsBySlot[m]=a._groupsIds[a.slots[m].join(";")],a.connectionPool.findOrCreate(a.natMapper(h)),c(),er("refreshing slot caches... (triggered by MOVED error)"),a.refreshSlotsCache()},ask:function(m,h){er("command %s is required to ask %s:%s",t.name,h);let y=a.natMapper(h);a.connectionPool.findOrCreate(y),c(!1,`${y.host}:${y.port}`)},tryagain:f,clusterDown:f,connectionClosed:f,maxRedirections:function(m){d.call(t,m)},defaults:function(){d.call(t,u)}})}}c();function c(d,u){if(a.status==="end"){t.reject(new cm.AbortError("Cluster is ended."));return}let f;if(a.status==="ready"||t.name==="cluster"){if(n&&n.redis)f=n.redis;else if(RM.default.checkFlag("ENTER_SUBSCRIBER_MODE",t.name)||RM.default.checkFlag("EXIT_SUBSCRIBER_MODE",t.name)){if(a.options.shardedSubscribers==!0&&(t.name=="ssubscribe"||t.name=="sunsubscribe")){let m=a.shardedSubscribers.getResponsibleSubscriber(i),h=-1;t.name=="ssubscribe"&&(h=a.shardedSubscribers.addChannels(t.getKeys())),t.name=="sunsubscribe"&&(h=a.shardedSubscribers.removeChannels(t.getKeys())),h!==-1?f=m.getInstance():t.reject(new cm.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else f=a.subscriber.getInstance();if(!f){t.reject(new cm.AbortError("No subscriber for the cluster"));return}}else{if(!d){if(typeof i=="number"&&a.slots[i]){let m=a.slots[i];if(typeof s=="function"){let h=m.map(function(y){return a.connectionPool.getInstanceByKey(y)});f=s(h,t),Array.isArray(f)&&(f=(0,rs.sample)(f)),f||(f=h[0])}else{let h;s==="all"?h=(0,rs.sample)(m):s==="slave"&&m.length>1?h=(0,rs.sample)(m,1):h=m[0],f=a.connectionPool.getInstanceByKey(h)}}u&&(f=a.connectionPool.getInstanceByKey(u),f.asking())}f||(f=(typeof s=="function"?null:a.connectionPool.getSampleInstance(s))||a.connectionPool.getSampleInstance("all"))}n&&!n.redis&&(n.redis=f)}f?f.sendCommand(t,r):a.options.enableOfflineQueue?a.offlineQueue.push({command:t,stream:r,node:n}):t.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return t.promise}sscanStream(t,r){return this.createScanStream("sscan",{key:t,options:r})}sscanBufferStream(t,r){return this.createScanStream("sscanBuffer",{key:t,options:r})}hscanStream(t,r){return this.createScanStream("hscan",{key:t,options:r})}hscanBufferStream(t,r){return this.createScanStream("hscanBuffer",{key:t,options:r})}zscanStream(t,r){return this.createScanStream("zscan",{key:t,options:r})}zscanBufferStream(t,r){return this.createScanStream("zscanBuffer",{key:t,options:r})}handleError(t,r,n){if(typeof r.value>"u"?r.value=this.options.maxRedirections:r.value-=1,r.value<=0){n.maxRedirections(new Error("Too many Cluster redirections. Last error: "+t));return}let s=t.message.split(" ");if(s[0]==="MOVED"){let i=this.options.retryDelayOnMoved;i&&typeof i=="number"?this.delayQueue.push("moved",n.moved.bind(null,s[1],s[2]),{timeout:i}):n.moved(s[1],s[2])}else s[0]==="ASK"?n.ask(s[1],s[2]):s[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",n.tryagain,{timeout:this.options.retryDelayOnTryAgain}):s[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",n.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):t.message===rs.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",n.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):n.defaults()}resetOfflineQueue(){this.offlineQueue=new TM}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;let t=()=>{this.slotsTimer=setTimeout(()=>{er('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{t()})},this.options.slotsRefreshInterval)};t()}setStatus(t){er("status: %s -> %s",this.status||"[empty]",t),this.status=t,process.nextTick(()=>{this.emit(t)})}handleCloseEvent(t){t&&er("closed because %s",t);let r;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(r=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,t)),typeof r=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,er("Cluster is disconnected. Retrying after %dms",r),this.connect().catch(function(n){er("Got error %s when reconnecting. Ignoring...",n)})},r)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(t){let r;for(;r=this.offlineQueue.shift();)r.command.reject(t)}executeOfflineCommands(){if(this.offlineQueue.length){er("send %d commands in offline queue",this.offlineQueue.length);let t=this.offlineQueue;this.resetOfflineQueue();let r;for(;r=t.shift();)this.sendCommand(r.command,r.stream,r.node)}}natMapper(t){let r=typeof t=="string"?t:`${t.host}:${t.port}`,n=null;return this.options.natMap&&typeof this.options.natMap=="function"?n=this.options.natMap(r):this.options.natMap&&typeof this.options.natMap=="object"&&(n=this.options.natMap[r]),n?(er("NAT mapping %s -> %O",r,n),Object.assign({},n)):typeof t=="string"?(0,dd.nodeKeyToRedisOptions)(t):t}getInfoFromNode(t,r){if(!t)return r(new Error("Node is disconnected"));let n=t.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,dd.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});n.on("error",rs.noop),n.cluster("SLOTS",(0,rs.timeout)((s,i)=>{if(n.disconnect(),s)return er("error encountered running CLUSTER.SLOTS: %s",s),r(s);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){er("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",i.length,this.status),r();return}let o=[];er("cluster slots result count: %d",i.length);for(let c=0;c<i.length;++c){let d=i[c],u=d[0],f=d[1],m=[];for(let h=2;h<d.length;h++){if(!d[h][0])continue;let y=this.natMapper({host:d[h][0],port:d[h][1]});y.readOnly=h!==2,o.push(y),m.push(y.host+":"+y.port)}er("cluster slots result [%d]: slots %d~%d served by %s",c,u,f,m);for(let h=u;h<=f;h++)this.slots[h]=m}this._groupsIds=Object.create(null);let a=0;for(let c=0;c<16384;c++){let d=(this.slots[c]||[]).join(";");if(!d.length){this._groupsBySlot[c]=void 0;continue}this._groupsIds[d]||(this._groupsIds[d]=++a),this._groupsBySlot[c]=this._groupsIds[d]}this.connectionPool.reset(o),r()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(t){for(let r of this._readyDelayedCallbacks)process.nextTick(r,t);this._readyDelayedCallbacks=[]}readyCheck(t){this.cluster("INFO",(r,n)=>{if(r)return t(r);if(typeof n!="string")return t();let s,i=n.split(`\r
`);for(let o=0;o<i.length;++o){let a=i[o].split(":");if(a[0]==="cluster_state"){s=a[1];break}}s==="fail"?(er("cluster state not ok (%s)",s),t(null,s)):t()})}resolveSrv(t){return new Promise((r,n)=>{this.options.resolveSrv(t,(s,i)=>{if(s)return n(s);let o=this,a=(0,dd.groupSrvRecords)(i),c=Object.keys(a).sort((u,f)=>parseInt(u)-parseInt(f));function d(u){if(!c.length)return n(u);let f=c[0],m=a[f],h=(0,dd.weightSrvRecords)(m);m.records.length||c.shift(),o.dnsLookup(h.name).then(y=>r({host:y,port:h.port}),d)}d()})})}dnsLookup(t){return new Promise((r,n)=>{this.options.dnsLookup(t,(s,i)=>{s?(er("failed to resolve hostname %s to IP: %s",t,s.message),n(s)):(er("resolved hostname %s to IP %s",t,i),r(i))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");let t=(0,dd.normalizeNodeOptions)(this.startupNodes),r=(0,dd.getUniqueHostnamesFromOptions)(t);if(r.length===0)return t;let n=await Promise.all(r.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),s=(0,rs.zipMap)(r,n);return t.map(i=>{let o=s.get(i.host);return o?this.options.useSRVRecords?Object.assign({},i,o):Object.assign({},i,{host:o}):i})}createScanStream(t,{key:r,options:n={}}){return new hue.default({objectMode:!0,key:r,redis:this,command:t,...n})}};(0,gue.default)(lm,IM.EventEmitter);(0,pue.addTransactionSupport)(lm.prototype);tA.default=lm});var Wg=E(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});var Cue=Qr(),_ue=(0,Cue.Debug)("AbstractConnector"),nA=class{constructor(t){this.connecting=!1,this.disconnectTimeout=t}check(t){return!0}disconnect(){if(this.connecting=!1,this.stream){let t=this.stream,r=setTimeout(()=>{_ue("stream %s:%s still open, destroying it",t.remoteAddress,t.remotePort),t.destroy()},this.disconnectTimeout);t.on("close",()=>clearTimeout(r)),t.end()}}};sA.default=nA});var PM=E(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});var vue=require("net"),Aue=require("tls"),Rue=Qr(),Tue=Wg(),iA=class extends Tue.default{constructor(t){super(t.disconnectTimeout),this.options=t}connect(t){let{options:r}=this;this.connecting=!0;let n;return"path"in r&&r.path?n={path:r.path}:(n={},"port"in r&&r.port!=null&&(n.port=r.port),"host"in r&&r.host!=null&&(n.host=r.host),"family"in r&&r.family!=null&&(n.family=r.family)),r.tls&&Object.assign(n,r.tls),new Promise((s,i)=>{process.nextTick(()=>{if(!this.connecting){i(new Error(Rue.CONNECTION_CLOSED_ERROR_MSG));return}try{r.tls?this.stream=(0,Aue.connect)(n):this.stream=(0,vue.createConnection)(n)}catch(o){i(o);return}this.stream.once("error",o=>{this.firstError=o}),s(this.stream)})})}};oA.default=iA});var OM=E(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0});function kue(e,t){return(e.host||"127.0.0.1")===(t.host||"127.0.0.1")&&(e.port||26379)===(t.port||26379)}var aA=class{constructor(t){this.cursor=0,this.sentinels=t.slice(0)}next(){let t=this.cursor>=this.sentinels.length;return{done:t,value:t?void 0:this.sentinels[this.cursor++]}}reset(t){t&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(t){for(let r=0;r<this.sentinels.length;r++)if(kue(t,this.sentinels[r]))return!1;return this.sentinels.push(t),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}};cA.default=aA});var DM=E(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.FailoverDetector=void 0;var Iue=Qr(),lA=(0,Iue.Debug)("FailoverDetector"),NM="+switch-master",dA=class{constructor(t,r){this.isDisconnected=!1,this.connector=t,this.sentinels=r}cleanup(){this.isDisconnected=!0;for(let t of this.sentinels)t.client.disconnect()}async subscribe(){lA("Starting FailoverDetector");let t=[];for(let r of this.sentinels){let n=r.client.subscribe(NM).catch(s=>{lA("Failed to subscribe to failover messages on sentinel %s:%s (%s)",r.address.host||"127.0.0.1",r.address.port||26739,s.message)});t.push(n),r.client.on("message",s=>{!this.isDisconnected&&s===NM&&this.disconnect()})}await Promise.all(t)}disconnect(){this.isDisconnected=!0,lA("Failover detected, disconnecting"),this.connector.disconnect()}};Xg.FailoverDetector=dA});var Qg=E(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.SentinelIterator=void 0;var Pue=require("net"),dm=Qr(),Oue=require("tls"),BM=OM();um.SentinelIterator=BM.default;var Nue=Wg(),Due=ta(),Bue=DM(),ud=(0,dm.Debug)("SentinelConnector"),uA=class extends Nue.default{constructor(t){if(super(t.disconnectTimeout),this.options=t,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new BM.default(this.options.sentinels)}check(t){let r=!t.role||this.options.role===t.role;return r||(ud("role invalid, expected %s, but got %s",this.options.role,t.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),r}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(t){this.connecting=!0,this.retryAttempts=0;let r,n=async()=>{let s=this.sentinelIterator.next();if(s.done){this.sentinelIterator.reset(!1);let c=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null,d=typeof c!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${c}ms.`;r&&(d+=` Last error: ${r.message}`),ud(d);let u=new Error(d);if(typeof c=="number")return t("error",u),await new Promise(f=>setTimeout(f,c)),n();throw u}let i=null,o=null;try{i=await this.resolve(s.value)}catch(c){o=c}if(!this.connecting)throw new Error(dm.CONNECTION_CLOSED_ERROR_MSG);let a=s.value.host+":"+s.value.port;if(i)return ud("resolved: %s:%s from sentinel %s",i.host,i.port,a),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(i,this.options.tls),this.stream=(0,Oue.connect)(i),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,Pue.createConnection)(i),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",c=>{this.firstError=c}),this.stream;{let c=o?"failed to connect to sentinel "+a+" because "+o.message:"connected to sentinel "+a+" successfully, but got an invalid reply: "+i;return ud(c),t("sentinelError",new Error(c)),o&&(r=o),n()}};return n()}async updateSentinels(t){if(!this.options.updateSentinels)return;let r=await t.sentinel("sentinels",this.options.name);Array.isArray(r)&&(r.map(dm.packObject).forEach(n=>{if((n.flags?n.flags.split(","):[]).indexOf("disconnected")===-1&&n.ip&&n.port){let i=this.sentinelNatResolve(qM(n));this.sentinelIterator.add(i)&&ud("adding sentinel %s:%s",i.host,i.port)}}),ud("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(t){let r=await t.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(t),this.sentinelNatResolve(Array.isArray(r)?{host:r[0],port:Number(r[1])}:null)}async resolveSlave(t){let r=await t.sentinel("slaves",this.options.name);if(!Array.isArray(r))return null;let n=r.map(dm.packObject).filter(s=>s.flags&&!s.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(que(n,this.options.preferredSlaves))}sentinelNatResolve(t){if(!t||!this.options.natMap)return t;let r=`${t.host}:${t.port}`,n=t;return typeof this.options.natMap=="function"?n=this.options.natMap(r)||t:typeof this.options.natMap=="object"&&(n=this.options.natMap[r]||t),n}connectToSentinel(t,r){return new Due.default({port:t.port||26379,host:t.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:t.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...r})}async resolve(t){let r=this.connectToSentinel(t);r.on("error",Mue);try{return this.options.role==="slave"?await this.resolveSlave(r):await this.resolveMaster(r)}finally{r.disconnect()}}async initFailoverDetector(){var t;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);let r=[];for(;r.length<this.options.sentinelMaxConnections;){let{done:n,value:s}=this.sentinelIterator.next();if(n)break;let i=this.connectToSentinel(s,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});i.on("reconnecting",()=>{var o;(o=this.emitter)===null||o===void 0||o.emit("sentinelReconnecting")}),r.push({address:s,client:i})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new Bue.FailoverDetector(this,r),await this.failoverDetector.subscribe(),(t=this.emitter)===null||t===void 0||t.emit("failoverSubscribed")}};um.default=uA;function que(e,t){if(e.length===0)return null;let r;if(typeof t=="function")r=t(e);else if(t!==null&&typeof t=="object"){let n=Array.isArray(t)?t:[t];n.sort((s,i)=>(s.prio||(s.prio=1),i.prio||(i.prio=1),s.prio<i.prio?-1:s.prio>i.prio?1:0));for(let s=0;s<n.length;s++){for(let i=0;i<e.length;i++){let o=e[i];if(o.ip===n[s].ip&&o.port===n[s].port){r=o;break}}if(r)break}}return r||(r=(0,dm.sample)(e)),qM(r)}function qM(e){return{host:e.ip,port:Number(e.port)}}function Mue(){}});var MM=E(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.SentinelConnector=fd.StandaloneConnector=void 0;var Lue=PM();fd.StandaloneConnector=Lue.default;var Fue=Qg();fd.SentinelConnector=Fue.default});var LM=E(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0});var Uue=mc(),fA=class extends Uue.AbortError{constructor(t){let r=`Reached the max retries per request limit (which is ${t}). Refer to "maxRetriesPerRequest" option for details.`;super(r),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};mA.default=fA});var FM=E(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.MaxRetriesPerRequestError=void 0;var $ue=LM();Yg.MaxRetriesPerRequestError=$ue.default});var GM=E((W8e,HM)=>{"use strict";var SA=require("buffer").Buffer,jue=require("string_decoder").StringDecoder,hA=new jue,UM=mc(),Vue=UM.ReplyError,zue=UM.ParserError,Ks=SA.allocUnsafe(32*1024),vn=0,Jg=null,fm=0,pA=0;function Hue(e){let t=e.buffer.length-1;var r=e.offset,n=0,s=1;for(e.buffer[r]===45&&(s=-1,r++);r<t;){let i=e.buffer[r++];if(i===13)return e.offset=r+1,s*n;n=n*10+(i-48)}}function Gue(e){let t=e.buffer.length-1;var r=e.offset,n=0,s="";for(e.buffer[r]===45&&(s+="-",r++);r<t;){var i=e.buffer[r++];if(i===13)return e.offset=r+1,n!==0&&(s+=n),s;n>429496728?(s+=n*10+(i-48),n=0):i===48&&n===0?s+=0:n=n*10+(i-48)}}function $M(e){let t=e.offset,r=e.buffer,n=r.length-1;for(var s=t;s<n;)if(r[s++]===13)return e.offset=s+1,e.optionReturnBuffers===!0?e.buffer.slice(t,s-1):e.buffer.toString("utf8",t,s-1)}function jM(e){let t=e.buffer.length-1;for(var r=e.offset,n=0;r<t;){let s=e.buffer[r++];if(s===13)return e.offset=r+1,n;n=n*10+(s-48)}}function Kue(e){return e.optionStringNumbers===!0?Gue(e):Hue(e)}function Wue(e){let t=jM(e);if(t===void 0)return;if(t<0)return null;let r=e.offset+t;if(r+2>e.buffer.length){e.bigStrSize=r+2,e.totalChunkSize=e.buffer.length,e.bufferCache.push(e.buffer);return}let n=e.offset;return e.offset=r+2,e.optionReturnBuffers===!0?e.buffer.slice(n,r):e.buffer.toString("utf8",n,r)}function Xue(e){var t=$M(e);if(t!==void 0)return e.optionReturnBuffers===!0&&(t=t.toString()),new Vue(t)}function Que(e,t){let r=new zue("Protocol error, got "+JSON.stringify(String.fromCharCode(t))+" as reply type byte",JSON.stringify(e.buffer),e.offset);e.buffer=null,e.returnFatalError(r)}function Yue(e){let t=jM(e);if(t===void 0)return;if(t<0)return null;let r=new Array(t);return VM(e,r,0)}function gA(e,t,r){e.arrayCache.push(t),e.arrayPos.push(r)}function yA(e){let t=e.arrayCache.pop();var r=e.arrayPos.pop();if(e.arrayCache.length){let n=yA(e);if(n===void 0){gA(e,t,r);return}t[r++]=n}return VM(e,t,r)}function VM(e,t,r){let n=e.buffer.length;for(;r<t.length;){let s=e.offset;if(e.offset>=n){gA(e,t,r);return}let i=zM(e,e.buffer[e.offset++]);if(i===void 0){e.arrayCache.length||e.bufferCache.length||(e.offset=s),gA(e,t,r);return}t[r]=i,r++}return t}function zM(e,t){switch(t){case 36:return Wue(e);case 43:return $M(e);case 42:return Yue(e);case 58:return Kue(e);case 45:return Xue(e);default:return Que(e,t)}}function Jue(){if(Ks.length>50*1024)if(fm===1||pA>fm*2){let e=Math.floor(Ks.length/10),t=e<vn?vn:e;vn=0,Ks=Ks.slice(t,Ks.length)}else pA++,fm--;else clearInterval(Jg),fm=0,pA=0,Jg=null}function Zue(e){if(Ks.length<e+vn){let t=e>78643200?2:3;vn>1024*1024*111&&(vn=1024*1024*50),Ks=SA.allocUnsafe(e*t+vn),vn=0,fm++,Jg===null&&(Jg=setInterval(Jue,50))}}function efe(e){let t=e.bufferCache,r=e.offset;var n=t.length,s=e.bigStrSize-e.totalChunkSize;if(e.offset=s,s<=2){if(n===2)return t[0].toString("utf8",r,t[0].length+s-2);n--,s=t[t.length-2].length+s}for(var i=hA.write(t[0].slice(r)),o=1;o<n-1;o++)i+=hA.write(t[o]);return i+=hA.end(t[o].slice(0,s-2)),i}function tfe(e){let t=e.bufferCache,r=e.offset,n=e.bigStrSize-r-2;var s=t.length,i=e.bigStrSize-e.totalChunkSize;if(e.offset=i,i<=2){if(s===2)return t[0].slice(r,t[0].length+i-2);s--,i=t[t.length-2].length+i}Zue(n);let o=vn;t[0].copy(Ks,o,r,t[0].length),vn+=t[0].length-r;for(var a=1;a<s-1;a++)t[a].copy(Ks,vn),vn+=t[a].length;return t[a].copy(Ks,vn,0,i-2),vn+=i-2,Ks.slice(o,vn)}var bA=class{constructor(t){if(!t)throw new TypeError("Options are mandatory.");if(typeof t.returnError!="function"||typeof t.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!t.returnBuffers),this.setStringNumbers(!!t.stringNumbers),this.returnError=t.returnError,this.returnFatalError=t.returnFatalError||t.returnError,this.returnReply=t.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(t){if(typeof t!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=t}setStringNumbers(t){if(typeof t!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=t}execute(t){if(this.buffer===null)this.buffer=t,this.offset=0;else if(this.bigStrSize===0){let n=this.buffer.length,s=n-this.offset,i=SA.allocUnsafe(s+t.length);if(this.buffer.copy(i,0,this.offset,n),t.copy(i,s,0,t.length),this.buffer=i,this.offset=0,this.arrayCache.length){let o=yA(this);if(o===void 0)return;this.returnReply(o)}}else if(this.totalChunkSize+t.length>=this.bigStrSize){this.bufferCache.push(t);var r=this.optionReturnBuffers?tfe(this):efe(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=t,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=r,r=yA(this),r===void 0))return;this.returnReply(r)}else{this.bufferCache.push(t),this.totalChunkSize+=t.length;return}for(;this.offset<this.buffer.length;){let n=this.offset,s=this.buffer[this.offset++],i=zM(this,s);if(i===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=n);return}s===45?this.returnError(i):this.returnReply(i)}this.buffer=null}};HM.exports=bA});var WM=E((X8e,KM)=>{"use strict";KM.exports=GM()});var XM=E(wA=>{"use strict";Object.defineProperty(wA,"__esModule",{value:!0});var xA=class{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(t,r){this.set[EA(t)][r]=!0}del(t,r){delete this.set[EA(t)][r]}channels(t){return Object.keys(this.set[EA(t)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}};wA.default=xA;function EA(e){return e==="unsubscribe"?"subscribe":e==="punsubscribe"?"psubscribe":e==="sunsubscribe"?"ssubscribe":e}});var ZM=E(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});var QM=ro(),rfe=Qr(),nfe=WM(),sfe=XM(),ife=(0,rfe.Debug)("dataHandler"),CA=class{constructor(t,r){this.redis=t;let n=new nfe({stringNumbers:r.stringNumbers,returnBuffers:!0,returnError:s=>{this.returnError(s)},returnFatalError:s=>{this.returnFatalError(s)},returnReply:s=>{this.returnReply(s)}});t.stream.prependListener("data",s=>{n.execute(s)}),t.stream.resume()}returnFatalError(t){t.message+=". Please report this.",this.redis.recoverFromFatalError(t,t,{offlineQueue:!1})}returnError(t){let r=this.shiftCommand(t);if(r){if(t.command={name:r.command.name,args:r.command.args},r.command.name=="ssubscribe"&&t.message.includes("MOVED")){this.redis.emit("moved");return}this.redis.handleReconnection(t,r)}}returnReply(t){if(this.handleMonitorReply(t)||this.handleSubscriberReply(t))return;let r=this.shiftCommand(t);r&&(QM.default.checkFlag("ENTER_SUBSCRIBER_MODE",r.command.name)?(this.redis.condition.subscriber=new sfe.default,this.redis.condition.subscriber.add(r.command.name,t[1].toString()),YM(r.command,t[2])||this.redis.commandQueue.unshift(r)):QM.default.checkFlag("EXIT_SUBSCRIBER_MODE",r.command.name)?JM(r.command,t[2])||this.redis.commandQueue.unshift(r):r.command.resolve(t))}handleSubscriberReply(t){if(!this.redis.condition.subscriber)return!1;let r=Array.isArray(t)?t[0].toString():null;switch(ife('receive reply "%s" in subscriber mode',r),r){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",t[1].toString(),t[2]?t[2].toString():""),this.redis.emit("messageBuffer",t[1],t[2]);break;case"pmessage":{let n=t[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",n,t[2].toString(),t[3].toString()),this.redis.emit("pmessageBuffer",n,t[2],t[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",t[1].toString(),t[2]?t[2].toString():""),this.redis.emit("smessageBuffer",t[1],t[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{let n=t[1].toString();this.redis.condition.subscriber.add(r,n);let s=this.shiftCommand(t);if(!s)return;YM(s.command,t[2])||this.redis.commandQueue.unshift(s);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{let n=t[1]?t[1].toString():null;n&&this.redis.condition.subscriber.del(r,n);let s=t[2];Number(s)===0&&(this.redis.condition.subscriber=!1);let i=this.shiftCommand(t);if(!i)return;JM(i.command,s)||this.redis.commandQueue.unshift(i);break}default:{let n=this.shiftCommand(t);if(!n)return;n.command.resolve(t)}}return!0}handleMonitorReply(t){if(this.redis.status!=="monitoring")return!1;let r=t.toString();if(r==="OK")return!1;let n=r.indexOf(" "),s=r.slice(0,n),i=r.indexOf('"'),o=r.slice(i+1,-1).split('" "').map(c=>c.replace(/\\"/g,'"')),a=r.slice(n+2,i-2).split(" ");return this.redis.emit("monitor",s,o,a[1],a[0]),!0}shiftCommand(t){let r=this.redis.commandQueue.shift();if(!r){let n="Command queue state error. If you can reproduce this, please report it.",s=new Error(n+(t instanceof Error?` Last error: ${t.message}`:` Last reply: ${t.toString()}`));return this.redis.emit("error",s),null}return r}};_A.default=CA;var ra=new WeakMap;function YM(e,t){let r=ra.has(e)?ra.get(e):e.args.length;return r-=1,r<=0?(e.resolve(t),ra.delete(e),!0):(ra.set(e,r),!1)}function JM(e,t){let r=ra.has(e)?ra.get(e):e.args.length;return r===0?Number(t)===0?(ra.delete(e),e.resolve(t),!0):!1:(r-=1,r<=0?(e.resolve(t),!0):(ra.set(e,r),!1))}});var eL=E(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.readyHandler=ys.errorHandler=ys.closeHandler=ys.connectHandler=void 0;var ofe=mc(),afe=ro(),cfe=FM(),Si=Qr(),lfe=ZM(),Yr=(0,Si.Debug)("connection");function dfe(e){return function(){var t;e.setStatus("connect"),e.resetCommandQueue();let r=!1,{connectionEpoch:n}=e;e.condition.auth&&e.auth(e.condition.auth,function(i){n===e.connectionEpoch&&i&&(i.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):i.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):i.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(r=!0,e.recoverFromFatalError(i,i)))}),e.condition.select&&e.select(e.condition.select).catch(i=>{e.silentEmit("error",i)}),new lfe.default(e,{stringNumbers:e.options.stringNumbers});let s=[];e.options.connectionName&&(Yr("set the connection name [%s]",e.options.connectionName),s.push(e.client("setname",e.options.connectionName).catch(Si.noop))),e.options.disableClientInfo||(Yr("set the client info"),s.push((0,Si.getPackageMeta)().then(i=>e.client("SETINFO","LIB-VER",i.version).catch(Si.noop)).catch(Si.noop)),s.push(e.client("SETINFO","LIB-NAME",!((t=e.options)===null||t===void 0)&&t.clientInfoTag?`ioredis(${e.options.clientInfoTag})`:"ioredis").catch(Si.noop))),Promise.all(s).catch(Si.noop).finally(()=>{e.options.enableReadyCheck||ys.readyHandler(e)(),e.options.enableReadyCheck&&e._readyCheck(function(i,o){n===e.connectionEpoch&&(i?r||e.recoverFromFatalError(new Error("Ready check failed: "+i.message),i):e.connector.check(o)?ys.readyHandler(e)():e.disconnect(!0))})})}}ys.connectHandler=dfe;function vA(e){let t=new ofe.AbortError("Command aborted due to connection close");return t.command={name:e.name,args:e.args},t}function ufe(e){var t;let r=0;for(let n=0;n<e.length;){let s=(t=e.peekAt(n))===null||t===void 0?void 0:t.command,i=s.pipelineIndex;if((i===void 0||i===0)&&(r=0),i!==void 0&&i!==r++){e.remove(n,1),s.reject(vA(s));continue}n++}}function ffe(e){var t;for(let r=0;r<e.length;){let n=(t=e.peekAt(r))===null||t===void 0?void 0:t.command;if(n.name==="multi")break;if(n.name==="exec"){e.remove(r,1),n.reject(vA(n));break}n.inTransaction?(e.remove(r,1),n.reject(vA(n))):r++}}function mfe(e){return function(){let r=e.status;if(e.setStatus("close"),e.commandQueue.length&&ufe(e.commandQueue),e.offlineQueue.length&&ffe(e.offlineQueue),r==="ready"&&(e.prevCondition||(e.prevCondition=e.condition),e.commandQueue.length&&(e.prevCommandQueue=e.commandQueue)),e.manuallyClosing)return e.manuallyClosing=!1,Yr("skip reconnecting since the connection is manually closed."),t();if(typeof e.options.retryStrategy!="function")return Yr("skip reconnecting because `retryStrategy` is not a function"),t();let n=e.options.retryStrategy(++e.retryAttempts);if(typeof n!="number")return Yr("skip reconnecting because `retryStrategy` doesn't return a number"),t();Yr("reconnect in %sms",n),e.setStatus("reconnecting",n),e.reconnectTimeout=setTimeout(function(){e.reconnectTimeout=null,e.connect().catch(Si.noop)},n);let{maxRetriesPerRequest:s}=e.options;typeof s=="number"&&(s<0?Yr("maxRetriesPerRequest is negative, ignoring..."):e.retryAttempts%(s+1)===0&&(Yr("reach maxRetriesPerRequest limitation, flushing command queue..."),e.flushQueue(new cfe.MaxRetriesPerRequestError(s))))};function t(){e.setStatus("end"),e.flushQueue(new Error(Si.CONNECTION_CLOSED_ERROR_MSG))}}ys.closeHandler=mfe;function hfe(e){return function(t){Yr("error: %s",t),e.silentEmit("error",t)}}ys.errorHandler=hfe;function pfe(e){return function(){if(e.setStatus("ready"),e.retryAttempts=0,e.options.monitor){e.call("monitor").then(()=>e.setStatus("monitoring"),n=>e.emit("error",n));let{sendCommand:r}=e;e.sendCommand=function(n){return afe.default.checkFlag("VALID_IN_MONITOR_MODE",n.name)?r.call(e,n):(n.reject(new Error("Connection is in monitoring mode, can't process commands.")),n.promise)},e.once("close",function(){delete e.sendCommand});return}let t=e.prevCondition?e.prevCondition.select:e.condition.select;if(e.options.readOnly&&(Yr("set the connection to readonly mode"),e.readonly().catch(Si.noop)),e.prevCondition){let r=e.prevCondition;if(e.prevCondition=null,r.subscriber&&e.options.autoResubscribe){e.condition.select!==t&&(Yr("connect to db [%d]",t),e.select(t));let n=r.subscriber.channels("subscribe");n.length&&(Yr("subscribe %d channels",n.length),e.subscribe(n));let s=r.subscriber.channels("psubscribe");s.length&&(Yr("psubscribe %d channels",s.length),e.psubscribe(s));let i=r.subscriber.channels("ssubscribe");if(i.length){Yr("ssubscribe %s",i.length);for(let o of i)e.ssubscribe(o)}}}if(e.prevCommandQueue)if(e.options.autoResendUnfulfilledCommands)for(Yr("resend %d unfulfilled commands",e.prevCommandQueue.length);e.prevCommandQueue.length>0;){let r=e.prevCommandQueue.shift();r.select!==e.condition.select&&r.command.name!=="select"&&e.select(r.select),e.sendCommand(r.command,r.stream)}else e.prevCommandQueue=null;if(e.offlineQueue.length){Yr("send %d commands in offline queue",e.offlineQueue.length);let r=e.offlineQueue;for(e.resetOfflineQueue();r.length>0;){let n=r.shift();n.select!==e.condition.select&&n.command.name!=="select"&&e.select(n.select),e.sendCommand(n.command,n.stream)}}e.condition.select!==t&&(Yr("connect to db [%d]",t),e.select(t))}}ys.readyHandler=pfe});var tL=E(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.DEFAULT_REDIS_OPTIONS=void 0;Zg.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:0,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(e){return Math.min(e*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,disableClientInfo:!1,clientInfoTag:void 0,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(e){return Math.min(e*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10}});var ta=E(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});var rL=rd(),sL=require("events"),AA=Yo(),gfe=rA(),mm=ro(),yfe=MM(),bfe=Qg(),na=eL(),Sfe=tL(),Efe=Ug(),xfe=Fv(),gc=Qr(),wfe=$v(),Cfe=jg(),sa=Ng(),nL=Gg(),ia=(0,gc.Debug)("redis"),oa=class e extends Cfe.default{constructor(t,r,n){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(t,r,n),sL.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){let s=new bfe.default(this.options);s.emitter=this,this.connector=s}else this.connector=new yfe.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([s,i])=>{this.defineCommand(s,i)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(sa.noop)}static createClient(...t){return new e(...t)}get autoPipelineQueueSize(){let t=0;for(let r of this._autoPipelines.values())t+=r.length;return t}connect(t){let r=new Promise((n,s)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){s(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");let{options:i}=this;this.condition={select:i.db,auth:i.username?[i.username,i.password]:i.password,subscriber:!1};let o=this;(0,AA.default)(this.connector.connect(function(a,c){o.silentEmit(a,c)}),function(a,c){if(a){o.flushQueue(a),o.silentEmit("error",a),s(a),o.setStatus("end");return}let d=i.tls?"secureConnect":"connect";if("sentinels"in i&&i.sentinels&&!i.enableTLSForSentinelMode&&(d="connect"),o.stream=c,i.noDelay&&c.setNoDelay(!0),typeof i.keepAlive=="number"&&(c.connecting?c.once(d,()=>{c.setKeepAlive(!0,i.keepAlive)}):c.setKeepAlive(!0,i.keepAlive)),c.connecting){if(c.once(d,na.connectHandler(o)),i.connectTimeout){let m=!1;c.setTimeout(i.connectTimeout,function(){if(m)return;c.setTimeout(0),c.destroy();let h=new Error("connect ETIMEDOUT");h.errorno="ETIMEDOUT",h.code="ETIMEDOUT",h.syscall="connect",na.errorHandler(o)(h)}),c.once(d,function(){m=!0,c.setTimeout(0)})}}else if(c.destroyed){let m=o.connector.firstError;m&&process.nextTick(()=>{na.errorHandler(o)(m)}),process.nextTick(na.closeHandler(o))}else process.nextTick(na.connectHandler(o));c.destroyed||(c.once("error",na.errorHandler(o)),c.once("close",na.closeHandler(o)));let u=function(){o.removeListener("close",f),n()};var f=function(){o.removeListener("ready",u),s(new Error(gc.CONNECTION_CLOSED_ERROR_MSG))};o.once("ready",u),o.once("close",f)})});return(0,AA.default)(r,t)}disconnect(t=!1){t||(this.manuallyClosing=!0),this.reconnectTimeout&&!t&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?na.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(t){return new e({...this.options,...t})}get mode(){var t;return this.options.monitor?"monitor":!((t=this.condition)===null||t===void 0)&&t.subscriber?"subscriber":"normal"}monitor(t){let r=this.duplicate({monitor:!0,lazyConnect:!1});return(0,AA.default)(new Promise(function(n,s){r.once("error",s),r.once("monitoring",function(){n(r)})}),t)}sendCommand(t,r){var n,s;if(this.status==="wait"&&this.connect().catch(sa.noop),this.status==="end")return t.reject(new Error(gc.CONNECTION_CLOSED_ERROR_MSG)),t.promise;if(!((n=this.condition)===null||n===void 0)&&n.subscriber&&!mm.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",t.name))return t.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),t.promise;typeof this.options.commandTimeout=="number"&&t.setTimeout(this.options.commandTimeout);let i=this.status==="ready"||!r&&this.status==="connect"&&(0,rL.exists)(t.name)&&((0,rL.hasFlag)(t.name,"loading")||mm.default.checkFlag("HANDSHAKE_COMMANDS",t.name));if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(i=!1):i=!1,i)ia.enabled&&ia("write command[%s]: %d -> %s(%o)",this._getDescription(),(s=this.condition)===null||s===void 0?void 0:s.select,t.name,t.args),r?"isPipeline"in r&&r.isPipeline?r.write(t.toWritable(r.destination.redis.stream)):r.write(t.toWritable(r)):this.stream.write(t.toWritable(this.stream)),this.commandQueue.push({command:t,stream:r,select:this.condition.select}),mm.default.checkFlag("WILL_DISCONNECT",t.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return t.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),t.promise;if(t.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),t.resolve(Buffer.from("OK")),t.promise;ia.enabled&&ia("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,t.name,t.args),this.offlineQueue.push({command:t,stream:r,select:this.condition.select})}if(t.name==="select"&&(0,gc.isInt)(t.args[0])){let o=parseInt(t.args[0],10);this.condition.select!==o&&(this.condition.select=o,this.emit("select",o),ia("switch to db [%d]",this.condition.select))}return t.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(t){return this.createScanStream("scan",{options:t})}scanBufferStream(t){return this.createScanStream("scanBuffer",{options:t})}sscanStream(t,r){return this.createScanStream("sscan",{key:t,options:r})}sscanBufferStream(t,r){return this.createScanStream("sscanBuffer",{key:t,options:r})}hscanStream(t,r){return this.createScanStream("hscan",{key:t,options:r})}hscanBufferStream(t,r){return this.createScanStream("hscanBuffer",{key:t,options:r})}zscanStream(t,r){return this.createScanStream("zscan",{key:t,options:r})}zscanBufferStream(t,r){return this.createScanStream("zscanBuffer",{key:t,options:r})}silentEmit(t,r){let n;if(!(t==="error"&&(n=r,this.status==="end"||this.manuallyClosing&&n instanceof Error&&(n.message===gc.CONNECTION_CLOSED_ERROR_MSG||n.syscall==="connect"||n.syscall==="read"))))return this.listeners(t).length>0?this.emit.apply(this,arguments):(n&&n instanceof Error&&console.error("[ioredis] Unhandled error event:",n.stack),!1)}recoverFromFatalError(t,r,n){this.flushQueue(r,n),this.silentEmit("error",r),this.disconnect(!0)}handleReconnection(t,r){var n;let s=!1;switch(this.options.reconnectOnError&&!mm.default.checkFlag("IGNORE_RECONNECT_ON_ERROR",r.command.name)&&(s=this.options.reconnectOnError(t)),s){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),r.command.reject(t);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((n=this.condition)===null||n===void 0?void 0:n.select)!==r.select&&r.command.name!=="select"&&this.select(r.select),this.sendCommand(r.command);break;default:r.command.reject(t)}}_getDescription(){let t;return"path"in this.options&&this.options.path?t=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?t=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?t=this.options.host+":"+this.options.port:t="",this.options.connectionName&&(t+=` (${this.options.connectionName})`),t}resetCommandQueue(){this.commandQueue=new nL}resetOfflineQueue(){this.offlineQueue=new nL}parseOptions(...t){let r={},n=!1;for(let s=0;s<t.length;++s){let i=t[s];if(!(i===null||typeof i>"u"))if(typeof i=="object")(0,sa.defaults)(r,i);else if(typeof i=="string")(0,sa.defaults)(r,(0,gc.parseURL)(i)),i.startsWith("rediss://")&&(n=!0);else if(typeof i=="number")r.port=i;else throw new Error("Invalid argument "+i)}n&&(0,sa.defaults)(r,{tls:!0}),(0,sa.defaults)(r,e.defaultOptions),typeof r.port=="string"&&(r.port=parseInt(r.port,10)),typeof r.db=="string"&&(r.db=parseInt(r.db,10)),this.options=(0,gc.resolveTLSProfile)(r)}setStatus(t,r){ia.enabled&&ia("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",t),this.status=t,process.nextTick(this.emit.bind(this,t,r))}createScanStream(t,{key:r,options:n={}}){return new Efe.default({objectMode:!0,key:r,redis:this,command:t,...n})}flushQueue(t,r){r=(0,sa.defaults)({},r,{offlineQueue:!0,commandQueue:!0});let n;if(r.offlineQueue)for(;n=this.offlineQueue.shift();)n.command.reject(t);if(r.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");n=this.commandQueue.shift();)n.command.reject(t)}_readyCheck(t){let r=this;this.info(function(n,s){if(n)return n.message&&n.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${n.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),t(null,{})):t(n);if(typeof s!="string")return t(null,s);let i={},o=s.split(`\r
`);for(let a=0;a<o.length;++a){let[c,...d]=o[a].split(":"),u=d.join(":");u&&(i[c]=u)}if(!i.loading||i.loading==="0")t(null,i);else{let a=(i.loading_eta_seconds||1)*1e3,c=r.options.maxLoadingRetryTime&&r.options.maxLoadingRetryTime<a?r.options.maxLoadingRetryTime:a;ia("Redis server still loading, trying again in "+c+"ms"),setTimeout(function(){r._readyCheck(t)},c)}}).catch(sa.noop)}};oa.Cluster=gfe.default;oa.Command=mm.default;oa.defaultOptions=Sfe.DEFAULT_REDIS_OPTIONS;(0,wfe.default)(oa,sL.EventEmitter);(0,xfe.addTransactionSupport)(oa.prototype);RA.default=oa});var aL=E((Ut,oL)=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.print=Ut.ReplyError=Ut.SentinelIterator=Ut.SentinelConnector=Ut.AbstractConnector=Ut.Pipeline=Ut.ScanStream=Ut.Command=Ut.Cluster=Ut.Redis=Ut.default=void 0;Ut=oL.exports=ta().default;var _fe=ta();Object.defineProperty(Ut,"default",{enumerable:!0,get:function(){return _fe.default}});var vfe=ta();Object.defineProperty(Ut,"Redis",{enumerable:!0,get:function(){return vfe.default}});var Afe=rA();Object.defineProperty(Ut,"Cluster",{enumerable:!0,get:function(){return Afe.default}});var Rfe=ro();Object.defineProperty(Ut,"Command",{enumerable:!0,get:function(){return Rfe.default}});var Tfe=Ug();Object.defineProperty(Ut,"ScanStream",{enumerable:!0,get:function(){return Tfe.default}});var kfe=qv();Object.defineProperty(Ut,"Pipeline",{enumerable:!0,get:function(){return kfe.default}});var Ife=Wg();Object.defineProperty(Ut,"AbstractConnector",{enumerable:!0,get:function(){return Ife.default}});var iL=Qg();Object.defineProperty(Ut,"SentinelConnector",{enumerable:!0,get:function(){return iL.default}});Object.defineProperty(Ut,"SentinelIterator",{enumerable:!0,get:function(){return iL.SentinelIterator}});Ut.ReplyError=mc().ReplyError;Object.defineProperty(Ut,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(e){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function Pfe(e,t){console.log(e?"Error: "+e:"Reply: "+t)}Ut.print=Pfe});var md=E((TA,lL)=>{var ey=require("buffer"),Ei=ey.Buffer;function cL(e,t){for(var r in e)t[r]=e[r]}Ei.from&&Ei.alloc&&Ei.allocUnsafe&&Ei.allocUnsafeSlow?lL.exports=ey:(cL(ey,TA),TA.Buffer=yc);function yc(e,t,r){return Ei(e,t,r)}yc.prototype=Object.create(Ei.prototype);cL(Ei,yc);yc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ei(e,t,r)};yc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ei(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};yc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ei(e)};yc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ey.SlowBuffer(e)}});var kA=E((aze,dL)=>{var ty=md().Buffer,Nfe=require("stream"),Dfe=require("util");function ry(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=ty.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=ty.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}Dfe.inherits(ry,Nfe);ry.prototype.write=function(t){this.buffer=ty.concat([this.buffer,ty.from(t)]),this.emit("data",t)};ry.prototype.end=function(t){t&&this.write(t),this.emit("end",t),this.emit("close"),this.writable=!1,this.readable=!1};dL.exports=ry});var fL=E((cze,uL)=>{"use strict";function IA(e){var t=(e/8|0)+(e%8===0?0:1);return t}var Bfe={ES256:IA(256),ES384:IA(384),ES512:IA(521)};function qfe(e){var t=Bfe[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}uL.exports=qfe});var SL=E((lze,bL)=>{"use strict";var ny=md().Buffer,hL=fL(),sy=128,pL=0,Mfe=32,Lfe=16,Ffe=2,gL=Lfe|Mfe|pL<<6,iy=Ffe|pL<<6;function Ufe(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yL(e){if(ny.isBuffer(e))return e;if(typeof e=="string")return ny.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function $fe(e,t){e=yL(e);var r=hL(t),n=r+1,s=e.length,i=0;if(e[i++]!==gL)throw new Error('Could not find expected "seq"');var o=e[i++];if(o===(sy|1)&&(o=e[i++]),s-i<o)throw new Error('"seq" specified length of "'+o+'", only "'+(s-i)+'" remaining');if(e[i++]!==iy)throw new Error('Could not find expected "int" for "r"');var a=e[i++];if(s-i-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(s-i-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=i;if(i+=a,e[i++]!==iy)throw new Error('Could not find expected "int" for "s"');var d=e[i++];if(s-i!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(s-i)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var u=i;if(i+=d,i!==s)throw new Error('Expected to consume entire buffer, but "'+(s-i)+'" bytes remain');var f=r-a,m=r-d,h=ny.allocUnsafe(f+a+m+d);for(i=0;i<f;++i)h[i]=0;e.copy(h,i,c+Math.max(-f,0),c+a),i=r;for(var y=i;i<y+m;++i)h[i]=0;return e.copy(h,i,u+Math.max(-m,0),u+d),h=h.toString("base64"),h=Ufe(h),h}function mL(e,t,r){for(var n=0;t+n<r&&e[t+n]===0;)++n;var s=e[t+n]>=sy;return s&&--n,n}function jfe(e,t){e=yL(e);var r=hL(t),n=e.length;if(n!==r*2)throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+n+'"');var s=mL(e,0,r),i=mL(e,r,e.length),o=r-s,a=r-i,c=2+o+1+1+a,d=c<sy,u=ny.allocUnsafe((d?2:3)+c),f=0;return u[f++]=gL,d?u[f++]=c:(u[f++]=sy|1,u[f++]=c&255),u[f++]=iy,u[f++]=o,s<0?(u[f++]=0,f+=e.copy(u,f,0,r)):f+=e.copy(u,f,s,r),u[f++]=iy,u[f++]=a,i<0?(u[f++]=0,e.copy(u,f,r)):e.copy(u,f,r+i),u}bL.exports={derToJose:$fe,joseToDer:jfe}});var xL=E((dze,EL)=>{"use strict";var hm=require("buffer").Buffer,PA=require("buffer").SlowBuffer;EL.exports=oy;function oy(e,t){if(!hm.isBuffer(e)||!hm.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}oy.install=function(){hm.prototype.equal=PA.prototype.equal=function(t){return oy(this,t)}};var Vfe=hm.prototype.equal,zfe=PA.prototype.equal;oy.restore=function(){hm.prototype.equal=Vfe,PA.prototype.equal=zfe}});var BA=E((uze,IL)=>{var pd=md().Buffer,bs=require("crypto"),CL=SL(),wL=require("util"),Hfe=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,pm="secret must be a string or buffer",hd="key must be a string or a buffer",Gfe="key must be a string, a buffer or an object",NA=typeof bs.createPublicKey=="function";NA&&(hd+=" or a KeyObject",pm+="or a KeyObject");function _L(e){if(!pd.isBuffer(e)&&typeof e!="string"&&(!NA||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw Ws(hd)}function vL(e){if(!pd.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw Ws(Gfe)}function Kfe(e){if(!pd.isBuffer(e)){if(typeof e=="string")return e;if(!NA||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw Ws(pm)}}function DA(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function AL(e){e=e.toString();var t=4-e.length%4;if(t!==4)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function Ws(e){var t=[].slice.call(arguments,1),r=wL.format.bind(wL,e).apply(null,t);return new TypeError(r)}function Wfe(e){return pd.isBuffer(e)||typeof e=="string"}function gm(e){return Wfe(e)||(e=JSON.stringify(e)),e}function RL(e){return function(r,n){Kfe(n),r=gm(r);var s=bs.createHmac("sha"+e,n),i=(s.update(r),s.digest("base64"));return DA(i)}}var OA,Xfe="timingSafeEqual"in bs?function(t,r){return t.byteLength!==r.byteLength?!1:bs.timingSafeEqual(t,r)}:function(t,r){return OA||(OA=xL()),OA(t,r)};function Qfe(e){return function(r,n,s){var i=RL(e)(r,s);return Xfe(pd.from(n),pd.from(i))}}function TL(e){return function(r,n){vL(n),r=gm(r);var s=bs.createSign("RSA-SHA"+e),i=(s.update(r),s.sign(n,"base64"));return DA(i)}}function kL(e){return function(r,n,s){_L(s),r=gm(r),n=AL(n);var i=bs.createVerify("RSA-SHA"+e);return i.update(r),i.verify(s,n,"base64")}}function Yfe(e){return function(r,n){vL(n),r=gm(r);var s=bs.createSign("RSA-SHA"+e),i=(s.update(r),s.sign({key:n,padding:bs.constants.RSA_PKCS1_PSS_PADDING,saltLength:bs.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return DA(i)}}function Jfe(e){return function(r,n,s){_L(s),r=gm(r),n=AL(n);var i=bs.createVerify("RSA-SHA"+e);return i.update(r),i.verify({key:s,padding:bs.constants.RSA_PKCS1_PSS_PADDING,saltLength:bs.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function Zfe(e){var t=TL(e);return function(){var n=t.apply(null,arguments);return n=CL.derToJose(n,"ES"+e),n}}function eme(e){var t=kL(e);return function(n,s,i){s=CL.joseToDer(s,"ES"+e).toString("base64");var o=t(n,s,i);return o}}function tme(){return function(){return""}}function rme(){return function(t,r){return r===""}}IL.exports=function(t){var r={hs:RL,rs:TL,ps:Yfe,es:Zfe,none:tme},n={hs:Qfe,rs:kL,ps:Jfe,es:eme,none:rme},s=t.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw Ws(Hfe,t);var i=(s[1]||s[3]).toLowerCase(),o=s[2];return{sign:r[i](o),verify:n[i](o)}}});var qA=E((fze,PL)=>{var nme=require("buffer").Buffer;PL.exports=function(t){return typeof t=="string"?t:typeof t=="number"||nme.isBuffer(t)?t.toString():JSON.stringify(t)}});var ML=E((mze,qL)=>{var sme=md().Buffer,OL=kA(),ime=BA(),ome=require("stream"),NL=qA(),MA=require("util");function DL(e,t){return sme.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ame(e,t,r){r=r||"utf8";var n=DL(NL(e),"binary"),s=DL(NL(t),r);return MA.format("%s.%s",n,s)}function BL(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,s=e.encoding,i=ime(t.alg),o=ame(t,r,s),a=i.sign(o,n);return MA.format("%s.%s",o,a)}function ay(e){var t=e.secret||e.privateKey||e.key,r=new OL(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new OL(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}MA.inherits(ay,ome);ay.prototype.sign=function(){try{var t=BL({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",t),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};ay.sign=BL;qL.exports=ay});var KL=E((hze,GL)=>{var FL=md().Buffer,LL=kA(),cme=BA(),lme=require("stream"),UL=qA(),dme=require("util"),ume=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function fme(e){return Object.prototype.toString.call(e)==="[object Object]"}function mme(e){if(fme(e))return e;try{return JSON.parse(e)}catch{return}}function $L(e){var t=e.split(".",1)[0];return mme(FL.from(t,"base64").toString("binary"))}function hme(e){return e.split(".",2).join(".")}function jL(e){return e.split(".")[2]}function pme(e,t){t=t||"utf8";var r=e.split(".")[1];return FL.from(r,"base64").toString(t)}function VL(e){return ume.test(e)&&!!$L(e)}function zL(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=UL(e);var s=jL(e),i=hme(e),o=cme(t);return o.verify(i,s,r)}function HL(e,t){if(t=t||{},e=UL(e),!VL(e))return null;var r=$L(e);if(!r)return null;var n=pme(e);return(r.typ==="JWT"||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:jL(e)}}function gd(e){e=e||{};var t=e.secret||e.publicKey||e.key,r=new LL(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new LL(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}dme.inherits(gd,lme);gd.prototype.verify=function(){try{var t=zL(this.signature.buffer,this.algorithm,this.key.buffer),r=HL(this.signature.buffer,this.encoding);return this.emit("done",t,r),this.emit("data",t),this.emit("end"),this.readable=!1,t}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};gd.decode=HL;gd.isValid=VL;gd.verify=zL;GL.exports=gd});var ly=E(aa=>{var WL=ML(),cy=KL(),gme=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];aa.ALGORITHMS=gme;aa.sign=WL.sign;aa.verify=cy.verify;aa.decode=cy.decode;aa.isValid=cy.isValid;aa.createSign=function(t){return new WL(t)};aa.createVerify=function(t){return new cy(t)}});var LA=E((gze,XL)=>{var yme=ly();XL.exports=function(e,t){t=t||{};var r=yme.decode(e,t);if(!r)return null;var n=r.payload;if(typeof n=="string")try{var s=JSON.parse(n);s!==null&&typeof s=="object"&&(n=s)}catch{}return t.complete===!0?{header:r.header,payload:n,signature:r.signature}:n}});var ym=E((yze,QL)=>{var dy=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};dy.prototype=Object.create(Error.prototype);dy.prototype.constructor=dy;QL.exports=dy});var FA=E((bze,JL)=>{var YL=ym(),uy=function(e,t){YL.call(this,e),this.name="NotBeforeError",this.date=t};uy.prototype=Object.create(YL.prototype);uy.prototype.constructor=uy;JL.exports=uy});var UA=E((Sze,eF)=>{var ZL=ym(),fy=function(e,t){ZL.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};fy.prototype=Object.create(ZL.prototype);fy.prototype.constructor=fy;eF.exports=fy});var $A=E((Eze,tF)=>{var bme=bv();tF.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=bme(e);return typeof n>"u"?void 0:Math.floor(r+n/1e3)}else return typeof e=="number"?r+e:void 0}});var bm=E((xze,rF)=>{"use strict";var Sme="2.0.0",Eme=Number.MAX_SAFE_INTEGER||9007199254740991,xme=16,wme=250,Cme=["major","premajor","minor","preminor","patch","prepatch","prerelease"];rF.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:xme,MAX_SAFE_BUILD_LENGTH:wme,MAX_SAFE_INTEGER:Eme,RELEASE_TYPES:Cme,SEMVER_SPEC_VERSION:Sme,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Sm=E((wze,nF)=>{"use strict";var _me=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};nF.exports=_me});var yd=E((xi,sF)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:jA,MAX_SAFE_BUILD_LENGTH:vme,MAX_LENGTH:Ame}=bm(),Rme=Sm();xi=sF.exports={};var Tme=xi.re=[],kme=xi.safeRe=[],ue=xi.src=[],Ime=xi.safeSrc=[],fe=xi.t={},Pme=0,VA="[a-zA-Z0-9-]",Ome=[["\\s",1],["\\d",Ame],[VA,vme]],Nme=e=>{for(let[t,r]of Ome)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},qe=(e,t,r)=>{let n=Nme(t),s=Pme++;Rme(e,s,t),fe[e]=s,ue[s]=t,Ime[s]=n,Tme[s]=new RegExp(t,r?"g":void 0),kme[s]=new RegExp(n,r?"g":void 0)};qe("NUMERICIDENTIFIER","0|[1-9]\\d*");qe("NUMERICIDENTIFIERLOOSE","\\d+");qe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${VA}*`);qe("MAINVERSION",`(${ue[fe.NUMERICIDENTIFIER]})\\.(${ue[fe.NUMERICIDENTIFIER]})\\.(${ue[fe.NUMERICIDENTIFIER]})`);qe("MAINVERSIONLOOSE",`(${ue[fe.NUMERICIDENTIFIERLOOSE]})\\.(${ue[fe.NUMERICIDENTIFIERLOOSE]})\\.(${ue[fe.NUMERICIDENTIFIERLOOSE]})`);qe("PRERELEASEIDENTIFIER",`(?:${ue[fe.NONNUMERICIDENTIFIER]}|${ue[fe.NUMERICIDENTIFIER]})`);qe("PRERELEASEIDENTIFIERLOOSE",`(?:${ue[fe.NONNUMERICIDENTIFIER]}|${ue[fe.NUMERICIDENTIFIERLOOSE]})`);qe("PRERELEASE",`(?:-(${ue[fe.PRERELEASEIDENTIFIER]}(?:\\.${ue[fe.PRERELEASEIDENTIFIER]})*))`);qe("PRERELEASELOOSE",`(?:-?(${ue[fe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ue[fe.PRERELEASEIDENTIFIERLOOSE]})*))`);qe("BUILDIDENTIFIER",`${VA}+`);qe("BUILD",`(?:\\+(${ue[fe.BUILDIDENTIFIER]}(?:\\.${ue[fe.BUILDIDENTIFIER]})*))`);qe("FULLPLAIN",`v?${ue[fe.MAINVERSION]}${ue[fe.PRERELEASE]}?${ue[fe.BUILD]}?`);qe("FULL",`^${ue[fe.FULLPLAIN]}$`);qe("LOOSEPLAIN",`[v=\\s]*${ue[fe.MAINVERSIONLOOSE]}${ue[fe.PRERELEASELOOSE]}?${ue[fe.BUILD]}?`);qe("LOOSE",`^${ue[fe.LOOSEPLAIN]}$`);qe("GTLT","((?:<|>)?=?)");qe("XRANGEIDENTIFIERLOOSE",`${ue[fe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);qe("XRANGEIDENTIFIER",`${ue[fe.NUMERICIDENTIFIER]}|x|X|\\*`);qe("XRANGEPLAIN",`[v=\\s]*(${ue[fe.XRANGEIDENTIFIER]})(?:\\.(${ue[fe.XRANGEIDENTIFIER]})(?:\\.(${ue[fe.XRANGEIDENTIFIER]})(?:${ue[fe.PRERELEASE]})?${ue[fe.BUILD]}?)?)?`);qe("XRANGEPLAINLOOSE",`[v=\\s]*(${ue[fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ue[fe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ue[fe.XRANGEIDENTIFIERLOOSE]})(?:${ue[fe.PRERELEASELOOSE]})?${ue[fe.BUILD]}?)?)?`);qe("XRANGE",`^${ue[fe.GTLT]}\\s*${ue[fe.XRANGEPLAIN]}$`);qe("XRANGELOOSE",`^${ue[fe.GTLT]}\\s*${ue[fe.XRANGEPLAINLOOSE]}$`);qe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${jA}})(?:\\.(\\d{1,${jA}}))?(?:\\.(\\d{1,${jA}}))?`);qe("COERCE",`${ue[fe.COERCEPLAIN]}(?:$|[^\\d])`);qe("COERCEFULL",ue[fe.COERCEPLAIN]+`(?:${ue[fe.PRERELEASE]})?(?:${ue[fe.BUILD]})?(?:$|[^\\d])`);qe("COERCERTL",ue[fe.COERCE],!0);qe("COERCERTLFULL",ue[fe.COERCEFULL],!0);qe("LONETILDE","(?:~>?)");qe("TILDETRIM",`(\\s*)${ue[fe.LONETILDE]}\\s+`,!0);xi.tildeTrimReplace="$1~";qe("TILDE",`^${ue[fe.LONETILDE]}${ue[fe.XRANGEPLAIN]}$`);qe("TILDELOOSE",`^${ue[fe.LONETILDE]}${ue[fe.XRANGEPLAINLOOSE]}$`);qe("LONECARET","(?:\\^)");qe("CARETTRIM",`(\\s*)${ue[fe.LONECARET]}\\s+`,!0);xi.caretTrimReplace="$1^";qe("CARET",`^${ue[fe.LONECARET]}${ue[fe.XRANGEPLAIN]}$`);qe("CARETLOOSE",`^${ue[fe.LONECARET]}${ue[fe.XRANGEPLAINLOOSE]}$`);qe("COMPARATORLOOSE",`^${ue[fe.GTLT]}\\s*(${ue[fe.LOOSEPLAIN]})$|^$`);qe("COMPARATOR",`^${ue[fe.GTLT]}\\s*(${ue[fe.FULLPLAIN]})$|^$`);qe("COMPARATORTRIM",`(\\s*)${ue[fe.GTLT]}\\s*(${ue[fe.LOOSEPLAIN]}|${ue[fe.XRANGEPLAIN]})`,!0);xi.comparatorTrimReplace="$1$2$3";qe("HYPHENRANGE",`^\\s*(${ue[fe.XRANGEPLAIN]})\\s+-\\s+(${ue[fe.XRANGEPLAIN]})\\s*$`);qe("HYPHENRANGELOOSE",`^\\s*(${ue[fe.XRANGEPLAINLOOSE]})\\s+-\\s+(${ue[fe.XRANGEPLAINLOOSE]})\\s*$`);qe("STAR","(<|>)?=?\\s*\\*");qe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");qe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var my=E((Cze,iF)=>{"use strict";var Dme=Object.freeze({loose:!0}),Bme=Object.freeze({}),qme=e=>e?typeof e!="object"?Dme:e:Bme;iF.exports=qme});var zA=E((_ze,cF)=>{"use strict";var oF=/^[0-9]+$/,aF=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;let r=oF.test(e),n=oF.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Mme=(e,t)=>aF(t,e);cF.exports={compareIdentifiers:aF,rcompareIdentifiers:Mme}});var cn=E((vze,dF)=>{"use strict";var hy=Sm(),{MAX_LENGTH:lF,MAX_SAFE_INTEGER:py}=bm(),{safeRe:gy,t:yy}=yd(),Lme=my(),{compareIdentifiers:HA}=zA(),GA=class e{constructor(t,r){if(r=Lme(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>lF)throw new TypeError(`version is longer than ${lF} characters`);hy("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?gy[yy.LOOSE]:gy[yy.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>py||this.major<0)throw new TypeError("Invalid major version");if(this.minor>py||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>py||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<py)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(hy("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(hy("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return HA(n,s)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(hy("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return HA(n,s)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?gy[yy.PRERELEASELOOSE]:gy[yy.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),HA(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};dF.exports=GA});var bc=E((Aze,fF)=>{"use strict";var uF=cn(),Fme=(e,t,r=!1)=>{if(e instanceof uF)return e;try{return new uF(e,t)}catch(n){if(!r)return null;throw n}};fF.exports=Fme});var hF=E((Rze,mF)=>{"use strict";var Ume=bc(),$me=(e,t)=>{let r=Ume(e,t);return r?r.version:null};mF.exports=$me});var gF=E((Tze,pF)=>{"use strict";var jme=bc(),Vme=(e,t)=>{let r=jme(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};pF.exports=Vme});var SF=E((kze,bF)=>{"use strict";var yF=cn(),zme=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new yF(e instanceof yF?e.version:e,r).inc(t,n,s).version}catch{return null}};bF.exports=zme});var wF=E((Ize,xF)=>{"use strict";var EF=bc(),Hme=(e,t)=>{let r=EF(e,null,!0),n=EF(t,null,!0),s=r.compare(n);if(s===0)return null;let i=s>0,o=i?r:n,a=i?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};xF.exports=Hme});var _F=E((Pze,CF)=>{"use strict";var Gme=cn(),Kme=(e,t)=>new Gme(e,t).major;CF.exports=Kme});var AF=E((Oze,vF)=>{"use strict";var Wme=cn(),Xme=(e,t)=>new Wme(e,t).minor;vF.exports=Xme});var TF=E((Nze,RF)=>{"use strict";var Qme=cn(),Yme=(e,t)=>new Qme(e,t).patch;RF.exports=Yme});var IF=E((Dze,kF)=>{"use strict";var Jme=bc(),Zme=(e,t)=>{let r=Jme(e,t);return r&&r.prerelease.length?r.prerelease:null};kF.exports=Zme});var Ss=E((Bze,OF)=>{"use strict";var PF=cn(),ehe=(e,t,r)=>new PF(e,r).compare(new PF(t,r));OF.exports=ehe});var DF=E((qze,NF)=>{"use strict";var the=Ss(),rhe=(e,t,r)=>the(t,e,r);NF.exports=rhe});var qF=E((Mze,BF)=>{"use strict";var nhe=Ss(),she=(e,t)=>nhe(e,t,!0);BF.exports=she});var by=E((Lze,LF)=>{"use strict";var MF=cn(),ihe=(e,t,r)=>{let n=new MF(e,r),s=new MF(t,r);return n.compare(s)||n.compareBuild(s)};LF.exports=ihe});var UF=E((Fze,FF)=>{"use strict";var ohe=by(),ahe=(e,t)=>e.sort((r,n)=>ohe(r,n,t));FF.exports=ahe});var jF=E((Uze,$F)=>{"use strict";var che=by(),lhe=(e,t)=>e.sort((r,n)=>che(n,r,t));$F.exports=lhe});var Em=E(($ze,VF)=>{"use strict";var dhe=Ss(),uhe=(e,t,r)=>dhe(e,t,r)>0;VF.exports=uhe});var Sy=E((jze,zF)=>{"use strict";var fhe=Ss(),mhe=(e,t,r)=>fhe(e,t,r)<0;zF.exports=mhe});var KA=E((Vze,HF)=>{"use strict";var hhe=Ss(),phe=(e,t,r)=>hhe(e,t,r)===0;HF.exports=phe});var WA=E((zze,GF)=>{"use strict";var ghe=Ss(),yhe=(e,t,r)=>ghe(e,t,r)!==0;GF.exports=yhe});var Ey=E((Hze,KF)=>{"use strict";var bhe=Ss(),She=(e,t,r)=>bhe(e,t,r)>=0;KF.exports=She});var xy=E((Gze,WF)=>{"use strict";var Ehe=Ss(),xhe=(e,t,r)=>Ehe(e,t,r)<=0;WF.exports=xhe});var XA=E((Kze,XF)=>{"use strict";var whe=KA(),Che=WA(),_he=Em(),vhe=Ey(),Ahe=Sy(),Rhe=xy(),The=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return whe(e,r,n);case"!=":return Che(e,r,n);case">":return _he(e,r,n);case">=":return vhe(e,r,n);case"<":return Ahe(e,r,n);case"<=":return Rhe(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};XF.exports=The});var YF=E((Wze,QF)=>{"use strict";var khe=cn(),Ihe=bc(),{safeRe:wy,t:Cy}=yd(),Phe=(e,t)=>{if(e instanceof khe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?wy[Cy.COERCEFULL]:wy[Cy.COERCE]);else{let c=t.includePrerelease?wy[Cy.COERCERTLFULL]:wy[Cy.COERCERTL],d;for(;(d=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",a=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Ihe(`${n}.${s}.${i}${o}${a}`,t)};QF.exports=Phe});var ZF=E((Xze,JF)=>{"use strict";var QA=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}};JF.exports=QA});var Es=E((Qze,nU)=>{"use strict";var Ohe=/\s+/g,YA=class e{constructor(t,r){if(r=Dhe(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof JA)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(Ohe," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!tU(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&$he(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&Fhe)|(this.options.loose&&Uhe))+":"+t,s=eU.get(n);if(s)return s;let i=this.options.loose,o=i?An[ln.HYPHENRANGELOOSE]:An[ln.HYPHENRANGE];t=t.replace(o,Yhe(this.options.includePrerelease)),Wt("hyphen replace",t),t=t.replace(An[ln.COMPARATORTRIM],qhe),Wt("comparator trim",t),t=t.replace(An[ln.TILDETRIM],Mhe),Wt("tilde trim",t),t=t.replace(An[ln.CARETTRIM],Lhe),Wt("caret trim",t);let a=t.split(" ").map(f=>jhe(f,this.options)).join(" ").split(/\s+/).map(f=>Qhe(f,this.options));i&&(a=a.filter(f=>(Wt("loose invalid filter",f,this.options),!!f.match(An[ln.COMPARATORLOOSE])))),Wt("range list",a);let c=new Map,d=a.map(f=>new JA(f,this.options));for(let f of d){if(tU(f))return[f];c.set(f.value,f)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return eU.set(n,u),u}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>rU(n,r)&&t.set.some(s=>rU(s,r)&&n.every(i=>s.every(o=>i.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new Bhe(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Jhe(this.set[r],t,this.options))return!0;return!1}};nU.exports=YA;var Nhe=ZF(),eU=new Nhe,Dhe=my(),JA=xm(),Wt=Sm(),Bhe=cn(),{safeRe:An,t:ln,comparatorTrimReplace:qhe,tildeTrimReplace:Mhe,caretTrimReplace:Lhe}=yd(),{FLAG_INCLUDE_PRERELEASE:Fhe,FLAG_LOOSE:Uhe}=bm(),tU=e=>e.value==="<0.0.0-0",$he=e=>e.value==="",rU=(e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(i=>s.intersects(i,t)),s=n.pop();return r},jhe=(e,t)=>(e=e.replace(An[ln.BUILD],""),Wt("comp",e,t),e=Hhe(e,t),Wt("caret",e),e=Vhe(e,t),Wt("tildes",e),e=Khe(e,t),Wt("xrange",e),e=Xhe(e,t),Wt("stars",e),e),Rn=e=>!e||e.toLowerCase()==="x"||e==="*",Vhe=(e,t)=>e.trim().split(/\s+/).map(r=>zhe(r,t)).join(" "),zhe=(e,t)=>{let r=t.loose?An[ln.TILDELOOSE]:An[ln.TILDE];return e.replace(r,(n,s,i,o,a)=>{Wt("tilde",e,n,s,i,o,a);let c;return Rn(s)?c="":Rn(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:Rn(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Wt("replaceTilde pr",a),c=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Wt("tilde return",c),c})},Hhe=(e,t)=>e.trim().split(/\s+/).map(r=>Ghe(r,t)).join(" "),Ghe=(e,t)=>{Wt("caret",e,t);let r=t.loose?An[ln.CARETLOOSE]:An[ln.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,i,o,a,c)=>{Wt("caret",e,s,i,o,a,c);let d;return Rn(i)?d="":Rn(o)?d=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Rn(a)?i==="0"?d=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:d=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:c?(Wt("replaceCaret pr",c),i==="0"?o==="0"?d=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:d=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:d=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(Wt("no pr"),i==="0"?o==="0"?d=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:d=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:d=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Wt("caret return",d),d})},Khe=(e,t)=>(Wt("replaceXRanges",e,t),e.split(/\s+/).map(r=>Whe(r,t)).join(" ")),Whe=(e,t)=>{e=e.trim();let r=t.loose?An[ln.XRANGELOOSE]:An[ln.XRANGE];return e.replace(r,(n,s,i,o,a,c)=>{Wt("xRange",e,n,s,i,o,a,c);let d=Rn(i),u=d||Rn(o),f=u||Rn(a),m=f;return s==="="&&m&&(s=""),c=t.includePrerelease?"-0":"",d?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&m?(u&&(o=0),a=0,s===">"?(s=">=",u?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(c="-0"),n=`${s+i}.${o}.${a}${c}`):u?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:f&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Wt("xRange return",n),n})},Xhe=(e,t)=>(Wt("replaceStars",e,t),e.trim().replace(An[ln.STAR],"")),Qhe=(e,t)=>(Wt("replaceGTE0",e,t),e.trim().replace(An[t.includePrerelease?ln.GTE0PRE:ln.GTE0],"")),Yhe=e=>(t,r,n,s,i,o,a,c,d,u,f,m)=>(Rn(n)?r="":Rn(s)?r=`>=${n}.0.0${e?"-0":""}`:Rn(i)?r=`>=${n}.${s}.0${e?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Rn(d)?c="":Rn(u)?c=`<${+d+1}.0.0-0`:Rn(f)?c=`<${d}.${+u+1}.0-0`:m?c=`<=${d}.${u}.${f}-${m}`:e?c=`<${d}.${u}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),Jhe=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Wt(e[n].semver),e[n].semver!==JA.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}});var xm=E((Yze,lU)=>{"use strict";var wm=Symbol("SemVer ANY"),tR=class e{static get ANY(){return wm}constructor(t,r){if(r=sU(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),eR("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===wm?this.value="":this.value=this.operator+this.semver.version,eR("comp",this)}parse(t){let r=this.options.loose?iU[oU.COMPARATORLOOSE]:iU[oU.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new aU(n[2],this.options.loose):this.semver=wm}toString(){return this.value}test(t){if(eR("Comparator.test",t,this.options.loose),this.semver===wm||t===wm)return!0;if(typeof t=="string")try{t=new aU(t,this.options)}catch{return!1}return ZA(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new cU(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new cU(this.value,r).test(t.semver):(r=sU(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||ZA(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||ZA(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};lU.exports=tR;var sU=my(),{safeRe:iU,t:oU}=yd(),ZA=XA(),eR=Sm(),aU=cn(),cU=Es()});var Cm=E((Jze,dU)=>{"use strict";var Zhe=Es(),epe=(e,t,r)=>{try{t=new Zhe(t,r)}catch{return!1}return t.test(e)};dU.exports=epe});var fU=E((Zze,uU)=>{"use strict";var tpe=Es(),rpe=(e,t)=>new tpe(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));uU.exports=rpe});var hU=E((e9e,mU)=>{"use strict";var npe=cn(),spe=Es(),ipe=(e,t,r)=>{let n=null,s=null,i=null;try{i=new spe(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new npe(n,r))}),n};mU.exports=ipe});var gU=E((t9e,pU)=>{"use strict";var ope=cn(),ape=Es(),cpe=(e,t,r)=>{let n=null,s=null,i=null;try{i=new ape(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new ope(n,r))}),n};pU.exports=cpe});var SU=E((r9e,bU)=>{"use strict";var rR=cn(),lpe=Es(),yU=Em(),dpe=(e,t)=>{e=new lpe(e,t);let r=new rR("0.0.0");if(e.test(r)||(r=new rR("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],i=null;s.forEach(o=>{let a=new rR(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||yU(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||yU(r,i))&&(r=i)}return r&&e.test(r)?r:null};bU.exports=dpe});var xU=E((n9e,EU)=>{"use strict";var upe=Es(),fpe=(e,t)=>{try{return new upe(e,t).range||"*"}catch{return null}};EU.exports=fpe});var _y=E((s9e,vU)=>{"use strict";var mpe=cn(),_U=xm(),{ANY:hpe}=_U,ppe=Es(),gpe=Cm(),wU=Em(),CU=Sy(),ype=xy(),bpe=Ey(),Spe=(e,t,r,n)=>{e=new mpe(e,n),t=new ppe(t,n);let s,i,o,a,c;switch(r){case">":s=wU,i=ype,o=CU,a=">",c=">=";break;case"<":s=CU,i=bpe,o=wU,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(gpe(e,t,n))return!1;for(let d=0;d<t.set.length;++d){let u=t.set[d],f=null,m=null;if(u.forEach(h=>{h.semver===hpe&&(h=new _U(">=0.0.0")),f=f||h,m=m||h,s(h.semver,f.semver,n)?f=h:o(h.semver,m.semver,n)&&(m=h)}),f.operator===a||f.operator===c||(!m.operator||m.operator===a)&&i(e,m.semver))return!1;if(m.operator===c&&o(e,m.semver))return!1}return!0};vU.exports=Spe});var RU=E((i9e,AU)=>{"use strict";var Epe=_y(),xpe=(e,t,r)=>Epe(e,t,">",r);AU.exports=xpe});var kU=E((o9e,TU)=>{"use strict";var wpe=_y(),Cpe=(e,t,r)=>wpe(e,t,"<",r);TU.exports=Cpe});var OU=E((a9e,PU)=>{"use strict";var IU=Es(),_pe=(e,t,r)=>(e=new IU(e,r),t=new IU(t,r),e.intersects(t,r));PU.exports=_pe});var DU=E((c9e,NU)=>{"use strict";var vpe=Cm(),Ape=Ss();NU.exports=(e,t,r)=>{let n=[],s=null,i=null,o=e.sort((u,f)=>Ape(u,f,r));for(let u of o)vpe(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[u,f]of n)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let c=a.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return c.length<d.length?c:t}});var UU=E((l9e,FU)=>{"use strict";var BU=Es(),sR=xm(),{ANY:nR}=sR,_m=Cm(),iR=Ss(),Rpe=(e,t,r={})=>{if(e===t)return!0;e=new BU(e,r),t=new BU(t,r);let n=!1;e:for(let s of e.set){for(let i of t.set){let o=kpe(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Tpe=[new sR(">=0.0.0-0")],qU=[new sR(">=0.0.0")],kpe=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===nR){if(t.length===1&&t[0].semver===nR)return!0;r.includePrerelease?e=Tpe:e=qU}if(t.length===1&&t[0].semver===nR){if(r.includePrerelease)return!0;t=qU}let n=new Set,s,i;for(let h of e)h.operator===">"||h.operator===">="?s=MU(s,h,r):h.operator==="<"||h.operator==="<="?i=LU(i,h,r):n.add(h.semver);if(n.size>1)return null;let o;if(s&&i){if(o=iR(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let h of n){if(s&&!_m(h,String(s),r)||i&&!_m(h,String(i),r))return null;for(let y of t)if(!_m(h,String(y),r))return!1;return!0}let a,c,d,u,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&i.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let h of t){if(u=u||h.operator===">"||h.operator===">=",d=d||h.operator==="<"||h.operator==="<=",s){if(m&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===m.major&&h.semver.minor===m.minor&&h.semver.patch===m.patch&&(m=!1),h.operator===">"||h.operator===">="){if(a=MU(s,h,r),a===h&&a!==s)return!1}else if(s.operator===">="&&!_m(s.semver,String(h),r))return!1}if(i){if(f&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===f.major&&h.semver.minor===f.minor&&h.semver.patch===f.patch&&(f=!1),h.operator==="<"||h.operator==="<="){if(c=LU(i,h,r),c===h&&c!==i)return!1}else if(i.operator==="<="&&!_m(i.semver,String(h),r))return!1}if(!h.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&u&&!s&&o!==0||m||f)},MU=(e,t,r)=>{if(!e)return t;let n=iR(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},LU=(e,t,r)=>{if(!e)return t;let n=iR(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};FU.exports=Rpe});var vy=E((d9e,VU)=>{"use strict";var oR=yd(),$U=bm(),Ipe=cn(),jU=zA(),Ppe=bc(),Ope=hF(),Npe=gF(),Dpe=SF(),Bpe=wF(),qpe=_F(),Mpe=AF(),Lpe=TF(),Fpe=IF(),Upe=Ss(),$pe=DF(),jpe=qF(),Vpe=by(),zpe=UF(),Hpe=jF(),Gpe=Em(),Kpe=Sy(),Wpe=KA(),Xpe=WA(),Qpe=Ey(),Ype=xy(),Jpe=XA(),Zpe=YF(),ege=xm(),tge=Es(),rge=Cm(),nge=fU(),sge=hU(),ige=gU(),oge=SU(),age=xU(),cge=_y(),lge=RU(),dge=kU(),uge=OU(),fge=DU(),mge=UU();VU.exports={parse:Ppe,valid:Ope,clean:Npe,inc:Dpe,diff:Bpe,major:qpe,minor:Mpe,patch:Lpe,prerelease:Fpe,compare:Upe,rcompare:$pe,compareLoose:jpe,compareBuild:Vpe,sort:zpe,rsort:Hpe,gt:Gpe,lt:Kpe,eq:Wpe,neq:Xpe,gte:Qpe,lte:Ype,cmp:Jpe,coerce:Zpe,Comparator:ege,Range:tge,satisfies:rge,toComparators:nge,maxSatisfying:sge,minSatisfying:ige,minVersion:oge,validRange:age,outside:cge,gtr:lge,ltr:dge,intersects:uge,simplifyRange:fge,subset:mge,SemVer:Ipe,re:oR.re,src:oR.src,tokens:oR.t,SEMVER_SPEC_VERSION:$U.SEMVER_SPEC_VERSION,RELEASE_TYPES:$U.RELEASE_TYPES,compareIdentifiers:jU.compareIdentifiers,rcompareIdentifiers:jU.rcompareIdentifiers}});var HU=E((u9e,zU)=>{var hge=vy();zU.exports=hge.satisfies(process.version,">=15.7.0")});var KU=E((f9e,GU)=>{var pge=vy();GU.exports=pge.satisfies(process.version,">=16.9.0")});var aR=E((m9e,WU)=>{var gge=HU(),yge=KU(),bge={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},Sge={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};WU.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let n=bge[r];if(!n)throw new Error(`Unknown key type "${r}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${n.join(", ")}.`);if(gge)switch(r){case"ec":let s=t.asymmetricKeyDetails.namedCurve,i=Sge[e];if(s!==i)throw new Error(`"alg" parameter "${e}" requires curve "${i}".`);break;case"rsa-pss":if(yge){let o=parseInt(e.slice(-3),10),{hashAlgorithm:a,mgf1HashAlgorithm:c,saltLength:d}=t.asymmetricKeyDetails;if(a!==`sha${o}`||c!==a)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(d!==void 0&&d>o>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var cR=E((h9e,XU)=>{var Ege=vy();XU.exports=Ege.satisfies(process.version,"^6.12.0 || >=8.0.0")});var JU=E((p9e,YU)=>{var $t=ym(),xge=FA(),QU=UA(),wge=LA(),Cge=$A(),_ge=aR(),vge=cR(),Age=ly(),{KeyObject:Rge,createSecretKey:Tge,createPublicKey:kge}=require("crypto"),lR=["RS256","RS384","RS512"],Ige=["ES256","ES384","ES512"],dR=["RS256","RS384","RS512"],Pge=["HS256","HS384","HS512"];vge&&(lR.splice(lR.length,0,"PS256","PS384","PS512"),dR.splice(dR.length,0,"PS256","PS384","PS512"));YU.exports=function(e,t,r,n){typeof r=="function"&&!n&&(n=r,r={}),r||(r={}),r=Object.assign({},r);let s;if(n?s=n:s=function(u,f){if(u)throw u;return f},r.clockTimestamp&&typeof r.clockTimestamp!="number")return s(new $t("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return s(new $t("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return s(new $t("allowInvalidAsymmetricKeyTypes must be a boolean"));let i=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return s(new $t("jwt must be provided"));if(typeof e!="string")return s(new $t("jwt must be a string"));let o=e.split(".");if(o.length!==3)return s(new $t("jwt malformed"));let a;try{a=wge(e,{complete:!0})}catch(u){return s(u)}if(!a)return s(new $t("invalid token"));let c=a.header,d;if(typeof t=="function"){if(!n)return s(new $t("verify must be called asynchronous if secret or public key is provided as a callback"));d=t}else d=function(u,f){return f(null,t)};return d(c,function(u,f){if(u)return s(new $t("error in secret or public key callback: "+u.message));let m=o[2].trim()!=="";if(!m&&f)return s(new $t("jwt signature is required"));if(m&&!f)return s(new $t("secret or public key must be provided"));if(!m&&!r.algorithms)return s(new $t('please specify "none" in "algorithms" to verify unsigned tokens'));if(f!=null&&!(f instanceof Rge))try{f=kge(f)}catch{try{f=Tge(typeof f=="string"?Buffer.from(f):f)}catch{return s(new $t("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(f.type==="secret"?r.algorithms=Pge:["rsa","rsa-pss"].includes(f.asymmetricKeyType)?r.algorithms=dR:f.asymmetricKeyType==="ec"?r.algorithms=Ige:r.algorithms=lR),r.algorithms.indexOf(a.header.alg)===-1)return s(new $t("invalid algorithm"));if(c.alg.startsWith("HS")&&f.type!=="secret")return s(new $t(`secretOrPublicKey must be a symmetric key when using ${c.alg}`));if(/^(?:RS|PS|ES)/.test(c.alg)&&f.type!=="public")return s(new $t(`secretOrPublicKey must be an asymmetric key when using ${c.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{_ge(c.alg,f)}catch(b){return s(b)}let h;try{h=Age.verify(e,a.header.alg,f)}catch(b){return s(b)}if(!h)return s(new $t("invalid signature"));let y=a.payload;if(typeof y.nbf<"u"&&!r.ignoreNotBefore){if(typeof y.nbf!="number")return s(new $t("invalid nbf value"));if(y.nbf>i+(r.clockTolerance||0))return s(new xge("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!r.ignoreExpiration){if(typeof y.exp!="number")return s(new $t("invalid exp value"));if(i>=y.exp+(r.clockTolerance||0))return s(new QU("jwt expired",new Date(y.exp*1e3)))}if(r.audience){let b=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(D){return b.some(function(Y){return Y instanceof RegExp?Y.test(D):Y===D})}))return s(new $t("jwt audience invalid. expected: "+b.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&y.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(y.iss)===-1))return s(new $t("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&y.sub!==r.subject)return s(new $t("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&y.jti!==r.jwtid)return s(new $t("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&y.nonce!==r.nonce)return s(new $t("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof y.iat!="number")return s(new $t("iat required when maxAge is specified"));let b=Cge(r.maxAge,y.iat);if(typeof b>"u")return s(new $t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=b+(r.clockTolerance||0))return s(new QU("maxAge exceeded",new Date(b*1e3)))}if(r.complete===!0){let b=a.signature;return s(null,{header:c,payload:y,signature:b})}return s(null,y)})}});var s4=E((g9e,n4)=>{var ZU=1/0,t4=9007199254740991,Oge=17976931348623157e292,e4=NaN,Nge="[object Arguments]",Dge="[object Function]",Bge="[object GeneratorFunction]",qge="[object String]",Mge="[object Symbol]",Lge=/^\s+|\s+$/g,Fge=/^[-+]0x[0-9a-f]+$/i,Uge=/^0b[01]+$/i,$ge=/^0o[0-7]+$/i,jge=/^(?:0|[1-9]\d*)$/,Vge=parseInt;function zge(e,t){for(var r=-1,n=e?e.length:0,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}function Hge(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}function Gge(e,t,r){if(t!==t)return Hge(e,Kge,r);for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}function Kge(e){return e!==e}function Wge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Xge(e,t){return zge(t,function(r){return e[r]})}function Qge(e,t){return function(r){return e(t(r))}}var Ay=Object.prototype,fR=Ay.hasOwnProperty,Ry=Ay.toString,Yge=Ay.propertyIsEnumerable,Jge=Qge(Object.keys,Object),Zge=Math.max;function eye(e,t){var r=r4(e)||iye(e)?Wge(e.length,String):[],n=r.length,s=!!n;for(var i in e)(t||fR.call(e,i))&&!(s&&(i=="length"||rye(i,n)))&&r.push(i);return r}function tye(e){if(!nye(e))return Jge(e);var t=[];for(var r in Object(e))fR.call(e,r)&&r!="constructor"&&t.push(r);return t}function rye(e,t){return t=t??t4,!!t&&(typeof e=="number"||jge.test(e))&&e>-1&&e%1==0&&e<t}function nye(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ay;return e===r}function sye(e,t,r,n){e=mR(e)?e:pye(e),r=r&&!n?fye(r):0;var s=e.length;return r<0&&(r=Zge(s+r,0)),lye(e)?r<=s&&e.indexOf(t,r)>-1:!!s&&Gge(e,t,r)>-1}function iye(e){return oye(e)&&fR.call(e,"callee")&&(!Yge.call(e,"callee")||Ry.call(e)==Nge)}var r4=Array.isArray;function mR(e){return e!=null&&cye(e.length)&&!aye(e)}function oye(e){return hR(e)&&mR(e)}function aye(e){var t=uR(e)?Ry.call(e):"";return t==Dge||t==Bge}function cye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=t4}function uR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function hR(e){return!!e&&typeof e=="object"}function lye(e){return typeof e=="string"||!r4(e)&&hR(e)&&Ry.call(e)==qge}function dye(e){return typeof e=="symbol"||hR(e)&&Ry.call(e)==Mge}function uye(e){if(!e)return e===0?e:0;if(e=mye(e),e===ZU||e===-ZU){var t=e<0?-1:1;return t*Oge}return e===e?e:0}function fye(e){var t=uye(e),r=t%1;return t===t?r?t-r:t:0}function mye(e){if(typeof e=="number")return e;if(dye(e))return e4;if(uR(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uR(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Lge,"");var r=Uge.test(e);return r||$ge.test(e)?Vge(e.slice(2),r?2:8):Fge.test(e)?e4:+e}function hye(e){return mR(e)?eye(e):tye(e)}function pye(e){return e?Xge(e,hye(e)):[]}n4.exports=sye});var o4=E((y9e,i4)=>{var gye="[object Boolean]",yye=Object.prototype,bye=yye.toString;function Sye(e){return e===!0||e===!1||Eye(e)&&bye.call(e)==gye}function Eye(e){return!!e&&typeof e=="object"}i4.exports=Sye});var u4=E((b9e,d4)=>{var a4=1/0,xye=17976931348623157e292,c4=NaN,wye="[object Symbol]",Cye=/^\s+|\s+$/g,_ye=/^[-+]0x[0-9a-f]+$/i,vye=/^0b[01]+$/i,Aye=/^0o[0-7]+$/i,Rye=parseInt,Tye=Object.prototype,kye=Tye.toString;function Iye(e){return typeof e=="number"&&e==Dye(e)}function l4(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Pye(e){return!!e&&typeof e=="object"}function Oye(e){return typeof e=="symbol"||Pye(e)&&kye.call(e)==wye}function Nye(e){if(!e)return e===0?e:0;if(e=Bye(e),e===a4||e===-a4){var t=e<0?-1:1;return t*xye}return e===e?e:0}function Dye(e){var t=Nye(e),r=t%1;return t===t?r?t-r:t:0}function Bye(e){if(typeof e=="number")return e;if(Oye(e))return c4;if(l4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=l4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Cye,"");var r=vye.test(e);return r||Aye.test(e)?Rye(e.slice(2),r?2:8):_ye.test(e)?c4:+e}d4.exports=Iye});var m4=E((S9e,f4)=>{var qye="[object Number]",Mye=Object.prototype,Lye=Mye.toString;function Fye(e){return!!e&&typeof e=="object"}function Uye(e){return typeof e=="number"||Fye(e)&&Lye.call(e)==qye}f4.exports=Uye});var y4=E((E9e,g4)=>{var $ye="[object Object]";function jye(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Vye(e,t){return function(r){return e(t(r))}}var zye=Function.prototype,h4=Object.prototype,p4=zye.toString,Hye=h4.hasOwnProperty,Gye=p4.call(Object),Kye=h4.toString,Wye=Vye(Object.getPrototypeOf,Object);function Xye(e){return!!e&&typeof e=="object"}function Qye(e){if(!Xye(e)||Kye.call(e)!=$ye||jye(e))return!1;var t=Wye(e);if(t===null)return!0;var r=Hye.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&p4.call(r)==Gye}g4.exports=Qye});var S4=E((x9e,b4)=>{var Yye="[object String]",Jye=Object.prototype,Zye=Jye.toString,e0e=Array.isArray;function t0e(e){return!!e&&typeof e=="object"}function r0e(e){return typeof e=="string"||!e0e(e)&&t0e(e)&&Zye.call(e)==Yye}b4.exports=r0e});var _4=E((w9e,C4)=>{var n0e="Expected a function",E4=1/0,s0e=17976931348623157e292,x4=NaN,i0e="[object Symbol]",o0e=/^\s+|\s+$/g,a0e=/^[-+]0x[0-9a-f]+$/i,c0e=/^0b[01]+$/i,l0e=/^0o[0-7]+$/i,d0e=parseInt,u0e=Object.prototype,f0e=u0e.toString;function m0e(e,t){var r;if(typeof t!="function")throw new TypeError(n0e);return e=b0e(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function h0e(e){return m0e(2,e)}function w4(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function p0e(e){return!!e&&typeof e=="object"}function g0e(e){return typeof e=="symbol"||p0e(e)&&f0e.call(e)==i0e}function y0e(e){if(!e)return e===0?e:0;if(e=S0e(e),e===E4||e===-E4){var t=e<0?-1:1;return t*s0e}return e===e?e:0}function b0e(e){var t=y0e(e),r=t%1;return t===t?r?t-r:t:0}function S0e(e){if(typeof e=="number")return e;if(g0e(e))return x4;if(w4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=w4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(o0e,"");var r=c0e.test(e);return r||l0e.test(e)?d0e(e.slice(2),r?2:8):a0e.test(e)?x4:+e}C4.exports=h0e});var N4=E((C9e,O4)=>{var v4=$A(),E0e=cR(),x0e=aR(),A4=ly(),w0e=s4(),Ty=o4(),R4=u4(),pR=m4(),k4=y4(),ca=S4(),C0e=_4(),{KeyObject:_0e,createSecretKey:v0e,createPrivateKey:A0e}=require("crypto"),I4=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];E0e&&I4.splice(3,0,"PS256","PS384","PS512");var R0e={expiresIn:{isValid:function(e){return R4(e)||ca(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return R4(e)||ca(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return ca(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:w0e.bind(null,I4),message:'"algorithm" must be a valid string enum value'},header:{isValid:k4,message:'"header" must be an object'},encoding:{isValid:ca,message:'"encoding" must be a string'},issuer:{isValid:ca,message:'"issuer" must be a string'},subject:{isValid:ca,message:'"subject" must be a string'},jwtid:{isValid:ca,message:'"jwtid" must be a string'},noTimestamp:{isValid:Ty,message:'"noTimestamp" must be a boolean'},keyid:{isValid:ca,message:'"keyid" must be a string'},mutatePayload:{isValid:Ty,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:Ty,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:Ty,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},T0e={iat:{isValid:pR,message:'"iat" should be a number of seconds'},exp:{isValid:pR,message:'"exp" should be a number of seconds'},nbf:{isValid:pR,message:'"nbf" should be a number of seconds'}};function P4(e,t,r,n){if(!k4(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(s){let i=e[s];if(!i){if(!t)throw new Error('"'+s+'" is not allowed in "'+n+'"');return}if(!i.isValid(r[s]))throw new Error(i.message)})}function k0e(e){return P4(R0e,!1,e,"options")}function I0e(e){return P4(T0e,!0,e,"payload")}var T4={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},P0e=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];O4.exports=function(e,t,r,n){typeof r=="function"?(n=r,r={}):r=r||{};let s=typeof e=="object"&&!Buffer.isBuffer(e),i=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function o(d){if(n)return n(d);throw d}if(!t&&r.algorithm!=="none")return o(new Error("secretOrPrivateKey must have a value"));if(t!=null&&!(t instanceof _0e))try{t=A0e(t)}catch{try{t=v0e(typeof t=="string"?Buffer.from(t):t)}catch{return o(new Error("secretOrPrivateKey is not valid key material"))}}if(i.alg.startsWith("HS")&&t.type!=="secret")return o(new Error(`secretOrPrivateKey must be a symmetric key when using ${i.alg}`));if(/^(?:RS|PS|ES)/.test(i.alg)){if(t.type!=="private")return o(new Error(`secretOrPrivateKey must be an asymmetric key when using ${i.alg}`));if(!r.allowInsecureKeySizes&&!i.alg.startsWith("ES")&&t.asymmetricKeyDetails!==void 0&&t.asymmetricKeyDetails.modulusLength<2048)return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`))}if(typeof e>"u")return o(new Error("payload is required"));if(s){try{I0e(e)}catch(d){return o(d)}r.mutatePayload||(e=Object.assign({},e))}else{let d=P0e.filter(function(u){return typeof r[u]<"u"});if(d.length>0)return o(new Error("invalid "+d.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof r.expiresIn<"u")return o(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof r.notBefore<"u")return o(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{k0e(r)}catch(d){return o(d)}if(!r.allowInvalidAsymmetricKeyTypes)try{x0e(i.alg,t)}catch(d){return o(d)}let a=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=a),typeof r.notBefore<"u"){try{e.nbf=v4(r.notBefore,a)}catch(d){return o(d)}if(typeof e.nbf>"u")return o(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof e=="object"){try{e.exp=v4(r.expiresIn,a)}catch(d){return o(d)}if(typeof e.exp>"u")return o(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(T4).forEach(function(d){let u=T4[d];if(typeof r[d]<"u"){if(typeof e[u]<"u")return o(new Error('Bad "options.'+d+'" option. The payload already has an "'+u+'" property.'));e[u]=r[d]}});let c=r.encoding||"utf8";if(typeof n=="function")n=n&&C0e(n),A4.createSign({header:i,privateKey:t,payload:e,encoding:c}).once("error",n).once("done",function(d){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`));n(null,d)});else{let d=A4.sign({header:i,payload:e,secret:t,encoding:c});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(i.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${i.alg}`);return d}}});var B4=E((_9e,D4)=>{D4.exports={decode:LA(),verify:JU(),sign:N4(),JsonWebTokenError:ym(),NotBeforeError:FA(),TokenExpiredError:UA()}});var so=E(Tt=>{"use strict";Tt.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Tt.HttpAuthLocation||(Tt.HttpAuthLocation={}));Tt.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Tt.HttpApiKeyAuthLocation||(Tt.HttpApiKeyAuthLocation={}));Tt.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Tt.EndpointURLScheme||(Tt.EndpointURLScheme={}));Tt.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Tt.AlgorithmId||(Tt.AlgorithmId={}));var B0e=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Tt.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Tt.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},q0e=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},M0e=e=>B0e(e),L0e=e=>q0e(e);Tt.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Tt.FieldPosition||(Tt.FieldPosition={}));var F0e="__smithy_context";Tt.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Tt.IniSectionType||(Tt.IniSectionType={}));Tt.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Tt.RequestHandlerProtocol||(Tt.RequestHandlerProtocol={}));Tt.SMITHY_CONTEXT_KEY=F0e;Tt.getDefaultClientConfiguration=M0e;Tt.resolveDefaultRuntimeConfig=L0e});var ut=E(la=>{"use strict";var U0e=so(),$0e=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),j0e=e=>({httpHandler:e.httpHandler()}),bR=class{name;kind;values;constructor({name:t,kind:r=U0e.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},SR=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},ER=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=V0e(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function V0e(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var xR=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function z0e(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}la.Field=bR;la.Fields=SR;la.HttpRequest=ER;la.HttpResponse=xR;la.getHttpHandlerExtensionConfiguration=$0e;la.isValidHostname=z0e;la.resolveHttpHandlerRuntimeConfig=j0e});var $4=E(ky=>{"use strict";var H0e=ut();function F4(e){return t=>async r=>{let{request:n}=r;if(e.expectContinueHeader!==!1&&H0e.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof e.expectContinueHeader=="number")try{s=(Number(n.headers?.["content-length"])??e.bodyLengthChecker?.(n.body)??1/0)>=e.expectContinueHeader}catch{}else s=!!e.expectContinueHeader;s&&(n.headers.Expect="100-continue")}return t({...r,request:n})}}var U4={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},G0e=e=>({applyToStack:t=>{t.add(F4(e),U4)}});ky.addExpectContinueMiddleware=F4;ky.addExpectContinueMiddlewareOptions=U4;ky.getAddExpectContinuePlugin=G0e});var Iy,Sd,j4=I(()=>{Iy={warningEmitted:!1},Sd=e=>{e&&!Iy.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Iy.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function da(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var V4=I(()=>{});function z4(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var H4=I(()=>{});function G4(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var K4=I(()=>{});var ua={};Zn(ua,{emitWarningIfUnsupportedVersion:()=>Sd,setCredentialFeature:()=>da,setFeature:()=>z4,setTokenFeature:()=>G4,state:()=>Iy});var Xs=I(()=>{j4();V4();H4();K4()});var W4,wR,X4=I(()=>{W4=N(ut()),wR=e=>W4.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Ed,CR=I(()=>{Ed=e=>new Date(Date.now()+e)});var Q4,Y4=I(()=>{CR();Q4=(e,t)=>Math.abs(Ed(t).getTime()-e)>=3e5});var _R,J4=I(()=>{Y4();_R=(e,t)=>{let r=Date.parse(e);return Q4(r,t)?r-Date.now():t}});var vR=I(()=>{X4();CR();J4()});var Z4,vm,xd,jn,AR,RR=I(()=>{Z4=N(ut());vR();vm=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},xd=async e=>{let t=vm("context",e.context),r=vm("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await vm("signer",r.signer)(n),o=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}},jn=class{async sign(t,r,n){if(!Z4.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await xd(n),{config:i,signer:o}=s,{signingRegion:a,signingName:c}=s,d=n.context;if(d?.authSchemes?.length??!1){let[f,m]=d.authSchemes;f?.name==="sigv4a"&&m?.name==="sigv4"&&(a=m?.signingRegion??a,c=m?.signingName??c)}return await o.sign(t,{signingDate:Ed(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??wR(r.$response);if(n){let s=vm("config",t.config),i=s.systemClockOffset;s.systemClockOffset=_R(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=wR(t);if(n){let s=vm("config",r.config);s.systemClockOffset=_R(n,s.systemClockOffset)}}},AR=jn});var e6,Am,t6=I(()=>{e6=N(ut());vR();RR();Am=class extends jn{async sign(t,r,n){if(!e6.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await xd(n),u=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(t,{signingDate:Ed(s.systemClockOffset),signingRegion:u,signingService:c})}}});var TR,r6=I(()=>{TR=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Py,kR=I(()=>{Py=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var n6,s6,wd,i6=I(()=>{r6();kR();n6="AWS_AUTH_SCHEME_PREFERENCE",s6="auth_scheme_preference",wd={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Py(t.signingName)in e)return["httpBearerAuth"];if(n6 in e)return TR(e[n6])},configFileSelector:e=>{if(s6 in e)return TR(e[s6])},default:[]}});var IR,K0e,o6=I(()=>{IR=N(so()),K0e=e=>e[IR.SMITHY_CONTEXT_KEY]||(e[IR.SMITHY_CONTEXT_KEY]={})});var dn=E(PR=>{"use strict";var a6=so(),W0e=e=>e[a6.SMITHY_CONTEXT_KEY]||(e[a6.SMITHY_CONTEXT_KEY]={}),X0e=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};PR.getSmithyContext=W0e;PR.normalizeProvider=X0e});var c6,l6=I(()=>{c6=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function Q0e(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var d6,Rm,Oy=I(()=>{d6=N(dn());l6();Rm=(e,t)=>(r,n)=>async s=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=c6(i,o),c=Q0e(e.httpAuthSchemes),d=(0,d6.getSmithyContext)(n),u=[];for(let f of a){let m=c.get(f.schemeId);if(!m){u.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let h=m.identityProvider(await t.identityProviderConfigProvider(e));if(!h){u.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:b={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},y),f.signingProperties=Object.assign(f.signingProperties||{},b),d.selectedHttpAuthScheme={httpAuthOption:f,identity:await h(f.identityProperties),signer:m.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(s)}});var u6,Tm,f6=I(()=>{Oy();u6={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Tm=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Rm(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),u6)}})});var fa=E(Cd=>{"use strict";var Y0e=ut(),m6=(e,t)=>(r,n)=>async s=>{let{response:i}=await r(s);try{let o=await t(i,e);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText);try{if(Y0e.HttpResponse.isInstance(i)){let{headers:c={}}=i,d=Object.entries(c);o.$metadata={httpStatusCode:i.statusCode,requestId:OR(/^x-[\w-]+-request-?id$/,d),extendedRequestId:OR(/^x-[\w-]+-id-2$/,d),cfId:OR(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw o}},OR=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],h6=(e,t)=>(r,n)=>async s=>{let i=e,o=n.endpointV2?.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},p6={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},g6={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function J0e(e,t,r){return{applyToStack:n=>{n.add(m6(e,r),p6),n.add(h6(e,t),g6)}}}Cd.deserializerMiddleware=m6;Cd.deserializerMiddlewareOption=p6;Cd.getSerdePlugin=J0e;Cd.serializerMiddleware=h6;Cd.serializerMiddlewareOption=g6});var y6,b6,Z0e,S6=I(()=>{y6=N(fa());Oy();b6={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:y6.serializerMiddlewareOption.name},Z0e=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Rm(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),b6)}})});var E6=I(()=>{Oy();f6();S6()});var x6,w6,ebe,tbe,NR,DR=I(()=>{x6=N(ut()),w6=N(dn()),ebe=e=>t=>{throw t},tbe=(e,t)=>{},NR=e=>(t,r)=>async n=>{if(!x6.HttpRequest.isInstance(n.request))return t(n);let i=(0,w6.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,d=await t({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||ebe)(o));return(c.successHandler||tbe)(d.response,o),d}});var C6,km,_6=I(()=>{DR();C6={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},km=e=>({applyToStack:t=>{t.addRelativeTo(NR(e),C6)}})});var v6=I(()=>{DR();_6()});var ma,A6=I(()=>{ma=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function R6(e,t,r,n,s){return async function*(o,a,...c){let d=a,u=o.startingToken??d[r],f=!0,m;for(;f;){if(d[r]=u,s&&(d[s]=d[s]??o.pageSize),o.client instanceof e)m=await rbe(t,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield m;let h=u;u=nbe(m,n),f=!!(u&&(!o.stopOnSameToken||u!==h))}return void 0}}var rbe,nbe,T6=I(()=>{rbe=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};nbe=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Ny=E(k6=>{"use strict";var sbe=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";k6.isArrayBuffer=sbe});var _d=E(qR=>{"use strict";var ibe=Ny(),BR=require("buffer"),obe=(e,t=0,r=e.byteLength-t)=>{if(!ibe.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return BR.Buffer.from(e,t,r)},abe=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?BR.Buffer.from(e,t):BR.Buffer.from(e)};qR.fromArrayBuffer=obe;qR.fromString=abe});var I6=E(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.fromBase64=void 0;var cbe=_d(),lbe=/^[A-Za-z0-9+/]*={0,2}$/,dbe=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!lbe.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,cbe.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Dy.fromBase64=dbe});var Tr=E(By=>{"use strict";var P6=_d(),O6=e=>{let t=P6.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},ube=e=>typeof e=="string"?O6(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),fbe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return P6.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};By.fromUtf8=O6;By.toUint8Array=ube;By.toUtf8=fbe});var N6=E(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0});qy.toBase64=void 0;var mbe=_d(),hbe=Tr(),pbe=e=>{let t;if(typeof e=="string"?t=(0,hbe.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,mbe.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};qy.toBase64=pbe});var Jr=E(Im=>{"use strict";var D6=I6(),B6=N6();Object.keys(D6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Im,e)&&Object.defineProperty(Im,e,{enumerable:!0,get:function(){return D6[e]}})});Object.keys(B6).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Im,e)&&Object.defineProperty(Im,e,{enumerable:!0,get:function(){return B6[e]}})})});var LR=E(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.ChecksumStream=void 0;var gbe=Jr(),ybe=require("stream"),MR=class extends ybe.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=i??gbe.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};My.ChecksumStream=MR});var ha=E(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.isBlob=vd.isReadableStream=void 0;var bbe=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);vd.isReadableStream=bbe;var Sbe=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);vd.isBlob=Sbe});var q6=E(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.ChecksumStream=void 0;var Ebe=typeof ReadableStream=="function"?ReadableStream:function(){},FR=class extends Ebe{};Ly.ChecksumStream=FR});var M6=E(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0});Fy.createChecksumStream=void 0;var xbe=Jr(),wbe=ha(),Cbe=q6(),_be=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,wbe.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let i=s??xbe.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let o=new TransformStream({start(){},async transform(c,d){t.update(c),d.enqueue(c)},async flush(c){let d=await t.digest(),u=i(d);if(e!==u){let f=new Error(`Checksum mismatch: expected "${e}" but received "${u}" in response header "${n}".`);c.error(f)}else c.terminate()}});r.pipeThrough(o);let a=o.readable;return Object.setPrototypeOf(a,Cbe.ChecksumStream.prototype),a};Fy.createChecksumStream=_be});var L6=E(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});UR.createChecksumStream=Tbe;var vbe=ha(),Abe=LR(),Rbe=M6();function Tbe(e){return typeof ReadableStream=="function"&&(0,vbe.isReadableStream)(e.source)?(0,Rbe.createChecksumStream)(e):new Abe.ChecksumStream(e)}});var jR=E(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0});Uy.ByteArrayCollector=void 0;var $R=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Uy.ByteArrayCollector=$R});var j6=E(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.createBufferedReadable=void 0;io.createBufferedReadableStream=F6;io.merge=U6;io.flush=$y;io.sizeOf=Ad;io.modeOf=$6;var kbe=jR();function F6(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new kbe.ByteArrayCollector(d=>new Uint8Array(d))],a=-1,c=async d=>{let{value:u,done:f}=await n.read(),m=u;if(f){if(a!==-1){let h=$y(o,a);Ad(h)>0&&d.enqueue(h)}d.close()}else{let h=$6(m,!1);if(a!==h&&(a>=0&&d.enqueue($y(o,a)),a=h),a===-1){d.enqueue(m);return}let y=Ad(m);i+=y;let b=Ad(o[a]);if(y>=t&&b===0)d.enqueue(m);else{let v=U6(o,a,m);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),v>=t?d.enqueue($y(o,a)):await c(d)}}};return new ReadableStream({pull:c})}io.createBufferedReadable=F6;function U6(e,t,r){switch(t){case 0:return e[0]+=r,Ad(e[0]);case 1:case 2:return e[t].push(r),Ad(e[t])}}function $y(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Ad(e){return e?.byteLength??e?.length??0}function $6(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var z6=E(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});VR.createBufferedReadable=Obe;var Ibe=require("node:stream"),V6=jR(),oo=j6(),Pbe=ha();function Obe(e,t,r){if((0,Pbe.isReadableStream)(e))return(0,oo.createBufferedReadableStream)(e,t,r);let n=new Ibe.Readable({read(){}}),s=!1,i=0,o=["",new V6.ByteArrayCollector(c=>new Uint8Array(c)),new V6.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let d=(0,oo.modeOf)(c,!0);if(a!==d&&(a>=0&&n.push((0,oo.flush)(o,a)),a=d),a===-1){n.push(c);return}let u=(0,oo.sizeOf)(c);i+=u;let f=(0,oo.sizeOf)(o[a]);if(u>=t&&f===0)n.push(c);else{let m=(0,oo.merge)(o,a,c);!s&&i>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${t}, automatically buffering.`)),m>=t&&n.push((0,oo.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,oo.flush)(o,a);(0,oo.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var H6=E(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});jy.getAwsChunkedEncodingStream=void 0;var Nbe=require("stream"),Dbe=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,e):void 0,d=new Nbe.Readable({read:()=>{}});return e.on("data",u=>{let f=n(u)||0;d.push(`${f.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let u=r(await c);d.push(`${i}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};jy.getAwsChunkedEncodingStream=Dbe});var G6=E(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});zR.headStream=Bbe;async function Bbe(e,t){let r=0,n=[],s=e.getReader(),i=!1;for(;!i;){let{done:c,value:d}=await s.read();if(d&&(n.push(d),r+=d?.byteLength??0),r>=t)break;i=c}s.releaseLock();let o=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o}});var K6=E(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0});Vy.headStream=void 0;var qbe=require("stream"),Mbe=G6(),Lbe=ha(),Fbe=(e,t)=>(0,Lbe.isReadableStream)(e)?(0,Mbe.headStream)(e,t):new Promise((r,n)=>{let s=new HR;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});Vy.headStream=Fbe;var HR=class extends qbe.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var KR=E(GR=>{"use strict";var W6=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ube),Ube=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,$be=e=>e.split("/").map(W6).join("/");GR.escapeUri=W6;GR.escapeUriPath=$be});var zy=E(X6=>{"use strict";var WR=KR();function jbe(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=WR.escapeUri(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${WR.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${WR.escapeUri(n)}`),t.push(s)}}return t.join("&")}X6.buildQueryString=jbe});var Sc=E(Pm=>{"use strict";var Z6=ut(),e$=zy(),Hy=require("http"),Gy=require("https"),t$=require("stream"),XR=require("http2"),Vbe=["ECONNRESET","EPIPE","ETIMEDOUT"],r$=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Tn={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Q6=1e3,zbe=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let i=Tn.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),o=a=>{a?.connecting?a.on("connect",()=>{Tn.clearTimeout(i)}):Tn.clearTimeout(i)};e.socket?o(e.socket):e.on("socket",o)};return r<2e3?(n(0),0):Tn.setTimeout(n.bind(null,Q6),Q6)},Hbe=(e,t,r=0,n,s)=>r?Tn.setTimeout(()=>{let i=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let o=Object.assign(new Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(o),t(o)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(i)},r):-1,Gbe=3e3,Kbe=(e,{keepAlive:t,keepAliveMsecs:r},n=Gbe)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})};return n===0?(s(),0):Tn.setTimeout(s,n)},Y6=3e3,Wbe=(e,t,r=0)=>{let n=s=>{let i=r-s,o=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(i,o)};return 0<r&&r<6e3?(n(0),0):Tn.setTimeout(n.bind(null,r===0?0:Y6),Y6)},J6=6e3;async function n$(e,t,r=J6){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Tn.setTimeout(()=>a(!0),Math.max(J6,r)))}),new Promise(a=>{e.on("continue",()=>{Tn.clearTimeout(i),a(!0)}),e.on("response",()=>{Tn.clearTimeout(i),a(!1)}),e.on("error",()=>{Tn.clearTimeout(i),a(!1)})})])),o&&Xbe(e,t.body)}function Xbe(e,t){if(t instanceof t$.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var Qbe=0,QR=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let c in s){let d=s[c]?.length??0,u=i[c]?.length??0;if(d>=o&&u>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a,throwOnRequestTimeout:c}=t||{},d=!0,u=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:i,throwOnRequestTimeout:c,httpAgent:o instanceof Hy.Agent||typeof o?.destroy=="function"?o:new Hy.Agent({keepAlive:d,maxSockets:u,...o}),httpsAgent:a instanceof Gy.Agent||typeof a?.destroy=="function"?a:new Gy.Agent({keepAlive:d,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o=this.config,a,c=[],d=async J=>{await a,c.forEach(Tn.clearTimeout),s(J)},u=async J=>{await a,c.forEach(Tn.clearTimeout),i(J)};if(r?.aborted){let J=new Error("Request aborted");J.name="AbortError",u(J);return}let f=t.protocol==="https:",m=t.headers??{},h=(m.Expect??m.expect)==="100-continue",y=f?o.httpsAgent:o.httpAgent;h&&(y=new(f?Gy.Agent:Hy.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(Tn.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,o.logger)},o.socketAcquisitionWarningTimeout??(o.requestTimeout??2e3)+(o.connectionTimeout??1e3)));let b=e$.buildQueryString(t.query||{}),v;if(t.username!=null||t.password!=null){let J=t.username??"",te=t.password??"";v=`${J}:${te}`}let R=t.path;b&&(R+=`?${b}`),t.fragment&&(R+=`#${t.fragment}`);let D=t.hostname??"";D[0]==="["&&D.endsWith("]")?D=t.hostname.slice(1,-1):D=t.hostname;let Y={headers:t.headers,host:D,method:t.method,path:R,port:t.port,agent:y,auth:v},ye=(f?Gy.request:Hy.request)(Y,J=>{let te=new Z6.HttpResponse({statusCode:J.statusCode||-1,reason:J.statusMessage,headers:r$(J.headers),body:J});d({response:te})});if(ye.on("error",J=>{Vbe.includes(J.code)?u(Object.assign(J,{name:"TimeoutError"})):u(J)}),r){let J=()=>{ye.destroy();let te=new Error("Request aborted");te.name="AbortError",u(te)};if(typeof r.addEventListener=="function"){let te=r;te.addEventListener("abort",J,{once:!0}),ye.once("close",()=>te.removeEventListener("abort",J))}else r.onabort=J}let re=n??o.requestTimeout;c.push(zbe(ye,u,o.connectionTimeout)),c.push(Hbe(ye,u,re,o.throwOnRequestTimeout,o.logger??console)),c.push(Wbe(ye,u,o.socketTimeout));let W=Y.agent;typeof W=="object"&&"keepAlive"in W&&c.push(Kbe(ye,{keepAlive:W.keepAlive,keepAliveMsecs:W.keepAliveMsecs})),a=n$(ye,t,re).catch(J=>(c.forEach(Tn.clearTimeout),i(J)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},YR=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},JR=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let i=XR.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let o=()=>{i.destroy(),this.deleteSession(n,i)};i.on("goaway",o),i.on("error",o),i.on("frameError",o),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new YR;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},ZR=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new JR({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,c)=>{let d=!1,u,f=async ge=>{await u,a(ge)},m=async ge=>{await u,c(ge)};if(r?.aborted){d=!0;let ge=new Error("Request aborted");ge.name="AbortError",m(ge);return}let{hostname:h,method:y,port:b,protocol:v,query:R}=t,D="";if(t.username!=null||t.password!=null){let ge=t.username??"",be=t.password??"";D=`${ge}:${be}@`}let Y=`${v}//${D}${h}${b?`:${b}`:""}`,ee={destination:new URL(Y)},ye=this.connectionManager.lease(ee,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),re=ge=>{i&&this.destroySession(ye),d=!0,m(ge)},W=e$.buildQueryString(R||{}),J=t.path;W&&(J+=`?${W}`),t.fragment&&(J+=`#${t.fragment}`);let te=ye.request({...t.headers,[XR.constants.HTTP2_HEADER_PATH]:J,[XR.constants.HTTP2_HEADER_METHOD]:y});if(ye.ref(),te.on("response",ge=>{let be=new Z6.HttpResponse({statusCode:ge[":status"]||-1,headers:r$(ge),body:te});d=!0,f({response:be}),i&&(ye.close(),this.connectionManager.deleteSession(Y,ye))}),o&&te.setTimeout(o,()=>{te.close();let ge=new Error(`Stream timed out because of no activity for ${o} ms`);ge.name="TimeoutError",re(ge)}),r){let ge=()=>{te.close();let be=new Error("Request aborted");be.name="AbortError",re(be)};if(typeof r.addEventListener=="function"){let be=r;be.addEventListener("abort",ge,{once:!0}),te.once("close",()=>be.removeEventListener("abort",ge))}else r.onabort=ge}te.on("frameError",(ge,be,Te)=>{re(new Error(`Frame type id ${ge} in stream id ${Te} has failed with code ${be}.`))}),te.on("error",re),te.on("aborted",()=>{re(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${te.rstCode}.`))}),te.on("close",()=>{ye.unref(),i&&ye.destroy(),d||re(new Error("Unexpected error: http2 request did not get a response"))}),u=n$(te,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},eT=class extends t$.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},Ybe=e=>Jbe(e)?Zbe(e):new Promise((t,r)=>{let n=new eT;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),Jbe=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Zbe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Pm.DEFAULT_REQUEST_TIMEOUT=Qbe;Pm.NodeHttp2Handler=ZR;Pm.NodeHttpHandler=QR;Pm.streamCollector=Ybe});var o$=E(Wy=>{"use strict";var s$=ut(),eSe=zy(),tSe=Jr();function i$(e,t){return new Request(e,t)}function rSe(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Ky={supported:void 0},tT=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Ky.supported===void 0&&(Ky.supported=typeof Request<"u"&&"keepalive"in i$("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r?.aborted){let D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let a=t.path,c=eSe.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let d="";if(t.username!=null||t.password!=null){let D=t.username??"",Y=t.password??"";d=`${D}:${Y}@`}let{port:u,method:f}=t,m=`${t.protocol}//${d}${t.hostname}${u?`:${u}`:""}${a}`,h=f==="GET"||f==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:f,credentials:o};this.config?.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Ky.supported&&(y.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let b=()=>{},v=i$(m,y),R=[fetch(v).then(D=>{let Y=D.headers,ee={};for(let re of Y.entries())ee[re[0]]=re[1];return D.body!=null?{response:new s$.HttpResponse({headers:ee,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(re=>({response:new s$.HttpResponse({headers:ee,reason:D.statusText,statusCode:D.status,body:re})}))}),rSe(s)];return r&&R.push(new Promise((D,Y)=>{let ee=()=>{let ye=new Error("Request aborted");ye.name="AbortError",Y(ye)};if(typeof r.addEventListener=="function"){let ye=r;ye.addEventListener("abort",ee,{once:!0}),b=()=>ye.removeEventListener("abort",ee)}else r.onabort=ee})),Promise.race(R).finally(b)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},nSe=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):sSe(e):iSe(e);async function sSe(e){let t=await oSe(e),r=tSe.fromBase64(t);return new Uint8Array(r)}async function iSe(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}function oSe(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Wy.FetchHttpHandler=tT;Wy.keepAliveSupport=Ky;Wy.streamCollector=nSe});var Xy=E(nT=>{"use strict";var a$={},rT={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),a$[e]=t,rT[t]=e}function aSe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in rT)t[r/2]=rT[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function cSe(e){let t="";for(let r=0;r<e.byteLength;r++)t+=a$[e[r]];return t}nT.fromHex=aSe;nT.toHex=cSe});var u$=E(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0});Qy.sdkStreamMixin=void 0;var lSe=o$(),dSe=Jr(),uSe=Xy(),fSe=Tr(),c$=ha(),l$="The stream has already been transformed.",mSe=e=>{if(!d$(e)&&!(0,c$.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(l$);return t=!0,await(0,lSe.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let i=await r();if(s==="base64")return(0,dSe.toBase64)(i);if(s==="hex")return(0,uSe.toHex)(i);if(s===void 0||s==="utf8"||s==="utf-8")return(0,fSe.toUtf8)(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(l$);if(t=!0,d$(e))return n(e);if((0,c$.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Qy.sdkStreamMixin=mSe;var d$=e=>typeof Blob=="function"&&e instanceof Blob});var m$=E(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});Yy.sdkStreamMixin=void 0;var hSe=Sc(),pSe=_d(),sT=require("stream"),gSe=u$(),f$="The stream has already been transformed.",ySe=e=>{if(!(e instanceof sT.Readable))try{return(0,gSe.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(f$);return t=!0,await(0,hSe.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,pSe.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(f$);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof sT.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,sT.Readable.toWeb(e)}})};Yy.sdkStreamMixin=ySe});var h$=E(iT=>{"use strict";Object.defineProperty(iT,"__esModule",{value:!0});iT.splitStream=bSe;async function bSe(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var y$=E(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});oT.splitStream=ESe;var p$=require("stream"),SSe=h$(),g$=ha();async function ESe(e){if((0,g$.isReadableStream)(e)||(0,g$.isBlob)(e))return(0,SSe.splitStream)(e);let t=new p$.PassThrough,r=new p$.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Ec=E(Lr=>{"use strict";var b$=Jr(),S$=Tr(),E$=LR(),x$=L6(),w$=z6(),C$=H6(),_$=K6(),v$=m$(),A$=y$(),R$=ha(),aT=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(b$.fromBase64(t)):e.mutate(S$.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?b$.toBase64(this):S$.toUtf8(this)}};Lr.Uint8ArrayBlobAdapter=aT;Object.keys(E$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return E$[e]}})});Object.keys(x$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return x$[e]}})});Object.keys(w$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return w$[e]}})});Object.keys(C$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return C$[e]}})});Object.keys(_$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return _$[e]}})});Object.keys(v$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return v$[e]}})});Object.keys(A$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return A$[e]}})});Object.keys(R$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Lr,e)&&Object.defineProperty(Lr,e,{enumerable:!0,get:function(){return R$[e]}})})});var Jy,Qs,Zy=I(()=>{Jy=N(Ec()),Qs=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Jy.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Jy.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Jy.Uint8ArrayBlobAdapter.mutate(await r)}});function wi(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var e0=I(()=>{});var Ys,cT=I(()=>{Ys=e=>typeof e=="function"?e():e});var Om,t0=I(()=>{Om=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var T$,k$,I$,lT,P$=I(()=>{T$=N(ut()),k$=N(dn());t0();I$=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:i}=(0,k$.getSmithyContext)(r),[,o,a,c,d,u]=i??[];try{let f=await e.protocol.deserializeResponse(Om(o,a,c,d,u),{...e,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s}),!("$metadata"in f)){let m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+m}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(m):r.logger?.warn?.(m)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(T$.HttpResponse.isInstance(s)){let{headers:h={}}=s,y=Object.entries(h);f.$metadata={httpStatusCode:s.statusCode,requestId:lT(/^x-[\w-]+-request-?id$/,y),extendedRequestId:lT(/^x-[\w-]+-id-2$/,y),cfId:lT(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw f}},lT=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var O$,N$,D$=I(()=>{O$=N(dn());t0();N$=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,O$.getSmithyContext)(r),[,i,o,a,c,d]=s??[],u=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,f=await e.protocol.serializeRequest(Om(i,o,a,c,d),n.input,{...e,...r,endpoint:u});return t({...n,request:f})}});function xSe(e){return{applyToStack:t=>{t.add(N$(e),q$),t.add(I$(e),B$),e.protocol.setSerdeContext(e)}}}var B$,q$,M$=I(()=>{P$();D$();B$={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},q$={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var gr,pa=I(()=>{gr=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var r0,wSe,L$=I(()=>{pa();r0=class e extends gr{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},wSe=(e,t,r,n)=>gr.assign(new r0,{name:t,namespace:e,traits:r,valueSchema:n})});var n0,CSe,F$=I(()=>{pa();n0=class e extends gr{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},CSe=(e,t,r,n,s)=>gr.assign(new n0,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var s0,_Se,U$=I(()=>{pa();s0=class e extends gr{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},_Se=(e,t,r,n,s)=>gr.assign(new s0,{name:t,namespace:e,traits:r,input:n,output:s})});var Rd,vSe,dT=I(()=>{pa();Rd=class e extends gr{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},vSe=(e,t,r,n,s)=>gr.assign(new Rd,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var i0,ASe,$$=I(()=>{pa();dT();i0=class e extends Rd{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},ASe=(e,t,r,n,s,i)=>gr.assign(new i0,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function Ci(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var uT=I(()=>{});function Nm(e,t){if(e instanceof Ee)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=Ee;return new r(e,t)}var Ee,fT,j$,V$=I(()=>{cT();uT();Ee=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,i=t;for(this._isMemberSchema=!1;fT(s);)n.push(s[1]),s=s[0],i=Ys(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let o=n.length-1;o>=0;--o){let a=n[o];Object.assign(this.memberTraits,Ci(a))}}else this.memberTraits=0;if(i instanceof e){let o=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},o,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=Ys(i),j$(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Ys(t);if(r instanceof e)return r;if(fT(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Ci(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=i=>(i&4)===4||!!i?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Ci(this.memberTraits)}getOwnTraits(){return Ci(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return Nm([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(i!=null)return Nm([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return Nm(fT(s)?s:[s,0],t)}if(this.isDocumentSchema())return Nm([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Nm([t[5][r],0],t[4][r])]}};fT=e=>Array.isArray(e)&&e.length===2,j$=e=>Array.isArray(e)&&e.length>=5});var Dm,RSe,TSe,z$=I(()=>{pa();Dm=class e extends gr{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},RSe=(e,t,r,n)=>gr.assign(new Dm,{name:t,namespace:e,traits:n,schemaRef:r}),TSe=(e,t,r,n)=>gr.assign(new Dm,{name:t,namespace:e,traits:r,schemaRef:n})});var kSe,H$=I(()=>{kSe={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var kr,G$=I(()=>{kr=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var K$={};Zn(K$,{ErrorSchema:()=>i0,ListSchema:()=>r0,MapSchema:()=>n0,NormalizedSchema:()=>Ee,OperationSchema:()=>s0,SCHEMA:()=>kSe,Schema:()=>gr,SimpleSchema:()=>Dm,StructureSchema:()=>Rd,TypeRegistry:()=>kr,deref:()=>Ys,deserializerMiddlewareOption:()=>B$,error:()=>ASe,getSchemaSerdePlugin:()=>xSe,isStaticSchema:()=>j$,list:()=>wSe,map:()=>CSe,op:()=>_Se,operation:()=>Om,serializerMiddlewareOption:()=>q$,sim:()=>RSe,simAdapter:()=>TSe,struct:()=>vSe,translateTraits:()=>Ci});var dr=I(()=>{cT();M$();L$();F$();U$();t0();$$();V$();pa();z$();dT();H$();uT();G$()});var ISe,W$=I(()=>{ISe=(e,t,r=n=>n)=>e});var PSe,OSe,Bm,NSe,o0,qm,DSe,mT,hT,pT,gT,BSe,qSe,X$,MSe,LSe,c0,FSe,yT,USe,Td,bT,$Se,jSe,VSe,Q$,Y$,zSe,HSe,xc,ST,a0,Mm,ET=I(()=>{PSe=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},OSe=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Mm.warn(a0(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Mm.warn(a0(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Bm=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Mm.warn(a0(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},NSe=Math.ceil(34028234663852886e22),o0=e=>{let t=Bm(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>NSe)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},qm=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},DSe=qm,mT=e=>gT(e,32),hT=e=>gT(e,16),pT=e=>gT(e,8),gT=(e,t)=>{let r=qm(e);if(r!==void 0&&BSe(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},BSe=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},qSe=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},X$=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},MSe=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Mm.warn(a0(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},LSe=e=>{if(e==null)return;let t=X$(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},c0=e=>Bm(typeof e=="string"?Td(e):e),FSe=c0,yT=e=>o0(typeof e=="string"?Td(e):e),USe=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Td=e=>{let t=e.match(USe);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},bT=e=>typeof e=="string"?Q$(e):Bm(e),$Se=bT,jSe=bT,VSe=e=>typeof e=="string"?Q$(e):o0(e),Q$=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Y$=e=>qm(typeof e=="string"?Td(e):e),zSe=Y$,HSe=e=>mT(typeof e=="string"?Td(e):e),xc=e=>hT(typeof e=="string"?Td(e):e),ST=e=>pT(typeof e=="string"?Td(e):e),a0=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Mm={warn:console.warn}});function Fm(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,u=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`;return`${GSe[n]}, ${c} ${wT[r]} ${t} ${d}:${u}:${f} GMT`}var GSe,wT,KSe,WSe,XSe,CT,QSe,YSe,JSe,_T,vT,Lm,ZSe,eEe,tEe,xT,rEe,nEe,sEe,_i,iEe,oEe,kd,J$=I(()=>{ET();GSe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];KSe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),WSe=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=KSe.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d]=t,u=xc(kd(n)),f=_i(s,"month",1,12),m=_i(i,"day",1,31);return Lm(u,f,m,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})},XSe=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),CT=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=XSe.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,c,d,u]=t,f=xc(kd(n)),m=_i(s,"month",1,12),h=_i(i,"day",1,31),y=Lm(f,m,h,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-oEe(u)),y},QSe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YSe=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),JSe=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),_T=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=QSe.exec(e);if(t){let[r,n,s,i,o,a,c,d]=t;return Lm(xc(kd(i)),xT(s),_i(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=YSe.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return tEe(Lm(ZSe(i),xT(s),_i(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=JSe.exec(e),t){let[r,n,s,i,o,a,c,d]=t;return Lm(xc(kd(d)),xT(n),_i(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},vT=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=c0(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Lm=(e,t,r,n)=>{let s=t-1;return nEe(e,s,r),new Date(Date.UTC(e,s,r,_i(n.hours,"hour",0,23),_i(n.minutes,"minute",0,59),_i(n.seconds,"seconds",0,60),iEe(n.fractionalMilliseconds)))},ZSe=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+xc(kd(e));return r<t?r+100:r},eEe=50*365*24*60*60*1e3,tEe=e=>e.getTime()-new Date().getTime()>eEe?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,xT=e=>{let t=wT.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},rEe=[31,28,31,30,31,30,31,31,30,31,30,31],nEe=(e,t,r)=>{let n=rEe[t];if(t===1&&sEe(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${wT[t]} in ${e}: ${r}`)},sEe=e=>e%4===0&&(e%100!==0||e%400===0),_i=(e,t,r,n)=>{let s=ST(kd(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},iEe=e=>e==null?0:yT("0."+e)*1e3,oEe=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},kd=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var vi={};Zn(vi,{__addDisposableResource:()=>Cj,__assign:()=>l0,__asyncDelegator:()=>pj,__asyncGenerator:()=>hj,__asyncValues:()=>gj,__await:()=>Id,__awaiter:()=>cj,__classPrivateFieldGet:()=>Ej,__classPrivateFieldIn:()=>wj,__classPrivateFieldSet:()=>xj,__createBinding:()=>u0,__decorate:()=>tj,__disposeResources:()=>_j,__esDecorate:()=>nj,__exportStar:()=>dj,__extends:()=>Z$,__generator:()=>lj,__importDefault:()=>Sj,__importStar:()=>bj,__makeTemplateObject:()=>yj,__metadata:()=>aj,__param:()=>rj,__propKey:()=>ij,__read:()=>TT,__rest:()=>ej,__rewriteRelativeImportExtension:()=>vj,__runInitializers:()=>sj,__setFunctionName:()=>oj,__spread:()=>uj,__spreadArray:()=>mj,__spreadArrays:()=>fj,__values:()=>d0,default:()=>lEe});function Z$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");AT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ej(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function tj(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function rj(e,t){return function(r,n){t(r,n,e)}}function nj(e,t,r,n,s,i){function o(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),f,m=!1,h=r.length-1;h>=0;h--){var y={};for(var b in n)y[b]=b==="access"?{}:n[b];for(var b in n.access)y.access[b]=n.access[b];y.addInitializer=function(R){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(R||null))};var v=(0,r[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],y);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=o(v.get))&&(u.get=f),(f=o(v.set))&&(u.set=f),(f=o(v.init))&&s.unshift(f)}else(f=o(v))&&(a==="field"?s.unshift(f):u[c]=f)}d&&Object.defineProperty(d,n.name,u),m=!0}function sj(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ij(e){return typeof e=="symbol"?e:"".concat(e)}function oj(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function aj(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function cj(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function lj(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function dj(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&u0(t,e,r)}function d0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function TT(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function uj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(TT(arguments[t]));return e}function fj(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function mj(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Id(e){return this instanceof Id?(this.v=e,this):new Id(e)}function hj(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(y){return Promise.resolve(y).then(h,f)}}function a(h,y){n[h]&&(s[h]=function(b){return new Promise(function(v,R){i.push([h,b,v,R])>1||c(h,b)})},y&&(s[h]=y(s[h])))}function c(h,y){try{d(n[h](y))}catch(b){m(i[0][3],b)}}function d(h){h.value instanceof Id?Promise.resolve(h.value.v).then(u,f):m(i[0][2],h)}function u(h){c("next",h)}function f(h){c("throw",h)}function m(h,y){h(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function pj(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Id(e[s](o)),done:!1}:i?i(o):o}:i}}function gj(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof d0=="function"?d0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},o)}}function yj(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function bj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=RT(e),n=0;n<r.length;n++)r[n]!=="default"&&u0(t,e,r[n]);return aEe(t,e),t}function Sj(e){return e&&e.__esModule?e:{default:e}}function Ej(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function xj(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function wj(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Cj(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function _j(e){function t(i){e.error=e.hasError?new cEe(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function vj(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var AT,l0,u0,aEe,RT,cEe,lEe,Ai=I(()=>{AT=function(e,t){return AT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},AT(e,t)};l0=function(){return l0=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},l0.apply(this,arguments)};u0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});aEe=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},RT=function(e){return RT=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},RT(e)};cEe=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};lEe={__extends:Z$,__assign:l0,__rest:ej,__decorate:tj,__param:rj,__esDecorate:nj,__runInitializers:sj,__propKey:ij,__setFunctionName:oj,__metadata:aj,__awaiter:cj,__generator:lj,__createBinding:u0,__exportStar:dj,__values:d0,__read:TT,__spread:uj,__spreadArrays:fj,__spreadArray:mj,__await:Id,__asyncGenerator:hj,__asyncDelegator:pj,__asyncValues:gj,__makeTemplateObject:yj,__importStar:bj,__importDefault:Sj,__classPrivateFieldGet:Ej,__classPrivateFieldSet:xj,__classPrivateFieldIn:wj,__addDisposableResource:Cj,__disposeResources:_j,__rewriteRelativeImportExtension:vj}});var Rj=E(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.randomUUID=void 0;var dEe=(Ai(),je(vi)),Aj=dEe.__importDefault(require("crypto"));f0.randomUUID=Aj.default.randomUUID.bind(Aj.default)});var m0=E(kj=>{"use strict";var Tj=Rj(),un=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),uEe=()=>{if(Tj.randomUUID)return Tj.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,un[e[0]]+un[e[1]]+un[e[2]]+un[e[3]]+"-"+un[e[4]]+un[e[5]]+"-"+un[e[6]]+un[e[7]]+"-"+un[e[8]]+un[e[9]]+"-"+un[e[10]]+un[e[11]]+un[e[12]]+un[e[13]]+un[e[14]]+un[e[15]]};kj.v4=uEe});var Ri,Ij=I(()=>{Ri=N(m0())});var kn,Pj=I(()=>{kn=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};kn.from=e=>e&&typeof e=="object"&&(e instanceof kn||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?kn(String(e)):kn(JSON.stringify(e));kn.fromObject=kn.from});function kT(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Oj=I(()=>{});function ao(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var IT,PT,OT,Nj,Dj,fEe,mEe,hEe,pEe,gEe,Um,NT,DT,Bj=I(()=>{IT="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",PT="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",OT="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Nj="(\\d?\\d)",Dj="(\\d{4})",fEe=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),mEe=new RegExp(`^${IT}, ${Nj} ${PT} ${Dj} ${OT} GMT$`),hEe=new RegExp(`^${IT}, ${Nj}-${PT}-(\\d\\d) ${OT} GMT$`),pEe=new RegExp(`^${IT} ${PT} ( [1-9]|\\d\\d) ${OT} ${Dj}$`),gEe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Um=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},NT=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=fEe.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,i,o,a,,c,d]=t;ao(n,1,12),ao(s,1,31),ao(i,0,23),ao(o,0,59),ao(a,0,60);let u=new Date;if(u.setUTCFullYear(Number(r),Number(n)-1,Number(s)),u.setUTCHours(Number(i)),u.setUTCMinutes(Number(o)),u.setUTCSeconds(Number(a)),u.setUTCMilliseconds(Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0),d.toUpperCase()!="Z"){let[,f,m,h]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],y=f==="-"?1:-1;u.setTime(u.getTime()+y*(Number(m)*60*60*1e3+Number(h)*60*1e3))}return u},DT=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,i,o,a,c;if((c=mEe.exec(e))?[,t,r,n,s,i,o,a]=c:(c=hEe.exec(e))?([,t,r,n,s,i,o,a]=c,n=(Number(n)+1900).toString()):(c=pEe.exec(e))&&([,r,t,s,i,o,a,n]=c),n&&o){let d=new Date;return d.setUTCFullYear(Number(n)),d.setUTCMonth(gEe.indexOf(r)),ao(t,1,31),d.setUTCDate(Number(t)),ao(s,0,23),d.setUTCHours(Number(s)),ao(i,0,59),d.setUTCMinutes(Number(i)),ao(o,0,60),d.setUTCSeconds(Number(o)),d.setUTCMilliseconds(a?Math.round(parseFloat(`0.${a}`)*1e3):0),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function BT(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var qj=I(()=>{});var $m,Mj=I(()=>{$m=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function qT(e){return new tr(String(e),"bigDecimal")}var Lj,tr,Fj=I(()=>{Lj=/^-?\d*(\.\d+)?$/,tr=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!Lj.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&Lj.test(r.string)}}});var Uj={};Zn(Uj,{LazyJsonString:()=>kn,NumericValue:()=>tr,_parseEpochTimestamp:()=>Um,_parseRfc3339DateTimeWithOffset:()=>NT,_parseRfc7231DateTime:()=>DT,copyDocumentWithTransform:()=>ISe,dateToUtcString:()=>Fm,expectBoolean:()=>OSe,expectByte:()=>pT,expectFloat32:()=>o0,expectInt:()=>DSe,expectInt32:()=>mT,expectLong:()=>qm,expectNonNull:()=>qSe,expectNumber:()=>Bm,expectObject:()=>X$,expectShort:()=>hT,expectString:()=>MSe,expectUnion:()=>LSe,generateIdempotencyToken:()=>Ri.v4,handleFloat:()=>$Se,limitedParseDouble:()=>bT,limitedParseFloat:()=>jSe,limitedParseFloat32:()=>VSe,logger:()=>Mm,nv:()=>qT,parseBoolean:()=>PSe,parseEpochTimestamp:()=>vT,parseRfc3339DateTime:()=>WSe,parseRfc3339DateTimeWithOffset:()=>CT,parseRfc7231DateTime:()=>_T,quoteHeader:()=>kT,splitEvery:()=>BT,splitHeader:()=>$m,strictParseByte:()=>ST,strictParseDouble:()=>c0,strictParseFloat:()=>FSe,strictParseFloat32:()=>yT,strictParseInt:()=>zSe,strictParseInt32:()=>HSe,strictParseLong:()=>Y$,strictParseShort:()=>xc});var Vn=I(()=>{W$();J$();Ij();Pj();ET();Oj();Bj();qj();Mj();Fj()});var In,Pd=I(()=>{In=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var $j,MT,jj=I(()=>{$j=N(Tr()),MT=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=this.serializer,c=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let m=a.flush();yield{[d]:!0,headers:f,body:m}}for await(let f of t)yield f}};return s.serialize(u,f=>{if(f[d])return{headers:f.headers,body:f.body};let m=Object.keys(f).find(D=>D!=="__type")??"",{additionalHeaders:h,body:y,eventType:b,explicitPayloadContentType:v}=this.writeEventBody(m,o,f);return{headers:{":event-type":{type:"string",value:b},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:v??c},...h},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),c=Symbol("initialResponseMarker"),d=s.deserialize(t.body,async m=>{let h=Object.keys(m).find(y=>y!=="__type")??"";if(h==="initial-response"){let y=await this.deserializer.read(r,m[h].body);return delete y[i],{[c]:!0,...y}}else if(h in a){let y=a[h];return{[h]:await this.deserializer.read(y,m[h].body)}}else return{$unknown:m}}),u=d[Symbol.asyncIterator](),f=await u.next();if(f.done)return d;if(f.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[m,h]of Object.entries(f.value))n[m]=h}return{async*[Symbol.asyncIterator](){for(f?.value?.[c]||(yield f.value);;){let{done:m,value:h}=await u.next();if(m)break;yield h}}}}writeEventBody(t,r,n){let s=this.serializer,i=t,o=null,a,c=r.getSchema()[4].includes(t),d={};if(c){let m=r.getMemberSchema(t);if(m.isStructSchema()){for(let[h,y]of m.structIterator()){let{eventHeader:b,eventPayload:v}=y.getMergedTraits();if(v){o=h;break}else if(b){let R=n[t][h],D="binary";y.isNumericSchema()?(-2)**31<=R&&R<=2**31-1?D="integer":D="long":y.isTimestampSchema()?D="timestamp":y.isStringSchema()?D="string":y.isBooleanSchema()&&(D="boolean"),R!=null&&(d[h]={type:D,value:R},delete n[t][h])}}if(o!==null){let h=m.getMemberSchema(o);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),s.write(h,n[t][o])}else s.write(m,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[m,h]=n[t];i=m,s.write(15,h)}let u=s.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??$j.fromUtf8)(u):u,eventType:i,explicitPayloadContentType:a,additionalHeaders:d}}}});var Vj={};Zn(Vj,{EventStreamSerde:()=>MT});var zj=I(()=>{jj()});var h0,wc,p0=I(()=>{dr();h0=N(ut());Pd();wc=class extends In{options;constructor(t){super(),this.options=t}getRequestType(){return h0.HttpRequest}getResponseType(){return h0.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=Ee.of(r.input),i=Ci(r.traits??{});if(i.endpoint){let o=i.endpoint?.[0];if(typeof o=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let d=n[c];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,d)}t.hostname=o+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(zj(),Vj));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var Hj,Gj,Cc,Kj=I(()=>{dr();Vn();Hj=N(ut()),Gj=N(Ec());Zy();e0();p0();Cc=class extends wc{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},c=await n.endpoint(),d=Ee.of(t?.input),u=d.getSchema(),f=!1,m,h=new Hj.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,s);let y=Ci(t.traits);if(y.http){h.method=y.http[0];let[b,v]=y.http[1].split("?");h.path=="/"?h.path=b:h.path+=b;let R=new URLSearchParams(v??"");Object.assign(o,Object.fromEntries(R))}}for(let[y,b]of d.structIterator()){let v=b.getMergedTraits()??{},R=s[y];if(R!=null)if(v.httpPayload)b.isStreaming()?b.isStructSchema()?s[y]&&(m=await this.serializeEventStream({eventStream:s[y],requestSchema:d})):m=R:(i.write(b,R),m=i.flush()),delete s[y];else if(v.httpLabel){i.write(b,R);let D=i.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,D.split("/").map(wi).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,wi(D))),delete s[y]}else if(v.httpHeader)i.write(b,R),a[v.httpHeader.toLowerCase()]=String(i.flush()),delete s[y];else if(typeof v.httpPrefixHeaders=="string"){for(let[D,Y]of Object.entries(R)){let ee=v.httpPrefixHeaders+D;i.write([b.getValueSchema(),{httpHeader:ee}],Y),a[ee.toLowerCase()]=i.flush()}delete s[y]}else v.httpQuery||v.httpQueryParams?(this.serializeQuery(b,R,o),delete s[y]):f=!0}return f&&s&&(i.write(u,s),m=i.flush()),h.headers=a,h.query=o,h.body=m,h}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),i],c);let d=s.flush();(o||d!==void 0)&&a.push(d)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=Ee.of(t.output),o={};if(n.statusCode>=300){let c=await Qs(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(15,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let d=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=d}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let c=await Qs(n.body,r);if(c.byteLength>0){let d=await s.read(i,c);for(let u of a)o[u]=d[u]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,c=Ee.of(t),d=[];for(let[u,f]of c.structIterator()){let m=f.getMemberTraits();if(m.httpPayload){if(f.isStreaming())f.isStructSchema()?o[u]=await this.deserializeEventStream({response:n,responseSchema:c}):o[u]=(0,Gj.sdkStreamMixin)(n.body);else if(n.body){let y=await Qs(n.body,r);y.byteLength>0&&(o[u]=await a.read(f,y))}}else if(m.httpHeader){let h=String(m.httpHeader).toLowerCase(),y=n.headers[h];if(y!=null)if(f.isListSchema()){let b=f.getValueSchema();b.getMergedTraits().httpHeader=h;let v;b.isTimestampSchema()&&b.getSchema()===4?v=BT(y,",",2):v=$m(y);let R=[];for(let D of v)R.push(await a.read(b,D.trim()));o[u]=R}else o[u]=await a.read(f,y)}else if(m.httpPrefixHeaders!==void 0){o[u]={};for(let[h,y]of Object.entries(n.headers))if(h.startsWith(m.httpPrefixHeaders)){let b=f.getValueSchema();b.getMergedTraits().httpHeader=h,o[u][h.slice(m.httpPrefixHeaders.length)]=await a.read(b,y)}}else m.httpResponseCode?o[u]=n.statusCode:d.push(u)}return d}}});var Wj,co,Xj=I(()=>{dr();Wj=N(ut());Zy();p0();co=class extends wc{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),c=Ee.of(t?.input),d=c.getSchema(),u,f=new Wj.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let m={...r};if(r){let h=c.getEventStreamMember();if(h){if(m[h]){let y={};for(let[b,v]of c.structIterator())b!==h&&m[b]&&(s.write(v,m[b]),y[b]=s.flush());u=await this.serializeEventStream({eventStream:m[h],requestSchema:c,initialRequest:y})}}else s.write(d,m),u=s.flush()}return f.headers=o,f.query=i,f.body=u,f.method="POST",f}async deserializeResponse(t,r,n){let s=this.deserializer,i=Ee.of(t.output),o={};if(n.statusCode>=300){let c=await Qs(n.body,r);throw c.byteLength>0&&Object.assign(o,await s.read(15,c)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let d=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=d}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let c=await Qs(n.body,r);c.byteLength>0&&Object.assign(o,await s.read(i,c))}return o.$metadata=this.deserializeMetadata(n),o}}});var LT,FT=I(()=>{e0();LT=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>wi(a)).join("/"):wi(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function jm(e,t){return new g0(e,t)}var Qj,g0,Yj=I(()=>{Qj=N(ut());FT();g0=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new Qj.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=LT(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function ns(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:i||r?5:void 0:void 0)??t.timestampFormat.default}var y0=I(()=>{});var UT,Jj,_c,$T=I(()=>{dr();Vn();UT=N(Jr()),Jj=N(Tr());Pd();y0();_c=class extends In{settings;constructor(t){super(),this.settings=t}read(t,r){let n=Ee.of(t);if(n.isListSchema())return $m(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??UT.fromBase64)(r);if(n.isTimestampSchema())switch(ns(n,this.settings)){case 5:return NT(r);case 6:return DT(r);case 7:return Um(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=kn.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new tr(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Jj.toUtf8)((this.serdeContext?.base64Decoder??UT.fromBase64)(t))}}});var b0,vc,Zj=I(()=>{dr();b0=N(Tr());Pd();$T();vc=class extends In{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new _c(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=Ee.of(t),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??b0.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let o=this.serdeContext?.utf8Decoder??b0.fromUtf8;return typeof r=="string"?o(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var jT,Vm,VT=I(()=>{dr();Vn();jT=N(Jr());Pd();y0();Vm=class extends In{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=Ee.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(ns(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Fm(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??jT.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let o="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),d=n.getValueSchema().isTimestampSchema()?c:kT(c);o!==""&&(o+=", "),o+=d}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=kn.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??jT.toBase64)(i.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Ac,e5=I(()=>{dr();VT();Ac=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Vm(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=Ee.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var t5={};Zn(t5,{FromStringShapeDeserializer:()=>_c,HttpBindingProtocol:()=>Cc,HttpInterceptingShapeDeserializer:()=>vc,HttpInterceptingShapeSerializer:()=>Ac,HttpProtocol:()=>wc,RequestBuilder:()=>g0,RpcProtocol:()=>co,SerdeContext:()=>In,ToStringShapeSerializer:()=>Vm,collectBody:()=>Qs,determineTimestampFormat:()=>ns,extendedEncodeURIComponent:()=>wi,requestBuilder:()=>jm,resolvedPath:()=>LT});var zn=I(()=>{Zy();e0();Kj();p0();Xj();Yj();FT();$T();Zj();e5();VT();y0();Pd()});var r5=I(()=>{zn()});function yEe(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var n5=I(()=>{});var Rc,s5=I(()=>{Rc=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var i5,zT,HT,o5=I(()=>{i5=N(ut()),zT=N(so()),HT=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=i5.HttpRequest.clone(t);if(n.in===zT.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===zT.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var a5,GT,c5=I(()=>{a5=N(ut()),GT=class{async sign(t,r,n){let s=a5.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var lo,l5=I(()=>{lo=class{async sign(t,r,n){return t}}});var d5=I(()=>{o5();c5();l5()});var u5,bEe,KT,S0,WT,f5=I(()=>{u5=e=>function(r){return S0(r)&&r.expiration.getTime()-Date.now()<e},bEe=3e5,KT=u5(3e5),S0=e=>e.expiration!==void 0,WT=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,c=async d=>{i||(i=n(d));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async d=>((!o||d?.forceRefresh)&&(s=await c(d)),s):async d=>((!o||d?.forceRefresh)&&(s=await c(d)),a?s:r(s)?(t(s)&&await c(d),s):(a=!0,s))}});var m5=I(()=>{s5();d5();f5()});var Tc={};Zn(Tc,{DefaultIdentityProviderConfig:()=>Rc,EXPIRATION_MS:()=>bEe,HttpApiKeyAuthSigner:()=>HT,HttpBearerAuthSigner:()=>GT,NoAuthSigner:()=>lo,createIsIdentityExpiredFunction:()=>u5,createPaginator:()=>R6,doesIdentityRequireRefresh:()=>S0,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Tm,getHttpAuthSchemePlugin:()=>Z0e,getHttpSigningPlugin:()=>km,getSmithyContext:()=>K0e,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>u6,httpAuthSchemeMiddleware:()=>Rm,httpAuthSchemeMiddlewareOptions:()=>b6,httpSigningMiddleware:()=>NR,httpSigningMiddlewareOptions:()=>C6,isIdentityExpired:()=>KT,memoizeIdentityProvider:()=>WT,normalizeProvider:()=>ma,requestBuilder:()=>jm,setFeature:()=>yEe});var Pn=I(()=>{o6();E6();v6();A6();T6();r5();n5();m5()});var On=E(kc=>{"use strict";var Od=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},XT=class e extends Od{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},QT=class e extends Od{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},SEe=(...e)=>async()=>{if(e.length===0)throw new Od("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},EEe=e=>()=>Promise.resolve(e),xEe=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await a()),n):async c=>((!i||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};kc.CredentialsProviderError=XT;kc.ProviderError=Od;kc.TokenProviderError=QT;kc.chain=SEe;kc.fromStatic=EEe;kc.memoize=xEe});var YT,h5,p5,g5=I(()=>{Pn();YT=N(On()),h5=e=>(e.sigv4aSigningRegionSet=ma(e.sigv4aSigningRegionSet),e),p5={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new YT.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new YT.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var R0=E(He=>{"use strict";var ga=Xy(),Ic=Tr(),wEe=Ny(),E5=ut(),y5=dn(),E0=KR(),x5="X-Amz-Algorithm",w5="X-Amz-Credential",n1="X-Amz-Date",C5="X-Amz-SignedHeaders",_5="X-Amz-Expires",s1="X-Amz-Signature",i1="X-Amz-Security-Token",CEe="X-Amz-Region-Set",o1="authorization",a1=n1.toLowerCase(),v5="date",A5=[o1,a1,v5],R5=s1.toLowerCase(),v0="x-amz-content-sha256",T5=i1.toLowerCase(),_Ee="host",k5={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},I5=/^proxy-/,P5=/^sec-/,vEe=[/^proxy-/i,/^sec-/i],x0="AWS4-HMAC-SHA256",AEe="AWS4-ECDSA-P256-SHA256",O5="AWS4-HMAC-SHA256-PAYLOAD",N5="UNSIGNED-PAYLOAD",D5=50,c1="aws4_request",B5=3600*24*7,Nd={},w0=[],C0=(e,t,r)=>`${e}/${t}/${r}/${c1}`,q5=async(e,t,r,n,s)=>{let i=await b5(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${ga.toHex(i)}:${t.sessionToken}`;if(o in Nd)return Nd[o];for(w0.push(o);w0.length>D5;)delete Nd[w0.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,c1])a=await b5(e,a,c);return Nd[o]=a},REe=()=>{w0.length=0,Object.keys(Nd).forEach(e=>{delete Nd[e]})},b5=(e,t,r)=>{let n=new e(t);return n.update(Ic.toUint8Array(r)),n.digest()},JT=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in k5||t?.has(i)||I5.test(i)||P5.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},_0=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===v0)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||wEe.isArrayBuffer(t)){let n=new r;return n.update(Ic.toUint8Array(t)),ga.toHex(await n.digest())}return N5},ZT=class{format(t){let r=[];for(let i of Object.keys(t)){let o=Ic.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=Ic.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(e1.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!TEe.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(ga.fromHex(t.value.replace(/\-/g,"")),1),f}}},TEe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,e1=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&S5(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&S5(t),parseInt(ga.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function S5(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var M5=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},L5=(e,t={})=>{let{headers:r,query:n={}}=E5.HttpRequest.clone(e);for(let s of Object.keys(r)){let i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)||t.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},t1=e=>{e=E5.HttpRequest.clone(e);for(let t of Object.keys(e.headers))A5.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},F5=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===R5)continue;let s=E0.escapeUri(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${E0.escapeUri(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${E0.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},kEe=e=>IEe(e).toISOString().replace(/\.\d{3}Z$/,"Z"),IEe=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,A0=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=y5.normalizeProvider(n),this.credentialProvider=y5.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${F5(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let i=new this.sha256;i.update(Ic.toUint8Array(n));let o=await i.digest();return`${s}
${t}
${r}
${ga.toHex(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return E0.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=kEe(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},r1=class extends A0{headerFormatter=new ZT;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:d,signingService:u}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let m=d??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(n);if(s>B5)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let b=C0(y,m,u??this.service),v=L5(t1(t),{unhoistableHeaders:o,hoistableHeaders:c});f.sessionToken&&(v.query[i1]=f.sessionToken),v.query[x5]=x0,v.query[w5]=`${f.accessKeyId}/${b}`,v.query[n1]=h,v.query[_5]=s.toString(10);let R=JT(v,i,a);return v.query[C5]=this.getCanonicalHeaderList(R),v.query[s1]=await this.getSignature(h,b,this.getSigningKey(f,m,y,u),this.createCanonicalRequest(v,R,await _0(t,this.sha256))),v}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:c,longDate:d}=this.formatDate(n),u=C0(c,a,o??this.service),f=await _0({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let h=ga.toHex(await m.digest()),y=[O5,d,u,s,h,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(Ic.toUint8Array(t)),ga.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=i??await this.regionProvider(),d=t1(t),{longDate:u,shortDate:f}=this.formatDate(r),m=C0(f,c,o??this.service);d.headers[a1]=u,a.sessionToken&&(d.headers[T5]=a.sessionToken);let h=await _0(d,this.sha256);!M5(v0,d.headers)&&this.applyChecksum&&(d.headers[v0]=h);let y=JT(d,s,n),b=await this.getSignature(u,m,this.getSigningKey(a,c,f,o),this.createCanonicalRequest(d,y,h));return d.headers[o1]=`${x0} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${b}`,d}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s,x0),o=new this.sha256(await n);return o.update(Ic.toUint8Array(i)),ga.toHex(await o.digest())}getSigningKey(t,r,n,s){return q5(this.sha256,t,n,r,s||this.service)}},PEe={SignatureV4a:null};He.ALGORITHM_IDENTIFIER=x0;He.ALGORITHM_IDENTIFIER_V4A=AEe;He.ALGORITHM_QUERY_PARAM=x5;He.ALWAYS_UNSIGNABLE_HEADERS=k5;He.AMZ_DATE_HEADER=a1;He.AMZ_DATE_QUERY_PARAM=n1;He.AUTH_HEADER=o1;He.CREDENTIAL_QUERY_PARAM=w5;He.DATE_HEADER=v5;He.EVENT_ALGORITHM_IDENTIFIER=O5;He.EXPIRES_QUERY_PARAM=_5;He.GENERATED_HEADERS=A5;He.HOST_HEADER=_Ee;He.KEY_TYPE_IDENTIFIER=c1;He.MAX_CACHE_SIZE=D5;He.MAX_PRESIGNED_TTL=B5;He.PROXY_HEADER_PATTERN=I5;He.REGION_SET_PARAM=CEe;He.SEC_HEADER_PATTERN=P5;He.SHA256_HEADER=v0;He.SIGNATURE_HEADER=R5;He.SIGNATURE_QUERY_PARAM=s1;He.SIGNED_HEADERS_QUERY_PARAM=C5;He.SignatureV4=r1;He.SignatureV4Base=A0;He.TOKEN_HEADER=T5;He.TOKEN_QUERY_PARAM=i1;He.UNSIGNABLE_PATTERNS=vEe;He.UNSIGNED_PAYLOAD=N5;He.clearCredentialCache=REe;He.createScope=C0;He.getCanonicalHeaders=JT;He.getCanonicalQuery=F5;He.getPayloadHash=_0;He.getSigningKey=q5;He.hasHeader=M5;He.moveHeadersToQuery=L5;He.prepareRequest=t1;He.signatureV4aContainer=PEe});function OEe(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=WT(t,KT,S0):r?n=ma(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function NEe(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var l1,Pc,U5,$5=I(()=>{Xs();Pn();l1=N(R0()),Pc=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==t&&d!==n&&(r=!0),t=d;let u=OEe(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=NEe(e,u);r&&!f.attributed?(n=async m=>f(m).then(h=>da(h,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=ma(e.signer):e.regionInfoProvider?a=()=>ma(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,u])=>{let{signingRegion:f,signingService:m}=d;e.signingRegion=e.signingRegion||f||u,e.signingName=e.signingName||m||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},y=e.signerConstructor||l1.SignatureV4;return new y(h)}):a=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ma(e.region)(),properties:{}},d);let u=d.signingRegion,f=d.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||f||e.serviceId;let m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},h=e.signerConstructor||l1.SignatureV4;return new h(m)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},U5=Pc});var j5=I(()=>{RR();t6();i6();g5();$5()});var V5={};Zn(V5,{AWSSDKSigV4Signer:()=>AR,AwsSdkSigV4ASigner:()=>Am,AwsSdkSigV4Signer:()=>jn,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>wd,NODE_SIGV4A_CONFIG_OPTIONS:()=>p5,getBearerTokenEnvKey:()=>Py,resolveAWSSDKSigV4Config:()=>U5,resolveAwsSdkSigV4AConfig:()=>h5,resolveAwsSdkSigV4Config:()=>Pc,validateSigningProperties:()=>xd});var d1=I(()=>{j5();kR()});function ya(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function T0(e){return e[u1]=!0,e}var u1,k0=I(()=>{u1=Symbol("@smithy/core/cbor::tagSymbol")});function G5(e){_t=e,fo=new DataView(_t.buffer,_t.byteOffset,_t.byteLength)}function Ti(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(_t[e]&224)>>5,n=_t[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=W5[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let c=e+1;o===1?s=_t[c]:o===2?s=fo.getUint16(c):o===4?s=fo.getUint32(c):s=fo.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Ye=i,f1(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,Ye=i,f1(o)}else if(n===2||n===3){let o=Km(e+i,t),a=BigInt(0),c=e+i+Ye;for(let d=c;d<c+o;++d)a=a<<BigInt(8)|BigInt(_t[d]);return Ye=i+Ye+o,n===3?-a-BigInt(1):a}else if(n===4){let o=Ti(e+i,t),[a,c]=o,d=c<0?-1:1,u="0".repeat(Math.abs(a)+1)+String(BigInt(d)*BigInt(c)),f,m=c<0?"-":"";return f=a===0?u:u.slice(0,u.length+a)+"."+u.slice(a),f=f.replace(/^0+/g,""),f===""&&(f="0"),f[0]==="."&&(f="0"+f),f=m+f,Ye=i+Ye,qT(f)}else{let o=Ti(e+i,t);return Ye=i+Ye,T0({tag:f1(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return UEe(e,t);case 5:return HEe(e,t);case 4:return VEe(e,t);case 2:return $Ee(e,t)}else switch(r){case 3:return FEe(e,t);case 5:return zEe(e,t);case 4:return jEe(e,t);case 2:return b1(e,t)}default:return GEe(e,t)}}function K5(e,t,r){return qEe&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):z5?z5.decode(e.subarray(t,r)):(0,H5.toUtf8)(e.subarray(t,r))}function MEe(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function LEe(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function Km(e,t){let r=_t[e]&31;if(r<24)return Ye=1,r;if(r===24||r===25||r===26||r===27){let n=W5[r];if(Ye=n+1,t-e<Ye)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?_t[s]:n===2?fo.getUint16(s):n===4?fo.getUint32(s):MEe(fo.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function FEe(e,t){let r=Km(e,t),n=Ye;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=K5(_t,e,e+r);return Ye=n+r,s}function UEe(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_t[e]===255){let c=ya(r.length);return c.set(r,0),Ye=e-n+2,K5(c,0,c.length)}let s=(_t[e]&224)>>5,i=_t[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=b1(e,t);e+=Ye;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function b1(e,t){let r=Km(e,t),n=Ye;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=_t.subarray(e,e+r);return Ye=n+r,s}function $Ee(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_t[e]===255){let c=ya(r.length);return c.set(r,0),Ye=e-n+2,c}let s=(_t[e]&224)>>5,i=_t[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=b1(e,t);e+=Ye;for(let c=0;c<o.length;++c)r.push(o[c])}throw new Error("expected break marker.")}function jEe(e,t){let r=Km(e,t),n=Ye;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=Ti(e,t),c=Ye;i[o]=a,e+=c}return Ye=n+(e-s),i}function VEe(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_t[e]===255)return Ye=e-n+2,r;let s=Ti(e,t);e+=Ye,r.push(s)}throw new Error("expected break marker.")}function zEe(e,t){let r=Km(e,t),n=Ye;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(_t[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=Ti(e,t);e+=Ye;let d=Ti(e,t);e+=Ye,i[c]=d}return Ye=n+(e-s),i}function HEe(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(_t[e]===255)return Ye=e-r+2,n;let s=(_t[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=Ti(e,t);e+=Ye;let o=Ti(e,t);e+=Ye,n[i]=o}throw new Error("expected break marker.")}function GEe(e,t){let r=_t[e]&31;switch(r){case 21:case 20:return Ye=1,r===21;case 22:return Ye=1,null;case 23:return Ye=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Ye=3,LEe(_t[e+1],_t[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Ye=5,fo.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Ye=9,fo.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function f1(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var H5,BEe,qEe,_t,fo,z5,Ye,W5,X5=I(()=>{Vn();H5=N(Tr());k0();BEe=typeof TextDecoder<"u",qEe=typeof Buffer<"u",_t=ya(0),fo=new DataView(_t.buffer,_t.byteOffset,_t.byteLength),z5=BEe?new TextDecoder:null,Ye=0;W5={24:1,25:2,26:4,27:8}});function E1(e){Ie.byteLength-xe<e&&(xe<16e6?P0(Math.max(Ie.byteLength*4,Ie.byteLength+e)):P0(Ie.byteLength+e+16e6))}function x1(){let e=ya(xe);return e.set(Ie.subarray(0,xe),0),xe=0,e}function P0(e){let t=Ie;Ie=ya(e),t&&(t.copy?t.copy(Ie,0,0,t.byteLength):Ie.set(t,0)),po=new DataView(Ie.buffer,Ie.byteOffset,Ie.byteLength)}function ho(e,t){t<24?Ie[xe++]=e<<5|t:t<256?(Ie[xe++]=e<<5|24,Ie[xe++]=t):t<65536?(Ie[xe++]=e<<5|25,po.setUint16(xe,t),xe+=2):t<2**32?(Ie[xe++]=e<<5|26,po.setUint32(xe,t),xe+=4):(Ie[xe++]=e<<5|27,po.setBigUint64(xe,typeof t=="bigint"?t:BigInt(t)),xe+=8)}function J5(e){let t=[e];for(;t.length;){let r=t.pop();if(E1(typeof r=="string"?r.length*4:64),typeof r=="string"){if(Q5)ho(3,Buffer.byteLength(r)),xe+=Ie.write(r,xe);else{let n=(0,Y5.fromUtf8)(r);ho(3,n.byteLength),Ie.set(n,xe),xe+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,i=n?r:-r-1;i<24?Ie[xe++]=s<<5|i:i<256?(Ie[xe++]=s<<5|24,Ie[xe++]=i):i<65536?(Ie[xe++]=s<<5|25,Ie[xe++]=i>>8,Ie[xe++]=i):i<4294967296?(Ie[xe++]=s<<5|26,po.setUint32(xe,i),xe+=4):(Ie[xe++]=s<<5|27,po.setBigUint64(xe,BigInt(i)),xe+=8);continue}Ie[xe++]=251,po.setFloat64(xe,r),xe+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,i=n?r:-r-BigInt(1),o=Number(i);if(o<24)Ie[xe++]=s<<5|o;else if(o<256)Ie[xe++]=s<<5|24,Ie[xe++]=o;else if(o<65536)Ie[xe++]=s<<5|25,Ie[xe++]=o>>8,Ie[xe++]=o&255;else if(o<4294967296)Ie[xe++]=s<<5|26,po.setUint32(xe,o),xe+=4;else if(i<BigInt("18446744073709551616"))Ie[xe++]=s<<5|27,po.setBigUint64(xe,i),xe+=8;else{let a=i.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),d=i,u=0;for(;c.byteLength-++u>=0;)c[c.byteLength-u]=Number(d&BigInt(255)),d>>=BigInt(8);E1(c.byteLength*2),Ie[xe++]=n?194:195,Q5?ho(2,Buffer.byteLength(c)):ho(2,c.byteLength),Ie.set(c,xe),xe+=c.byteLength}continue}else if(r===null){Ie[xe++]=246;continue}else if(typeof r=="boolean"){Ie[xe++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);ho(4,r.length);continue}else if(typeof r.byteLength=="number"){E1(r.length*2),ho(2,r.length),Ie.set(r,xe),xe+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof tr){let s=r.string.indexOf("."),i=s===-1?0:s-r.string.length+1,o=BigInt(r.string.replace(".",""));Ie[xe++]=196,t.push(o),t.push(i),ho(4,2);continue}if(r[u1])if("tag"in r&&"value"in r){t.push(r.value),ho(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let i=n[s];t.push(r[i]),t.push(i)}ho(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var Y5,Q5,KEe,Ie,po,xe,Z5=I(()=>{Vn();Y5=N(Tr());k0();Q5=typeof Buffer<"u",KEe=2048,Ie=ya(KEe),po=new DataView(Ie.buffer,Ie.byteOffset,Ie.byteLength),xe=0});var w1,eV=I(()=>{X5();Z5();w1={deserialize(e){return G5(e),Ti(0,e.length)},serialize(e){try{return J5(e),x1()}catch(t){throw x1(),t}},resizeEncodingBuffer(e){P0(e)}}});var O0,N0,D0=I(()=>{k0();O0=e=>T0({tag:1,value:e.getTime()/1e3}),N0=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var v1,B0,C1,_1,A1=I(()=>{zn();dr();Vn();v1=N(Jr());eV();D0();B0=class extends In{createSerializer(){let t=new C1;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new _1;return t.setSerdeContext(this.serdeContext),t}},C1=class extends In{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=Ee.of(t);if(r==null)return n.isIdempotencyToken()?(0,Ri.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??v1.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?O0(new Date(Number(r)/1e3|0)):O0(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let o=!!n.getMergedTraits().sparse,a=[],c=0;for(let d of s){let u=this.serialize(n.getValueSchema(),d);(u!=null||o)&&(a[c++]=u)}return a}if(s instanceof Date)return O0(s);let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||o)&&(i[a]=c)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator()){let c=this.serialize(a,s[o]);c!=null&&(i[o]=c)}else if(n.isDocumentSchema())for(let o of Object.keys(s))i[o]=this.serialize(n.getValueSchema(),s[o]);return i}return r}flush(){let t=w1.serialize(this.value);return this.value=void 0,t}},_1=class extends In{read(t,r){let n=w1.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=Ee.of(t);if(n.isTimestampSchema()&&typeof r=="number")return Um(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??v1.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],o=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let d=this.readValue(o,c);(d!=null||a)&&i.push(d)}return i}let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,o=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(o,r[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema())for(let[i,o]of n.structIterator())s[i]=this.readValue(o,r[i]);return s}else return r}}});var tV,q0,rV=I(()=>{zn();dr();tV=N(dn());A1();D0();q0=class extends co{codec=new B0;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Ys(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,tV.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=N0(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let c={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},d=kr.for(a),u;try{u=d.getSchema(o)}catch{s.Message&&(s.message=s.Message);let R=kr.for("smithy.ts.sdk.synthetic."+a),D=R.getBaseException();if(D){let Y=R.getErrorCtor(D);throw Object.assign(new Y({name:o}),c,s)}throw Object.assign(new Error(o),c,s)}let f=Ee.of(u),m=d.getErrorCtor(u),h=s.message??s.Message??"Unknown",y=new m(h),b={};for(let[v,R]of f.structIterator())b[v]=this.deserializer.readValue(R,s[v]);throw Object.assign(y,c,{$fault:f.getMergedTraits().error,message:h},b)}getDefaultContentType(){return"application/cbor"}}});var nV=I(()=>{D0();rV();A1()});var xs,Bd=I(()=>{dr();xs=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:c,httpHeader:d,httpLabel:u,httpPrefixHeaders:f}=o.getMergedTraits();return!a&&!c&&!d&&!u&&f===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let d={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},u=kr.for(a);try{return{errorSchema:o?.(u,c)??u.getSchema(t),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let m=kr.for("smithy.ts.sdk.synthetic."+a),h=m.getBaseException();if(h){let y=m.getErrorCtor(h)??Error;throw Object.assign(new y({name:c}),d,s)}throw Object.assign(new Error(c),d,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,i]=n.split(";"),o=Object.entries(t),a={Code:s,Type:i};Object.assign(t,a);for(let[c,d]of o)a[c]=d;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var R1,sV=I(()=>{nV();dr();Bd();R1=class extends q0{awsQueryCompatible;mixin=new xs;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=N0(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),d=Ee.of(a),u=s.message??s.Message??"Unknown",f=kr.for(a[1]).getErrorCtor(a)??Error,m=new f(u),h={};for(let[y,b]of d.structIterator())h[y]=this.deserializer.readValue(b,s[y]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(m,c,{$fault:d.getMergedTraits().error,message:u},h)}}});var WEe,XEe,QEe,iV=I(()=>{WEe=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},XEe=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},QEe=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var fn,xa=I(()=>{fn=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function oV(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new tr(n,"bigDecimal"):BigInt(n)}return t}var aV=I(()=>{Vn()});var uV=E(dV=>{"use strict";var Oc=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},wa=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,T1=()=>{let e=[],t=[],r=!1,n=new Set,s=f=>f.sort((m,h)=>cV[h.step]-cV[m.step]||lV[h.priority||"normal"]-lV[m.priority||"normal"]),i=f=>{let m=!1,h=y=>{let b=Oc(y.name,y.aliases);if(b.includes(f)){m=!0;for(let v of b)n.delete(v);return!1}return!0};return e=e.filter(h),t=t.filter(h),m},o=f=>{let m=!1,h=y=>{if(y.middleware===f){m=!0;for(let b of Oc(y.name,y.aliases))n.delete(b);return!1}return!0};return e=e.filter(h),t=t.filter(h),m},a=f=>(e.forEach(m=>{f.add(m.middleware,{...m})}),t.forEach(m=>{f.addRelativeTo(m.middleware,{...m})}),f.identifyOnResolve?.(u.identifyOnResolve()),f),c=f=>{let m=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?m.push(h):m.push(...c(h))}),m},d=(f=!1)=>{let m=[],h=[],y={};return e.forEach(v=>{let R={...v,before:[],after:[]};for(let D of Oc(R.name,R.aliases))y[D]=R;m.push(R)}),t.forEach(v=>{let R={...v,before:[],after:[]};for(let D of Oc(R.name,R.aliases))y[D]=R;h.push(R)}),h.forEach(v=>{if(v.toMiddleware){let R=y[v.toMiddleware];if(R===void 0){if(f)return;throw new Error(`${v.toMiddleware} is not found when adding ${wa(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&R.after.push(v),v.relation==="before"&&R.before.push(v)}}),s(m).map(c).reduce((v,R)=>(v.push(...R),v),[])},u={add:(f,m={})=>{let{name:h,override:y,aliases:b}=m,v={step:"initialize",priority:"normal",middleware:f,...m},R=Oc(h,b);if(R.length>0){if(R.some(D=>n.has(D))){if(!y)throw new Error(`Duplicate middleware name '${wa(h,b)}'`);for(let D of R){let Y=e.findIndex(ye=>ye.name===D||ye.aliases?.some(re=>re===D));if(Y===-1)continue;let ee=e[Y];if(ee.step!==v.step||v.priority!==ee.priority)throw new Error(`"${wa(ee.name,ee.aliases)}" middleware with ${ee.priority} priority in ${ee.step} step cannot be overridden by "${wa(h,b)}" middleware with ${v.priority} priority in ${v.step} step.`);e.splice(Y,1)}}for(let D of R)n.add(D)}e.push(v)},addRelativeTo:(f,m)=>{let{name:h,override:y,aliases:b}=m,v={middleware:f,...m},R=Oc(h,b);if(R.length>0){if(R.some(D=>n.has(D))){if(!y)throw new Error(`Duplicate middleware name '${wa(h,b)}'`);for(let D of R){let Y=t.findIndex(ye=>ye.name===D||ye.aliases?.some(re=>re===D));if(Y===-1)continue;let ee=t[Y];if(ee.toMiddleware!==v.toMiddleware||ee.relation!==v.relation)throw new Error(`"${wa(ee.name,ee.aliases)}" middleware ${ee.relation} "${ee.toMiddleware}" middleware cannot be overridden by "${wa(h,b)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice(Y,1)}}for(let D of R)n.add(D)}t.push(v)},clone:()=>a(T1()),use:f=>{f.applyToStack(u)},remove:f=>typeof f=="string"?i(f):o(f),removeByTag:f=>{let m=!1,h=y=>{let{tags:b,name:v,aliases:R}=y;if(b&&b.includes(f)){let D=Oc(v,R);for(let Y of D)n.delete(Y);return m=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),m},concat:f=>{let m=a(T1());return m.use(f),m.identifyOnResolve(r||m.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),m},applyToStack:a,identify:()=>d(!0).map(f=>{let m=f.step??f.relation+" "+f.toMiddleware;return wa(f.name,f.aliases)+" - "+m}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,m)=>{for(let h of d().map(y=>y.middleware).reverse())f=h(f,m);return r&&console.log(u.identify()),f}};return u},cV={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},lV={high:3,normal:2,low:1};dV.constructStack=T1});var We=E(Et=>{"use strict";var hV=uV(),M1=(zn(),je(t5)),I1=so(),YEe=(dr(),je(K$)),fV=(Vn(),je(Uj)),P1=class{config;middlewareStack=hV.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(t).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},k1="***SensitiveInformation***";function O1(e,t){if(t==null)return t;let r=YEe.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return k1;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return k1}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return k1}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=O1(o,n[i]));return s}return t}var M0=class{middlewareStack=hV.constructStack();schema;static classBuilder(){return new N1}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:u,CommandCtor:f}){for(let v of s.bind(this)(f,t,r,n))this.middlewareStack.use(v);let m=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[I1.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:b}=r;return m.resolve(v=>b.handle(v.request,n||{}),y)}},N1=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends M0{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){let o=t._operationSchema,a=o?.[4]??o?.input,c=o?.[5]??o?.output;return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(o?O1.bind(null,a):d=>d),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(o?O1.bind(null,c):d=>d),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},JEe="***SensitiveInformation***",ZEe=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(o,a,c){let d=new n(o);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},D1=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},pV=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},gV=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=txe(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:s});throw pV(o,t)},exe=e=>({output:t,parsedBody:r,errorCode:n})=>{gV({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},txe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),rxe=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},mV=!1,nxe=e=>{e&&!mV&&parseInt(e.substring(1,e.indexOf(".")))<16&&(mV=!0)},sxe=e=>{let t=[];for(let r in I1.AlgorithmId){let n=I1.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},ixe=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},oxe=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),axe=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},yV=e=>Object.assign(sxe(e),oxe(e)),cxe=yV,lxe=e=>Object.assign(ixe(e),axe(e)),dxe=e=>Array.isArray(e)?e:[e],bV=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=bV(e[r]));return e},uxe=e=>e!=null,B1=class{trace(){}debug(){}info(){}warn(){}error(){}};function SV(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,hxe(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}EV(n,null,i,o)}return n}var fxe=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},mxe=(e,t)=>{let r={};for(let n in t)EV(r,e,t,n);return r},hxe=(e,t,r)=>SV(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),EV=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=pxe,c=gxe,d=n]=o;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:c&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},pxe=e=>e!=null,gxe=e=>e,yxe=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},bxe=e=>e.toISOString().replace(".000Z","Z"),q1=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(q1);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=q1(e[r]));return t}return e};Object.defineProperty(Et,"collectBody",{enumerable:!0,get:function(){return M1.collectBody}});Object.defineProperty(Et,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return M1.extendedEncodeURIComponent}});Object.defineProperty(Et,"resolvedPath",{enumerable:!0,get:function(){return M1.resolvedPath}});Et.Client=P1;Et.Command=M0;Et.NoOpLogger=B1;Et.SENSITIVE_STRING=JEe;Et.ServiceException=D1;Et._json=q1;Et.convertMap=fxe;Et.createAggregatedClient=ZEe;Et.decorateServiceException=pV;Et.emitWarningIfUnsupportedVersion=nxe;Et.getArrayIfSingleItem=dxe;Et.getDefaultClientConfiguration=cxe;Et.getDefaultExtensionConfiguration=yV;Et.getValueFromTextNode=bV;Et.isSerializableHeaderValue=uxe;Et.loadConfigsForDefaultMode=rxe;Et.map=SV;Et.resolveDefaultRuntimeConfig=lxe;Et.serializeDateTime=bxe;Et.serializeFloat=yxe;Et.take=mxe;Et.throwDefaultError=gV;Et.withBaseException=exe;Object.keys(fV).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Et,e)&&Object.defineProperty(Et,e,{enumerable:!0,get:function(){return fV[e]}})})});var xV,wV,L0,L1=I(()=>{xV=N(We()),wV=N(Tr()),L0=(e,t)=>(0,xV.collectBody)(e,t).then(r=>(t?.utf8Encoder??wV.toUtf8)(r))});var qd,F1,Nc,Wm=I(()=>{L1();qd=(e,t)=>L0(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),F1=async(e,t)=>{let r=await qd(e,t);return r.message=r.message??r.Message,r},Nc=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var CV,Xm,U1=I(()=>{zn();dr();Vn();CV=N(Jr());xa();aV();Wm();Xm=class extends fn{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,oV):await qd(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=Ee.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let d of r)(c||d!=null)&&a.push(this._read(o,d));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[d,u]of Object.entries(r))(c||u!=null)&&(a[d]=this._read(o,u));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,c]of s.structIterator()){let d=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._read(c,r[d]);u!=null&&(o[a]=u)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,CV.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return kn.from(r);if(s.isTimestampSchema()&&r!=null)switch(ns(s,this.settings)){case 5:return CT(r);case 6:return _T(r);case 7:return vT(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof tr)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new tr(o.string,o.type):new tr(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof tr?o[a]=c:o[a]=this._read(s,c);return o}else return structuredClone(r);return r}}});var _V,F0,vV=I(()=>{Vn();_V="\u039D",F0=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof tr){let n=`${_V+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${_V+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var AV,Qm,$1=I(()=>{zn();dr();Vn();AV=N(Jr());xa();vV();Qm=class extends fn{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=Ee.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=Ee.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new F0;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",i=Ee.of(t);if(i.isListSchema()&&Array.isArray(r)){let o=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let d of r)(c||d!=null)&&a.push(this._write(o,d));return a}else if(i.isMapSchema()&&s){let o=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[d,u]of Object.entries(r))(c||u!=null)&&(a[d]=this._write(o,u));return a}else if(i.isStructSchema()&&s){let o={};for(let[a,c]of i.structIterator()){let d=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,u=this._write(c,r[a],i);u!==void 0&&(o[d]=u)}return o}if(!(r===null&&n?.isStructSchema())){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,AV.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(ns(i,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Fm(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return(0,Ri.v4)();let o=i.getMergedTraits().mediaType;if(r!=null&&o&&(o==="application/json"||o.endsWith("+json")))return kn.from(r)}if(i.isDocumentSchema())if(s){let o=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof tr?o[a]=c:o[a]=this._write(i,c);return o}else return structuredClone(r);return r}}}});var Dc,U0=I(()=>{xa();U1();$1();Dc=class extends fn{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Qm(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Xm(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Bc,$0=I(()=>{zn();dr();Bd();U0();Wm();Bc=class extends co{serializer;deserializer;serviceTarget;codec;mixin=new xs;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Dc({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Ys(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=Nc(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),d=Ee.of(a),u=s.message??s.Message??"Unknown",f=kr.for(a[1]).getErrorCtor(a)??Error,m=new f(u),h={};for(let[y,b]of d.structIterator()){let v=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,s[v])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(m,c,{$fault:d.getMergedTraits().error,message:u},h)}}});var j1,RV=I(()=>{$0();j1=class extends Bc{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var V1,TV=I(()=>{$0();V1=class extends Bc{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var z1,kV=I(()=>{zn();dr();Bd();U0();Wm();z1=class extends Cc{serializer;deserializer;codec;mixin=new xs;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Dc(r),this.serializer=new Ac(this.codec.createSerializer(),r),this.deserializer=new vc(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Ee.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,i){let o=Nc(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),d=Ee.of(a),u=s.message??s.Message??"Unknown",f=kr.for(a[1]).getErrorCtor(a)??Error,m=new f(u);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[y,b]of d.structIterator()){let v=b.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(b,s[v])}throw Object.assign(m,c,{$fault:d.getMergedTraits().error,message:u},h)}getDefaultContentType(){return"application/json"}}});var IV,Sxe,PV=I(()=>{IV=N(We()),Sxe=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,IV.expectUnion)(e)}});var NV=E((VXe,OV)=>{(()=>{"use strict";var e={d:(p,g)=>{for(var C in g)e.o(g,C)&&!e.o(p,C)&&Object.defineProperty(p,C,{enumerable:!0,get:g[C]})},o:(p,g)=>Object.prototype.hasOwnProperty.call(p,g),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Bo,XMLParser:()=>gee,XMLValidator:()=>_ee});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(p,g){let C=[],k=g.exec(p);for(;k;){let A=[];A.startIndex=g.lastIndex-k[0].length;let T=k.length;for(let L=0;L<T;L++)A.push(k[L]);C.push(A),k=g.exec(p)}return C}let i=function(p){return n.exec(p)!=null},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(p,g){g=Object.assign({},o,g);let C=[],k=!1,A=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let T=0;T<p.length;T++)if(p[T]==="<"&&p[T+1]==="?"){if(T+=2,T=d(p,T),T.err)return T}else{if(p[T]!=="<"){if(c(p[T]))continue;return R("InvalidChar","char '"+p[T]+"' is not expected.",Y(p,T))}{let L=T;if(T++,p[T]==="!"){T=u(p,T);continue}{let B=!1;p[T]==="/"&&(B=!0,T++);let j="";for(;T<p.length&&p[T]!==">"&&p[T]!==" "&&p[T]!=="	"&&p[T]!==`
`&&p[T]!=="\r";T++)j+=p[T];if(j=j.trim(),j[j.length-1]==="/"&&(j=j.substring(0,j.length-1),T--),!i(j)){let we;return we=j.trim().length===0?"Invalid space after '<'.":"Tag '"+j+"' is an invalid name.",R("InvalidTag",we,Y(p,T))}let se=h(p,T);if(se===!1)return R("InvalidAttr","Attributes for '"+j+"' have open quote.",Y(p,T));let Pe=se.value;if(T=se.index,Pe[Pe.length-1]==="/"){let we=T-Pe.length;Pe=Pe.substring(0,Pe.length-1);let st=b(Pe,g);if(st!==!0)return R(st.err.code,st.err.msg,Y(p,we+st.err.line));k=!0}else if(B){if(!se.tagClosed)return R("InvalidTag","Closing tag '"+j+"' doesn't have proper closing.",Y(p,T));if(Pe.trim().length>0)return R("InvalidTag","Closing tag '"+j+"' can't have attributes or invalid starting.",Y(p,L));if(C.length===0)return R("InvalidTag","Closing tag '"+j+"' has not been opened.",Y(p,L));{let we=C.pop();if(j!==we.tagName){let st=Y(p,we.tagStartPos);return R("InvalidTag","Expected closing tag '"+we.tagName+"' (opened in line "+st.line+", col "+st.col+") instead of closing tag '"+j+"'.",Y(p,L))}C.length==0&&(A=!0)}}else{let we=b(Pe,g);if(we!==!0)return R(we.err.code,we.err.msg,Y(p,T-Pe.length+we.err.line));if(A===!0)return R("InvalidXml","Multiple possible root nodes found.",Y(p,T));g.unpairedTags.indexOf(j)!==-1||C.push({tagName:j,tagStartPos:L}),k=!0}for(T++;T<p.length;T++)if(p[T]==="<"){if(p[T+1]==="!"){T++,T=u(p,T);continue}if(p[T+1]!=="?")break;if(T=d(p,++T),T.err)return T}else if(p[T]==="&"){let we=v(p,T);if(we==-1)return R("InvalidChar","char '&' is not expected.",Y(p,T));T=we}else if(A===!0&&!c(p[T]))return R("InvalidXml","Extra text at the end",Y(p,T));p[T]==="<"&&T--}}}return k?C.length==1?R("InvalidTag","Unclosed tag '"+C[0].tagName+"'.",Y(p,C[0].tagStartPos)):!(C.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(C.map((T=>T.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function c(p){return p===" "||p==="	"||p===`
`||p==="\r"}function d(p,g){let C=g;for(;g<p.length;g++)if(!(p[g]!="?"&&p[g]!=" ")){let k=p.substr(C,g-C);if(g>5&&k==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",Y(p,g));if(p[g]=="?"&&p[g+1]==">"){g++;break}}return g}function u(p,g){if(p.length>g+5&&p[g+1]==="-"&&p[g+2]==="-"){for(g+=3;g<p.length;g++)if(p[g]==="-"&&p[g+1]==="-"&&p[g+2]===">"){g+=2;break}}else if(p.length>g+8&&p[g+1]==="D"&&p[g+2]==="O"&&p[g+3]==="C"&&p[g+4]==="T"&&p[g+5]==="Y"&&p[g+6]==="P"&&p[g+7]==="E"){let C=1;for(g+=8;g<p.length;g++)if(p[g]==="<")C++;else if(p[g]===">"&&(C--,C===0))break}else if(p.length>g+9&&p[g+1]==="["&&p[g+2]==="C"&&p[g+3]==="D"&&p[g+4]==="A"&&p[g+5]==="T"&&p[g+6]==="A"&&p[g+7]==="["){for(g+=8;g<p.length;g++)if(p[g]==="]"&&p[g+1]==="]"&&p[g+2]===">"){g+=2;break}}return g}let f='"',m="'";function h(p,g){let C="",k="",A=!1;for(;g<p.length;g++){if(p[g]===f||p[g]===m)k===""?k=p[g]:k!==p[g]||(k="");else if(p[g]===">"&&k===""){A=!0;break}C+=p[g]}return k===""&&{value:C,index:g,tagClosed:A}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function b(p,g){let C=s(p,y),k={};for(let A=0;A<C.length;A++){if(C[A][1].length===0)return R("InvalidAttr","Attribute '"+C[A][2]+"' has no space in starting.",ee(C[A]));if(C[A][3]!==void 0&&C[A][4]===void 0)return R("InvalidAttr","Attribute '"+C[A][2]+"' is without value.",ee(C[A]));if(C[A][3]===void 0&&!g.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+C[A][2]+"' is not allowed.",ee(C[A]));let T=C[A][2];if(!D(T))return R("InvalidAttr","Attribute '"+T+"' is an invalid name.",ee(C[A]));if(k.hasOwnProperty(T))return R("InvalidAttr","Attribute '"+T+"' is repeated.",ee(C[A]));k[T]=1}return!0}function v(p,g){if(p[++g]===";")return-1;if(p[g]==="#")return(function(k,A){let T=/\d/;for(k[A]==="x"&&(A++,T=/[\da-fA-F]/);A<k.length;A++){if(k[A]===";")return A;if(!k[A].match(T))break}return-1})(p,++g);let C=0;for(;g<p.length;g++,C++)if(!(p[g].match(/\w/)&&C<20)){if(p[g]===";")break;return-1}return g}function R(p,g,C){return{err:{code:p,msg:g,line:C.line||C,col:C.col}}}function D(p){return i(p)}function Y(p,g){let C=p.substring(0,g).split(/\r?\n/);return{line:C.length,col:C[C.length-1].length+1}}function ee(p){return p.startIndex+p[1].length}let ye={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(p,g){return g},attributeValueProcessor:function(p,g){return g},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(p,g,C){return p},captureMetaData:!1},re;re=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class W{constructor(g){this.tagname=g,this.child=[],this[":@"]={}}add(g,C){g==="__proto__"&&(g="#__proto__"),this.child.push({[g]:C})}addChild(g,C){g.tagname==="__proto__"&&(g.tagname="#__proto__"),g[":@"]&&Object.keys(g[":@"]).length>0?this.child.push({[g.tagname]:g.child,":@":g[":@"]}):this.child.push({[g.tagname]:g.child}),C!==void 0&&(this.child[this.child.length-1][re]={startIndex:C})}static getMetaDataSymbol(){return re}}function J(p,g){let C={};if(p[g+3]!=="O"||p[g+4]!=="C"||p[g+5]!=="T"||p[g+6]!=="Y"||p[g+7]!=="P"||p[g+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{g+=9;let k=1,A=!1,T=!1,L="";for(;g<p.length;g++)if(p[g]!=="<"||T)if(p[g]===">"){if(T?p[g-1]==="-"&&p[g-2]==="-"&&(T=!1,k--):k--,k===0)break}else p[g]==="["?A=!0:L+=p[g];else{if(A&&dt(p,"!ENTITY",g)){let B,j;g+=7,[B,j,g]=ge(p,g+1),j.indexOf("&")===-1&&(C[B]={regx:RegExp(`&${B};`,"g"),val:j})}else if(A&&dt(p,"!ELEMENT",g)){g+=8;let{index:B}=at(p,g+1);g=B}else if(A&&dt(p,"!ATTLIST",g))g+=8;else if(A&&dt(p,"!NOTATION",g)){g+=9;let{index:B}=be(p,g+1);g=B}else{if(!dt(p,"!--",g))throw new Error("Invalid DOCTYPE");T=!0}k++,L=""}if(k!==0)throw new Error("Unclosed DOCTYPE")}return{entities:C,i:g}}let te=(p,g)=>{for(;g<p.length&&/\s/.test(p[g]);)g++;return g};function ge(p,g){g=te(p,g);let C="";for(;g<p.length&&!/\s/.test(p[g])&&p[g]!=='"'&&p[g]!=="'";)C+=p[g],g++;if(ct(C),g=te(p,g),p.substring(g,g+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(p[g]==="%")throw new Error("Parameter entities are not supported");let k="";return[g,k]=Te(p,g,"entity"),[C,k,--g]}function be(p,g){g=te(p,g);let C="";for(;g<p.length&&!/\s/.test(p[g]);)C+=p[g],g++;ct(C),g=te(p,g);let k=p.substring(g,g+6).toUpperCase();if(k!=="SYSTEM"&&k!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${k}"`);g+=k.length,g=te(p,g);let A=null,T=null;if(k==="PUBLIC")[g,A]=Te(p,g,"publicIdentifier"),p[g=te(p,g)]!=='"'&&p[g]!=="'"||([g,T]=Te(p,g,"systemIdentifier"));else if(k==="SYSTEM"&&([g,T]=Te(p,g,"systemIdentifier"),!T))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:C,publicIdentifier:A,systemIdentifier:T,index:--g}}function Te(p,g,C){let k="",A=p[g];if(A!=='"'&&A!=="'")throw new Error(`Expected quoted string, found "${A}"`);for(g++;g<p.length&&p[g]!==A;)k+=p[g],g++;if(p[g]!==A)throw new Error(`Unterminated ${C} value`);return[++g,k]}function at(p,g){g=te(p,g);let C="";for(;g<p.length&&!/\s/.test(p[g]);)C+=p[g],g++;if(!ct(C))throw new Error(`Invalid element name: "${C}"`);let k="";if(p[g=te(p,g)]==="E"&&dt(p,"MPTY",g))g+=4;else if(p[g]==="A"&&dt(p,"NY",g))g+=2;else{if(p[g]!=="(")throw new Error(`Invalid Element Expression, found "${p[g]}"`);for(g++;g<p.length&&p[g]!==")";)k+=p[g],g++;if(p[g]!==")")throw new Error("Unterminated content model")}return{elementName:C,contentModel:k.trim(),index:g}}function dt(p,g,C){for(let k=0;k<g.length;k++)if(g[k]!==p[C+k+1])return!1;return!0}function ct(p){if(i(p))return p;throw new Error(`Invalid entity name ${p}`)}let Je=/^[-+]?0x[a-fA-F0-9]+$/,nc=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,JZ={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},ZZ=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function fD(p){return typeof p=="function"?p:Array.isArray(p)?g=>{for(let C of p)if(typeof C=="string"&&g===C||C instanceof RegExp&&C.test(g))return!0}:()=>!1}class eee{constructor(g){this.options=g,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(C,k)=>String.fromCodePoint(Number.parseInt(k,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(C,k)=>String.fromCodePoint(Number.parseInt(k,16))}},this.addExternalEntities=tee,this.parseXml=oee,this.parseTextData=ree,this.resolveNameSpace=nee,this.buildAttributesMap=iee,this.isItStopNode=dee,this.replaceEntitiesValue=cee,this.readStopNodeData=uee,this.saveTextToParentTag=lee,this.addChild=aee,this.ignoreAttributesFn=fD(this.options.ignoreAttributes)}}function tee(p){let g=Object.keys(p);for(let C=0;C<g.length;C++){let k=g[C];this.lastEntities[k]={regex:new RegExp("&"+k+";","g"),val:p[k]}}}function ree(p,g,C,k,A,T,L){if(p!==void 0&&(this.options.trimValues&&!k&&(p=p.trim()),p.length>0)){L||(p=this.replaceEntitiesValue(p));let B=this.options.tagValueProcessor(g,p,C,A,T);return B==null?p:typeof B!=typeof p||B!==p?B:this.options.trimValues||p.trim()===p?mD(p,this.options.parseTagValue,this.options.numberParseOptions):p}}function nee(p){if(this.options.removeNSPrefix){let g=p.split(":"),C=p.charAt(0)==="/"?"/":"";if(g[0]==="xmlns")return"";g.length===2&&(p=C+g[1])}return p}let see=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function iee(p,g,C){if(this.options.ignoreAttributes!==!0&&typeof p=="string"){let k=s(p,see),A=k.length,T={};for(let L=0;L<A;L++){let B=this.resolveNameSpace(k[L][1]);if(this.ignoreAttributesFn(B,g))continue;let j=k[L][4],se=this.options.attributeNamePrefix+B;if(B.length)if(this.options.transformAttributeName&&(se=this.options.transformAttributeName(se)),se==="__proto__"&&(se="#__proto__"),j!==void 0){this.options.trimValues&&(j=j.trim()),j=this.replaceEntitiesValue(j);let Pe=this.options.attributeValueProcessor(B,j,g);T[se]=Pe==null?j:typeof Pe!=typeof j||Pe!==j?Pe:mD(j,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[se]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=T,L}return T}}let oee=function(p){p=p.replace(/\r\n?/g,`
`);let g=new W("!xml"),C=g,k="",A="";for(let T=0;T<p.length;T++)if(p[T]==="<")if(p[T+1]==="/"){let L=sc(p,">",T,"Closing Tag is not closed."),B=p.substring(T+2,L).trim();if(this.options.removeNSPrefix){let Pe=B.indexOf(":");Pe!==-1&&(B=B.substr(Pe+1))}this.options.transformTagName&&(B=this.options.transformTagName(B)),C&&(k=this.saveTextToParentTag(k,C,A));let j=A.substring(A.lastIndexOf(".")+1);if(B&&this.options.unpairedTags.indexOf(B)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${B}>`);let se=0;j&&this.options.unpairedTags.indexOf(j)!==-1?(se=A.lastIndexOf(".",A.lastIndexOf(".")-1),this.tagsNodeStack.pop()):se=A.lastIndexOf("."),A=A.substring(0,se),C=this.tagsNodeStack.pop(),k="",T=L}else if(p[T+1]==="?"){let L=xC(p,T,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(k=this.saveTextToParentTag(k,C,A),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let B=new W(L.tagName);B.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(B[":@"]=this.buildAttributesMap(L.tagExp,A,L.tagName)),this.addChild(C,B,A,T)}T=L.closeIndex+1}else if(p.substr(T+1,3)==="!--"){let L=sc(p,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){let B=p.substring(T+4,L-2);k=this.saveTextToParentTag(k,C,A),C.add(this.options.commentPropName,[{[this.options.textNodeName]:B}])}T=L}else if(p.substr(T+1,2)==="!D"){let L=J(p,T);this.docTypeEntities=L.entities,T=L.i}else if(p.substr(T+1,2)==="!["){let L=sc(p,"]]>",T,"CDATA is not closed.")-2,B=p.substring(T+9,L);k=this.saveTextToParentTag(k,C,A);let j=this.parseTextData(B,C.tagname,A,!0,!1,!0,!0);j==null&&(j=""),this.options.cdataPropName?C.add(this.options.cdataPropName,[{[this.options.textNodeName]:B}]):C.add(this.options.textNodeName,j),T=L+2}else{let L=xC(p,T,this.options.removeNSPrefix),B=L.tagName,j=L.rawTagName,se=L.tagExp,Pe=L.attrExpPresent,we=L.closeIndex;this.options.transformTagName&&(B=this.options.transformTagName(B)),C&&k&&C.tagname!=="!xml"&&(k=this.saveTextToParentTag(k,C,A,!1));let st=C;st&&this.options.unpairedTags.indexOf(st.tagname)!==-1&&(C=this.tagsNodeStack.pop(),A=A.substring(0,A.lastIndexOf("."))),B!==g.tagname&&(A+=A?"."+B:B);let bt=T;if(this.isItStopNode(this.options.stopNodes,A,B)){let lt="";if(se.length>0&&se.lastIndexOf("/")===se.length-1)B[B.length-1]==="/"?(B=B.substr(0,B.length-1),A=A.substr(0,A.length-1),se=B):se=se.substr(0,se.length-1),T=L.closeIndex;else if(this.options.unpairedTags.indexOf(B)!==-1)T=L.closeIndex;else{let ai=this.readStopNodeData(p,j,we+1);if(!ai)throw new Error(`Unexpected end of ${j}`);T=ai.i,lt=ai.tagContent}let Cr=new W(B);B!==se&&Pe&&(Cr[":@"]=this.buildAttributesMap(se,A,B)),lt&&(lt=this.parseTextData(lt,B,A,!0,Pe,!0,!0)),A=A.substr(0,A.lastIndexOf(".")),Cr.add(this.options.textNodeName,lt),this.addChild(C,Cr,A,bt)}else{if(se.length>0&&se.lastIndexOf("/")===se.length-1){B[B.length-1]==="/"?(B=B.substr(0,B.length-1),A=A.substr(0,A.length-1),se=B):se=se.substr(0,se.length-1),this.options.transformTagName&&(B=this.options.transformTagName(B));let lt=new W(B);B!==se&&Pe&&(lt[":@"]=this.buildAttributesMap(se,A,B)),this.addChild(C,lt,A,bt),A=A.substr(0,A.lastIndexOf("."))}else{let lt=new W(B);this.tagsNodeStack.push(C),B!==se&&Pe&&(lt[":@"]=this.buildAttributesMap(se,A,B)),this.addChild(C,lt,A,bt),C=lt}k="",T=we}}else k+=p[T];return g.child};function aee(p,g,C,k){this.options.captureMetaData||(k=void 0);let A=this.options.updateTag(g.tagname,C,g[":@"]);A===!1||(typeof A=="string"&&(g.tagname=A),p.addChild(g,k))}let cee=function(p){if(this.options.processEntities){for(let g in this.docTypeEntities){let C=this.docTypeEntities[g];p=p.replace(C.regx,C.val)}for(let g in this.lastEntities){let C=this.lastEntities[g];p=p.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let g in this.htmlEntities){let C=this.htmlEntities[g];p=p.replace(C.regex,C.val)}p=p.replace(this.ampEntity.regex,this.ampEntity.val)}return p};function lee(p,g,C,k){return p&&(k===void 0&&(k=g.child.length===0),(p=this.parseTextData(p,g.tagname,C,!1,!!g[":@"]&&Object.keys(g[":@"]).length!==0,k))!==void 0&&p!==""&&g.add(this.options.textNodeName,p),p=""),p}function dee(p,g,C){let k="*."+C;for(let A in p){let T=p[A];if(k===T||g===T)return!0}return!1}function sc(p,g,C,k){let A=p.indexOf(g,C);if(A===-1)throw new Error(k);return A+g.length-1}function xC(p,g,C,k=">"){let A=(function(we,st,bt=">"){let lt,Cr="";for(let ai=st;ai<we.length;ai++){let qo=we[ai];if(lt)qo===lt&&(lt="");else if(qo==='"'||qo==="'")lt=qo;else if(qo===bt[0]){if(!bt[1])return{data:Cr,index:ai};if(we[ai+1]===bt[1])return{data:Cr,index:ai}}else qo==="	"&&(qo=" ");Cr+=qo}})(p,g+1,k);if(!A)return;let T=A.data,L=A.index,B=T.search(/\s/),j=T,se=!0;B!==-1&&(j=T.substring(0,B),T=T.substring(B+1).trimStart());let Pe=j;if(C){let we=j.indexOf(":");we!==-1&&(j=j.substr(we+1),se=j!==A.data.substr(we+1))}return{tagName:j,tagExp:T,closeIndex:L,attrExpPresent:se,rawTagName:Pe}}function uee(p,g,C){let k=C,A=1;for(;C<p.length;C++)if(p[C]==="<")if(p[C+1]==="/"){let T=sc(p,">",C,`${g} is not closed`);if(p.substring(C+2,T).trim()===g&&(A--,A===0))return{tagContent:p.substring(k,C),i:T};C=T}else if(p[C+1]==="?")C=sc(p,"?>",C+1,"StopNode is not closed.");else if(p.substr(C+1,3)==="!--")C=sc(p,"-->",C+3,"StopNode is not closed.");else if(p.substr(C+1,2)==="![")C=sc(p,"]]>",C,"StopNode is not closed.")-2;else{let T=xC(p,C,">");T&&((T&&T.tagName)===g&&T.tagExp[T.tagExp.length-1]!=="/"&&A++,C=T.closeIndex)}}function mD(p,g,C){if(g&&typeof p=="string"){let k=p.trim();return k==="true"||k!=="false"&&(function(A,T={}){if(T=Object.assign({},JZ,T),!A||typeof A!="string")return A;let L=A.trim();if(T.skipLike!==void 0&&T.skipLike.test(L))return A;if(A==="0")return 0;if(T.hex&&Je.test(L))return(function(j){if(parseInt)return parseInt(j,16);if(Number.parseInt)return Number.parseInt(j,16);if(window&&window.parseInt)return window.parseInt(j,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(L);if(L.search(/.+[eE].+/)!==-1)return(function(j,se,Pe){if(!Pe.eNotation)return j;let we=se.match(ZZ);if(we){let st=we[1]||"",bt=we[3].indexOf("e")===-1?"E":"e",lt=we[2],Cr=st?j[lt.length+1]===bt:j[lt.length]===bt;return lt.length>1&&Cr?j:lt.length!==1||!we[3].startsWith(`.${bt}`)&&we[3][0]!==bt?Pe.leadingZeros&&!Cr?(se=(we[1]||"")+we[3],Number(se)):j:Number(se)}return j})(A,L,T);{let j=nc.exec(L);if(j){let se=j[1]||"",Pe=j[2],we=((B=j[3])&&B.indexOf(".")!==-1&&((B=B.replace(/0+$/,""))==="."?B="0":B[0]==="."?B="0"+B:B[B.length-1]==="."&&(B=B.substring(0,B.length-1))),B),st=se?A[Pe.length+1]===".":A[Pe.length]===".";if(!T.leadingZeros&&(Pe.length>1||Pe.length===1&&!st))return A;{let bt=Number(L),lt=String(bt);if(bt===0||bt===-0)return bt;if(lt.search(/[eE]/)!==-1)return T.eNotation?bt:A;if(L.indexOf(".")!==-1)return lt==="0"||lt===we||lt===`${se}${we}`?bt:A;let Cr=Pe?we:L;return Pe?Cr===lt||se+Cr===lt?bt:A:Cr===lt||Cr===se+lt?bt:A}}return A}var B})(p,C)}return p!==void 0?p:""}let wC=W.getMetaDataSymbol();function fee(p,g){return hD(p,g)}function hD(p,g,C){let k,A={};for(let T=0;T<p.length;T++){let L=p[T],B=mee(L),j="";if(j=C===void 0?B:C+"."+B,B===g.textNodeName)k===void 0?k=L[B]:k+=""+L[B];else{if(B===void 0)continue;if(L[B]){let se=hD(L[B],g,j),Pe=pee(se,g);L[wC]!==void 0&&(se[wC]=L[wC]),L[":@"]?hee(se,L[":@"],j,g):Object.keys(se).length!==1||se[g.textNodeName]===void 0||g.alwaysCreateTextNode?Object.keys(se).length===0&&(g.alwaysCreateTextNode?se[g.textNodeName]="":se=""):se=se[g.textNodeName],A[B]!==void 0&&A.hasOwnProperty(B)?(Array.isArray(A[B])||(A[B]=[A[B]]),A[B].push(se)):g.isArray(B,j,Pe)?A[B]=[se]:A[B]=se}}}return typeof k=="string"?k.length>0&&(A[g.textNodeName]=k):k!==void 0&&(A[g.textNodeName]=k),A}function mee(p){let g=Object.keys(p);for(let C=0;C<g.length;C++){let k=g[C];if(k!==":@")return k}}function hee(p,g,C,k){if(g){let A=Object.keys(g),T=A.length;for(let L=0;L<T;L++){let B=A[L];k.isArray(B,C+"."+B,!0,!0)?p[B]=[g[B]]:p[B]=g[B]}}}function pee(p,g){let{textNodeName:C}=g,k=Object.keys(p).length;return k===0||!(k!==1||!p[C]&&typeof p[C]!="boolean"&&p[C]!==0)}class gee{constructor(g){this.externalEntities={},this.options=(function(C){return Object.assign({},ye,C)})(g)}parse(g,C){if(typeof g!="string"){if(!g.toString)throw new Error("XML data is accepted in String or Bytes[] form.");g=g.toString()}if(C){C===!0&&(C={});let T=a(g,C);if(T!==!0)throw Error(`${T.err.msg}:${T.err.line}:${T.err.col}`)}let k=new eee(this.options);k.addExternalEntities(this.externalEntities);let A=k.parseXml(g);return this.options.preserveOrder||A===void 0?A:fee(A,this.options)}addEntity(g,C){if(C.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(g.indexOf("&")!==-1||g.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(C==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[g]=C}static getMetaDataSymbol(){return W.getMetaDataSymbol()}}function yee(p,g){let C="";return g.format&&g.indentBy.length>0&&(C=`
`),pD(p,g,"",C)}function pD(p,g,C,k){let A="",T=!1;for(let L=0;L<p.length;L++){let B=p[L],j=bee(B);if(j===void 0)continue;let se="";if(se=C.length===0?j:`${C}.${j}`,j===g.textNodeName){let bt=B[j];See(se,g)||(bt=g.tagValueProcessor(j,bt),bt=yD(bt,g)),T&&(A+=k),A+=bt,T=!1;continue}if(j===g.cdataPropName){T&&(A+=k),A+=`<![CDATA[${B[j][0][g.textNodeName]}]]>`,T=!1;continue}if(j===g.commentPropName){A+=k+`<!--${B[j][0][g.textNodeName]}-->`,T=!0;continue}if(j[0]==="?"){let bt=gD(B[":@"],g),lt=j==="?xml"?"":k,Cr=B[j][0][g.textNodeName];Cr=Cr.length!==0?" "+Cr:"",A+=lt+`<${j}${Cr}${bt}?>`,T=!0;continue}let Pe=k;Pe!==""&&(Pe+=g.indentBy);let we=k+`<${j}${gD(B[":@"],g)}`,st=pD(B[j],g,se,Pe);g.unpairedTags.indexOf(j)!==-1?g.suppressUnpairedNode?A+=we+">":A+=we+"/>":st&&st.length!==0||!g.suppressEmptyNode?st&&st.endsWith(">")?A+=we+`>${st}${k}</${j}>`:(A+=we+">",st&&k!==""&&(st.includes("/>")||st.includes("</"))?A+=k+g.indentBy+st+k:A+=st,A+=`</${j}>`):A+=we+"/>",T=!0}return A}function bee(p){let g=Object.keys(p);for(let C=0;C<g.length;C++){let k=g[C];if(p.hasOwnProperty(k)&&k!==":@")return k}}function gD(p,g){let C="";if(p&&!g.ignoreAttributes)for(let k in p){if(!p.hasOwnProperty(k))continue;let A=g.attributeValueProcessor(k,p[k]);A=yD(A,g),A===!0&&g.suppressBooleanAttributes?C+=` ${k.substr(g.attributeNamePrefix.length)}`:C+=` ${k.substr(g.attributeNamePrefix.length)}="${A}"`}return C}function See(p,g){let C=(p=p.substr(0,p.length-g.textNodeName.length-1)).substr(p.lastIndexOf(".")+1);for(let k in g.stopNodes)if(g.stopNodes[k]===p||g.stopNodes[k]==="*."+C)return!0;return!1}function yD(p,g){if(p&&p.length>0&&g.processEntities)for(let C=0;C<g.entities.length;C++){let k=g.entities[C];p=p.replace(k.regex,k.val)}return p}let Eee={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,g){return g},attributeValueProcessor:function(p,g){return g},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Bo(p){this.options=Object.assign({},Eee,p),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=fD(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Cee),this.processTextOrObjNode=xee,this.options.format?(this.indentate=wee,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function xee(p,g,C,k){let A=this.j2x(p,C+1,k.concat(g));return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextValNode(p[this.options.textNodeName],g,A.attrStr,C):this.buildObjectNode(A.val,g,A.attrStr,C)}function wee(p){return this.options.indentBy.repeat(p)}function Cee(p){return!(!p.startsWith(this.options.attributeNamePrefix)||p===this.options.textNodeName)&&p.substr(this.attrPrefixLen)}Bo.prototype.build=function(p){return this.options.preserveOrder?yee(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0,[]).val)},Bo.prototype.j2x=function(p,g,C){let k="",A="",T=C.join(".");for(let L in p)if(Object.prototype.hasOwnProperty.call(p,L))if(p[L]===void 0)this.isAttribute(L)&&(A+="");else if(p[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?A+="":L[0]==="?"?A+=this.indentate(g)+"<"+L+"?"+this.tagEndChar:A+=this.indentate(g)+"<"+L+"/"+this.tagEndChar;else if(p[L]instanceof Date)A+=this.buildTextValNode(p[L],L,"",g);else if(typeof p[L]!="object"){let B=this.isAttribute(L);if(B&&!this.ignoreAttributesFn(B,T))k+=this.buildAttrPairStr(B,""+p[L]);else if(!B)if(L===this.options.textNodeName){let j=this.options.tagValueProcessor(L,""+p[L]);A+=this.replaceEntitiesValue(j)}else A+=this.buildTextValNode(p[L],L,"",g)}else if(Array.isArray(p[L])){let B=p[L].length,j="",se="";for(let Pe=0;Pe<B;Pe++){let we=p[L][Pe];if(we!==void 0)if(we===null)L[0]==="?"?A+=this.indentate(g)+"<"+L+"?"+this.tagEndChar:A+=this.indentate(g)+"<"+L+"/"+this.tagEndChar;else if(typeof we=="object")if(this.options.oneListGroup){let st=this.j2x(we,g+1,C.concat(L));j+=st.val,this.options.attributesGroupName&&we.hasOwnProperty(this.options.attributesGroupName)&&(se+=st.attrStr)}else j+=this.processTextOrObjNode(we,L,g,C);else if(this.options.oneListGroup){let st=this.options.tagValueProcessor(L,we);st=this.replaceEntitiesValue(st),j+=st}else j+=this.buildTextValNode(we,L,"",g)}this.options.oneListGroup&&(j=this.buildObjectNode(j,L,se,g)),A+=j}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let B=Object.keys(p[L]),j=B.length;for(let se=0;se<j;se++)k+=this.buildAttrPairStr(B[se],""+p[L][B[se]])}else A+=this.processTextOrObjNode(p[L],L,g,C);return{attrStr:k,val:A}},Bo.prototype.buildAttrPairStr=function(p,g){return g=this.options.attributeValueProcessor(p,""+g),g=this.replaceEntitiesValue(g),this.options.suppressBooleanAttributes&&g==="true"?" "+p:" "+p+'="'+g+'"'},Bo.prototype.buildObjectNode=function(p,g,C,k){if(p==="")return g[0]==="?"?this.indentate(k)+"<"+g+C+"?"+this.tagEndChar:this.indentate(k)+"<"+g+C+this.closeTag(g)+this.tagEndChar;{let A="</"+g+this.tagEndChar,T="";return g[0]==="?"&&(T="?",A=""),!C&&C!==""||p.indexOf("<")!==-1?this.options.commentPropName!==!1&&g===this.options.commentPropName&&T.length===0?this.indentate(k)+`<!--${p}-->`+this.newLine:this.indentate(k)+"<"+g+C+T+this.tagEndChar+p+this.indentate(k)+A:this.indentate(k)+"<"+g+C+T+">"+p+A}},Bo.prototype.closeTag=function(p){let g="";return this.options.unpairedTags.indexOf(p)!==-1?this.options.suppressUnpairedNode||(g="/"):g=this.options.suppressEmptyNode?"/":`></${p}`,g},Bo.prototype.buildTextValNode=function(p,g,C,k){if(this.options.cdataPropName!==!1&&g===this.options.cdataPropName)return this.indentate(k)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&g===this.options.commentPropName)return this.indentate(k)+`<!--${p}-->`+this.newLine;if(g[0]==="?")return this.indentate(k)+"<"+g+C+"?"+this.tagEndChar;{let A=this.options.tagValueProcessor(g,p);return A=this.replaceEntitiesValue(A),A===""?this.indentate(k)+"<"+g+C+this.closeTag(g)+this.tagEndChar:this.indentate(k)+"<"+g+C+">"+A+"</"+g+this.tagEndChar}},Bo.prototype.replaceEntitiesValue=function(p){if(p&&p.length>0&&this.options.processEntities)for(let g=0;g<this.options.entities.length;g++){let C=this.options.entities[g];p=p.replace(C.regex,C.val)}return p};let _ee={validate:a};OV.exports=t})()});var DV=E(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.parseXML=xxe;var Exe=NV(),H1=new Exe.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});H1.addEntity("#xD","\r");H1.addEntity("#10",`
`);function xxe(e){return H1.parse(e,!0)}});var Ym=E(V0=>{"use strict";var wxe=DV();function Cxe(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function _xe(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var j0=class{value;constructor(t){this.value=t}toString(){return _xe(""+this.value)}},K1=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new j0(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new e(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${Cxe(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(V0,"parseXML",{enumerable:!0,get:function(){return wxe.parseXML}});V0.XmlNode=K1;V0.XmlText=j0});var BV,qV,MV,qc,z0=I(()=>{BV=N(Ym());zn();dr();qV=N(We()),MV=N(Tr());xa();qc=class extends fn{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new _c(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=Ee.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(d=>!!d.getMemberTraits().eventPayload)){let d={},u=Object.keys(i)[0];return i[u].isBlobSchema()?d[u]=r:d[u]=this.read(i[u],r),d}let a=(this.serdeContext?.utf8Encoder??MV.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=Ee.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),d=[],u=c.getMergedTraits().xmlName??"member",f=o?r:(r[0]??r)[u],m=Array.isArray(f)?f:[f];for(let h of m)(h!=null||i)&&d.push(this.readSchema(c,h));return d}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),d=n.getValueSchema(),u;o?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",m=d.getMergedTraits().xmlName??"value";for(let h of u){let y=h[f],b=h[m];(b!=null||i)&&(a[y]=this.readSchema(d,b))}return a}if(n.isStructSchema()){for(let[c,d]of n.structIterator()){let u=d.getMergedTraits(),f=u.httpPayload?u.xmlName??d.getName():d.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(d,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,BV.parseXML)(t)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:t}),o}let n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),(0,qV.getValueFromTextNode)(i)}return{}}}});var LV,FV,H0,UV=I(()=>{zn();dr();Vn();LV=N(We()),FV=N(Jr());xa();H0=class extends fn{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=Ee.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??FV.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Ri.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof tr?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),ns(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,LV.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),o=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let d=this.getKey("member",i.getMergedTraits().xmlName),u=o?`${n}${a}`:`${n}${d}.${a}`;this.write(i,c,u),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),o=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[d,u]of Object.entries(r)){if(u==null)continue;let f=this.getKey("key",i.getMergedTraits().xmlName),m=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,h=this.getKey("value",o.getMergedTraits().xmlName),y=a?`${n}${c}.${h}`:`${n}entry.${c}.${h}`;this.write(i,d,m),this.write(o,u,y),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,o]of s.structIterator()){if(r[i]==null&&!o.isIdempotencyToken())continue;let a=this.getKey(i,o.getMergedTraits().xmlName),c=`${n}${a}`;this.write(o,r[i],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${wi(t)}=`}writeValue(t){this.buffer+=wi(t)}}});var Jm,W1=I(()=>{zn();dr();Bd();z0();UV();Jm=class extends co{options;serializer;deserializer;mixin=new xs;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new H0(r),this.deserializer=new qc(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Ys(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;return s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,i=Ee.of(t.output),o={};if(n.statusCode>=300){let f=await Qs(n.body,r);f.byteLength>0&&Object.assign(o,await s.read(15,f)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let f in n.headers){let m=n.headers[f];delete n.headers[f],n.headers[f.toLowerCase()]=m}let a=t.name.split("#")[1]??t.name,c=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,d=await Qs(n.body,r);return d.byteLength>0&&Object.assign(o,await s.read(i,d,c)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:d,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(b,v)=>b.find(R=>Ee.of(R).getMergedTraits().awsQueryError?.[0]===v)),f=Ee.of(d),m=kr.for(d[1]).getErrorCtor(d)??Error,h=new m(c),y={Error:a.Error};for(let[b,v]of f.structIterator()){let R=v.getMergedTraits().xmlName??b,D=a[R]??s[R];y[b]=this.deserializer.readSchema(v,D)}throw Object.assign(h,u,{$fault:f.getMergedTraits().error,message:c},y)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var X1,$V=I(()=>{W1();X1=class extends Jm{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var jV,VV,Zm,Q1,Y1,J1=I(()=>{jV=N(Ym()),VV=N(We());L1();Zm=(e,t)=>L0(e,t).then(r=>{if(r.length){let n;try{n=(0,jV.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,VV.getValueFromTextNode)(o)}return{}}),Q1=async(e,t)=>{let r=await Zm(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Y1=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var ws,Z1,G0,eh,ek=I(()=>{ws=N(Ym());zn();dr();Vn();Z1=N(We()),G0=N(Jr());xa();eh=class extends fn{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=Ee.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??G0.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=ws.XmlNode.of(i),[a,c]=this.getXmlnsAttribute(t,n);for(let[d,u]of t.structIterator()){let f=r[d];if(f!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){o.addAttribute(u.getMergedTraits().xmlName??d,this.writeSimple(u,f));continue}if(u.isListSchema())this.writeList(u,f,o,c);else if(u.isMapSchema())this.writeMap(u,f,o,c);else if(u.isStructSchema())o.addChildNode(this.writeStruct(u,f,c));else{let m=ws.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,f,m,c),o.addChildNode(m)}}}return c&&o.addAttribute(a,c),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,d=!!i.xmlFlattened,[u,f]=this.getXmlnsAttribute(t,s),m=(h,y)=>{if(o.isListSchema())this.writeList(o,Array.isArray(y)?y:[y],h,f);else if(o.isMapSchema())this.writeMap(o,y,h,f);else if(o.isStructSchema()){let b=this.writeStruct(o,y,f);h.addChildNode(b.withName(d?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let b=ws.XmlNode.of(d?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,y,b,f),h.addChildNode(b)}};if(d)for(let h of r)(c||h!=null)&&m(n,h);else{let h=ws.XmlNode.of(i.xmlName??t.getMemberName());f&&h.addAttribute(u,f);for(let y of r)(c||y!=null)&&m(h,y);n.addChildNode(h)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),d=a.getMergedTraits().xmlName??"key",u=t.getValueSchema(),f=u.getMergedTraits(),m=f.xmlName??"value",h=!!f.sparse,y=!!o.xmlFlattened,[b,v]=this.getXmlnsAttribute(t,s),R=(D,Y,ee)=>{let ye=ws.XmlNode.of(d,Y),[re,W]=this.getXmlnsAttribute(a,v);W&&ye.addAttribute(re,W),D.addChildNode(ye);let J=ws.XmlNode.of(m);u.isListSchema()?this.writeList(u,ee,J,v):u.isMapSchema()?this.writeMap(u,ee,J,v,!0):u.isStructSchema()?J=this.writeStruct(u,ee,v):this.writeSimpleInto(u,ee,J,v),D.addChildNode(J)};if(y){for(let[D,Y]of Object.entries(r))if(h||Y!=null){let ee=ws.XmlNode.of(o.xmlName??t.getMemberName());R(ee,D,Y),n.addChildNode(ee)}}else{let D;i||(D=ws.XmlNode.of(o.xmlName??t.getMemberName()),v&&D.addAttribute(b,v),n.addChildNode(D));for(let[Y,ee]of Object.entries(r))if(h||ee!=null){let ye=ws.XmlNode.of("entry");R(ye,Y,ee),(i?n:D).addChildNode(ye)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=Ee.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??G0.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(ns(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,Z1.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Z1.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof tr?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Ri.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=Ee.of(t),a=new ws.XmlText(i),[c,d]=this.getXmlnsAttribute(o,s);d&&n.addAttribute(c,d),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var th,tk=I(()=>{xa();z0();ek();th=class extends fn{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new eh(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new qc(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var rk,zV=I(()=>{zn();dr();Bd();J1();tk();rk=class extends Cc{codec;serializer;deserializer;mixin=new xs;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new th(r),this.serializer=new Ac(this.codec.createSerializer(),r),this.deserializer=new vc(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=Ee.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=Y1(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),d=Ee.of(a),u=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=kr.for(a[1]).getErrorCtor(a)??Error,m=new f(u);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[y,b]of d.structIterator()){let v=b.getMergedTraits().xmlName??y,R=s.Error?.[v]??s[v];h[y]=this.codec.createDeserializer().readSchema(b,R)}throw Object.assign(m,c,{$fault:d.getMergedTraits().error,message:u},h)}getDefaultContentType(){return"application/xml"}}});var HV=I(()=>{sV();iV();RV();TV();$0();kV();U0();U1();$1();PV();Wm();$V();W1();zV();tk();z0();ek();J1()});var Cs={};Zn(Cs,{AWSSDKSigV4Signer:()=>AR,AwsEc2QueryProtocol:()=>X1,AwsJson1_0Protocol:()=>j1,AwsJson1_1Protocol:()=>V1,AwsJsonRpcProtocol:()=>Bc,AwsQueryProtocol:()=>Jm,AwsRestJsonProtocol:()=>z1,AwsRestXmlProtocol:()=>rk,AwsSdkSigV4ASigner:()=>Am,AwsSdkSigV4Signer:()=>jn,AwsSmithyRpcV2CborProtocol:()=>R1,JsonCodec:()=>Dc,JsonShapeDeserializer:()=>Xm,JsonShapeSerializer:()=>Qm,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>wd,NODE_SIGV4A_CONFIG_OPTIONS:()=>p5,XmlCodec:()=>th,XmlShapeDeserializer:()=>qc,XmlShapeSerializer:()=>eh,_toBool:()=>XEe,_toNum:()=>QEe,_toStr:()=>WEe,awsExpectUnion:()=>Sxe,emitWarningIfUnsupportedVersion:()=>Sd,getBearerTokenEnvKey:()=>Py,loadRestJsonErrorCode:()=>Nc,loadRestXmlErrorCode:()=>Y1,parseJsonBody:()=>qd,parseJsonErrorBody:()=>F1,parseXmlBody:()=>Zm,parseXmlErrorBody:()=>Q1,resolveAWSSDKSigV4Config:()=>U5,resolveAwsSdkSigV4AConfig:()=>h5,resolveAwsSdkSigV4Config:()=>Pc,setCredentialFeature:()=>da,setFeature:()=>z4,setTokenFeature:()=>G4,state:()=>Iy,validateSigningProperties:()=>xd});var _r=I(()=>{Xs();d1();HV()});var WV=E((WQe,KV)=>{var K0=Object.defineProperty,vxe=Object.getOwnPropertyDescriptor,Axe=Object.getOwnPropertyNames,Rxe=Object.prototype.hasOwnProperty,Txe=(e,t)=>K0(e,"name",{value:t,configurable:!0}),kxe=(e,t)=>{for(var r in t)K0(e,r,{get:t[r],enumerable:!0})},Ixe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Axe(t))!Rxe.call(e,s)&&s!==r&&K0(e,s,{get:()=>t[s],enumerable:!(n=vxe(t,s))||n.enumerable});return e},Pxe=e=>Ixe(K0({},"__esModule",{value:!0}),e),GV={};kxe(GV,{isArrayBuffer:()=>Oxe});KV.exports=Pxe(GV);var Oxe=Txe(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var JV=E((XQe,YV)=>{var W0=Object.defineProperty,Nxe=Object.getOwnPropertyDescriptor,Dxe=Object.getOwnPropertyNames,Bxe=Object.prototype.hasOwnProperty,XV=(e,t)=>W0(e,"name",{value:t,configurable:!0}),qxe=(e,t)=>{for(var r in t)W0(e,r,{get:t[r],enumerable:!0})},Mxe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Dxe(t))!Bxe.call(e,s)&&s!==r&&W0(e,s,{get:()=>t[s],enumerable:!(n=Nxe(t,s))||n.enumerable});return e},Lxe=e=>Mxe(W0({},"__esModule",{value:!0}),e),QV={};qxe(QV,{fromArrayBuffer:()=>Uxe,fromString:()=>$xe});YV.exports=Lxe(QV);var Fxe=WV(),nk=require("buffer"),Uxe=XV((e,t=0,r=e.byteLength-t)=>{if(!(0,Fxe.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return nk.Buffer.from(e,t,r)},"fromArrayBuffer"),$xe=XV((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?nk.Buffer.from(e,t):nk.Buffer.from(e)},"fromString")});var n8=E((QQe,r8)=>{var X0=Object.defineProperty,jxe=Object.getOwnPropertyDescriptor,Vxe=Object.getOwnPropertyNames,zxe=Object.prototype.hasOwnProperty,sk=(e,t)=>X0(e,"name",{value:t,configurable:!0}),Hxe=(e,t)=>{for(var r in t)X0(e,r,{get:t[r],enumerable:!0})},Gxe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vxe(t))!zxe.call(e,s)&&s!==r&&X0(e,s,{get:()=>t[s],enumerable:!(n=jxe(t,s))||n.enumerable});return e},Kxe=e=>Gxe(X0({},"__esModule",{value:!0}),e),ZV={};Hxe(ZV,{fromUtf8:()=>t8,toUint8Array:()=>Wxe,toUtf8:()=>Xxe});r8.exports=Kxe(ZV);var e8=JV(),t8=sk(e=>{let t=(0,e8.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Wxe=sk(e=>typeof e=="string"?t8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Xxe=sk(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,e8.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var s8=E(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});Q0.convertToBuffer=void 0;var Qxe=n8(),Yxe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Qxe.fromUtf8;function Jxe(e){return e instanceof Uint8Array?e:typeof e=="string"?Yxe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Q0.convertToBuffer=Jxe});var i8=E(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0});Y0.isEmptyData=void 0;function Zxe(e){return typeof e=="string"?e.length===0:e.byteLength===0}Y0.isEmptyData=Zxe});var o8=E(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});J0.numToUint8=void 0;function ewe(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}J0.numToUint8=ewe});var a8=E(Z0=>{"use strict";Object.defineProperty(Z0,"__esModule",{value:!0});Z0.uint32ArrayFrom=void 0;function twe(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Z0.uint32ArrayFrom=twe});var Md=E(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.uint32ArrayFrom=ki.numToUint8=ki.isEmptyData=ki.convertToBuffer=void 0;var rwe=s8();Object.defineProperty(ki,"convertToBuffer",{enumerable:!0,get:function(){return rwe.convertToBuffer}});var nwe=i8();Object.defineProperty(ki,"isEmptyData",{enumerable:!0,get:function(){return nwe.isEmptyData}});var swe=o8();Object.defineProperty(ki,"numToUint8",{enumerable:!0,get:function(){return swe.numToUint8}});var iwe=a8();Object.defineProperty(ki,"uint32ArrayFrom",{enumerable:!0,get:function(){return iwe.uint32ArrayFrom}})});var d8=E(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.AwsCrc32c=void 0;var c8=(Ai(),je(vi)),ik=Md(),l8=ok(),owe=(function(){function e(){this.crc32c=new l8.Crc32c}return e.prototype.update=function(t){(0,ik.isEmptyData)(t)||this.crc32c.update((0,ik.convertToBuffer)(t))},e.prototype.digest=function(){return c8.__awaiter(this,void 0,void 0,function(){return c8.__generator(this,function(t){return[2,(0,ik.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new l8.Crc32c},e})();eb.AwsCrc32c=owe});var ok=E(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.AwsCrc32c=Ca.Crc32c=Ca.crc32c=void 0;var awe=(Ai(),je(vi)),cwe=Md();function lwe(e){return new u8().update(e).digest()}Ca.crc32c=lwe;var u8=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=awe.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^uwe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();Ca.Crc32c=u8;var dwe=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],uwe=(0,cwe.uint32ArrayFrom)(dwe),fwe=d8();Object.defineProperty(Ca,"AwsCrc32c",{enumerable:!0,get:function(){return fwe.AwsCrc32c}})});var h8=E(tb=>{"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.AwsCrc32=void 0;var f8=(Ai(),je(vi)),ak=Md(),m8=rb(),mwe=(function(){function e(){this.crc32=new m8.Crc32}return e.prototype.update=function(t){(0,ak.isEmptyData)(t)||this.crc32.update((0,ak.convertToBuffer)(t))},e.prototype.digest=function(){return f8.__awaiter(this,void 0,void 0,function(){return f8.__generator(this,function(t){return[2,(0,ak.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new m8.Crc32},e})();tb.AwsCrc32=mwe});var rb=E(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.AwsCrc32=_a.Crc32=_a.crc32=void 0;var hwe=(Ai(),je(vi)),pwe=Md();function gwe(e){return new p8().update(e).digest()}_a.crc32=gwe;var p8=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=hwe.__values(t),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^bwe[(this.checksum^o)&255]}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();_a.Crc32=p8;var ywe=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],bwe=(0,pwe.uint32ArrayFrom)(ywe),Swe=h8();Object.defineProperty(_a,"AwsCrc32",{enumerable:!0,get:function(){return Swe.AwsCrc32}})});var y8=E(nb=>{"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.getCrc32ChecksumAlgorithmFunction=void 0;var Ewe=(Ai(),je(vi)),xwe=rb(),wwe=Md(),g8=Ewe.__importStar(require("zlib")),ck=class{checksum=0;update(t){this.checksum=g8.crc32(t,this.checksum)}async digest(){return(0,wwe.numToUint8)(this.checksum)}reset(){this.checksum=0}},Cwe=()=>typeof g8.crc32>"u"?xwe.AwsCrc32:ck;nb.getCrc32ChecksumAlgorithmFunction=Cwe});var hk=E(Re=>{"use strict";var go=(_r(),je(Cs)),S8=ut(),E8=Ec(),_we=Ny(),vwe=ok(),Awe=y8(),Rwe=Tr(),b8=dn(),yo={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},uk=yo.WHEN_SUPPORTED,Ld={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},fk=yo.WHEN_SUPPORTED;Re.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(Re.ChecksumAlgorithm||(Re.ChecksumAlgorithm={}));Re.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Re.ChecksumLocation||(Re.ChecksumLocation={}));var sb=Re.ChecksumAlgorithm.CRC32,Fd;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Fd||(Fd={}));var ib=(e,t,r,n)=>{if(!(t in e))return;let s=e[t].toUpperCase();if(!Object.values(r).includes(s))throw new TypeError(`Cannot load ${n} '${t}'. Expected one of ${Object.values(r)}, got '${e[t]}'.`);return s},x8="AWS_REQUEST_CHECKSUM_CALCULATION",w8="request_checksum_calculation",Twe={environmentVariableSelector:e=>ib(e,x8,yo,Fd.ENV),configFileSelector:e=>ib(e,w8,yo,Fd.CONFIG),default:uk},C8="AWS_RESPONSE_CHECKSUM_VALIDATION",_8="response_checksum_validation",kwe={environmentVariableSelector:e=>ib(e,C8,Ld,Fd.ENV),configFileSelector:e=>ib(e,_8,Ld,Fd.CONFIG),default:fk},lk={CrtCrc64Nvme:null},dk=[Re.ChecksumAlgorithm.CRC32,Re.ChecksumAlgorithm.CRC32C,Re.ChecksumAlgorithm.CRC64NVME,Re.ChecksumAlgorithm.SHA1,Re.ChecksumAlgorithm.SHA256],Iwe=[Re.ChecksumAlgorithm.SHA256,Re.ChecksumAlgorithm.SHA1,Re.ChecksumAlgorithm.CRC32,Re.ChecksumAlgorithm.CRC32C,Re.ChecksumAlgorithm.CRC64NVME],Pwe=(e,{requestChecksumRequired:t,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===yo.WHEN_SUPPORTED||t?sb:void 0;if(!e[r])return;let s=e[r];if(!dk.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${dk}.`);return s},mk=e=>e===Re.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Owe=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},Nwe=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase().startsWith(r))return!0;return!1},v8=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!_we.isArrayBuffer(e),A8=(e,t)=>{switch(e){case Re.ChecksumAlgorithm.MD5:return t.md5;case Re.ChecksumAlgorithm.CRC32:return Awe.getCrc32ChecksumAlgorithmFunction();case Re.ChecksumAlgorithm.CRC32C:return vwe.AwsCrc32c;case Re.ChecksumAlgorithm.CRC64NVME:if(typeof lk.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return lk.CrtCrc64Nvme;case Re.ChecksumAlgorithm.SHA1:return t.sha1;case Re.ChecksumAlgorithm.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},R8=(e,t)=>{let r=new e;return r.update(Rwe.toUint8Array(t||"")),r.digest()},T8={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},k8=(e,t)=>(r,n)=>async s=>{if(!S8.HttpRequest.isInstance(s.request)||Nwe("x-amz-checksum-",s.request.headers))return r(s);let{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:d,streamHasher:u}=e,{requestChecksumRequired:f,requestAlgorithmMember:m}=t,h=await e.requestChecksumCalculation(),y=m?.name,b=m?.httpHeader;y&&!o[y]&&(h===yo.WHEN_SUPPORTED||f)&&(o[y]=sb,b&&(c[b]=sb));let v=Pwe(o,{requestChecksumRequired:f,requestAlgorithmMember:m?.name,requestChecksumCalculation:h}),R=a,D=c;if(v){switch(v){case Re.ChecksumAlgorithm.CRC32:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Re.ChecksumAlgorithm.CRC32C:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Re.ChecksumAlgorithm.CRC64NVME:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case Re.ChecksumAlgorithm.SHA1:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Re.ChecksumAlgorithm.SHA256:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let ee=mk(v),ye=A8(v,e);if(v8(a)){let{getAwsChunkedEncodingStream:re,bodyLengthChecker:W}=e;R=re(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?E8.createBufferedReadable(a,e.requestStreamBufferSize,n.logger):a,{base64Encoder:d,bodyLengthChecker:W,checksumLocationName:ee,checksumAlgorithmFn:ye,streamHasher:u}),D={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":ee},delete D["content-length"]}else if(!Owe(ee,c)){let re=await R8(ye,a);D={...c,[ee]:d(re)}}}return await r({...s,request:{...i,headers:D,body:R}})},Dwe={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},Bwe=(e,t)=>(r,n)=>async s=>{let i=s.input,{requestValidationModeMember:o}=t,a=await e.requestChecksumCalculation(),c=await e.responseChecksumValidation();switch(a){case yo.WHEN_REQUIRED:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case yo.WHEN_SUPPORTED:go.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case Ld.WHEN_REQUIRED:go.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Ld.WHEN_SUPPORTED:go.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===Ld.WHEN_SUPPORTED&&(i[o]="ENABLED"),r(s)},I8=(e=[])=>{let t=[];for(let r of Iwe)!e.includes(r)||!dk.includes(r)||t.push(r);return t},qwe=e=>{let t=e.lastIndexOf("-");if(t!==-1){let r=e.slice(t+1);if(!r.startsWith("0")){let n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},Mwe=async(e,{checksumAlgorithmFn:t,base64Encoder:r})=>r(await R8(t,e)),Lwe=async(e,{config:t,responseAlgorithms:r,logger:n})=>{let s=I8(r),{body:i,headers:o}=e;for(let a of s){let c=mk(a),d=o[c];if(d){let u;try{u=A8(a,t)}catch(h){if(a===Re.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${Re.ChecksumAlgorithm.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}let{base64Encoder:f}=t;if(v8(i)){e.body=E8.createChecksumStream({expectedChecksum:d,checksumSourceLocation:c,checksum:new u,source:i,base64Encoder:f});return}let m=await Mwe(i,{checksumAlgorithmFn:u,base64Encoder:f});if(m===d)break;throw new Error(`Checksum mismatch: expected "${m}" but received "${d}" in response header "${c}".`)}}},Fwe={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Uwe=(e,t)=>(r,n)=>async s=>{if(!S8.HttpRequest.isInstance(s.request))return r(s);let i=s.input,o=await r(s),a=o.response,{requestValidationModeMember:c,responseAlgorithms:d}=t;if(c&&i[c]==="ENABLED"){let{clientName:u,commandName:f}=n;if(u==="S3Client"&&f==="GetObjectCommand"&&I8(d).every(h=>{let y=mk(h),b=a.headers[y];return!b||qwe(b)}))return o;await Lwe(a,{config:e,responseAlgorithms:d,logger:n.logger})}return o},$we=(e,t)=>({applyToStack:r=>{r.add(k8(e,t),T8),r.addRelativeTo(Bwe(e,t),Dwe),r.addRelativeTo(Uwe(e,t),Fwe)}}),jwe=e=>{let{requestChecksumCalculation:t,responseChecksumValidation:r,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:b8.normalizeProvider(t??uk),responseChecksumValidation:b8.normalizeProvider(r??fk),requestStreamBufferSize:Number(n??0)})};Re.CONFIG_REQUEST_CHECKSUM_CALCULATION=w8;Re.CONFIG_RESPONSE_CHECKSUM_VALIDATION=_8;Re.DEFAULT_CHECKSUM_ALGORITHM=sb;Re.DEFAULT_REQUEST_CHECKSUM_CALCULATION=uk;Re.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=fk;Re.ENV_REQUEST_CHECKSUM_CALCULATION=x8;Re.ENV_RESPONSE_CHECKSUM_VALIDATION=C8;Re.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=Twe;Re.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=kwe;Re.RequestChecksumCalculation=yo;Re.ResponseChecksumValidation=Ld;Re.crc64NvmeCrtContainer=lk;Re.flexibleChecksumsMiddleware=k8;Re.flexibleChecksumsMiddlewareOptions=T8;Re.getFlexibleChecksumsPlugin=$we;Re.resolveFlexibleChecksumsConfig=jwe});var nh=E(rh=>{"use strict";var Vwe=ut();function zwe(e){return e}var P8=e=>t=>async r=>{if(!Vwe.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},O8={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Hwe=e=>({applyToStack:t=>{t.add(P8(e),O8)}});rh.getHostHeaderPlugin=Hwe;rh.hostHeaderMiddleware=P8;rh.hostHeaderMiddlewareOptions=O8;rh.resolveHostHeaderConfig=zwe});var sh=E(ob=>{"use strict";var N8=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=a,u=c??t.inputFilterSensitiveLog,f=d??t.outputFilterSensitiveLog,{$metadata:m,...h}=n.output;return o?.info?.({clientName:s,commandName:i,input:u(r.input),output:f(h),metadata:m}),n}catch(n){let{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,d=c??t.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:d(r.input),error:n,metadata:n.$metadata}),n}},D8={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Gwe=e=>({applyToStack:t=>{t.add(N8(),D8)}});ob.getLoggerPlugin=Gwe;ob.loggerMiddleware=N8;ob.loggerMiddlewareOptions=D8});var q8={};Zn(q8,{InvokeStore:()=>Wwe});var B8,pk,Kwe,gk,ab,Wwe,M8=I(()=>{B8=require("async_hooks"),pk=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";pk||(globalThis.awslambda=globalThis.awslambda||{});Kwe={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},gk=class{static storage=new B8.AsyncLocalStorage;static PROTECTED_KEYS=Kwe;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!pk&&globalThis.awslambda?.InvokeStore?ab=globalThis.awslambda.InvokeStore:(ab=gk,!pk&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=ab));Wwe=ab});var L8=E(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});cb.recursionDetectionMiddleware=void 0;var Xwe=(M8(),je(q8)),Qwe=ut(),yk="X-Amzn-Trace-Id",Ywe="AWS_LAMBDA_FUNCTION_NAME",Jwe="_X_AMZN_TRACE_ID",Zwe=()=>e=>async t=>{let{request:r}=t;if(!Qwe.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(d=>d.toLowerCase()===yk.toLowerCase())??yk;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[Ywe],i=process.env[Jwe],a=Xwe.InvokeStore.getXRayTraceId()??i,c=d=>typeof d=="string"&&d.length>0;return c(s)&&c(a)&&(r.headers[yk]=a),e({...t,request:r})};cb.recursionDetectionMiddleware=Zwe});var ih=E(lb=>{"use strict";var bk=L8(),eCe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},tCe=e=>({applyToStack:t=>{t.add(bk.recursionDetectionMiddleware(),eCe)}});lb.getRecursionDetectionPlugin=tCe;Object.keys(bk).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lb,e)&&Object.defineProperty(lb,e,{enumerable:!0,get:function(){return bk[e]}})})});var db=E(Ud=>{"use strict";var rCe=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},nCe=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Ud.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ud.SelectorType||(Ud.SelectorType={}));Ud.booleanSelector=rCe;Ud.numberSelector=nCe});var Ek=E((mYe,U8)=>{"use strict";var ub=Object.defineProperty,sCe=Object.getOwnPropertyDescriptor,iCe=Object.getOwnPropertyNames,oCe=Object.prototype.hasOwnProperty,Sk=(e,t)=>ub(e,"name",{value:t,configurable:!0}),aCe=(e,t)=>{for(var r in t)ub(e,r,{get:t[r],enumerable:!0})},cCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of iCe(t))!oCe.call(e,s)&&s!==r&&ub(e,s,{get:()=>t[s],enumerable:!(n=sCe(t,s))||n.enumerable});return e},lCe=e=>cCe(ub({},"__esModule",{value:!0}),e),F8={};aCe(F8,{build:()=>fCe,parse:()=>uCe,validate:()=>dCe});U8.exports=lCe(F8);var dCe=Sk(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),uCe=Sk(e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,n,s,i,...o]=t;return{partition:r,service:n,region:s,accountId:i,resource:o.join(":")}},"parse"),fCe=Sk(e=>{let{partition:t="aws",service:r,region:n,accountId:s,resource:i}=e;if([r,n,s,i].some(o=>typeof o!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${n}:${s}:${i}`},"build")});var pb=E(gt=>{"use strict";var oh=ut(),z8=We(),mCe=R0(),fb=db(),hCe=(_r(),je(Cs)),H8=(Pn(),je(Tc));so();var pCe=dn(),$8=Ec(),gCe=Ek(),yCe="content-length",bCe="x-amz-decoded-content-length";function G8(){return(e,t)=>async r=>{let{request:n}=r;if(oh.HttpRequest.isInstance(n)&&!(yCe in n.headers)&&!(bCe in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof z8.NoOpLogger)?t.logger.warn(s):console.warn(s)}return e({...r})}}var K8={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},SCe=e=>({applyToStack:t=>{t.add(G8(),K8)}}),W8=e=>(t,r)=>async n=>{let s=await e.region(),i=e.region,o=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),o=()=>Object.defineProperty(e,"region",{writable:!0,value:i}));try{let a=await t(n);if(r.__s3RegionRedirect){o();let c=await e.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},X8={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Q8(e){return(t,r)=>async n=>{try{return await t(n)}catch(s){if(e.followRegionRedirects){let i=s?.$metadata?.httpStatusCode,o=r.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{let c=a;r.logger?.debug(`Redirecting from ${await e.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(n)}}throw s}}}var Y8={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},ECe=e=>({applyToStack:t=>{t.add(Q8(e),Y8),t.addRelativeTo(W8(e),X8)}}),J8=e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(oh.HttpResponse.isInstance(i)&&i.headers.expires){i.headers.expiresstring=i.headers.expires;try{z8.parseRfc7231DateTime(i.headers.expires)}catch(o){r.logger?.warn(`AWS SDK Warning for ${r.clientName}::${r.commandName} response parsing (${i.headers.expires}): ${o}`),delete i.headers.expires}}return s},Z8={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},xCe=e=>({applyToStack:t=>{t.addRelativeTo(J8(),Z8)}}),mb=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(t={}){this.data=t}get(t){let r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){let t=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(let r in this.data){let n=this.data[r];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<t&&delete this.data[r]}}}},$d=class{_identity;isRefreshing;accessed;constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},hb=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(t,r=new mb){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){let n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(n,new $d(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(d=>{s.set(n,new $d(Promise.resolve(d)))})),o)):s.set(n,new $d(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}},wCe="Directory",CCe="S3Express",_Ce="sigv4-s3express",xk="X-Amz-S3session-Token",wk=xk.toLowerCase(),vCe="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",ACe="s3_disable_express_session_auth",RCe={environmentVariableSelector:e=>fb.booleanSelector(e,vCe,fb.SelectorType.ENV),configFileSelector:e=>fb.booleanSelector(e,ACe,fb.SelectorType.CONFIG),default:!1},Ck=class extends mCe.SignatureV4{async signWithCredentials(t,r,n){let s=j8(r);t.headers[wk]=r.sessionToken;let i=this;return V8(i,s),i.signRequest(t,n??{})}async presignWithCredentials(t,r,n){let s=j8(r);return delete t.headers[wk],t.headers[xk]=r.sessionToken,t.query=t.query??{},t.query[xk]=r.sessionToken,V8(this,s),this.presign(t,n)}};function j8(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function V8(e,t){let r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=s}var ez=e=>(t,r)=>async n=>{if(r.endpointV2){let s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===_Ce;if((s.properties?.backend===CCe||s.properties?.bucketType===wCe)&&(hCe.setFeature(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){let a=n.input.Bucket;if(a){let c=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=c,oh.HttpRequest.isInstance(n.request)&&c.sessionToken&&(n.request.headers[wk]=c.sessionToken)}}}return t(n)},tz={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},TCe=e=>({applyToStack:t=>{t.add(ez(e),tz)}}),kCe=async(e,t,r,n)=>{let s=await n.signWithCredentials(r,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},ICe=e=>t=>{throw t},PCe=(e,t)=>{},OCe=H8.httpSigningMiddlewareOptions,rz=e=>(t,r)=>async n=>{if(!oh.HttpRequest.isInstance(n.request))return t(n);let i=pCe.getSmithyContext(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,d;r.s3ExpressIdentity?d=await kCe(r.s3ExpressIdentity,o,n.request,await e.signer()):d=await c.sign(n.request,a,o);let u=await t({...n,request:d}).catch((c.errorHandler||ICe)(o));return(c.successHandler||PCe)(u.response,o),u},NCe=e=>({applyToStack:t=>{t.addRelativeTo(rz(e),H8.httpSigningMiddlewareOptions)}}),DCe=(e,{session:t})=>{let[r,n]=t,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:d,expectContinueHeader:u}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new hb(async f=>r().send(new n({Bucket:f}))),bucketEndpoint:d??!1,expectContinueHeader:u??2097152})},BCe={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},qCe=3e3,nz=e=>(t,r)=>async n=>{let s=await t(n),{response:i}=s;if(!oh.HttpResponse.isInstance(i))return s;let{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let d=a,u=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([d,u]=await $8.splitStream(a)),i.body=u;let f=await MCe(d,{streamCollector:async h=>$8.headStream(h,qCe)});typeof d?.destroy=="function"&&d.destroy();let m=e.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&BCe[r.commandName]){let h=new Error("S3 aborted request");throw h.name="InternalError",h}return m&&m.endsWith("</Error>")&&(i.statusCode=400),s},MCe=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),sz={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},LCe=e=>({applyToStack:t=>{t.addRelativeTo(nz(e),sz)}});function FCe(e){return(t,r)=>async n=>{if(e.bucketEndpoint){let s=r.endpointV2;if(s){let i=n.input.Bucket;if(typeof i=="string")try{let o=new URL(i);r.endpointV2={...s,url:o}}catch(o){let a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a),o}}}return t(n)}}var UCe={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function iz({bucketEndpoint:e}){return t=>async r=>{let{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!gCe.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return t({...r})}}var oz={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},$Ce=e=>({applyToStack:t=>{t.add(iz(e),oz),t.addRelativeTo(FCe(e),UCe)}});gt.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=RCe;gt.S3ExpressIdentityCache=mb;gt.S3ExpressIdentityCacheEntry=$d;gt.S3ExpressIdentityProviderImpl=hb;gt.SignatureV4S3Express=Ck;gt.checkContentLengthHeader=G8;gt.checkContentLengthHeaderMiddlewareOptions=K8;gt.getCheckContentLengthHeaderPlugin=SCe;gt.getRegionRedirectMiddlewarePlugin=ECe;gt.getS3ExpiresMiddlewarePlugin=xCe;gt.getS3ExpressHttpSigningPlugin=NCe;gt.getS3ExpressPlugin=TCe;gt.getThrow200ExceptionsPlugin=LCe;gt.getValidateBucketNamePlugin=$Ce;gt.regionRedirectEndpointMiddleware=W8;gt.regionRedirectEndpointMiddlewareOptions=X8;gt.regionRedirectMiddleware=Q8;gt.regionRedirectMiddlewareOptions=Y8;gt.resolveS3Config=DCe;gt.s3ExpiresMiddleware=J8;gt.s3ExpiresMiddlewareOptions=Z8;gt.s3ExpressHttpSigningMiddleware=rz;gt.s3ExpressHttpSigningMiddlewareOptions=OCe;gt.s3ExpressMiddleware=ez;gt.s3ExpressMiddlewareOptions=tz;gt.throw200ExceptionsMiddleware=nz;gt.throw200ExceptionsMiddlewareOptions=sz;gt.validateBucketNameMiddleware=iz;gt.validateBucketNameMiddlewareOptions=oz});var Lc=E(Mc=>{"use strict";var vk=so(),Ak=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}},jCe=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),az=e=>jCe.test(e)||e.startsWith("[")&&e.endsWith("]"),VCe=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Tk=(e,t=!1)=>{if(!t)return VCe.test(e);let r=e.split(".");for(let n of r)if(!Tk(n))return!1;return!0},Rk={},ah="endpoints";function va(e){return typeof e!="object"||e==null?e:"ref"in e?`$${va(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(va).join(", ")})`:JSON.stringify(e,null,2)}var mn=class extends Error{constructor(t){super(t),this.name="EndpointError"}},zCe=(e,t)=>e===t,HCe=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new mn(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new mn(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},cz=(e,t)=>HCe(t).reduce((r,n)=>{if(typeof r!="object")throw new mn(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),GCe=e=>e!=null,KCe=e=>!e,_k={[vk.EndpointURLScheme.HTTP]:80,[vk.EndpointURLScheme.HTTPS]:443},WCe=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:h,protocol:y="",path:b="",query:v={}}=e,R=new URL(`${y}//${m}${h?`:${h}`:""}${b}`);return R.search=Object.entries(v).map(([D,Y])=>`${D}=${Y}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let c=o.slice(0,-1);if(!Object.values(vk.EndpointURLScheme).includes(c))return null;let d=az(s),u=r.includes(`${n}:${_k[c]}`)||typeof e=="string"&&e.includes(`${n}:${_k[c]}`),f=`${n}${u?`:${_k[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},XCe=(e,t)=>e===t,QCe=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),YCe=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),JCe={booleanEquals:zCe,getAttr:cz,isSet:GCe,isValidHostLabel:Tk,not:KCe,parseURL:WCe,stringEquals:XCe,substring:QCe,uriEncode:YCe},lz=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[c,d]=a.split("#");r.push(cz(n[c],d))}else r.push(n[a]);s=o+1}return r.join("")},ZCe=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],gb=(e,t,r)=>{if(typeof e=="string")return lz(e,r);if(e.fn)return uz.callFunction(e,r);if(e.ref)return ZCe(e,r);throw new mn(`'${t}': ${String(e)} is not a string, function or reference.`)},dz=({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:uz.evaluateExpression(i,"arg",r)),s=e.split(".");return s[0]in Rk&&s[1]!=null?Rk[s[0]][s[1]](...n):JCe[e](...n)},uz={evaluateExpression:gb,callFunction:dz},e_e=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new mn(`'${e}' is already defined in Reference Record.`);let n=dz(t,r);return r.logger?.debug?.(`${ah} evaluateCondition: ${va(t)} = ${va(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},kk=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:i}=e_e(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,t.logger?.debug?.(`${ah} assign: ${i.name} := ${va(i.value)}`))}return{result:!0,referenceRecord:r}},t_e=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=gb(i,"Header value entry",t);if(typeof o!="string")throw new mn(`Header '${n}' value '${o}' is not a string`);return o})}),{}),fz=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:hz.getEndpointProperty(s,t)}),{}),mz=(e,t)=>{if(Array.isArray(e))return e.map(r=>mz(r,t));switch(typeof e){case"string":return lz(e,t);case"object":if(e===null)throw new mn(`Unexpected endpoint property: ${e}`);return hz.getEndpointProperties(e,t);case"boolean":return e;default:throw new mn(`Unexpected endpoint property type: ${typeof e}`)}},hz={getEndpointProperty:mz,getEndpointProperties:fz},r_e=(e,t)=>{let r=gb(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new mn(`Endpoint URL must be a string, got ${typeof r}`)},n_e=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=kk(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:d}=n;return t.logger?.debug?.(`${ah} Resolving endpoint from template: ${va(n)}`),{...d!=null&&{headers:t_e(d,o)},...c!=null&&{properties:fz(c,o)},url:r_e(a,o)}},s_e=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=kk(r,t);if(s)throw new mn(gb(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},pz=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=n_e(r,t);if(n)return n}else if(r.type==="error")s_e(r,t);else if(r.type==="tree"){let n=gz.evaluateTreeRule(r,t);if(n)return n}else throw new mn(`Unknown endpoint rule: ${r}`);throw new mn("Rules evaluation failed")},i_e=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=kk(r,t);if(s)return gz.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},gz={evaluateRules:pz,evaluateTreeRule:i_e},o_e=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;t.logger?.debug?.(`${ah} Initial EndpointParams: ${va(r)}`);let o=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,u])=>[d,u.default]);if(o.length>0)for(let[d,u]of o)r[d]=r[d]??u;let a=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of a)if(r[d]==null)throw new mn(`Missing required parameter: '${d}'`);let c=pz(i,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ah} Resolved endpoint: ${va(c)}`),c};Mc.EndpointCache=Ak;Mc.EndpointError=mn;Mc.customEndpointFunctions=Rk;Mc.isIpAddress=az;Mc.isValidHostLabel=Tk;Mc.resolveEndpoint=o_e});var bz=E(yz=>{"use strict";function a_e(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}yz.parseQueryString=a_e});var Aa=E(Ez=>{"use strict";var c_e=bz(),Sz=e=>{if(typeof e=="string")return Sz(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=c_e.parseQueryString(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};Ez.parseUrl=Sz});var Vd=E(Js=>{"use strict";var jd=Lc(),l_e=Aa(),wz=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!wz(r))return!1;return!0}return!(!jd.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||jd.isIpAddress(e))},xz=":",d_e="/",u_e=e=>{let t=e.split(xz);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(xz)==="")return null;let c=a.map(d=>d.split(d_e)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:c}},f_e=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],m_e="1.1",Cz={partitions:f_e,version:m_e},_z=Cz,vz="",Az=e=>{let{partitions:t}=_z;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Rz=(e,t="")=>{_z=e,vz=t},h_e=()=>{Rz(Cz,"")},p_e=()=>vz,Tz={isVirtualHostableS3Bucket:wz,parseArn:u_e,partition:Az};jd.customEndpointFunctions.aws=Tz;var g_e=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>kz(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},kz=e=>l_e.parseUrl(e.url);Object.defineProperty(Js,"EndpointError",{enumerable:!0,get:function(){return jd.EndpointError}});Object.defineProperty(Js,"isIpAddress",{enumerable:!0,get:function(){return jd.isIpAddress}});Object.defineProperty(Js,"resolveEndpoint",{enumerable:!0,get:function(){return jd.resolveEndpoint}});Js.awsEndpointFunctions=Tz;Js.getUserAgentPrefix=p_e;Js.partition=Az;Js.resolveDefaultAwsRegionalEndpointsConfig=g_e;Js.setPartitionInfo=Rz;Js.toEndpointV1=kz;Js.useDefaultPartitionInfo=h_e});var Hd=E(zd=>{"use strict";var y_e=(Pn(),je(Tc)),b_e=Vd(),S_e=ut(),Ii=(_r(),je(Cs)),Nz=void 0;function E_e(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function x_e(e){let t=y_e.normalizeProvider(e.userAgentAppId??Nz),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!E_e(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var w_e=/\d{12}\.ddb/;async function C_e(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Ii.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=await t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?Ii.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Ii.setFeature(e,"RETRY_MODE_STANDARD","E"):Ii.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(w_e)&&Ii.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Ii.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Ii.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Ii.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&Ii.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(i.$source??{}))Ii.setFeature(e,o,a)}}var Iz="user-agent",Ik="x-amz-user-agent",Pz=" ",Pk="/",__e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,v_e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Oz="-",A_e=1024;function R_e(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=A_e){t.length?t+=","+n:t+=n;continue}break}return t}var Dz=e=>(t,r)=>async n=>{let{request:s}=n;if(!S_e.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=r?.userAgent?.map(yb)||[],a=(await e.defaultUserAgentProvider()).map(yb);await C_e(r,e,n);let c=r;a.push(`m/${R_e(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(yb)||[],u=await e.userAgentAppId();u&&a.push(yb([`app/${u}`]));let f=b_e.getUserAgentPrefix(),m=(f?[f]:[]).concat([...a,...o,...d]).join(Pz),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...d].join(Pz);return e.runtime!=="browser"?(h&&(i[Ik]=i[Ik]?`${i[Iz]} ${h}`:h),i[Iz]=m):i[Ik]=m,t({...n,request:s})},yb=e=>{let t=e[0].split(Pk).map(o=>o.replace(__e,Oz)).join(Pk),r=e[1]?.replace(v_e,Oz),n=t.indexOf(Pk),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},Bz={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},T_e=e=>({applyToStack:t=>{t.add(Dz(e),Bz)}});zd.DEFAULT_UA_APP_ID=Nz;zd.getUserAgentMiddlewareOptions=Bz;zd.getUserAgentPlugin=T_e;zd.resolveUserAgentConfig=x_e;zd.userAgentMiddleware=Dz});var _s=E(Zr=>{"use strict";var Ra=db(),bb=dn(),k_e=Lc(),Lz="AWS_USE_DUALSTACK_ENDPOINT",Fz="use_dualstack_endpoint",I_e=!1,P_e={environmentVariableSelector:e=>Ra.booleanSelector(e,Lz,Ra.SelectorType.ENV),configFileSelector:e=>Ra.booleanSelector(e,Fz,Ra.SelectorType.CONFIG),default:!1},Uz="AWS_USE_FIPS_ENDPOINT",$z="use_fips_endpoint",O_e=!1,N_e={environmentVariableSelector:e=>Ra.booleanSelector(e,Uz,Ra.SelectorType.ENV),configFileSelector:e=>Ra.booleanSelector(e,$z,Ra.SelectorType.CONFIG),default:!1},D_e=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:bb.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:bb.normalizeProvider(s??!1)})},B_e=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},q_e=e=>{let t=bb.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?bb.normalizeProvider(typeof r=="string"?s(r):r):()=>B_e({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},jz="AWS_REGION",Vz="region",M_e={environmentVariableSelector:e=>e[jz],configFileSelector:e=>e[Vz],default:()=>{throw new Error("Region is missing")}},L_e={preferredFile:"credentials"},qz=new Set,F_e=(e,t=k_e.isValidHostLabel)=>{if(!qz.has(e)&&!t(e))throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);qz.add(e)},zz=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),U_e=e=>zz(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,$_e=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=U_e(n);return F_e(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return zz(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Mz=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,j_e=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),V_e=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",z_e=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},H_e=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{let o=V_e(e,{partitionHash:i}),a=e in s?e:i[o]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},d=Mz(s[a]?.variants,c),u=Mz(i[o]?.variants,c),f=j_e(a,{regionHostname:d,partitionHostname:u});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let m=z_e(f,{signingRegion:s[a]?.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:f,...m&&{signingRegion:m},...s[a]?.signingService&&{signingService:s[a].signingService}}};Zr.CONFIG_USE_DUALSTACK_ENDPOINT=Fz;Zr.CONFIG_USE_FIPS_ENDPOINT=$z;Zr.DEFAULT_USE_DUALSTACK_ENDPOINT=I_e;Zr.DEFAULT_USE_FIPS_ENDPOINT=O_e;Zr.ENV_USE_DUALSTACK_ENDPOINT=Lz;Zr.ENV_USE_FIPS_ENDPOINT=Uz;Zr.NODE_REGION_CONFIG_FILE_OPTIONS=L_e;Zr.NODE_REGION_CONFIG_OPTIONS=M_e;Zr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=P_e;Zr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=N_e;Zr.REGION_ENV_NAME=jz;Zr.REGION_INI_NAME=Vz;Zr.getRegionInfo=H_e;Zr.resolveCustomEndpointsConfig=D_e;Zr.resolveEndpointsConfig=q_e;Zr.resolveRegionConfig=$_e});var Gz=E(Hz=>{"use strict";var G_e=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});Hz.resolveEventStreamSerdeConfig=G_e});var ch=E(Sb=>{"use strict";var K_e=ut(),Kz="content-length";function Wz(e){return t=>async r=>{let n=r.request;if(K_e.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Kz)===-1)try{let o=e(s);n.headers={...n.headers,[Kz]:String(o)}}catch{}}return t({...r,request:n})}}var Xz={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},W_e=e=>({applyToStack:t=>{t.add(Wz(e.bodyLengthChecker),Xz)}});Sb.contentLengthMiddleware=Wz;Sb.contentLengthMiddlewareOptions=Xz;Sb.getContentLengthPlugin=W_e});var Nk=E(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.getHomeDir=void 0;var X_e=require("os"),Q_e=require("path"),Ok={},Y_e=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",J_e=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Q_e.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=Y_e();return Ok[s]||(Ok[s]=(0,X_e.homedir)()),Ok[s]};Eb.getHomeDir=J_e});var Dk=E(xb=>{"use strict";Object.defineProperty(xb,"__esModule",{value:!0});xb.getSSOTokenFilepath=void 0;var Z_e=require("crypto"),eve=require("path"),tve=Nk(),rve=e=>{let r=(0,Z_e.createHash)("sha1").update(e).digest("hex");return(0,eve.join)((0,tve.getHomeDir)(),".aws","sso","cache",`${r}.json`)};xb.getSSOTokenFilepath=rve});var Qz=E(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getSSOTokenFromFile=Ta.tokenIntercept=void 0;var nve=require("fs"),sve=Dk(),{readFile:ive}=nve.promises;Ta.tokenIntercept={};var ove=async e=>{if(Ta.tokenIntercept[e])return Ta.tokenIntercept[e];let t=(0,sve.getSSOTokenFilepath)(e),r=await ive(t,"utf8");return JSON.parse(r)};Ta.getSSOTokenFromFile=ove});var Yz=E(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.slurpFile=ss.fileIntercept=ss.filePromisesHash=void 0;var ave=require("fs"),{readFile:cve}=ave.promises;ss.filePromisesHash={};ss.fileIntercept={};var lve=(e,t)=>ss.fileIntercept[e]!==void 0?ss.fileIntercept[e]:((!ss.filePromisesHash[e]||t?.ignoreCache)&&(ss.filePromisesHash[e]=cve(e,"utf8")),ss.filePromisesHash[e]);ss.slurpFile=lve});var bo=E(Hn=>{"use strict";var lh=Nk(),Jz=Dk(),Bk=Qz(),wb=require("path"),Cb=so(),dh=Yz(),e9="AWS_PROFILE",t9="default",dve=e=>e.profile||process.env[e9]||t9,Fc=".",uve=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Fc);return r===-1?!1:Object.values(Cb.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Fc),i=r.substring(0,s)===Cb.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),fve="AWS_CONFIG_FILE",r9=()=>process.env[fve]||wb.join(lh.getHomeDir(),".aws","config"),mve="AWS_SHARED_CREDENTIALS_FILE",hve=()=>process.env[mve]||wb.join(lh.getHomeDir(),".aws","credentials"),pve=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,gve=["__proto__","profile __proto__"],qk=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),c=pve.exec(a);if(c){let[,d,,u]=c;Object.values(Cb.IniSectionType).includes(d)&&(r=[d,u].join(Fc))}else r=a;if(gve.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(d==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Fc):c;t[r][u]=d}}}}return t},Zz=()=>({}),n9=async(e={})=>{let{filepath:t=hve(),configFilepath:r=r9()}=e,n=lh.getHomeDir(),s="~/",i=t;t.startsWith(s)&&(i=wb.join(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=wb.join(n,r.slice(2)));let a=await Promise.all([dh.slurpFile(o,{ignoreCache:e.ignoreCache}).then(qk).then(uve).catch(Zz),dh.slurpFile(i,{ignoreCache:e.ignoreCache}).then(qk).catch(Zz)]);return{configFile:a[0],credentialsFile:a[1]}},yve=e=>Object.entries(e).filter(([t])=>t.startsWith(Cb.IniSectionType.SSO_SESSION+Fc)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Fc)+1)]:n}),{}),bve=()=>({}),Sve=async(e={})=>dh.slurpFile(e.configFilepath??r9()).then(qk).then(yve).catch(bve),Eve=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},xve=async e=>{let t=await n9(e);return Eve(t.configFile,t.credentialsFile)},wve={getFileRecord(){return dh.fileIntercept},interceptFile(e,t){dh.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Bk.tokenIntercept},interceptToken(e,t){Bk.tokenIntercept[e]=t}};Object.defineProperty(Hn,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Bk.getSSOTokenFromFile}});Hn.CONFIG_PREFIX_SEPARATOR=Fc;Hn.DEFAULT_PROFILE=t9;Hn.ENV_PROFILE=e9;Hn.externalDataInterceptor=wve;Hn.getProfileName=dve;Hn.loadSharedConfigFiles=n9;Hn.loadSsoSessionData=Sve;Hn.parseKnownFiles=xve;Object.keys(lh).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Hn,e)&&Object.defineProperty(Hn,e,{enumerable:!0,get:function(){return lh[e]}})});Object.keys(Jz).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Hn,e)&&Object.defineProperty(Hn,e,{enumerable:!0,get:function(){return Jz[e]}})})});var So=E(o9=>{"use strict";var uh=On(),s9=bo();function i9(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var Cve=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new uh.CredentialsProviderError(r.message||`Not found in ENV: ${i9(e.toString())}`,{logger:t?.logger})}},_ve=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=s9.getProfileName(r),{configFile:s,credentialsFile:i}=await s9.loadSharedConfigFiles(r),o=i[n]||{},a=s[n]||{},c=t==="config"?{...o,...a}:{...a,...o};try{let u=e(c,t==="config"?s:i);if(u===void 0)throw new Error;return u}catch(d){throw new uh.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${i9(e.toString())}`,{logger:r.logger})}},vve=e=>typeof e=="function",Ave=e=>vve(e)?async()=>await e():uh.fromStatic(e),Rve=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return uh.memoize(uh.chain(Cve(e,o),_ve(t,n),Ave(r)))};o9.loadConfig=Rve});var d9=E(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.getEndpointUrlConfig=void 0;var a9=bo(),c9="AWS_ENDPOINT_URL",l9="endpoint_url",Tve=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[c9,...r].join("_")];if(n)return n;let s=t[c9];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(a9.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),l9].join(a9.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[l9];if(n)return n},default:void 0});_b.getEndpointUrlConfig=Tve});var u9=E(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0});vb.getEndpointFromConfig=void 0;var kve=So(),Ive=d9(),Pve=async e=>(0,kve.loadConfig)((0,Ive.getEndpointUrlConfig)(e??""))();vb.getEndpointFromConfig=Pve});var Pi=E(Eo=>{"use strict";var m9=u9(),f9=Aa(),Ove=(Pn(),je(Tc)),Ab=dn(),Nve=fa(),Dve=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Fve(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Lve(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Bve=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,qve=/(\d+\.){3}\d+/,Mve=/\.\./,Lve=e=>Bve.test(e)&&!qve.test(e)&&!Mve.test(e),Fve=e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},Uve=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},Mk=e=>typeof e=="object"?"url"in e?f9.parseUrl(e.url):e:f9.parseUrl(e),h9=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await m9.getEndpointFromConfig(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(Mk(o)),r.isCustomEndpoint=!0)}let s=await p9(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},p9=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":n[i]=o.value;break;case"contextParams":n[i]=e[o.name];break;case"clientContextParams":case"builtInParams":n[i]=await Uve(o.name,i,r)();break;case"operationContextParams":n[i]=o.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Dve(n),n},g9=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&Ove.setFeature(n,"ENDPOINT_OVERRIDE","N");let i=await h9(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=Ab.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},y9={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Nve.serializerMiddlewareOption.name},$ve=(e,t)=>({applyToStack:r=>{r.addRelativeTo(g9({config:e,instructions:t}),y9)}}),jve=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>Mk(await Ab.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Ab.normalizeProvider(n??!1),useFipsEndpoint:Ab.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=m9.getEndpointFromConfig(e.serviceId)),c),a},Vve=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Eo.endpointMiddleware=g9;Eo.endpointMiddlewareOptions=y9;Eo.getEndpointFromInstructions=h9;Eo.getEndpointPlugin=$ve;Eo.resolveEndpointConfig=jve;Eo.resolveEndpointRequiredConfig=Vve;Eo.resolveParams=p9;Eo.toEndpointV1=Mk});var Fk=E(ka=>{"use strict";var zve=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Hve=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Gve=["TimeoutError","RequestTimeout","RequestTimeoutException"],Kve=[500,502,503,504],Wve=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Xve=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],b9=e=>e?.$retryable!==void 0,Qve=e=>zve.includes(e.name),S9=e=>e.$metadata?.clockSkewCorrected,E9=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},Yve=e=>e.$metadata?.httpStatusCode===429||Hve.includes(e.name)||e.$retryable?.throttling==!0,Lk=(e,t=0)=>b9(e)||S9(e)||Gve.includes(e.name)||Wve.includes(e?.code||"")||Xve.includes(e?.code||"")||Kve.includes(e.$metadata?.httpStatusCode||0)||E9(e)||e.cause!==void 0&&t<=10&&Lk(e.cause,t+1),Jve=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Lk(e)}return!1};ka.isBrowserNetworkError=E9;ka.isClockSkewCorrectedError=S9;ka.isClockSkewError=Qve;ka.isRetryableByTrait=b9;ka.isServerError=Jve;ka.isThrottlingError=Yve;ka.isTransientError=Lk});var Gd=E(ur=>{"use strict";var Zve=Fk();ur.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ur.RETRY_MODES||(ur.RETRY_MODES={}));var Uk=3,eAe=ur.RETRY_MODES.STANDARD,Rb=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Zve.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},fh=100,zk=20*1e3,w9=500,$k=500,C9=5,_9=10,v9=1,tAe="amz-sdk-invocation-id",rAe="amz-sdk-request",nAe=()=>{let e=fh;return{computeNextBackoffDelay:n=>Math.floor(Math.min(zk,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},x9=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(zk,e),getRetryCost:()=>r}),mh=class{maxAttempts;mode=ur.RETRY_MODES.STANDARD;capacity=$k;retryBackoffStrategy=nAe();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return x9({retryDelay:fh,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?w9:fh);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,x9({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max($k,this.capacity+(t.getRetryCost()??v9))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Uk}`),Uk}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?_9:C9}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},jk=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ur.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Rb,this.standardRetryStrategy=new mh(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Vk=class extends mh{computeNextBackoffDelay;constructor(t,r=fh){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};ur.AdaptiveRetryStrategy=jk;ur.ConfiguredRetryStrategy=Vk;ur.DEFAULT_MAX_ATTEMPTS=Uk;ur.DEFAULT_RETRY_DELAY_BASE=fh;ur.DEFAULT_RETRY_MODE=eAe;ur.DefaultRateLimiter=Rb;ur.INITIAL_RETRY_TOKENS=$k;ur.INVOCATION_ID_HEADER=tAe;ur.MAXIMUM_RETRY_DELAY=zk;ur.NO_RETRY_INCREMENT=v9;ur.REQUEST_HEADER=rAe;ur.RETRY_COST=C9;ur.StandardRetryStrategy=mh;ur.THROTTLING_RETRY_DELAY_BASE=w9;ur.TIMEOUT_RETRY_COST=_9});var A9=E(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0});Tb.isStreamingPayload=void 0;var sAe=require("stream"),iAe=e=>e?.body instanceof sAe.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Tb.isStreamingPayload=iAe});var xo=E(Ir=>{"use strict";var rr=Gd(),Kd=ut(),Ia=Fk(),T9=m0(),R9=dn(),oAe=We(),aAe=A9(),cAe=(e,t)=>{let r=e,n=rr.NO_RETRY_INCREMENT,s=rr.RETRY_COST,i=rr.TIMEOUT_RETRY_COST,o=e,a=f=>f.name==="TimeoutError"?i:s,c=f=>a(f)<=o;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:f=>{if(!c(f))throw new Error("No retry token available");let m=a(f);return o-=m,m},releaseRetryTokens:f=>{o+=f??n,o=Math.min(o,r)}})},k9=(e,t)=>Math.floor(Math.min(rr.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),I9=e=>e?Ia.isRetryableByTrait(e)||Ia.isClockSkewError(e)||Ia.isThrottlingError(e)||Ia.isTransientError(e):!1,P9=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),kb=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=rr.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??I9,this.delayDecider=r?.delayDecider??k9,this.retryQuota=r?.retryQuota??cAe(rr.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=rr.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:c}=r;for(Kd.HttpRequest.isInstance(c)&&(c.headers[rr.INVOCATION_ID_HEADER]=T9.v4());;)try{Kd.HttpRequest.isInstance(c)&&(c.headers[rr.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=o,{response:d,output:u}}catch(d){let u=P9(d);if(i++,this.shouldRetry(u,i,a)){s=this.retryQuota.retrieveRetryTokens(u);let f=this.delayDecider(Ia.isThrottlingError(u)?rr.THROTTLING_RETRY_DELAY_BASE:rr.DEFAULT_RETRY_DELAY_BASE,i),m=lAe(u.$response),h=Math.max(m||0,f);o+=h,await new Promise(y=>setTimeout(y,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=o,u}}},lAe=e=>{if(!Kd.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Hk=class extends kb{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new rr.DefaultRateLimiter,this.mode=rr.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Gk="AWS_MAX_ATTEMPTS",Kk="max_attempts",dAe={environmentVariableSelector:e=>{let t=e[Gk];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Gk} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Kk];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Kk} mast be a number, got "${t}"`);return r},default:rr.DEFAULT_MAX_ATTEMPTS},uAe=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=R9.normalizeProvider(n??rr.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await R9.normalizeProvider(r)()===rr.RETRY_MODES.ADAPTIVE?new rr.AdaptiveRetryStrategy(s):new rr.StandardRetryStrategy(s))})},O9="AWS_RETRY_MODE",N9="retry_mode",fAe={environmentVariableSelector:e=>e[O9],configFileSelector:e=>e[N9],default:rr.DEFAULT_RETRY_MODE},D9=()=>e=>async t=>{let{request:r}=t;return Kd.HttpRequest.isInstance(r)&&(delete r.headers[rr.INVOCATION_ID_HEADER],delete r.headers[rr.REQUEST_HEADER]),e(t)},B9={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},mAe=e=>({applyToStack:t=>{t.addRelativeTo(D9(),B9)}}),q9=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),i=await e.maxAttempts();if(hAe(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:u}=n,f=Kd.HttpRequest.isInstance(u);for(f&&(u.headers[rr.INVOCATION_ID_HEADER]=T9.v4());;)try{f&&(u.headers[rr.REQUEST_HEADER]=`attempt=${c+1}; max=${i}`);let{response:m,output:h}=await t(n);return s.recordSuccess(o),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=d,{response:m,output:h}}catch(m){let h=pAe(m);if(a=P9(m),f&&aAe.isStreamingPayload(u))throw(r.logger instanceof oAe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=o.getRetryCount();let y=o.getRetryDelay();d+=y,await new Promise(b=>setTimeout(b,y))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},hAe=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",pAe=e=>{let t={error:e,errorType:gAe(e)},r=L9(e.$response);return r&&(t.retryAfterHint=r),t},gAe=e=>Ia.isThrottlingError(e)?"THROTTLING":Ia.isTransientError(e)?"TRANSIENT":Ia.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",M9={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},yAe=e=>({applyToStack:t=>{t.add(q9(e),M9)}}),L9=e=>{if(!Kd.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ir.AdaptiveRetryStrategy=Hk;Ir.CONFIG_MAX_ATTEMPTS=Kk;Ir.CONFIG_RETRY_MODE=N9;Ir.ENV_MAX_ATTEMPTS=Gk;Ir.ENV_RETRY_MODE=O9;Ir.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=dAe;Ir.NODE_RETRY_MODE_CONFIG_OPTIONS=fAe;Ir.StandardRetryStrategy=kb;Ir.defaultDelayDecider=k9;Ir.defaultRetryDecider=I9;Ir.getOmitRetryHeadersPlugin=mAe;Ir.getRetryAfterHint=L9;Ir.getRetryPlugin=yAe;Ir.omitRetryHeadersMiddleware=D9;Ir.omitRetryHeadersMiddlewareOptions=B9;Ir.resolveRetryConfig=uAe;Ir.retryMiddleware=q9;Ir.retryMiddlewareOptions=M9});var Ib=E(Xk=>{"use strict";var bAe=pb(),F9=R0(),hh={CrtSignerV4:null},Wk=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof hh.CrtSignerV4=="function"?"crt":typeof F9.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(t){this.sigv4Signer=new bAe.SignatureV4S3Express(t),this.signerOptions=t}async sign(t,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(t,r):this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),i=hh.CrtSignerV4;if(i&&s instanceof i)return s.signWithCredentials(t,r,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){let n=this.getSigv4aSigner(),s=hh.CrtSignerV4;if(s&&n instanceof s)return n.presign(t,r);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=hh.CrtSignerV4,r=F9.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!t&&!r)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1});else if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!r||typeof r!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new r({...this.signerOptions})}}return this.sigv4aSigner}};Xk.SignatureV4MultiRegion=Wk;Xk.signatureV4CrtContainer=hh});var mG=E(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0});Fb.ruleSet=void 0;var SI="required",S="type",q="rules",_="conditions",P="fn",O="argv",pe="ref",Le="assign",ce="url",le="properties",$c="backend",hn="authSchemes",jr="disableDoubleEncoding",Vr="signingName",Dn="signingRegion",de="headers",EI="signingRegionSet",SAe=6,EAe=!1,Oi=!0,is="isSet",Sr="booleanEquals",oe="error",Bb="aws.partition",it="stringEquals",nr="getAttr",br="name",It="substring",U9="bucketSuffix",xI="parseURL",K="endpoint",M="tree",qb="aws.isVirtualHostableS3Bucket",Mb="{url#scheme}://{Bucket}.{url#authority}{url#path}",Bi="not",$9="accessPointSuffix",Db="{url#scheme}://{url#authority}{url#path}",YH="hardwareType",JH="regionPrefix",j9="bucketAliasSuffix",yI="outpostId",jc="isValidHostLabel",wI="sigv4a",bh="s3-outposts",Jd="s3",ZH="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",eG="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",V9="https://{Bucket}.s3.{partitionResult#dnsSuffix}",tG="aws.parseArn",rG="bucketArn",nG="arnType",Lb="",CI="s3-object-lambda",sG="accesspoint",_I="accessPointName",z9="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",H9="mrapPartition",G9="outpostType",K9="arnPrefix",iG="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",W9="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",X9="https://s3.{partitionResult#dnsSuffix}",Wd={[SI]:!1,[S]:"string"},Xd={[SI]:!0,default:!1,[S]:"boolean"},ph={[SI]:!1,[S]:"boolean"},As={[P]:Sr,[O]:[{[pe]:"Accelerate"},!0]},jt={[P]:Sr,[O]:[{[pe]:"UseFIPS"},!0]},kt={[P]:Sr,[O]:[{[pe]:"UseDualStack"},!0]},yr={[P]:is,[O]:[{[pe]:"Endpoint"}]},oG={[P]:Bb,[O]:[{[pe]:"Region"}],[Le]:"partitionResult"},Q9={[P]:it,[O]:[{[P]:nr,[O]:[{[pe]:"partitionResult"},br]},"aws-cn"]},yh={[P]:is,[O]:[{[pe]:"Bucket"}]},nt={[pe]:"Bucket"},Y9={[_]:[kt],[oe]:"S3Express does not support Dual-stack.",[S]:oe},J9={[_]:[As],[oe]:"S3Express does not support S3 Accelerate.",[S]:oe},Z9={[_]:[yr,{[P]:xI,[O]:[{[pe]:"Endpoint"}],[Le]:"url"}],[q]:[{[_]:[{[P]:is,[O]:[{[pe]:"DisableS3ExpressSessionAuth"}]},{[P]:Sr,[O]:[{[pe]:"DisableS3ExpressSessionAuth"},!0]}],[q]:[{[_]:[{[P]:Sr,[O]:[{[P]:nr,[O]:[{[pe]:"url"},"isIp"]},!0]}],[q]:[{[_]:[{[P]:"uriEncode",[O]:[nt],[Le]:"uri_encoded_bucket"}],[q]:[{[K]:{[ce]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K}],[S]:M}],[S]:M},{[_]:[{[P]:qb,[O]:[nt,!1]}],[q]:[{[K]:{[ce]:Mb,[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K}],[S]:M},{[oe]:"S3Express bucket name is not a valid virtual hostable name.",[S]:oe}],[S]:M},{[_]:[{[P]:Sr,[O]:[{[P]:nr,[O]:[{[pe]:"url"},"isIp"]},!0]}],[q]:[{[_]:[{[P]:"uriEncode",[O]:[nt],[Le]:"uri_encoded_bucket"}],[q]:[{[K]:{[ce]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4-s3express",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K}],[S]:M}],[S]:M},{[_]:[{[P]:qb,[O]:[nt,!1]}],[q]:[{[K]:{[ce]:Mb,[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4-s3express",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K}],[S]:M},{[oe]:"S3Express bucket name is not a valid virtual hostable name.",[S]:oe}],[S]:M},Nn={[P]:xI,[O]:[{[pe]:"Endpoint"}],[Le]:"url"},Qk={[P]:Sr,[O]:[{[P]:nr,[O]:[{[pe]:"url"},"isIp"]},!0]},aG={[pe]:"url"},cG={[P]:"uriEncode",[O]:[nt],[Le]:"uri_encoded_bucket"},Uc={[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:"s3express",[Dn]:"{Region}"}]},Ne={},lG={[P]:qb,[O]:[nt,!1]},eH={[oe]:"S3Express bucket name is not a valid virtual hostable name.",[S]:oe},tH={[P]:is,[O]:[{[pe]:"UseS3ExpressControlEndpoint"}]},rH={[P]:Sr,[O]:[{[pe]:"UseS3ExpressControlEndpoint"},!0]},De={[P]:Bi,[O]:[yr]},Pb={[oe]:"Unrecognized S3Express bucket name format.",[S]:oe},nH={[P]:Bi,[O]:[yh]},sH={[pe]:YH},iH={[_]:[De],[oe]:"Expected a endpoint to be specified but no endpoint was found",[S]:oe},Ob={[hn]:[{[jr]:!0,[br]:wI,[Vr]:bh,[EI]:["*"]},{[jr]:!0,[br]:"sigv4",[Vr]:bh,[Dn]:"{Region}"}]},Yk={[P]:Sr,[O]:[{[pe]:"ForcePathStyle"},!1]},xAe={[pe]:"ForcePathStyle"},vr={[P]:Sr,[O]:[{[pe]:"Accelerate"},!1]},Pr={[P]:it,[O]:[{[pe]:"Region"},"aws-global"]},Fr={[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:Jd,[Dn]:"us-east-1"}]},tt={[P]:Bi,[O]:[Pr]},Ur={[P]:Sr,[O]:[{[pe]:"UseGlobalEndpoint"},!0]},oH={[ce]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[le]:{[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:Jd,[Dn]:"{Region}"}]},[de]:{}},Ar={[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:Jd,[Dn]:"{Region}"}]},$r={[P]:Sr,[O]:[{[pe]:"UseGlobalEndpoint"},!1]},Ze={[P]:Sr,[O]:[{[pe]:"UseDualStack"},!1]},aH={[ce]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},Ge={[P]:Sr,[O]:[{[pe]:"UseFIPS"},!1]},cH={[ce]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},lH={[ce]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},Jk={[P]:Sr,[O]:[{[P]:nr,[O]:[aG,"isIp"]},!1]},Zk={[ce]:ZH,[le]:Ar,[de]:{}},bI={[ce]:Mb,[le]:Ar,[de]:{}},dH={[K]:bI,[S]:K},eI={[ce]:eG,[le]:Ar,[de]:{}},uH={[ce]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},Nb={[oe]:"Invalid region: region was not a valid DNS name.",[S]:oe},Gn={[pe]:rG},dG={[pe]:nG},tI={[P]:nr,[O]:[Gn,"service"]},vI={[pe]:_I},fH={[_]:[kt],[oe]:"S3 Object Lambda does not support Dual-stack",[S]:oe},mH={[_]:[As],[oe]:"S3 Object Lambda does not support S3 Accelerate",[S]:oe},hH={[_]:[{[P]:is,[O]:[{[pe]:"DisableAccessPoints"}]},{[P]:Sr,[O]:[{[pe]:"DisableAccessPoints"},!0]}],[oe]:"Access points are not supported for this operation",[S]:oe},rI={[_]:[{[P]:is,[O]:[{[pe]:"UseArnRegion"}]},{[P]:Sr,[O]:[{[pe]:"UseArnRegion"},!1]},{[P]:Bi,[O]:[{[P]:it,[O]:[{[P]:nr,[O]:[Gn,"region"]},"{Region}"]}]}],[oe]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[S]:oe},uG={[P]:nr,[O]:[{[pe]:"bucketPartition"},br]},fG={[P]:nr,[O]:[Gn,"accountId"]},nI={[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:CI,[Dn]:"{bucketArn#region}"}]},pH={[oe]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[S]:oe},sI={[oe]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[S]:oe},iI={[oe]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[S]:oe},oI={[oe]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[S]:oe},gH={[oe]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[S]:oe},yH={[oe]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[S]:oe},gh={[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:Jd,[Dn]:"{bucketArn#region}"}]},bH={[hn]:[{[jr]:!0,[br]:wI,[Vr]:bh,[EI]:["*"]},{[jr]:!0,[br]:"sigv4",[Vr]:bh,[Dn]:"{bucketArn#region}"}]},SH={[P]:tG,[O]:[nt]},EH={[ce]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Ar,[de]:{}},xH={[ce]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Ar,[de]:{}},wH={[ce]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Ar,[de]:{}},aI={[ce]:iG,[le]:Ar,[de]:{}},CH={[ce]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Ar,[de]:{}},_H={[pe]:"UseObjectLambdaEndpoint"},cI={[hn]:[{[jr]:!0,[br]:"sigv4",[Vr]:CI,[Dn]:"{Region}"}]},vH={[ce]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},AH={[ce]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},RH={[ce]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},lI={[ce]:Db,[le]:Ar,[de]:{}},TH={[ce]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[le]:Ar,[de]:{}},dI=[{[pe]:"Region"}],wAe=[{[pe]:"Endpoint"}],CAe=[nt],kH=[kt],uI=[As],Qd=[yr,Nn],IH=[{[P]:is,[O]:[{[pe]:"DisableS3ExpressSessionAuth"}]},{[P]:Sr,[O]:[{[pe]:"DisableS3ExpressSessionAuth"},!0]}],_Ae=[cG],PH=[lG],vs=[oG],Yd=[jt],OH=[{[P]:It,[O]:[nt,6,14,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,14,16,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],Ni=[{[_]:[jt],[K]:{[ce]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[le]:Uc,[de]:{}},[S]:K},{[K]:{[ce]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[le]:Uc,[de]:{}},[S]:K}],NH=[{[P]:It,[O]:[nt,6,15,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,15,17,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],DH=[{[P]:It,[O]:[nt,6,19,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,19,21,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],BH=[{[P]:It,[O]:[nt,6,20,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,20,22,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],qH=[{[P]:It,[O]:[nt,6,26,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,26,28,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],Di=[{[_]:[jt],[K]:{[ce]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4-s3express",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K},{[K]:{[ce]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[le]:{[$c]:"S3Express",[hn]:[{[jr]:!0,[br]:"sigv4-s3express",[Vr]:"s3express",[Dn]:"{Region}"}]},[de]:{}},[S]:K}],MH=[nt,0,7,!0],LH=[{[P]:It,[O]:[nt,7,15,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,15,17,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],FH=[{[P]:It,[O]:[nt,7,16,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,16,18,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],UH=[{[P]:It,[O]:[nt,7,20,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,20,22,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],$H=[{[P]:It,[O]:[nt,7,21,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,21,23,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],jH=[{[P]:It,[O]:[nt,7,27,!0],[Le]:"s3expressAvailabilityZoneId"},{[P]:It,[O]:[nt,27,29,!0],[Le]:"s3expressAvailabilityZoneDelim"},{[P]:it,[O]:[{[pe]:"s3expressAvailabilityZoneDelim"},"--"]}],vAe=[yh],VH=[{[P]:jc,[O]:[{[pe]:yI},!1]}],zH=[{[P]:it,[O]:[{[pe]:JH},"beta"]}],AAe=["*"],HH=[{[P]:jc,[O]:[{[pe]:"Region"},!1]}],Pa=[{[P]:it,[O]:[{[pe]:"Region"},"us-east-1"]}],fI=[{[P]:it,[O]:[dG,sG]}],GH=[{[P]:nr,[O]:[Gn,"resourceId[1]"],[Le]:_I},{[P]:Bi,[O]:[{[P]:it,[O]:[vI,Lb]}]}],RAe=[Gn,"resourceId[1]"],mI=[{[P]:Bi,[O]:[{[P]:it,[O]:[{[P]:nr,[O]:[Gn,"region"]},Lb]}]}],KH=[{[P]:Bi,[O]:[{[P]:is,[O]:[{[P]:nr,[O]:[Gn,"resourceId[2]"]}]}]}],TAe=[Gn,"resourceId[2]"],hI=[{[P]:Bb,[O]:[{[P]:nr,[O]:[Gn,"region"]}],[Le]:"bucketPartition"}],WH=[{[P]:it,[O]:[uG,{[P]:nr,[O]:[{[pe]:"partitionResult"},br]}]}],pI=[{[P]:jc,[O]:[{[P]:nr,[O]:[Gn,"region"]},!0]}],gI=[{[P]:jc,[O]:[fG,!1]}],XH=[{[P]:jc,[O]:[vI,!1]}],QH=[{[P]:jc,[O]:[{[pe]:"Region"},!0]}],kAe={version:"1.0",parameters:{Bucket:Wd,Region:Wd,UseFIPS:Xd,UseDualStack:Xd,Endpoint:Wd,ForcePathStyle:Xd,Accelerate:Xd,UseGlobalEndpoint:Xd,UseObjectLambdaEndpoint:ph,Key:Wd,Prefix:Wd,CopySource:Wd,DisableAccessPoints:ph,DisableMultiRegionAccessPoints:Xd,UseArnRegion:ph,UseS3ExpressControlEndpoint:ph,DisableS3ExpressSessionAuth:ph},[q]:[{[_]:[{[P]:is,[O]:dI}],[q]:[{[_]:[As,jt],error:"Accelerate cannot be used with FIPS",[S]:oe},{[_]:[kt,yr],error:"Cannot set dual-stack in combination with a custom endpoint.",[S]:oe},{[_]:[yr,jt],error:"A custom endpoint cannot be combined with FIPS",[S]:oe},{[_]:[yr,As],error:"A custom endpoint cannot be combined with S3 Accelerate",[S]:oe},{[_]:[jt,oG,Q9],error:"Partition does not support FIPS",[S]:oe},{[_]:[yh,{[P]:It,[O]:[nt,0,SAe,Oi],[Le]:U9},{[P]:it,[O]:[{[pe]:U9},"--x-s3"]}],[q]:[Y9,J9,Z9,{[_]:[tH,rH],[q]:[{[_]:vs,[q]:[{[_]:[cG,De],[q]:[{[_]:Yd,endpoint:{[ce]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Uc,[de]:Ne},[S]:K},{endpoint:{[ce]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Uc,[de]:Ne},[S]:K}],[S]:M}],[S]:M}],[S]:M},{[_]:PH,[q]:[{[_]:vs,[q]:[{[_]:IH,[q]:[{[_]:OH,[q]:Ni,[S]:M},{[_]:NH,[q]:Ni,[S]:M},{[_]:DH,[q]:Ni,[S]:M},{[_]:BH,[q]:Ni,[S]:M},{[_]:qH,[q]:Ni,[S]:M},Pb],[S]:M},{[_]:OH,[q]:Di,[S]:M},{[_]:NH,[q]:Di,[S]:M},{[_]:DH,[q]:Di,[S]:M},{[_]:BH,[q]:Di,[S]:M},{[_]:qH,[q]:Di,[S]:M},Pb],[S]:M}],[S]:M},eH],[S]:M},{[_]:[yh,{[P]:It,[O]:MH,[Le]:$9},{[P]:it,[O]:[{[pe]:$9},"--xa-s3"]}],[q]:[Y9,J9,Z9,{[_]:PH,[q]:[{[_]:vs,[q]:[{[_]:IH,[q]:[{[_]:LH,[q]:Ni,[S]:M},{[_]:FH,[q]:Ni,[S]:M},{[_]:UH,[q]:Ni,[S]:M},{[_]:$H,[q]:Ni,[S]:M},{[_]:jH,[q]:Ni,[S]:M},Pb],[S]:M},{[_]:LH,[q]:Di,[S]:M},{[_]:FH,[q]:Di,[S]:M},{[_]:UH,[q]:Di,[S]:M},{[_]:$H,[q]:Di,[S]:M},{[_]:jH,[q]:Di,[S]:M},Pb],[S]:M}],[S]:M},eH],[S]:M},{[_]:[nH,tH,rH],[q]:[{[_]:vs,[q]:[{[_]:Qd,endpoint:{[ce]:Db,[le]:Uc,[de]:Ne},[S]:K},{[_]:Yd,endpoint:{[ce]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[le]:Uc,[de]:Ne},[S]:K},{endpoint:{[ce]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[le]:Uc,[de]:Ne},[S]:K}],[S]:M}],[S]:M},{[_]:[yh,{[P]:It,[O]:[nt,49,50,Oi],[Le]:YH},{[P]:It,[O]:[nt,8,12,Oi],[Le]:JH},{[P]:It,[O]:MH,[Le]:j9},{[P]:It,[O]:[nt,32,49,Oi],[Le]:yI},{[P]:Bb,[O]:dI,[Le]:"regionPartition"},{[P]:it,[O]:[{[pe]:j9},"--op-s3"]}],[q]:[{[_]:VH,[q]:[{[_]:[{[P]:it,[O]:[sH,"e"]}],[q]:[{[_]:zH,[q]:[iH,{[_]:Qd,endpoint:{[ce]:"https://{Bucket}.ec2.{url#authority}",[le]:Ob,[de]:Ne},[S]:K}],[S]:M},{endpoint:{[ce]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[le]:Ob,[de]:Ne},[S]:K}],[S]:M},{[_]:[{[P]:it,[O]:[sH,"o"]}],[q]:[{[_]:zH,[q]:[iH,{[_]:Qd,endpoint:{[ce]:"https://{Bucket}.op-{outpostId}.{url#authority}",[le]:Ob,[de]:Ne},[S]:K}],[S]:M},{endpoint:{[ce]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[le]:Ob,[de]:Ne},[S]:K}],[S]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[S]:oe}],[S]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[S]:oe}],[S]:M},{[_]:vAe,[q]:[{[_]:[yr,{[P]:Bi,[O]:[{[P]:is,[O]:[{[P]:xI,[O]:wAe}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[S]:oe},{[_]:[Yk,lG],[q]:[{[_]:vs,[q]:[{[_]:HH,[q]:[{[_]:[As,Q9],error:"S3 Accelerate cannot be used in this region",[S]:oe},{[_]:[kt,jt,vr,De,Pr],endpoint:{[ce]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[kt,jt,vr,De,tt,Ur],[q]:[{endpoint:oH,[S]:K}],[S]:M},{[_]:[kt,jt,vr,De,tt,$r],endpoint:oH,[S]:K},{[_]:[Ze,jt,vr,De,Pr],endpoint:{[ce]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,jt,vr,De,tt,Ur],[q]:[{endpoint:aH,[S]:K}],[S]:M},{[_]:[Ze,jt,vr,De,tt,$r],endpoint:aH,[S]:K},{[_]:[kt,Ge,As,De,Pr],endpoint:{[ce]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[kt,Ge,As,De,tt,Ur],[q]:[{endpoint:cH,[S]:K}],[S]:M},{[_]:[kt,Ge,As,De,tt,$r],endpoint:cH,[S]:K},{[_]:[kt,Ge,vr,De,Pr],endpoint:{[ce]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[kt,Ge,vr,De,tt,Ur],[q]:[{endpoint:lH,[S]:K}],[S]:M},{[_]:[kt,Ge,vr,De,tt,$r],endpoint:lH,[S]:K},{[_]:[Ze,Ge,vr,yr,Nn,Qk,Pr],endpoint:{[ce]:ZH,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,Ge,vr,yr,Nn,Jk,Pr],endpoint:{[ce]:Mb,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,Ge,vr,yr,Nn,Qk,tt,Ur],[q]:[{[_]:Pa,endpoint:Zk,[S]:K},{endpoint:Zk,[S]:K}],[S]:M},{[_]:[Ze,Ge,vr,yr,Nn,Jk,tt,Ur],[q]:[{[_]:Pa,endpoint:bI,[S]:K},dH],[S]:M},{[_]:[Ze,Ge,vr,yr,Nn,Qk,tt,$r],endpoint:Zk,[S]:K},{[_]:[Ze,Ge,vr,yr,Nn,Jk,tt,$r],endpoint:bI,[S]:K},{[_]:[Ze,Ge,As,De,Pr],endpoint:{[ce]:eG,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,Ge,As,De,tt,Ur],[q]:[{[_]:Pa,endpoint:eI,[S]:K},{endpoint:eI,[S]:K}],[S]:M},{[_]:[Ze,Ge,As,De,tt,$r],endpoint:eI,[S]:K},{[_]:[Ze,Ge,vr,De,Pr],endpoint:{[ce]:V9,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,Ge,vr,De,tt,Ur],[q]:[{[_]:Pa,endpoint:{[ce]:V9,[le]:Ar,[de]:Ne},[S]:K},{endpoint:uH,[S]:K}],[S]:M},{[_]:[Ze,Ge,vr,De,tt,$r],endpoint:uH,[S]:K}],[S]:M},Nb],[S]:M}],[S]:M},{[_]:[yr,Nn,{[P]:it,[O]:[{[P]:nr,[O]:[aG,"scheme"]},"http"]},{[P]:qb,[O]:[nt,Oi]},Yk,Ge,Ze,vr],[q]:[{[_]:vs,[q]:[{[_]:HH,[q]:[dH],[S]:M},Nb],[S]:M}],[S]:M},{[_]:[Yk,{[P]:tG,[O]:CAe,[Le]:rG}],[q]:[{[_]:[{[P]:nr,[O]:[Gn,"resourceId[0]"],[Le]:nG},{[P]:Bi,[O]:[{[P]:it,[O]:[dG,Lb]}]}],[q]:[{[_]:[{[P]:it,[O]:[tI,CI]}],[q]:[{[_]:fI,[q]:[{[_]:GH,[q]:[fH,mH,{[_]:mI,[q]:[hH,{[_]:KH,[q]:[rI,{[_]:hI,[q]:[{[_]:vs,[q]:[{[_]:WH,[q]:[{[_]:pI,[q]:[{[_]:[{[P]:it,[O]:[fG,Lb]}],error:"Invalid ARN: Missing account id",[S]:oe},{[_]:gI,[q]:[{[_]:XH,[q]:[{[_]:Qd,endpoint:{[ce]:z9,[le]:nI,[de]:Ne},[S]:K},{[_]:Yd,endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:nI,[de]:Ne},[S]:K},{endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:nI,[de]:Ne},[S]:K}],[S]:M},pH],[S]:M},sI],[S]:M},iI],[S]:M},oI],[S]:M}],[S]:M}],[S]:M},gH],[S]:M},{error:"Invalid ARN: bucket ARN is missing a region",[S]:oe}],[S]:M},yH],[S]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[S]:oe}],[S]:M},{[_]:fI,[q]:[{[_]:GH,[q]:[{[_]:mI,[q]:[{[_]:fI,[q]:[{[_]:mI,[q]:[hH,{[_]:KH,[q]:[rI,{[_]:hI,[q]:[{[_]:vs,[q]:[{[_]:[{[P]:it,[O]:[uG,"{partitionResult#name}"]}],[q]:[{[_]:pI,[q]:[{[_]:[{[P]:it,[O]:[tI,Jd]}],[q]:[{[_]:gI,[q]:[{[_]:XH,[q]:[{[_]:uI,error:"Access Points do not support S3 Accelerate",[S]:oe},{[_]:[jt,kt],endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:gh,[de]:Ne},[S]:K},{[_]:[jt,Ze],endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:gh,[de]:Ne},[S]:K},{[_]:[Ge,kt],endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:gh,[de]:Ne},[S]:K},{[_]:[Ge,Ze,yr,Nn],endpoint:{[ce]:z9,[le]:gh,[de]:Ne},[S]:K},{[_]:[Ge,Ze],endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:gh,[de]:Ne},[S]:K}],[S]:M},pH],[S]:M},sI],[S]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[S]:oe}],[S]:M},iI],[S]:M},oI],[S]:M}],[S]:M}],[S]:M},gH],[S]:M}],[S]:M}],[S]:M},{[_]:[{[P]:jc,[O]:[vI,Oi]}],[q]:[{[_]:kH,error:"S3 MRAP does not support dual-stack",[S]:oe},{[_]:Yd,error:"S3 MRAP does not support FIPS",[S]:oe},{[_]:uI,error:"S3 MRAP does not support S3 Accelerate",[S]:oe},{[_]:[{[P]:Sr,[O]:[{[pe]:"DisableMultiRegionAccessPoints"},Oi]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[S]:oe},{[_]:[{[P]:Bb,[O]:dI,[Le]:H9}],[q]:[{[_]:[{[P]:it,[O]:[{[P]:nr,[O]:[{[pe]:H9},br]},{[P]:nr,[O]:[Gn,"partition"]}]}],[q]:[{endpoint:{[ce]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[le]:{[hn]:[{[jr]:Oi,name:wI,[Vr]:Jd,[EI]:AAe}]},[de]:Ne},[S]:K}],[S]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[S]:oe}],[S]:M}],[S]:M},{error:"Invalid Access Point Name",[S]:oe}],[S]:M},yH],[S]:M},{[_]:[{[P]:it,[O]:[tI,bh]}],[q]:[{[_]:kH,error:"S3 Outposts does not support Dual-stack",[S]:oe},{[_]:Yd,error:"S3 Outposts does not support FIPS",[S]:oe},{[_]:uI,error:"S3 Outposts does not support S3 Accelerate",[S]:oe},{[_]:[{[P]:is,[O]:[{[P]:nr,[O]:[Gn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[S]:oe},{[_]:[{[P]:nr,[O]:RAe,[Le]:yI}],[q]:[{[_]:VH,[q]:[rI,{[_]:hI,[q]:[{[_]:vs,[q]:[{[_]:WH,[q]:[{[_]:pI,[q]:[{[_]:gI,[q]:[{[_]:[{[P]:nr,[O]:TAe,[Le]:G9}],[q]:[{[_]:[{[P]:nr,[O]:[Gn,"resourceId[3]"],[Le]:_I}],[q]:[{[_]:[{[P]:it,[O]:[{[pe]:G9},sG]}],[q]:[{[_]:Qd,endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[le]:bH,[de]:Ne},[S]:K},{endpoint:{[ce]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[le]:bH,[de]:Ne},[S]:K}],[S]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[S]:oe}],[S]:M},{error:"Invalid ARN: expected an access point name",[S]:oe}],[S]:M},{error:"Invalid ARN: Expected a 4-component resource",[S]:oe}],[S]:M},sI],[S]:M},iI],[S]:M},oI],[S]:M}],[S]:M}],[S]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[S]:oe}],[S]:M},{error:"Invalid ARN: The Outpost Id was not set",[S]:oe}],[S]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[S]:oe}],[S]:M},{error:"Invalid ARN: No ARN type specified",[S]:oe}],[S]:M},{[_]:[{[P]:It,[O]:[nt,0,4,EAe],[Le]:K9},{[P]:it,[O]:[{[pe]:K9},"arn:"]},{[P]:Bi,[O]:[{[P]:is,[O]:[SH]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[S]:oe},{[_]:[{[P]:Sr,[O]:[xAe,Oi]},SH],error:"Path-style addressing cannot be used with ARN buckets",[S]:oe},{[_]:_Ae,[q]:[{[_]:vs,[q]:[{[_]:[vr],[q]:[{[_]:[kt,De,jt,Pr],endpoint:{[ce]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[kt,De,jt,tt,Ur],[q]:[{endpoint:EH,[S]:K}],[S]:M},{[_]:[kt,De,jt,tt,$r],endpoint:EH,[S]:K},{[_]:[Ze,De,jt,Pr],endpoint:{[ce]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,De,jt,tt,Ur],[q]:[{endpoint:xH,[S]:K}],[S]:M},{[_]:[Ze,De,jt,tt,$r],endpoint:xH,[S]:K},{[_]:[kt,De,Ge,Pr],endpoint:{[ce]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[kt,De,Ge,tt,Ur],[q]:[{endpoint:wH,[S]:K}],[S]:M},{[_]:[kt,De,Ge,tt,$r],endpoint:wH,[S]:K},{[_]:[Ze,yr,Nn,Ge,Pr],endpoint:{[ce]:iG,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,yr,Nn,Ge,tt,Ur],[q]:[{[_]:Pa,endpoint:aI,[S]:K},{endpoint:aI,[S]:K}],[S]:M},{[_]:[Ze,yr,Nn,Ge,tt,$r],endpoint:aI,[S]:K},{[_]:[Ze,De,Ge,Pr],endpoint:{[ce]:W9,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ze,De,Ge,tt,Ur],[q]:[{[_]:Pa,endpoint:{[ce]:W9,[le]:Ar,[de]:Ne},[S]:K},{endpoint:CH,[S]:K}],[S]:M},{[_]:[Ze,De,Ge,tt,$r],endpoint:CH,[S]:K}],[S]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[S]:oe}],[S]:M}],[S]:M}],[S]:M},{[_]:[{[P]:is,[O]:[_H]},{[P]:Sr,[O]:[_H,Oi]}],[q]:[{[_]:vs,[q]:[{[_]:QH,[q]:[fH,mH,{[_]:Qd,endpoint:{[ce]:Db,[le]:cI,[de]:Ne},[S]:K},{[_]:Yd,endpoint:{[ce]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[le]:cI,[de]:Ne},[S]:K},{endpoint:{[ce]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[le]:cI,[de]:Ne},[S]:K}],[S]:M},Nb],[S]:M}],[S]:M},{[_]:[nH],[q]:[{[_]:vs,[q]:[{[_]:QH,[q]:[{[_]:[jt,kt,De,Pr],endpoint:{[ce]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[jt,kt,De,tt,Ur],[q]:[{endpoint:vH,[S]:K}],[S]:M},{[_]:[jt,kt,De,tt,$r],endpoint:vH,[S]:K},{[_]:[jt,Ze,De,Pr],endpoint:{[ce]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[jt,Ze,De,tt,Ur],[q]:[{endpoint:AH,[S]:K}],[S]:M},{[_]:[jt,Ze,De,tt,$r],endpoint:AH,[S]:K},{[_]:[Ge,kt,De,Pr],endpoint:{[ce]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ge,kt,De,tt,Ur],[q]:[{endpoint:RH,[S]:K}],[S]:M},{[_]:[Ge,kt,De,tt,$r],endpoint:RH,[S]:K},{[_]:[Ge,Ze,yr,Nn,Pr],endpoint:{[ce]:Db,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ge,Ze,yr,Nn,tt,Ur],[q]:[{[_]:Pa,endpoint:lI,[S]:K},{endpoint:lI,[S]:K}],[S]:M},{[_]:[Ge,Ze,yr,Nn,tt,$r],endpoint:lI,[S]:K},{[_]:[Ge,Ze,De,Pr],endpoint:{[ce]:X9,[le]:Fr,[de]:Ne},[S]:K},{[_]:[Ge,Ze,De,tt,Ur],[q]:[{[_]:Pa,endpoint:{[ce]:X9,[le]:Ar,[de]:Ne},[S]:K},{endpoint:TH,[S]:K}],[S]:M},{[_]:[Ge,Ze,De,tt,$r],endpoint:TH,[S]:K}],[S]:M},Nb],[S]:M}],[S]:M}],[S]:M},{error:"A region must be set when sending requests to S3.",[S]:oe}]};Fb.ruleSet=kAe});var RI=E(Ub=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.defaultEndpointResolver=void 0;var IAe=Vd(),AI=Lc(),PAe=mG(),OAe=new AI.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),NAe=(e,t={})=>OAe.get(e,()=>(0,AI.resolveEndpoint)(PAe.ruleSet,{endpointParams:e,logger:t.logger}));Ub.defaultEndpointResolver=NAe;AI.customEndpointFunctions.aws=IAe.awsEndpointFunctions});var TI=E(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.resolveHttpAuthSchemeConfig=Oa.defaultS3HttpAuthSchemeProvider=Oa.defaultS3HttpAuthSchemeParametersProvider=void 0;var hG=(_r(),je(Cs)),DAe=Ib(),BAe=Pi(),$b=dn(),qAe=RI(),MAe=e=>async(t,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(t,r,n),i=(0,$b.getSmithyContext)(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);let o=await(0,BAe.resolveParams)(n,{getEndpointParameterInstructions:i},t);return Object.assign(s,o)},LAe=async(e,t,r)=>({operation:(0,$b.getSmithyContext)(t).operation,region:await(0,$b.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Oa.defaultS3HttpAuthSchemeParametersProvider=MAe(LAe);function pG(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function gG(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var FAe=(e,t,r)=>s=>{let o=e(s).properties?.authSchemes;if(!o)return t(s);let a=[];for(let c of o){let{name:d,properties:u={},...f}=c,m=d.toLowerCase();d!==m&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${m}\``);let h;if(m==="sigv4a"){h="aws.auth#sigv4a";let v=o.find(R=>{let D=R.name.toLowerCase();return D!=="sigv4a"&&D.startsWith("sigv4")});if(DAe.SignatureV4MultiRegion.sigv4aDependency()==="none"&&v)continue}else if(m.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${m}\``);let y=r[h];if(!y)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);let b=y(s);b.schemeId=h,b.signingProperties={...b.signingProperties||{},...f,...u},a.push(b)}return a},UAe=e=>{let t=[];switch(e.operation){default:t.push(pG(e)),t.push(gG(e))}return t};Oa.defaultS3HttpAuthSchemeProvider=FAe(qAe.defaultEndpointResolver,UAe,{"aws.auth#sigv4":pG,"aws.auth#sigv4a":gG});var $Ae=e=>{let t=(0,hG.resolveAwsSdkSigV4Config)(e),r=(0,hG.resolveAwsSdkSigV4AConfig)(t);return Object.assign(r,{authSchemePreference:(0,$b.normalizeProvider)(e.authSchemePreference??[])})};Oa.resolveHttpAuthSchemeConfig=$Ae});var yG=E((UYe,jAe)=>{jAe.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.920.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/credential-provider-node":"3.920.0","@aws-sdk/middleware-bucket-endpoint":"3.920.0","@aws-sdk/middleware-expect-continue":"3.920.0","@aws-sdk/middleware-flexible-checksums":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-location-constraint":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-sdk-s3":"3.920.0","@aws-sdk/middleware-ssec":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/signature-v4-multi-region":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@aws-sdk/xml-builder":"3.914.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/eventstream-serde-browser":"^4.2.3","@smithy/eventstream-serde-config-resolver":"^4.3.3","@smithy/eventstream-serde-node":"^4.2.3","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-blob-browser":"^4.2.4","@smithy/hash-node":"^4.2.3","@smithy/hash-stream-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/md5-js":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-stream":"^4.5.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.3","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.920.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var kI=E(Na=>{"use strict";var VAe=(Xs(),je(ua)),zAe=On(),bG="AWS_ACCESS_KEY_ID",SG="AWS_SECRET_ACCESS_KEY",EG="AWS_SESSION_TOKEN",xG="AWS_CREDENTIAL_EXPIRATION",wG="AWS_CREDENTIAL_SCOPE",CG="AWS_ACCOUNT_ID",HAe=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[bG],r=process.env[SG],n=process.env[EG],s=process.env[xG],i=process.env[wG],o=process.env[CG];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return VAe.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new zAe.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Na.ENV_ACCOUNT_ID=CG;Na.ENV_CREDENTIAL_SCOPE=wG;Na.ENV_EXPIRATION=xG;Na.ENV_KEY=bG;Na.ENV_SECRET=SG;Na.ENV_SESSION=EG;Na.fromEnv=HAe});var Eh=E(pn=>{"use strict";var qi=On(),GAe=require("url"),KAe=require("buffer"),WAe=require("http"),DI=So(),XAe=Aa();function Sh(e){return new Promise((t,r)=>{let n=WAe.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new qi.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new qi.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new qi.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let o=[];s.on("data",a=>{o.push(a)}),s.on("end",()=>{t(KAe.Buffer.concat(o)),n.destroy()})}),n.end()})}var RG=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",TG=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),kG=1e3,IG=0,BI=({maxRetries:e=IG,timeout:t=kG})=>({maxRetries:e,timeout:t}),PI=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},jb="AWS_CONTAINER_CREDENTIALS_FULL_URI",Vb="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",OI="AWS_CONTAINER_AUTHORIZATION_TOKEN",QAe=(e={})=>{let{timeout:t,maxRetries:r}=BI(e);return()=>PI(async()=>{let n=await tRe({logger:e.logger}),s=JSON.parse(await YAe(t,n));if(!RG(s))throw new qi.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return TG(s)},r)},YAe=async(e,t)=>(process.env[OI]&&(t.headers={...t.headers,Authorization:process.env[OI]}),(await Sh({...t,timeout:e})).toString()),JAe="169.254.170.2",ZAe={localhost:!0,"127.0.0.1":!0},eRe={"http:":!0,"https:":!0},tRe=async({logger:e})=>{if(process.env[Vb])return{hostname:JAe,path:process.env[Vb]};if(process.env[jb]){let t=GAe.parse(process.env[jb]);if(!t.hostname||!(t.hostname in ZAe))throw new qi.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in eRe))throw new qi.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new qi.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Vb} or ${jb} environment variable is set`,{tryNextLink:!1,logger:e})},NI=class e extends qi.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};pn.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(pn.Endpoint||(pn.Endpoint={}));var rRe="AWS_EC2_METADATA_SERVICE_ENDPOINT",nRe="ec2_metadata_service_endpoint",sRe={environmentVariableSelector:e=>e[rRe],configFileSelector:e=>e[nRe],default:void 0},Zd;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Zd||(Zd={}));var iRe="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",oRe="ec2_metadata_service_endpoint_mode",aRe={environmentVariableSelector:e=>e[iRe],configFileSelector:e=>e[oRe],default:Zd.IPv4},PG=async()=>XAe.parseUrl(await cRe()||await lRe()),cRe=async()=>DI.loadConfig(sRe)(),lRe=async()=>{let e=await DI.loadConfig(aRe)();switch(e){case Zd.IPv4:return pn.Endpoint.IPv4;case Zd.IPv6:return pn.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Zd)}`)}},dRe=300,uRe=300,fRe="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",_G=(e,t)=>{let r=dRe+Math.floor(Math.random()*uRe),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+fRe);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},mRe=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=_G(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=_G(n,r);else throw i}return n=s,s}},OG="/latest/meta-data/iam/security-credentials/",hRe="/latest/api/token",II="AWS_EC2_METADATA_V1_DISABLED",vG="ec2_metadata_v1_disabled",AG="x-aws-ec2-metadata-token",pRe=(e={})=>mRe(gRe(e),{logger:e.logger}),gRe=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=BI(e),o=async(a,c)=>{if(t||c.headers?.[AG]==null){let f=!1,m=!1,h=await DI.loadConfig({environmentVariableSelector:y=>{let b=y[II];if(m=!!b&&b!=="false",b===void 0)throw new qi.CredentialsProviderError(`${II} not set in env, checking config file next.`,{logger:e.logger});return m},configFileSelector:y=>{let b=y[vG];return f=!!b&&b!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&y.push(`config file profile (${vG})`),m&&y.push(`process environment variable (${II})`),new NI(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let u=(await PI(async()=>{let f;try{f=await bRe(c)}catch(m){throw m.statusCode===401&&(t=!1),m}return f},a)).trim();return PI(async()=>{let f;try{f=await SRe(u,c,e)}catch(m){throw m.statusCode===401&&(t=!1),m}return f},a)};return async()=>{let a=await PG();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let c;try{c=(await yRe({...a,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[AG]:c},timeout:s})}}},yRe=async e=>Sh({...e,path:hRe,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),bRe=async e=>(await Sh({...e,path:OG})).toString(),SRe=async(e,t,r)=>{let n=JSON.parse((await Sh({...t,path:OG+e})).toString());if(!RG(n))throw new qi.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return TG(n)};pn.DEFAULT_MAX_RETRIES=IG;pn.DEFAULT_TIMEOUT=kG;pn.ENV_CMDS_AUTH_TOKEN=OI;pn.ENV_CMDS_FULL_URI=jb;pn.ENV_CMDS_RELATIVE_URI=Vb;pn.fromContainerMetadata=QAe;pn.fromInstanceMetadata=pRe;pn.getInstanceMetadataEndpoint=PG;pn.httpRequest=Sh;pn.providerConfigFromInit=BI});var NG=E(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.checkUrl=void 0;var ERe=On(),xRe="169.254.170.2",wRe="169.254.170.23",CRe="[fd00:ec2::23]",_Re=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===xRe||e.hostname===wRe||e.hostname===CRe)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ERe.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};zb.checkUrl=_Re});var DG=E(Hb=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.createGetRequest=TRe;Hb.getCredentials=kRe;var qI=On(),vRe=ut(),ARe=We(),RRe=Ec();function TRe(e){return new vRe.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function kRe(e,t){let n=await(0,RRe.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new qI.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,ARe.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new qI.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new qI.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var BG=E(Gb=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.retryWrapper=void 0;var IRe=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Gb.retryWrapper=IRe});var LG=E(Kb=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.fromHttp=void 0;var PRe=(Ai(),je(vi)),ORe=(Xs(),je(ua)),NRe=Sc(),qG=On(),DRe=PRe.__importDefault(require("fs/promises")),BRe=NG(),MG=DG(),qRe=BG(),MRe="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",LRe="http://169.254.170.2",FRe="AWS_CONTAINER_CREDENTIALS_FULL_URI",URe="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",$Re="AWS_CONTAINER_AUTHORIZATION_TOKEN",jRe=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[MRe],n=e.awsContainerCredentialsFullUri??process.env[FRe],s=e.awsContainerAuthorizationToken??process.env[$Re],i=e.awsContainerAuthorizationTokenFile??process.env[URe],o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${LRe}${r}`;else throw new qG.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,BRe.checkUrl)(a,e.logger);let c=NRe.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,qRe.retryWrapper)(async()=>{let d=(0,MG.createGetRequest)(a);s?d.headers.Authorization=s:i&&(d.headers.Authorization=(await DRe.default.readFile(i)).toString());try{let u=await c.handle(d);return(0,MG.getCredentials)(u.response).then(f=>(0,ORe.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(u){throw new qG.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Kb.fromHttp=jRe});var MI=E(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.fromHttp=void 0;var VRe=LG();Object.defineProperty(Wb,"fromHttp",{enumerable:!0,get:function(){return VRe.fromHttp}})});function zRe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function HRe(e){return{schemeId:"smithy.api#noAuth"}}var xh,FG,UG,$G,LI=I(()=>{_r();xh=N(dn()),FG=async(e,t,r)=>({operation:(0,xh.getSmithyContext)(t).operation,region:await(0,xh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});UG=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(HRe(e));break}default:t.push(zRe(e))}return t},$G=e=>{let t=Pc(e);return Object.assign(t,{authSchemePreference:(0,xh.normalizeProvider)(e.authSchemePreference??[])})}});var jG,VG,FI=I(()=>{jG=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),VG={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xb,UI=I(()=>{Xb={name:"@aws-sdk/nested-clients",version:"3.920.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var wh=E(Vc=>{"use strict";var zG=require("os"),$I=require("process"),KRe=Hd(),HG={isCrtAvailable:!1},WRe=()=>HG.isCrtAvailable?["md/crt-avail"]:null,GG=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${zG.platform()}`,zG.release()],["lang/js"],["md/nodejs",`${$I.versions.node}`]],s=WRe();s&&n.push(s),e&&n.push([`api/${e}`,t]),$I.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${$I.env.AWS_EXECUTION_ENV}`]);let i=await r?.userAgentAppId?.();return i?[...n,[`app/${i}`]]:[...n]},XRe=GG,KG="AWS_SDK_UA_APP_ID",WG="sdk_ua_app_id",QRe="sdk-ua-app-id",YRe={environmentVariableSelector:e=>e[KG],configFileSelector:e=>e[WG]??e[QRe],default:KRe.DEFAULT_UA_APP_ID};Vc.NODE_APP_ID_CONFIG_OPTIONS=YRe;Vc.UA_APP_ID_ENV_NAME=KG;Vc.UA_APP_ID_INI_NAME=WG;Vc.createDefaultUserAgentProvider=GG;Vc.crtAvailability=HG;Vc.defaultUserAgent=XRe});var Ch=E(YG=>{"use strict";var jI=_d(),JRe=Tr(),ZRe=require("buffer"),XG=require("crypto"),VI=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(JRe.toUint8Array(QG(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?XG.createHmac(this.algorithmIdentifier,QG(this.secret)):XG.createHash(this.algorithmIdentifier)}};function QG(e,t){return ZRe.Buffer.isBuffer(e)?e:typeof e=="string"?jI.fromString(e,t):ArrayBuffer.isView(e)?jI.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):jI.fromArrayBuffer(e)}YG.Hash=VI});var _h=E(JG=>{"use strict";var zI=require("node:fs"),eTe=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof zI.ReadStream){if(e.path!=null)return zI.lstatSync(e.path).size;if(typeof e.fd=="number")return zI.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};JG.calculateBodyLength=eTe});var c7,Ts,ZG,vh,eu,tu,wo,HI,GI,e7,t7,r7,l7,d7,Rs,n7,u7,s7,i7,o7,a7,tTe,f7,m7=I(()=>{c7="required",Ts="argv",ZG="isSet",vh="booleanEquals",eu="error",tu="endpoint",wo="tree",HI="PartitionResult",GI="getAttr",e7={[c7]:!1,type:"String"},t7={[c7]:!0,default:!1,type:"Boolean"},r7={ref:"Endpoint"},l7={fn:vh,[Ts]:[{ref:"UseFIPS"},!0]},d7={fn:vh,[Ts]:[{ref:"UseDualStack"},!0]},Rs={},n7={fn:GI,[Ts]:[{ref:HI},"supportsFIPS"]},u7={ref:HI},s7={fn:vh,[Ts]:[!0,{fn:GI,[Ts]:[u7,"supportsDualStack"]}]},i7=[l7],o7=[d7],a7=[{ref:"Region"}],tTe={version:"1.0",parameters:{Region:e7,UseDualStack:t7,UseFIPS:t7,Endpoint:e7},rules:[{conditions:[{fn:ZG,[Ts]:[r7]}],rules:[{conditions:i7,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:eu},{conditions:o7,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:eu},{endpoint:{url:r7,properties:Rs,headers:Rs},type:tu}],type:wo},{conditions:[{fn:ZG,[Ts]:a7}],rules:[{conditions:[{fn:"aws.partition",[Ts]:a7,assign:HI}],rules:[{conditions:[l7,d7],rules:[{conditions:[{fn:vh,[Ts]:[!0,n7]},s7],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rs,headers:Rs},type:tu}],type:wo},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:eu}],type:wo},{conditions:i7,rules:[{conditions:[{fn:vh,[Ts]:[n7,!0]}],rules:[{conditions:[{fn:"stringEquals",[Ts]:[{fn:GI,[Ts]:[u7,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Rs,headers:Rs},type:tu},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Rs,headers:Rs},type:tu}],type:wo},{error:"FIPS is enabled but this partition does not support FIPS",type:eu}],type:wo},{conditions:o7,rules:[{conditions:[s7],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rs,headers:Rs},type:tu}],type:wo},{error:"DualStack is enabled but this partition does not support DualStack",type:eu}],type:wo},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Rs,headers:Rs},type:tu}],type:wo}],type:wo},{error:"Invalid Configuration: Missing Region",type:eu}]},f7=tTe});var h7,ru,rTe,p7,g7=I(()=>{h7=N(Vd()),ru=N(Lc());m7();rTe=new ru.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),p7=(e,t={})=>rTe.get(e,()=>(0,ru.resolveEndpoint)(f7,{endpointParams:e,logger:t.logger}));ru.customEndpointFunctions.aws=h7.awsEndpointFunctions});var y7,b7,Qb,Yb,S7,E7=I(()=>{_r();Pn();y7=N(We()),b7=N(Aa()),Qb=N(Jr()),Yb=N(Tr());LI();g7();S7=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Qb.fromBase64,base64Encoder:e?.base64Encoder??Qb.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??p7,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??UG,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new jn},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lo}],logger:e?.logger??new y7.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??b7.parseUrl,utf8Decoder:e?.utf8Decoder??Yb.fromUtf8,utf8Encoder:e?.utf8Encoder??Yb.toUtf8})});var Ah=E(_7=>{"use strict";var nTe=_s(),x7=So(),sTe=On(),iTe="AWS_EXECUTION_ENV",w7="AWS_REGION",C7="AWS_DEFAULT_REGION",oTe="AWS_EC2_METADATA_DISABLED",aTe=["in-region","cross-region","mobile","standard","legacy"],cTe="/latest/meta-data/placement/region",lTe="AWS_DEFAULTS_MODE",dTe="defaults_mode",uTe={environmentVariableSelector:e=>e[lTe],configFileSelector:e=>e[dTe],default:"legacy"},fTe=({region:e=x7.loadConfig(nTe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=x7.loadConfig(uTe)}={})=>sTe.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return mTe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${aTe.join(", ")}, got ${r}`)}}),mTe=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await hTe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},hTe=async()=>{if(process.env[iTe]&&(process.env[w7]||process.env[C7]))return process.env[w7]??process.env[C7];if(!process.env[oTe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>N(Eh())),r=await e();return(await t({...r,path:cTe})).toString()}catch{}};_7.resolveDefaultsModeConfig=fTe});var Jb,Ba,v7,Zb,Da,eS,A7,R7,T7,k7,I7,P7,O7=I(()=>{UI();_r();Jb=N(wh()),Ba=N(_s()),v7=N(Ch()),Zb=N(xo()),Da=N(So()),eS=N(Sc()),A7=N(_h()),R7=N(Gd());E7();T7=N(We()),k7=N(Ah()),I7=N(We()),P7=e=>{(0,I7.emitWarningIfUnsupportedVersion)(process.version);let t=(0,k7.resolveDefaultsModeConfig)(e),r=()=>t().then(T7.loadConfigsForDefaultMode),n=S7(e);Sd(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Da.loadConfig)(wd,s),bodyLengthChecker:e?.bodyLengthChecker??A7.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Jb.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xb.version}),maxAttempts:e?.maxAttempts??(0,Da.loadConfig)(Zb.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Da.loadConfig)(Ba.NODE_REGION_CONFIG_OPTIONS,{...Ba.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:eS.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Da.loadConfig)({...Zb.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R7.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??v7.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??eS.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Da.loadConfig)(Ba.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Da.loadConfig)(Ba.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Da.loadConfig)(Jb.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var D7=E(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.warning=void 0;nu.stsRegionDefaultResolver=gTe;var N7=_s(),pTe=So();function gTe(e={}){return(0,pTe.loadConfig)({...N7.NODE_REGION_CONFIG_OPTIONS,async default(){return nu.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...N7.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}nu.warning={silence:!1}});var su=E(Mi=>{"use strict";var Rh=_s(),B7=D7(),yTe=e=>({setRegion(t){e.region=t},region(){return e.region}}),bTe=e=>({region:e.region()});Object.defineProperty(Mi,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Rh.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Mi,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Rh.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Mi,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Rh.REGION_ENV_NAME}});Object.defineProperty(Mi,"REGION_INI_NAME",{enumerable:!0,get:function(){return Rh.REGION_INI_NAME}});Object.defineProperty(Mi,"resolveRegionConfig",{enumerable:!0,get:function(){return Rh.resolveRegionConfig}});Mi.getAwsRegionExtensionConfiguration=yTe;Mi.resolveAwsRegionExtensionConfiguration=bTe;Object.keys(B7).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Mi,e)&&Object.defineProperty(Mi,e,{enumerable:!0,get:function(){return B7[e]}})})});var q7,M7,L7=I(()=>{q7=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},M7=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var tS,rS,nS,F7,U7=I(()=>{tS=N(su()),rS=N(ut()),nS=N(We());L7();F7=(e,t)=>{let r=Object.assign((0,tS.getAwsRegionExtensionConfiguration)(e),(0,nS.getDefaultExtensionConfiguration)(e),(0,rS.getHttpHandlerExtensionConfiguration)(e),q7(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,tS.resolveAwsRegionExtensionConfiguration)(r),(0,nS.resolveDefaultRuntimeConfig)(r),(0,rS.resolveHttpHandlerRuntimeConfig)(r),M7(r))}});var sS,$7,j7,iS,V7,z7,H7,oS,KI,Th,WI=I(()=>{sS=N(nh()),$7=N(sh()),j7=N(ih()),iS=N(Hd()),V7=N(_s());Pn();z7=N(ch()),H7=N(Pi()),oS=N(xo()),KI=N(We());LI();FI();O7();U7();Th=class extends KI.Client{config;constructor(...[t]){let r=P7(t||{});super(r),this.initConfig=r;let n=jG(r),s=(0,iS.resolveUserAgentConfig)(n),i=(0,oS.resolveRetryConfig)(s),o=(0,V7.resolveRegionConfig)(i),a=(0,sS.resolveHostHeaderConfig)(o),c=(0,H7.resolveEndpointConfig)(a),d=$G(c),u=F7(d,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,iS.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,oS.getRetryPlugin)(this.config)),this.middlewareStack.use((0,z7.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,sS.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,$7.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,j7.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Tm(this.config,{httpAuthSchemeParametersProvider:FG,identityProviderConfigProvider:async f=>new Rc({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(km(this.config))}destroy(){super.destroy()}}});var G7,zr,aS=I(()=>{G7=N(We()),zr=class e extends G7.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var zc,STe,kh,Ih,XI,QI,Ph,Oh,Nh,Dh,ETe,Bh,qh,Mh,Lh,Fh,cS=I(()=>{zc=N(We());aS();STe={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},kh=class e extends zr{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Ih=class e extends zr{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},XI=e=>({...e,...e.clientSecret&&{clientSecret:zc.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:zc.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:zc.SENSITIVE_STRING}}),QI=e=>({...e,...e.accessToken&&{accessToken:zc.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:zc.SENSITIVE_STRING},...e.idToken&&{idToken:zc.SENSITIVE_STRING}}),Ph=class e extends zr{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Oh=class e extends zr{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Nh=class e extends zr{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Dh=class e extends zr{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ETe={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Bh=class e extends zr{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},qh=class e extends zr{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Mh=class e extends zr{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Lh=class e extends zr{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fh=class e extends zr{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var ne,K7,W7,xTe,wTe,CTe,_Te,vTe,ATe,RTe,TTe,kTe,ITe,PTe,OTe,NTe,ks,X7=I(()=>{_r();Pn();ne=N(We());cS();aS();K7=async(e,t)=>{let r=jm(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,ne.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,ne._json)(i)})),r.m("POST").h(n).b(s),r.build()},W7=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xTe(e,t);let r=(0,ne.map)({$metadata:ks(e)}),n=(0,ne.expectNonNull)((0,ne.expectObject)(await qd(e.body,t)),"body"),s=(0,ne.take)(n,{accessToken:ne.expectString,expiresIn:ne.expectInt32,idToken:ne.expectString,refreshToken:ne.expectString,tokenType:ne.expectString});return Object.assign(r,s),r},xTe=async(e,t)=>{let r={...e,body:await F1(e.body,t)},n=Nc(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await CTe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await _Te(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await vTe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await ATe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await RTe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await TTe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await kTe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ITe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await PTe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await OTe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await NTe(r,t);default:let s=r.body;return wTe({output:e,parsedBody:s,errorCode:n})}},wTe=(0,ne.withBaseException)(zr),CTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString,reason:ne.expectString});Object.assign(r,s);let i=new kh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},_Te=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Ih({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},vTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Ph({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},ATe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Oh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},RTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Nh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},TTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Dh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},kTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString,reason:ne.expectString});Object.assign(r,s);let i=new Bh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},ITe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new qh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},PTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Mh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},OTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Lh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},NTe=async(e,t)=>{let r=(0,ne.map)({}),n=e.body,s=(0,ne.take)(n,{error:ne.expectString,error_description:ne.expectString});Object.assign(r,s);let i=new Fh({$metadata:ks(e),...r});return(0,ne.decorateServiceException)(i,e.body)},ks=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var Q7,Y7,YI,Uh,JI=I(()=>{Q7=N(Pi()),Y7=N(fa()),YI=N(We());FI();cS();X7();Uh=class extends YI.Command.classBuilder().ep(VG).m(function(t,r,n,s){return[(0,Y7.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Q7.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(XI,QI).ser(K7).de(W7).build(){}});var J7,DTe,lS,Z7=I(()=>{J7=N(We());JI();WI();DTe={CreateTokenCommand:Uh},lS=class extends Th{};(0,J7.createAggregatedClient)(DTe,lS)});var eK=I(()=>{JI()});var tK=I(()=>{cS()});var ZI={};Zn(ZI,{$Command:()=>YI.Command,AccessDeniedException:()=>kh,AccessDeniedExceptionReason:()=>STe,AuthorizationPendingException:()=>Ih,CreateTokenCommand:()=>Uh,CreateTokenRequestFilterSensitiveLog:()=>XI,CreateTokenResponseFilterSensitiveLog:()=>QI,ExpiredTokenException:()=>Ph,InternalServerException:()=>Oh,InvalidClientException:()=>Nh,InvalidGrantException:()=>Dh,InvalidRequestException:()=>Bh,InvalidRequestExceptionReason:()=>ETe,InvalidScopeException:()=>qh,SSOOIDC:()=>lS,SSOOIDCClient:()=>Th,SSOOIDCServiceException:()=>zr,SlowDownException:()=>Mh,UnauthorizedClientException:()=>Lh,UnsupportedGrantTypeException:()=>Fh,__Client:()=>KI.Client});var eP=I(()=>{WI();Z7();eK();tK();aS()});var iK=E(jh=>{"use strict";var BTe=(Xs(),je(ua)),qTe=(d1(),je(V5)),os=On(),$h=bo(),MTe=require("fs"),LTe=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new os.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=qTe.getBearerTokenEnvKey(t);if(!(r in process.env))throw new os.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return BTe.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},FTe=300*1e3,tP="To refresh this SSO session run 'aws sso login' with the corresponding profile.",UTe=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(eP(),ZI));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},$Te=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(eP(),ZI));return(await UTe(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},rK=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new os.TokenProviderError(`Token is expired. ${tP}`,!1)},Hc=(e,t,r=!1)=>{if(typeof t>"u")throw new os.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${tP}`,!1)},{writeFile:jTe}=MTe.promises,VTe=(e,t)=>{let r=$h.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return jTe(r,n)},nK=new Date(0),sK=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await $h.parseKnownFiles(r),s=$h.getProfileName({profile:r.profile??t?.profile}),i=n[s];if(i){if(!i.sso_session)throw new os.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new os.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,c=(await $h.loadSsoSessionData(r))[o];if(!c)throw new os.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!c[y])throw new os.TokenProviderError(`Sso session '${o}' is missing required property '${y}'.`,!1);c.sso_start_url;let d=c.sso_region,u;try{u=await $h.getSSOTokenFromFile(o)}catch{throw new os.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${tP}`,!1)}Hc("accessToken",u.accessToken),Hc("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:m}=u,h={token:f,expiration:new Date(m)};if(h.expiration.getTime()-Date.now()>FTe)return h;if(Date.now()-nK.getTime()<30*1e3)return rK(h),h;Hc("clientId",u.clientId,!0),Hc("clientSecret",u.clientSecret,!0),Hc("refreshToken",u.refreshToken,!0);try{nK.setTime(Date.now());let y=await $Te(u,d,r);Hc("accessToken",y.accessToken),Hc("expiresIn",y.expiresIn);let b=new Date(Date.now()+y.expiresIn*1e3);try{await VTe(o,{...u,accessToken:y.accessToken,expiresAt:b.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:b}}catch{return rK(h),h}},zTe=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new os.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},HTe=(e={})=>os.memoize(os.chain(sK(e),async()=>{throw new os.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);jh.fromEnvSigningName=LTe;jh.fromSso=sK;jh.fromStatic=zTe;jh.nodeProvider=HTe});var nP=E(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.resolveHttpAuthSchemeConfig=qa.defaultSSOHttpAuthSchemeProvider=qa.defaultSSOHttpAuthSchemeParametersProvider=void 0;var GTe=(_r(),je(Cs)),rP=dn(),KTe=async(e,t,r)=>({operation:(0,rP.getSmithyContext)(t).operation,region:await(0,rP.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});qa.defaultSSOHttpAuthSchemeParametersProvider=KTe;function WTe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function dS(e){return{schemeId:"smithy.api#noAuth"}}var XTe=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(dS(e));break}case"ListAccountRoles":{t.push(dS(e));break}case"ListAccounts":{t.push(dS(e));break}case"Logout":{t.push(dS(e));break}default:t.push(WTe(e))}return t};qa.defaultSSOHttpAuthSchemeProvider=XTe;var QTe=e=>{let t=(0,GTe.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,rP.normalizeProvider)(e.authSchemePreference??[])})};qa.resolveHttpAuthSchemeConfig=QTe});var oK=E((YJe,YTe)=>{YTe.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.920.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var xK=E(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.ruleSet=void 0;var yK="required",Ps="fn",Os="argv",au="ref",aK=!0,cK="isSet",Vh="booleanEquals",iu="error",ou="endpoint",Co="tree",sP="PartitionResult",iP="getAttr",lK={[yK]:!1,type:"String"},dK={[yK]:!0,default:!1,type:"Boolean"},uK={[au]:"Endpoint"},bK={[Ps]:Vh,[Os]:[{[au]:"UseFIPS"},!0]},SK={[Ps]:Vh,[Os]:[{[au]:"UseDualStack"},!0]},Is={},fK={[Ps]:iP,[Os]:[{[au]:sP},"supportsFIPS"]},EK={[au]:sP},mK={[Ps]:Vh,[Os]:[!0,{[Ps]:iP,[Os]:[EK,"supportsDualStack"]}]},hK=[bK],pK=[SK],gK=[{[au]:"Region"}],JTe={version:"1.0",parameters:{Region:lK,UseDualStack:dK,UseFIPS:dK,Endpoint:lK},rules:[{conditions:[{[Ps]:cK,[Os]:[uK]}],rules:[{conditions:hK,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:iu},{conditions:pK,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:iu},{endpoint:{url:uK,properties:Is,headers:Is},type:ou}],type:Co},{conditions:[{[Ps]:cK,[Os]:gK}],rules:[{conditions:[{[Ps]:"aws.partition",[Os]:gK,assign:sP}],rules:[{conditions:[bK,SK],rules:[{conditions:[{[Ps]:Vh,[Os]:[aK,fK]},mK],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Is,headers:Is},type:ou}],type:Co},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:iu}],type:Co},{conditions:hK,rules:[{conditions:[{[Ps]:Vh,[Os]:[fK,aK]}],rules:[{conditions:[{[Ps]:"stringEquals",[Os]:[{[Ps]:iP,[Os]:[EK,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Is,headers:Is},type:ou},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Is,headers:Is},type:ou}],type:Co},{error:"FIPS is enabled but this partition does not support FIPS",type:iu}],type:Co},{conditions:pK,rules:[{conditions:[mK],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Is,headers:Is},type:ou}],type:Co},{error:"DualStack is enabled but this partition does not support DualStack",type:iu}],type:Co},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Is,headers:Is},type:ou}],type:Co}],type:Co},{error:"Invalid Configuration: Missing Region",type:iu}]};uS.ruleSet=JTe});var wK=E(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.defaultEndpointResolver=void 0;var ZTe=Vd(),oP=Lc(),e1e=xK(),t1e=new oP.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),r1e=(e,t={})=>t1e.get(e,()=>(0,oP.resolveEndpoint)(e1e.ruleSet,{endpointParams:e,logger:t.logger}));fS.defaultEndpointResolver=r1e;oP.customEndpointFunctions.aws=ZTe.awsEndpointFunctions});var vK=E(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.getRuntimeConfig=void 0;var n1e=(_r(),je(Cs)),s1e=(Pn(),je(Tc)),i1e=We(),o1e=Aa(),CK=Jr(),_K=Tr(),a1e=nP(),c1e=wK(),l1e=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??CK.fromBase64,base64Encoder:e?.base64Encoder??CK.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??c1e.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??a1e.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new n1e.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new s1e.NoAuthSigner}],logger:e?.logger??new i1e.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??o1e.parseUrl,utf8Decoder:e?.utf8Decoder??_K.fromUtf8,utf8Encoder:e?.utf8Encoder??_K.toUtf8});mS.getRuntimeConfig=l1e});var IK=E(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.getRuntimeConfig=void 0;var d1e=(Ai(),je(vi)),u1e=d1e.__importDefault(oK()),AK=(_r(),je(Cs)),RK=wh(),hS=_s(),f1e=Ch(),TK=xo(),Gc=So(),kK=Sc(),m1e=_h(),h1e=Gd(),p1e=vK(),g1e=We(),y1e=Ah(),b1e=We(),S1e=e=>{(0,b1e.emitWarningIfUnsupportedVersion)(process.version);let t=(0,y1e.resolveDefaultsModeConfig)(e),r=()=>t().then(g1e.loadConfigsForDefaultMode),n=(0,p1e.getRuntimeConfig)(e);(0,AK.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Gc.loadConfig)(AK.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??m1e.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,RK.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:u1e.default.version}),maxAttempts:e?.maxAttempts??(0,Gc.loadConfig)(TK.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Gc.loadConfig)(hS.NODE_REGION_CONFIG_OPTIONS,{...hS.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:kK.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Gc.loadConfig)({...TK.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||h1e.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??f1e.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??kK.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Gc.loadConfig)(hS.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Gc.loadConfig)(hS.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Gc.loadConfig)(RK.NODE_APP_ID_CONFIG_OPTIONS,s)}};pS.getRuntimeConfig=S1e});var XK=E(fr=>{"use strict";var PK=nh(),E1e=sh(),x1e=ih(),OK=Hd(),w1e=_s(),_o=(Pn(),je(Tc)),C1e=ch(),Kh=Pi(),NK=xo(),me=We(),DK=nP(),_1e=IK(),BK=su(),qK=ut(),CS=fa(),zh=(_r(),je(Cs)),v1e=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),_S={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},A1e=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},R1e=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),T1e=(e,t)=>{let r=Object.assign(BK.getAwsRegionExtensionConfiguration(e),me.getDefaultExtensionConfiguration(e),qK.getHttpHandlerExtensionConfiguration(e),A1e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,BK.resolveAwsRegionExtensionConfiguration(r),me.resolveDefaultRuntimeConfig(r),qK.resolveHttpHandlerRuntimeConfig(r),R1e(r))},cu=class extends me.Client{config;constructor(...[t]){let r=_1e.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=v1e(r),s=OK.resolveUserAgentConfig(n),i=NK.resolveRetryConfig(s),o=w1e.resolveRegionConfig(i),a=PK.resolveHostHeaderConfig(o),c=Kh.resolveEndpointConfig(a),d=DK.resolveHttpAuthSchemeConfig(c),u=T1e(d,t?.extensions||[]);this.config=u,this.middlewareStack.use(OK.getUserAgentPlugin(this.config)),this.middlewareStack.use(NK.getRetryPlugin(this.config)),this.middlewareStack.use(C1e.getContentLengthPlugin(this.config)),this.middlewareStack.use(PK.getHostHeaderPlugin(this.config)),this.middlewareStack.use(E1e.getLoggerPlugin(this.config)),this.middlewareStack.use(x1e.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(_o.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:DK.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new _o.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(_o.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ma=class e extends me.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},gS=class e extends Ma{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yS=class e extends Ma{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bS=class e extends Ma{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},SS=class e extends Ma{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},MK=e=>({...e,...e.accessToken&&{accessToken:me.SENSITIVE_STRING}}),LK=e=>({...e,...e.secretAccessKey&&{secretAccessKey:me.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:me.SENSITIVE_STRING}}),FK=e=>({...e,...e.roleCredentials&&{roleCredentials:LK(e.roleCredentials)}}),UK=e=>({...e,...e.accessToken&&{accessToken:me.SENSITIVE_STRING}}),$K=e=>({...e,...e.accessToken&&{accessToken:me.SENSITIVE_STRING}}),jK=e=>({...e,...e.accessToken&&{accessToken:me.SENSITIVE_STRING}}),k1e=async(e,t)=>{let r=_o.requestBuilder(e,t),n=me.map({},me.isSerializableHeaderValue,{[RS]:e[AS]});r.bp("/federation/credentials");let s=me.map({[V1e]:[,me.expectNonNull(e[j1e],"roleName")],[zK]:[,me.expectNonNull(e[VK],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},I1e=async(e,t)=>{let r=_o.requestBuilder(e,t),n=me.map({},me.isSerializableHeaderValue,{[RS]:e[AS]});r.bp("/assignment/roles");let s=me.map({[WK]:[,e[KK]],[GK]:[()=>e.maxResults!==void 0,()=>e[HK].toString()],[zK]:[,me.expectNonNull(e[VK],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},P1e=async(e,t)=>{let r=_o.requestBuilder(e,t),n=me.map({},me.isSerializableHeaderValue,{[RS]:e[AS]});r.bp("/assignment/accounts");let s=me.map({[WK]:[,e[KK]],[GK]:[()=>e.maxResults!==void 0,()=>e[HK].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},O1e=async(e,t)=>{let r=_o.requestBuilder(e,t),n=me.map({},me.isSerializableHeaderValue,{[RS]:e[AS]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},N1e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vS(e,t);let r=me.map({$metadata:La(e)}),n=me.expectNonNull(me.expectObject(await zh.parseJsonBody(e.body,t)),"body"),s=me.take(n,{roleCredentials:me._json});return Object.assign(r,s),r},D1e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vS(e,t);let r=me.map({$metadata:La(e)}),n=me.expectNonNull(me.expectObject(await zh.parseJsonBody(e.body,t)),"body"),s=me.take(n,{nextToken:me.expectString,roleList:me._json});return Object.assign(r,s),r},B1e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vS(e,t);let r=me.map({$metadata:La(e)}),n=me.expectNonNull(me.expectObject(await zh.parseJsonBody(e.body,t)),"body"),s=me.take(n,{accountList:me._json,nextToken:me.expectString});return Object.assign(r,s),r},q1e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return vS(e,t);let r=me.map({$metadata:La(e)});return await me.collectBody(e.body,t),r},vS=async(e,t)=>{let r={...e,body:await zh.parseJsonErrorBody(e.body,t)},n=zh.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await L1e(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await F1e(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await U1e(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await $1e(r);default:let s=r.body;return M1e({output:e,parsedBody:s,errorCode:n})}},M1e=me.withBaseException(Ma),L1e=async(e,t)=>{let r=me.map({}),n=e.body,s=me.take(n,{message:me.expectString});Object.assign(r,s);let i=new gS({$metadata:La(e),...r});return me.decorateServiceException(i,e.body)},F1e=async(e,t)=>{let r=me.map({}),n=e.body,s=me.take(n,{message:me.expectString});Object.assign(r,s);let i=new yS({$metadata:La(e),...r});return me.decorateServiceException(i,e.body)},U1e=async(e,t)=>{let r=me.map({}),n=e.body,s=me.take(n,{message:me.expectString});Object.assign(r,s);let i=new bS({$metadata:La(e),...r});return me.decorateServiceException(i,e.body)},$1e=async(e,t)=>{let r=me.map({}),n=e.body,s=me.take(n,{message:me.expectString});Object.assign(r,s);let i=new SS({$metadata:La(e),...r});return me.decorateServiceException(i,e.body)},La=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),VK="accountId",AS="accessToken",zK="account_id",HK="maxResults",GK="max_result",KK="nextToken",WK="next_token",j1e="roleName",V1e="role_name",RS="x-amz-sso_bearer_token",ES=class extends me.Command.classBuilder().ep(_S).m(function(t,r,n,s){return[CS.getSerdePlugin(n,this.serialize,this.deserialize),Kh.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(MK,FK).ser(k1e).de(N1e).build(){},Hh=class extends me.Command.classBuilder().ep(_S).m(function(t,r,n,s){return[CS.getSerdePlugin(n,this.serialize,this.deserialize),Kh.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(UK,void 0).ser(I1e).de(D1e).build(){},Gh=class extends me.Command.classBuilder().ep(_S).m(function(t,r,n,s){return[CS.getSerdePlugin(n,this.serialize,this.deserialize),Kh.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f($K,void 0).ser(P1e).de(B1e).build(){},xS=class extends me.Command.classBuilder().ep(_S).m(function(t,r,n,s){return[CS.getSerdePlugin(n,this.serialize,this.deserialize),Kh.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(jK,void 0).ser(O1e).de(q1e).build(){},z1e={GetRoleCredentialsCommand:ES,ListAccountRolesCommand:Hh,ListAccountsCommand:Gh,LogoutCommand:xS},wS=class extends cu{};me.createAggregatedClient(z1e,wS);var H1e=_o.createPaginator(cu,Hh,"nextToken","nextToken","maxResults"),G1e=_o.createPaginator(cu,Gh,"nextToken","nextToken","maxResults");Object.defineProperty(fr,"$Command",{enumerable:!0,get:function(){return me.Command}});Object.defineProperty(fr,"__Client",{enumerable:!0,get:function(){return me.Client}});fr.GetRoleCredentialsCommand=ES;fr.GetRoleCredentialsRequestFilterSensitiveLog=MK;fr.GetRoleCredentialsResponseFilterSensitiveLog=FK;fr.InvalidRequestException=gS;fr.ListAccountRolesCommand=Hh;fr.ListAccountRolesRequestFilterSensitiveLog=UK;fr.ListAccountsCommand=Gh;fr.ListAccountsRequestFilterSensitiveLog=$K;fr.LogoutCommand=xS;fr.LogoutRequestFilterSensitiveLog=jK;fr.ResourceNotFoundException=yS;fr.RoleCredentialsFilterSensitiveLog=LK;fr.SSO=wS;fr.SSOClient=cu;fr.SSOServiceException=Ma;fr.TooManyRequestsException=bS;fr.UnauthorizedException=SS;fr.paginateListAccountRoles=H1e;fr.paginateListAccounts=G1e});var YK=E(aP=>{"use strict";var QK=XK();Object.defineProperty(aP,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return QK.GetRoleCredentialsCommand}});Object.defineProperty(aP,"SSOClient",{enumerable:!0,get:function(){return QK.SSOClient}})});var cP=E(kS=>{"use strict";var Zs=On(),TS=bo(),JK=(Xs(),je(ua)),K1e=iK(),eW=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Wh=!1,ZK=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:c,filepath:d,configFilepath:u,ignoreCache:f,logger:m})=>{let h,y="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let be=await K1e.fromSso({profile:c,filepath:d,configFilepath:u,ignoreCache:f})();h={accessToken:be.token,expiresAt:new Date(be.expiration).toISOString()}}catch(be){throw new Zs.CredentialsProviderError(be.message,{tryNextLink:Wh,logger:m})}else try{h=await TS.getSSOTokenFromFile(e)}catch{throw new Zs.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${y}`,{tryNextLink:Wh,logger:m})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Zs.CredentialsProviderError(`The SSO session associated with this profile has expired. ${y}`,{tryNextLink:Wh,logger:m});let{accessToken:b}=h,{SSOClient:v,GetRoleCredentialsCommand:R}=await Promise.resolve().then(function(){return YK()}),D=i||new v(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),Y;try{Y=await D.send(new R({accountId:r,roleName:s,accessToken:b}))}catch(be){throw new Zs.CredentialsProviderError(be,{tryNextLink:Wh,logger:m})}let{roleCredentials:{accessKeyId:ee,secretAccessKey:ye,sessionToken:re,expiration:W,credentialScope:J,accountId:te}={}}=Y;if(!ee||!ye||!re||!W)throw new Zs.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Wh,logger:m});let ge={accessKeyId:ee,secretAccessKey:ye,sessionToken:re,expiration:new Date(W),...J&&{credentialScope:J},...te&&{accountId:te}};return t?JK.setCredentialFeature(ge,"CREDENTIALS_SSO","s"):JK.setCredentialFeature(ge,"CREDENTIALS_SSO_LEGACY","u"),ge},tW=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new Zs.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},W1e=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,c=TS.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!i&&!o){let u=(await TS.parseKnownFiles(e))[c];if(!u)throw new Zs.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!eW(u))throw new Zs.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let R=(await TS.loadSsoSessionData(e))[u.sso_session],D=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(s&&s!==R.sso_region)throw new Zs.CredentialsProviderError("Conflicting SSO region"+D,{tryNextLink:!1,logger:e.logger});if(r&&r!==R.sso_start_url)throw new Zs.CredentialsProviderError("Conflicting SSO start_url"+D,{tryNextLink:!1,logger:e.logger});u.sso_region=R.sso_region,u.sso_start_url=R.sso_start_url}let{sso_start_url:f,sso_account_id:m,sso_region:h,sso_role_name:y,sso_session:b}=tW(u,e.logger);return ZK({ssoStartUrl:f,ssoSession:b,ssoAccountId:m,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new Zs.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return ZK({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};kS.fromSSO=W1e;kS.isSsoProfile=eW;kS.validateSsoProfile=tW});function X1e(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Q1e(e){return{schemeId:"smithy.api#noAuth"}}var Xh,rW,nW,Y1e,sW,lP=I(()=>{_r();Xh=N(dn());Qh();rW=async(e,t,r)=>({operation:(0,Xh.getSmithyContext)(t).operation,region:await(0,Xh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});nW=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(Q1e(e));break}default:t.push(X1e(e))}return t},Y1e=e=>Object.assign(e,{stsClientCtor:Li}),sW=e=>{let t=Y1e(e),r=Pc(t);return Object.assign(r,{authSchemePreference:(0,Xh.normalizeProvider)(e.authSchemePreference??[])})}});var iW,IS,PS=I(()=>{iW=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),IS={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var gW,Ue,ft,Fa,en,yW,bW,Yt,oW,Fi,lu,uP,aW,dP,SW,cW,tn,lW,EW,xW,gn,as,dW,wW,CW,uW,_W,fW,mW,hW,pW,J1e,vW,AW=I(()=>{gW="required",Ue="type",ft="argv",Fa="booleanEquals",en="stringEquals",yW="sigv4",bW="us-east-1",Yt="endpoint",oW="https://sts.{Region}.{PartitionResult#dnsSuffix}",Fi="tree",lu="error",uP="getAttr",aW={[gW]:!1,[Ue]:"String"},dP={[gW]:!0,default:!1,[Ue]:"Boolean"},SW={ref:"Endpoint"},cW={fn:"isSet",[ft]:[{ref:"Region"}]},tn={ref:"Region"},lW={fn:"aws.partition",[ft]:[tn],assign:"PartitionResult"},EW={ref:"UseFIPS"},xW={ref:"UseDualStack"},gn={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:yW,signingName:"sts",signingRegion:bW}]},headers:{}},as={},dW={conditions:[{fn:en,[ft]:[tn,"aws-global"]}],[Yt]:gn,[Ue]:Yt},wW={fn:Fa,[ft]:[EW,!0]},CW={fn:Fa,[ft]:[xW,!0]},uW={fn:uP,[ft]:[{ref:"PartitionResult"},"supportsFIPS"]},_W={ref:"PartitionResult"},fW={fn:Fa,[ft]:[!0,{fn:uP,[ft]:[_W,"supportsDualStack"]}]},mW=[{fn:"isSet",[ft]:[SW]}],hW=[wW],pW=[CW],J1e={version:"1.0",parameters:{Region:aW,UseDualStack:dP,UseFIPS:dP,Endpoint:aW,UseGlobalEndpoint:dP},rules:[{conditions:[{fn:Fa,[ft]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ft]:mW},cW,lW,{fn:Fa,[ft]:[EW,!1]},{fn:Fa,[ft]:[xW,!1]}],rules:[{conditions:[{fn:en,[ft]:[tn,"ap-northeast-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"ap-south-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"ap-southeast-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"ap-southeast-2"]}],endpoint:gn,[Ue]:Yt},dW,{conditions:[{fn:en,[ft]:[tn,"ca-central-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"eu-central-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"eu-north-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"eu-west-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"eu-west-2"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"eu-west-3"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"sa-east-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,bW]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"us-east-2"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"us-west-1"]}],endpoint:gn,[Ue]:Yt},{conditions:[{fn:en,[ft]:[tn,"us-west-2"]}],endpoint:gn,[Ue]:Yt},{endpoint:{url:oW,properties:{authSchemes:[{name:yW,signingName:"sts",signingRegion:"{Region}"}]},headers:as},[Ue]:Yt}],[Ue]:Fi},{conditions:mW,rules:[{conditions:hW,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ue]:lu},{conditions:pW,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ue]:lu},{endpoint:{url:SW,properties:as,headers:as},[Ue]:Yt}],[Ue]:Fi},{conditions:[cW],rules:[{conditions:[lW],rules:[{conditions:[wW,CW],rules:[{conditions:[{fn:Fa,[ft]:[!0,uW]},fW],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:as,headers:as},[Ue]:Yt}],[Ue]:Fi},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ue]:lu}],[Ue]:Fi},{conditions:hW,rules:[{conditions:[{fn:Fa,[ft]:[uW,!0]}],rules:[{conditions:[{fn:en,[ft]:[{fn:uP,[ft]:[_W,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:as,headers:as},[Ue]:Yt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:as,headers:as},[Ue]:Yt}],[Ue]:Fi},{error:"FIPS is enabled but this partition does not support FIPS",[Ue]:lu}],[Ue]:Fi},{conditions:pW,rules:[{conditions:[fW],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:as,headers:as},[Ue]:Yt}],[Ue]:Fi},{error:"DualStack is enabled but this partition does not support DualStack",[Ue]:lu}],[Ue]:Fi},dW,{endpoint:{url:oW,properties:as,headers:as},[Ue]:Yt}],[Ue]:Fi}],[Ue]:Fi},{error:"Invalid Configuration: Missing Region",[Ue]:lu}]},vW=J1e});var RW,du,Z1e,TW,kW=I(()=>{RW=N(Vd()),du=N(Lc());AW();Z1e=new du.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),TW=(e,t={})=>Z1e.get(e,()=>(0,du.resolveEndpoint)(vW,{endpointParams:e,logger:t.logger}));du.customEndpointFunctions.aws=RW.awsEndpointFunctions});var IW,PW,OS,NS,OW,NW=I(()=>{_r();Pn();IW=N(We()),PW=N(Aa()),OS=N(Jr()),NS=N(Tr());lP();kW();OW=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??OS.fromBase64,base64Encoder:e?.base64Encoder??OS.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??TW,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??nW,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new jn},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lo}],logger:e?.logger??new IW.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??PW.parseUrl,utf8Decoder:e?.utf8Decoder??NS.fromUtf8,utf8Encoder:e?.utf8Encoder??NS.toUtf8})});var DS,$a,DW,BS,Ua,qS,BW,qW,MW,LW,FW,UW,$W=I(()=>{UI();_r();DS=N(wh()),$a=N(_s());Pn();DW=N(Ch()),BS=N(xo()),Ua=N(So()),qS=N(Sc()),BW=N(_h()),qW=N(Gd());NW();MW=N(We()),LW=N(Ah()),FW=N(We()),UW=e=>{(0,FW.emitWarningIfUnsupportedVersion)(process.version);let t=(0,LW.resolveDefaultsModeConfig)(e),r=()=>t().then(MW.loadConfigsForDefaultMode),n=OW(e);Sd(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Ua.loadConfig)(wd,s),bodyLengthChecker:e?.bodyLengthChecker??BW.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,DS.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xb.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider(o?.__config||{})()),signer:new jn},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new lo}],maxAttempts:e?.maxAttempts??(0,Ua.loadConfig)(BS.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ua.loadConfig)($a.NODE_REGION_CONFIG_OPTIONS,{...$a.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:qS.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Ua.loadConfig)({...BS.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||qW.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??DW.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??qS.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ua.loadConfig)($a.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ua.loadConfig)($a.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ua.loadConfig)(DS.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var jW,VW,zW=I(()=>{jW=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},VW=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var MS,LS,FS,HW,GW=I(()=>{MS=N(su()),LS=N(ut()),FS=N(We());zW();HW=(e,t)=>{let r=Object.assign((0,MS.getAwsRegionExtensionConfiguration)(e),(0,FS.getDefaultExtensionConfiguration)(e),(0,LS.getHttpHandlerExtensionConfiguration)(e),jW(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,MS.resolveAwsRegionExtensionConfiguration)(r),(0,FS.resolveDefaultRuntimeConfig)(r),(0,LS.resolveHttpHandlerRuntimeConfig)(r),VW(r))}});var US,KW,WW,$S,XW,QW,YW,jS,fP,Li,Qh=I(()=>{US=N(nh()),KW=N(sh()),WW=N(ih()),$S=N(Hd()),XW=N(_s());Pn();QW=N(ch()),YW=N(Pi()),jS=N(xo()),fP=N(We());lP();PS();$W();GW();Li=class extends fP.Client{config;constructor(...[t]){let r=UW(t||{});super(r),this.initConfig=r;let n=iW(r),s=(0,$S.resolveUserAgentConfig)(n),i=(0,jS.resolveRetryConfig)(s),o=(0,XW.resolveRegionConfig)(i),a=(0,US.resolveHostHeaderConfig)(o),c=(0,YW.resolveEndpointConfig)(a),d=sW(c),u=HW(d,t?.extensions||[]);this.config=u,this.middlewareStack.use((0,$S.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jS.getRetryPlugin)(this.config)),this.middlewareStack.use((0,QW.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,US.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,KW.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,WW.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Tm(this.config,{httpAuthSchemeParametersProvider:rW,identityProviderConfigProvider:async f=>new Rc({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(km(this.config))}destroy(){super.destroy()}}});var JW,Kn,VS=I(()=>{JW=N(We()),Kn=class e extends JW.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var mP,hP,pP,Yh,Jh,Zh,ep,tp,rp,gP,yP,np,sp=I(()=>{mP=N(We());VS();hP=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:mP.SENSITIVE_STRING}}),pP=e=>({...e,...e.Credentials&&{Credentials:hP(e.Credentials)}}),Yh=class e extends Kn{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jh=class e extends Kn{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zh=class e extends Kn{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ep=class e extends Kn{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tp=class e extends Kn{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rp=class e extends Kn{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gP=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:mP.SENSITIVE_STRING}}),yP=e=>({...e,...e.Credentials&&{Credentials:hP(e.Credentials)}}),np=class e extends Kn{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var ZW,Xe,eX,tX,rX,nX,sX,eke,tke,rke,nke,ske,ike,oke,ake,cke,iX,lke,dke,uke,fke,mke,hke,oX,pke,gke,aX,yke,bke,Ske,Eke,xke,wke,Cke,Ao,_ke,cX,lX,dX,uX,bP,vke,SP,uu,Ake,EP,xP,fu,wP,mu,CP,_P,vP,hu,pu,AP,RP,TP,gu,kP,yu,bu,IP,PP,vo,OP,NP,DP,BP,qP,fX,MP,LP,FP,Er,mX,Rke,UP=I(()=>{_r();ZW=N(ut()),Xe=N(We());sp();VS();eX=async(e,t)=>{let r=lX,n;return n=mX({...ake(e,t),[uX]:vke,[fX]:dX}),cX(t,r,"/",void 0,n)},tX=async(e,t)=>{let r=lX,n;return n=mX({...cke(e,t),[uX]:Ake,[fX]:dX}),cX(t,r,"/",void 0,n)},rX=async(e,t)=>{if(e.statusCode>=300)return sX(e,t);let r=await Zm(e.body,t),n={};return n=pke(r.AssumeRoleResult,t),{$metadata:Ao(e),...n}},nX=async(e,t)=>{if(e.statusCode>=300)return sX(e,t);let r=await Zm(e.body,t),n={};return n=gke(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Ao(e),...n}},sX=async(e,t)=>{let r={...e,body:await Q1(e.body,t)},n=Rke(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await eke(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ske(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ike(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await oke(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await tke(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await rke(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await nke(r,t);default:let s=r.body;return _ke({output:e,parsedBody:s.Error,errorCode:n})}},eke=async(e,t)=>{let r=e.body,n=yke(r.Error,t),s=new Yh({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},tke=async(e,t)=>{let r=e.body,n=bke(r.Error,t),s=new np({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},rke=async(e,t)=>{let r=e.body,n=Ske(r.Error,t),s=new tp({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},nke=async(e,t)=>{let r=e.body,n=Eke(r.Error,t),s=new rp({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},ske=async(e,t)=>{let r=e.body,n=xke(r.Error,t),s=new Jh({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},ike=async(e,t)=>{let r=e.body,n=wke(r.Error,t),s=new Zh({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},oke=async(e,t)=>{let r=e.body,n=Cke(r.Error,t),s=new ep({$metadata:Ao(e),...n});return(0,Xe.decorateServiceException)(s,r)},ake=(e,t)=>{let r={};if(e[yu]!=null&&(r[yu]=e[yu]),e[bu]!=null&&(r[bu]=e[bu]),e[pu]!=null){let n=iX(e[pu],t);e[pu]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}if(e[hu]!=null&&(r[hu]=e[hu]),e[mu]!=null&&(r[mu]=e[mu]),e[DP]!=null){let n=hke(e[DP],t);e[DP]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,i])=>{let o=`Tags.${s}`;r[o]=i})}if(e[qP]!=null){let n=mke(e[qP],t);e[qP]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,i])=>{let o=`TransitiveTagKeys.${s}`;r[o]=i})}if(e[_P]!=null&&(r[_P]=e[_P]),e[OP]!=null&&(r[OP]=e[OP]),e[BP]!=null&&(r[BP]=e[BP]),e[vo]!=null&&(r[vo]=e[vo]),e[RP]!=null){let n=uke(e[RP],t);e[RP]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,i])=>{let o=`ProvidedContexts.${s}`;r[o]=i})}return r},cke=(e,t)=>{let r={};if(e[yu]!=null&&(r[yu]=e[yu]),e[bu]!=null&&(r[bu]=e[bu]),e[LP]!=null&&(r[LP]=e[LP]),e[TP]!=null&&(r[TP]=e[TP]),e[pu]!=null){let n=iX(e[pu],t);e[pu]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,i])=>{let o=`PolicyArns.${s}`;r[o]=i})}return e[hu]!=null&&(r[hu]=e[hu]),e[mu]!=null&&(r[mu]=e[mu]),r},iX=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=lke(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},lke=(e,t)=>{let r={};return e[FP]!=null&&(r[FP]=e[FP]),r},dke=(e,t)=>{let r={};return e[AP]!=null&&(r[AP]=e[AP]),e[wP]!=null&&(r[wP]=e[wP]),r},uke=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=dke(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},fke=(e,t)=>{let r={};return e[vP]!=null&&(r[vP]=e[vP]),e[MP]!=null&&(r[MP]=e[MP]),r},mke=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},hke=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=fke(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},oX=(e,t)=>{let r={};return e[SP]!=null&&(r[SP]=(0,Xe.expectString)(e[SP])),e[EP]!=null&&(r[EP]=(0,Xe.expectString)(e[EP])),r},pke=(e,t)=>{let r={};return e[fu]!=null&&(r[fu]=aX(e[fu],t)),e[uu]!=null&&(r[uu]=oX(e[uu],t)),e[gu]!=null&&(r[gu]=(0,Xe.strictParseInt32)(e[gu])),e[vo]!=null&&(r[vo]=(0,Xe.expectString)(e[vo])),r},gke=(e,t)=>{let r={};return e[fu]!=null&&(r[fu]=aX(e[fu],t)),e[PP]!=null&&(r[PP]=(0,Xe.expectString)(e[PP])),e[uu]!=null&&(r[uu]=oX(e[uu],t)),e[gu]!=null&&(r[gu]=(0,Xe.strictParseInt32)(e[gu])),e[kP]!=null&&(r[kP]=(0,Xe.expectString)(e[kP])),e[xP]!=null&&(r[xP]=(0,Xe.expectString)(e[xP])),e[vo]!=null&&(r[vo]=(0,Xe.expectString)(e[vo])),r},aX=(e,t)=>{let r={};return e[bP]!=null&&(r[bP]=(0,Xe.expectString)(e[bP])),e[IP]!=null&&(r[IP]=(0,Xe.expectString)(e[IP])),e[NP]!=null&&(r[NP]=(0,Xe.expectString)(e[NP])),e[CP]!=null&&(r[CP]=(0,Xe.expectNonNull)((0,Xe.parseRfc3339DateTimeWithOffset)(e[CP]))),r},yke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},bke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},Ske=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},Eke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},xke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},wke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},Cke=(e,t)=>{let r={};return e[Er]!=null&&(r[Er]=(0,Xe.expectString)(e[Er])),r},Ao=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_ke=(0,Xe.withBaseException)(Kn),cX=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:i,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new ZW.HttpRequest(d)},lX={"content-type":"application/x-www-form-urlencoded"},dX="2011-06-15",uX="Action",bP="AccessKeyId",vke="AssumeRole",SP="AssumedRoleId",uu="AssumedRoleUser",Ake="AssumeRoleWithWebIdentity",EP="Arn",xP="Audience",fu="Credentials",wP="ContextAssertion",mu="DurationSeconds",CP="Expiration",_P="ExternalId",vP="Key",hu="Policy",pu="PolicyArns",AP="ProviderArn",RP="ProvidedContexts",TP="ProviderId",gu="PackedPolicySize",kP="Provider",yu="RoleArn",bu="RoleSessionName",IP="SecretAccessKey",PP="SubjectFromWebIdentityToken",vo="SourceIdentity",OP="SerialNumber",NP="SessionToken",DP="Tags",BP="TokenCode",qP="TransitiveTagKeys",fX="Version",MP="Value",LP="WebIdentityToken",FP="arn",Er="message",mX=e=>Object.entries(e).map(([t,r])=>(0,Xe.extendedEncodeURIComponent)(t)+"="+(0,Xe.extendedEncodeURIComponent)(r)).join("&"),Rke=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var hX,pX,gX,Kc,zS=I(()=>{hX=N(Pi()),pX=N(fa()),gX=N(We());PS();sp();UP();Kc=class extends gX.Command.classBuilder().ep(IS).m(function(t,r,n,s){return[(0,pX.getSerdePlugin)(n,this.serialize,this.deserialize),(0,hX.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,pP).ser(eX).de(rX).build(){}});var yX,bX,SX,Wc,HS=I(()=>{yX=N(Pi()),bX=N(fa()),SX=N(We());PS();sp();UP();Wc=class extends SX.Command.classBuilder().ep(IS).m(function(t,r,n,s){return[(0,bX.getSerdePlugin)(n,this.serialize,this.deserialize),(0,yX.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(gP,yP).ser(tX).de(nX).build(){}});var EX,Tke,GS,xX=I(()=>{EX=N(We());zS();HS();Qh();Tke={AssumeRoleCommand:Kc,AssumeRoleWithWebIdentityCommand:Wc},GS=class extends Li{};(0,EX.createAggregatedClient)(Tke,GS)});var wX=I(()=>{zS();HS()});var CX=I(()=>{sp()});var _X,vX,AX,RX,TX,kX,IX=I(()=>{Xs();_X=N(su());zS();HS();vX=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},AX=async(e,t,r,n={})=>{let s=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t,o=await(0,_X.stsRegionDefaultResolver)(n)();return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${i} (contextual client)`,`${o} (STS default: AWS_REGION, profile region, or us-east-1)`),s??i??o},RX=(e,t)=>{let r,n;return async(s,i)=>{if(n=s,!r){let{logger:u=e?.parentClientConfig?.logger,profile:f=e?.parentClientConfig?.profile,region:m,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y}=e,b=await AX(m,e?.parentClientConfig?.region,y,{logger:u,profile:f}),v=!kX(h);r=new t({...e,profile:f,credentialDefaultProvider:()=>async()=>n,region:b,requestHandler:v?h:void 0,logger:u})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new Kc(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let c=vX(a),d={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return da(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},TX=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=e,h=await AX(u,e?.parentClientConfig?.region,m,{logger:c,profile:d}),y=!kX(f);r=new t({...e,profile:d,region:h,requestHandler:y?f:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new Wc(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=vX(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&da(a,"RESOLVED_ACCOUNT_ID","T"),da(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},kX=e=>e?.metadata?.handlerProtocol==="h2"});var PX,OX,NX,kke,DX=I(()=>{IX();Qh();PX=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,OX=(e={},t)=>RX(e,PX(Li,t)),NX=(e={},t)=>TX(e,PX(Li,t)),kke=e=>t=>e({roleAssumer:OX(t),roleAssumerWithWebIdentity:NX(t),...t})});var $P={};Zn($P,{AssumeRoleCommand:()=>Kc,AssumeRoleResponseFilterSensitiveLog:()=>pP,AssumeRoleWithWebIdentityCommand:()=>Wc,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>gP,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>yP,CredentialsFilterSensitiveLog:()=>hP,ExpiredTokenException:()=>Yh,IDPCommunicationErrorException:()=>np,IDPRejectedClaimException:()=>tp,InvalidIdentityTokenException:()=>rp,MalformedPolicyDocumentException:()=>Jh,PackedPolicyTooLargeException:()=>Zh,RegionDisabledException:()=>ep,STS:()=>GS,STSClient:()=>Li,STSServiceException:()=>Kn,__Client:()=>fP.Client,decorateDefaultCredentialProvider:()=>kke,getDefaultRoleAssumer:()=>OX,getDefaultRoleAssumerWithWebIdentity:()=>NX});var jP=I(()=>{Qh();xX();wX();CX();DX();VS()});var HP=E(BX=>{"use strict";var zP=bo(),VP=On(),Ike=require("child_process"),Pke=require("util"),Oke=(Xs(),je(ua)),Nke=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return Oke.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},Dke=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let i=Pke.promisify(zP.externalDataInterceptor?.getTokenRecord?.().exec??Ike.exec);try{let{stdout:o}=await i(s),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Nke(e,a,t)}catch(o){throw new VP.CredentialsProviderError(o.message,{logger:r})}}else throw new VP.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new VP.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},Bke=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await zP.parseKnownFiles(e);return Dke(zP.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};BX.fromProcess=Bke});var GP=E(Ui=>{"use strict";var qke=Ui&&Ui.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),Mke=Ui&&Ui.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),Lke=Ui&&Ui.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&qke(r,t,n[s]);return Mke(r,t),r}})();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.fromWebToken=void 0;var Fke=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>Lke((jP(),je($P))));d=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:c})};Ui.fromWebToken=Fke});var MX=E(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.fromTokenFile=void 0;var Uke=(Xs(),je(ua)),$ke=On(),jke=bo(),Vke=require("fs"),zke=GP(),qX="AWS_WEB_IDENTITY_TOKEN_FILE",Hke="AWS_ROLE_ARN",Gke="AWS_ROLE_SESSION_NAME",Kke=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[qX],n=e?.roleArn??process.env[Hke],s=e?.roleSessionName??process.env[Gke];if(!r||!n)throw new $ke.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let i=await(0,zke.fromWebToken)({...e,webIdentityToken:jke.externalDataInterceptor?.getTokenRecord?.()[r]??(0,Vke.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(t);return r===process.env[qX]&&(0,Uke.setCredentialFeature)(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i};KS.fromTokenFile=Kke});var KP=E(ip=>{"use strict";var LX=MX(),FX=GP();Object.keys(LX).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ip,e)&&Object.defineProperty(ip,e,{enumerable:!0,get:function(){return LX[e]}})});Object.keys(FX).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ip,e)&&Object.defineProperty(ip,e,{enumerable:!0,get:function(){return FX[e]}})})});var HX=E(zX=>{"use strict";var XP=bo(),op=On(),ja=(Xs(),je(ua)),Wke=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>N(MI())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>N(Eh()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>op.chain(i(s??{}),o(s))().then(WP)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>N(Eh()));return async()=>i(s)().then(WP)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>N(kI()));return async()=>i(s)().then(WP)}};if(e in n)return n[e];throw new op.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},WP=e=>ja.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),Xke=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Qke(e,{profile:t,logger:r})||Yke(e,{profile:t,logger:r})),Qke=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},Yke=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},Jke=async(e,t,r,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:o,region:a}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(jP(),$P));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new op.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${XP.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?s(o,t,r,{...n,[o]:!0},UX(t[o]??{})):(await Wke(i.credential_source,e,r.logger)(r))();if(UX(i))return c.then(d=>ja.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:u}=i;if(u){if(!r.mfaCodeProvider)throw new op.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await r.mfaCodeProvider(u)}let f=await c;return r.roleAssumer(f,d).then(m=>ja.setCredentialFeature(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},UX=e=>!e.role_arn&&!!e.credential_source,Zke=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",eIe=async(e,t)=>Promise.resolve().then(()=>N(HP())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>ja.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),tIe=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>N(cP()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?ja.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):ja.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},rIe=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),$X=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,jX=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return ja.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},nIe=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,sIe=async(e,t)=>Promise.resolve().then(()=>N(KP())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>ja.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),VX=async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&$X(i))return jX(i,r);if(s||Xke(i,{profile:e,logger:r.logger}))return Jke(e,t,r,n,VX);if($X(i))return jX(i,r);if(nIe(i))return sIe(i,r);if(Zke(i))return eIe(r,e);if(rIe(i))return await tIe(e,i,r);throw new op.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},iIe=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await XP.parseKnownFiles(r);return VX(XP.getProfileName({profile:e.profile??t?.profile}),n,r)};zX.fromIni=iIe});var XX=E(WS=>{"use strict";var QP=kI(),ap=On(),oIe=bo(),GX="AWS_EC2_METADATA_DISABLED",aIe=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>N(Eh()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:i}=await Promise.resolve().then(()=>N(MI()));return ap.chain(i(e),n(e))}return process.env[GX]&&process.env[GX]!=="false"?async()=>{throw new ap.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function cIe(e,t){let r=lIe(e),n,s,i,o=async a=>{if(a?.forceRefresh)return await r(a);if(i?.expiration&&i?.expiration?.getTime()<Date.now()&&(i=void 0),n)await n;else if(!i||t?.(i))if(i)s||(s=r(a).then(c=>{i=c,s=void 0}));else return n=r(a).then(c=>{i=c,n=void 0}),o(a);return i};return o}var lIe=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(s){if(r=s,s?.tryNextLink)continue;throw s}throw r},KX=!1,dIe=(e={})=>cIe([async()=>{if(e.profile??process.env[oIe.ENV_PROFILE])throw process.env[QP.ENV_KEY]&&process.env[QP.ENV_SECRET]&&(KX||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),KX=!0)),new ap.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),QP.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e;if(!r&&!n&&!s&&!i&&!o)throw new ap.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>N(cP()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>N(HX()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>N(HP()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>N(KP()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await aIe(e))()),async()=>{throw new ap.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],WX),uIe=e=>e?.expiration!==void 0,WX=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;WS.credentialsTreatedAsExpired=WX;WS.credentialsWillNeedRefresh=uIe;WS.defaultProvider=dIe});var fQ=E(xr=>{"use strict";var Va=db(),QX=Ek(),fIe=ut(),YX="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",JX="s3_disable_multiregion_access_points",mIe={environmentVariableSelector:e=>Va.booleanSelector(e,YX,Va.SelectorType.ENV),configFileSelector:e=>Va.booleanSelector(e,JX,Va.SelectorType.CONFIG),default:!1},ZX="AWS_S3_USE_ARN_REGION",eQ="s3_use_arn_region",hIe={environmentVariableSelector:e=>Va.booleanSelector(e,ZX,Va.SelectorType.ENV),configFileSelector:e=>Va.booleanSelector(e,eQ,Va.SelectorType.CONFIG),default:void 0},pIe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,gIe=/(\d+\.){3}\d+/,yIe=/\.\./,tQ=/\./,bIe=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,rQ=/^s3(-external-1)?\.amazonaws\.com$/,YP="amazonaws.com",SIe=e=>typeof e.bucketName=="string",EIe=e=>pIe.test(e)&&!gIe.test(e)&&!yIe.test(e),nQ=e=>{let t=e.match(bIe);return[t[4],e.replace(new RegExp(`^${t[0]}`),"")]},xIe=e=>rQ.test(e)?["us-east-1",YP]:nQ(e),sQ=e=>rQ.test(e)?[e.replace(`.${YP}`,""),YP]:nQ(e),wIe=e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},CIe=e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},_Ie=e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},iQ=e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},oQ=(e,t)=>{if(e!==t.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${t.clientPartition}"`)},vIe=(e,t)=>{},ZP=e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},aQ=e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Su=(e,t={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||t?.tlsCompatible&&tQ.test(e))throw new Error(`Invalid DNS label ${e}`)},AIe=e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},cQ=e=>{let t=e.includes(":")?":":"/",[r,...n]=e.split(t);if(r==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${t}{accesspointname}`);return{accesspointName:n[0]}}else if(r==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${t}{outpostId}${t}accesspoint${t}{accesspointName}`);let[s,i,o]=n;return{outpostId:s,accesspointName:o}}else throw new Error(`ARN resource should begin with 'accesspoint${t}' or 'outpost${t}'`)},RIe=e=>{},lQ=e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},TIe=e=>{try{e.split(".").forEach(t=>{Su(t)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},JP=e=>(AIe(e),SIe(e)?kIe(e):IIe(e)),kIe=({accelerateEndpoint:e=!1,clientRegion:t,baseHostname:r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,pathStyleEndpoint:o=!1,tlsCompatible:a=!0,isCustomEndpoint:c=!1})=>{let[d,u]=c?[t,r]:xIe(r);return o||!EIe(n)||a&&tQ.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${u}`:r}:(e?r=`s3-accelerate${s?".dualstack":""}.${u}`:s&&(r=`s3.dualstack.${d}.${u}`),{bucketEndpoint:!0,hostname:`${n}.${r}`})},IIe=e=>{let{isCustomEndpoint:t,baseHostname:r,clientRegion:n}=e,s=t?r:sQ(r)[1],{pathStyleEndpoint:i,accelerateEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,bucketName:d,clientPartition:u="aws"}=e;wIe({pathStyleEndpoint:i,accelerateEndpoint:o,tlsCompatible:c});let{service:f,partition:m,accountId:h,region:y,resource:b}=d;CIe(f),oQ(m,{clientPartition:u}),aQ(h);let{accesspointName:v,outpostId:R}=cQ(b);return f==="s3-object-lambda"?PIe({...e,tlsCompatible:c,bucketName:d,accesspointName:v,hostnameSuffix:s}):y===""?OIe({...e,mrapAlias:v,hostnameSuffix:s}):R?NIe({...e,clientRegion:n,outpostId:R,accesspointName:v,hostnameSuffix:s}):DIe({...e,clientRegion:n,accesspointName:v,hostnameSuffix:s})},PIe=({dualstackEndpoint:e=!1,fipsEndpoint:t=!1,tlsCompatible:r=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:i=s,accesspointName:o,bucketName:a,hostnameSuffix:c})=>{let{accountId:d,region:u,service:f}=a;ZP(s);let m=`${o}-${d}`;Su(m,{tlsCompatible:r});let h=n?u:s,y=n?u:i;return{bucketEndpoint:!0,hostname:`${m}.${f}${t?"-fips":""}.${h}.${c}`,signingRegion:y,signingService:f}},OIe=({disableMultiregionAccessPoints:e,dualstackEndpoint:t=!1,isCustomEndpoint:r,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return TIe(n),{bucketEndpoint:!0,hostname:`${n}${r?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},NIe=({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,outpostId:s,dualstackEndpoint:i=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:d,hostnameSuffix:u})=>{ZP(t);let f=`${c}-${n.accountId}`;Su(f,{tlsCompatible:a});let m=e?n.region:t,h=e?n.region:r;return iQ(n.service),Su(s,{tlsCompatible:a}),lQ(o),{bucketEndpoint:!0,hostname:`${`${f}.${s}`}${d?"":`.s3-outposts.${m}`}.${u}`,signingRegion:h,signingService:"s3-outposts"}},DIe=({useArnRegion:e,clientRegion:t,clientSigningRegion:r=t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:i=!1,tlsCompatible:o=!0,accesspointName:a,isCustomEndpoint:c,hostnameSuffix:d})=>{ZP(t);let u=`${a}-${n.accountId}`;Su(u,{tlsCompatible:o});let f=e?n.region:t,m=e?n.region:r;return _Ie(n.service),{bucketEndpoint:!0,hostname:`${u}${c?"":`.s3-accesspoint${i?"-fips":""}${s?".dualstack":""}.${f}`}.${d}`,signingRegion:m}},dQ=e=>(t,r)=>async n=>{let{Bucket:s}=n.input,i=e.bucketEndpoint,o=n.request;if(fIe.HttpRequest.isInstance(o)){if(e.bucketEndpoint)o.hostname=s;else if(QX.validate(s)){let a=QX.parse(s),c=await e.region(),d=await e.useDualstackEndpoint(),u=await e.useFipsEndpoint(),{partition:f,signingRegion:m=c}=await e.regionInfoProvider(c,{useDualstackEndpoint:d,useFipsEndpoint:u})||{},h=await e.useArnRegion(),{hostname:y,bucketEndpoint:b,signingRegion:v,signingService:R}=JP({bucketName:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:u,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",useArnRegion:h,clientPartition:f,clientSigningRegion:m,clientRegion:c,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});v&&v!==m&&(r.signing_region=v),R&&R!=="s3"&&(r.signing_service=R),o.hostname=y,i=b}else{let a=await e.region(),c=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:u,bucketEndpoint:f}=JP({bucketName:s,clientRegion:a,baseHostname:o.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:c,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:o.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});o.hostname=u,i=f}i&&(o.path=o.path.replace(/^(\/)?[^\/]+/,""),o.path===""&&(o.path="/"))}return t({...n,request:o})},uQ={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},BIe=e=>({applyToStack:t=>{t.addRelativeTo(dQ(e),uQ)}});function qIe(e){let{bucketEndpoint:t=!1,forcePathStyle:r=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:i=!1}=e;return Object.assign(e,{bucketEndpoint:t,forcePathStyle:r,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof i=="function"?i:()=>Promise.resolve(i)})}xr.NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS=mIe;xr.NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME=YX;xr.NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME=JX;xr.NODE_USE_ARN_REGION_CONFIG_OPTIONS=hIe;xr.NODE_USE_ARN_REGION_ENV_NAME=ZX;xr.NODE_USE_ARN_REGION_INI_NAME=eQ;xr.bucketEndpointMiddleware=dQ;xr.bucketEndpointMiddlewareOptions=uQ;xr.bucketHostname=JP;xr.getArnResources=cQ;xr.getBucketEndpointPlugin=BIe;xr.getSuffixForArnEndpoint=sQ;xr.resolveBucketEndpointConfig=qIe;xr.validateAccountId=aQ;xr.validateDNSHostLabel=Su;xr.validateNoDualstack=RIe;xr.validateNoFIPS=lQ;xr.validateOutpostService=iQ;xr.validatePartition=oQ;xr.validateRegion=vIe});var yQ=E(Ha=>{"use strict";var pQ=rb(),Xc=Xy(),Eu=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&mQ(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&mQ(t),parseInt(Xc.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function mQ(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var XS=class{toUtf8;fromUtf8;constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(Eu.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!HIe.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Xc.fromHex(t.value.replace(/\-/g,"")),1),f}}parse(t){let r={},n=0;for(;n<t.byteLength;){let s=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[i]={type:hQ,value:!0};break;case 1:r[i]={type:hQ,value:!1};break;case 2:r[i]={type:MIe,value:t.getInt8(n++)};break;case 3:r[i]={type:LIe,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:FIe,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:UIe,value:new Eu(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let o=t.getUint16(n,!1);n+=2,r[i]={type:$Ie,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:let a=t.getUint16(n,!1);n+=2,r[i]={type:jIe,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:VIe,value:new Date(new Eu(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:zIe,value:`${Xc.toHex(c.subarray(0,4))}-${Xc.toHex(c.subarray(4,6))}-${Xc.toHex(c.subarray(6,8))}-${Xc.toHex(c.subarray(8,10))}-${Xc.toHex(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},hQ="boolean",MIe="byte",LIe="short",FIe="integer",UIe="long",$Ie="binary",jIe="string",VIe="timestamp",zIe="uuid",HIe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,gQ=4,za=gQ*2,Qc=4,GIe=za+Qc*2;function KIe({byteLength:e,byteOffset:t,buffer:r}){if(e<GIe)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let i=n.getUint32(gQ,!1),o=n.getUint32(za,!1),a=n.getUint32(e-Qc,!1),c=new pQ.Crc32().update(new Uint8Array(r,t,za));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+za,e-(za+Qc))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+za+Qc,i),body:new Uint8Array(r,t+za+Qc+i,s-i-(za+Qc+Qc))}}var eO=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(t,r){this.headerMarshaller=new XS(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new pQ.Crc32;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=KIe(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}},tO=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}},rO=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}},nO=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}},sO=class{options;constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};Ha.EventStreamCodec=eO;Ha.HeaderMarshaller=XS;Ha.Int64=Eu;Ha.MessageDecoderStream=tO;Ha.MessageEncoderStream=rO;Ha.SmithyMessageDecoderStream=nO;Ha.SmithyMessageEncoderStream=sO});var bQ=E(iO=>{"use strict";var cp=yQ();function WIe(e){let t=0,r=0,n=null,s=null,i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let u=c.length,f=0;for(;f<u;){if(!n){let h=u-f;s||(s=new Uint8Array(4));let y=Math.min(4-r,h);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}let m=Math.min(t-r,u-f);n.set(c.slice(f,f+m),r),r+=m,f+=m,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function XIe(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){let s=r.headers[":exception-type"].value,i={[s]:r},o=await e(i);if(o.$unknown){let a=new Error(t(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){let s={[r.headers[":event-type"].value]:r},i=await e(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}var QS=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new cp.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=WIe(t);return new cp.SmithyMessageDecoderStream({messageStream:new cp.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:XIe(r,this.utfEncoder)})}serialize(t,r){return new cp.MessageEncoderStream({messageStream:new cp.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},QIe=e=>new QS(e);iO.EventStreamMarshaller=QS;iO.eventStreamSerdeProvider=QIe});var SQ=E(oO=>{"use strict";var YIe=bQ(),JIe=require("stream");async function*ZIe(e){let t=!1,r=!1,n=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{t=!0});!r;){let s=await new Promise(i=>setTimeout(()=>i(n.shift()),0));s&&(yield s),r=t&&n.length===0}}var YS=class{universalMarshaller;constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new YIe.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:ZIe(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return JIe.Readable.from(this.universalMarshaller.serialize(t,r))}},ePe=e=>new YS(e);oO.EventStreamMarshaller=YS;oO.eventStreamSerdeProvider=ePe});var EQ=E(aO=>{"use strict";var tPe=require("fs"),rPe=Tr(),nPe=require("stream"),JS=class extends nPe.Writable{hash;constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(rPe.toUint8Array(t))}catch(s){return n(s)}n()}},sPe=(e,t)=>new Promise((r,n)=>{if(!iPe(t)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=tPe.createReadStream(t.path,{start:t.start,end:t.end}),i=new e,o=new JS(i);s.pipe(o),s.on("error",a=>{o.end(),n(a)}),o.on("error",n),o.on("finish",function(){i.digest().then(r).catch(n)})}),iPe=e=>typeof e.path=="string",oPe=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new JS(r);return t.pipe(n),new Promise((s,i)=>{t.on("error",o=>{n.end(),i(o)}),n.on("error",i),n.on("finish",()=>{r.digest().then(s).catch(i)})})};aO.fileStreamHasher=sPe;aO.readableStreamHasher=oPe});var vQ=E(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.getRuntimeConfig=void 0;var xQ=(_r(),je(Cs)),aPe=Ib(),cPe=We(),lPe=Aa(),wQ=Jr(),CQ=Ec(),_Q=Tr(),dPe=TI(),uPe=RI(),fPe=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??wQ.fromBase64,base64Encoder:e?.base64Encoder??wQ.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uPe.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??CQ.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dPe.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new xQ.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new xQ.AwsSdkSigV4ASigner}],logger:e?.logger??new cPe.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??CQ.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??aPe.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??lPe.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??_Q.fromUtf8,utf8Encoder:e?.utf8Encoder??_Q.toUtf8});ZS.getRuntimeConfig=fPe});var IQ=E(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.getRuntimeConfig=void 0;var mPe=(Ai(),je(vi)),hPe=mPe.__importDefault(yG()),cO=(_r(),je(Cs)),pPe=XX(),gPe=fQ(),AQ=hk(),yPe=pb(),RQ=wh(),eE=_s(),bPe=SQ(),lO=Ch(),SPe=EQ(),TQ=xo(),Ns=So(),kQ=Sc(),EPe=_h(),xPe=Gd(),wPe=vQ(),CPe=We(),_Pe=Ah(),vPe=We(),APe=e=>{(0,vPe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,_Pe.resolveDefaultsModeConfig)(e),r=()=>t().then(CPe.loadConfigsForDefaultMode),n=(0,wPe.getRuntimeConfig)(e);(0,cO.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Ns.loadConfig)(cO.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??EPe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??pPe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,RQ.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:hPe.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,Ns.loadConfig)(yPe.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??bPe.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Ns.loadConfig)(TQ.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??lO.Hash.bind(null,"md5"),region:e?.region??(0,Ns.loadConfig)(eE.NODE_REGION_CONFIG_OPTIONS,{...eE.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,Ns.loadConfig)(AQ.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:kQ.NodeHttpHandler.create(e?.requestHandler??r),responseChecksumValidation:e?.responseChecksumValidation??(0,Ns.loadConfig)(AQ.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,Ns.loadConfig)({...TQ.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||xPe.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??lO.Hash.bind(null,"sha1"),sha256:e?.sha256??lO.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,Ns.loadConfig)(cO.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??kQ.streamCollector,streamHasher:e?.streamHasher??SPe.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,Ns.loadConfig)(gPe.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ns.loadConfig)(eE.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ns.loadConfig)(eE.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ns.loadConfig)(RQ.NODE_APP_ID_CONFIG_OPTIONS,s)}};tE.getRuntimeConfig=APe});var DQ=E(lp=>{"use strict";function PQ(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let i of s){let o=n[i.target];if(o){let a;typeof o=="string"?NQ(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),n[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),n[i.target]=e.base64Encoder(a));let c=new e.md5;c.update(a),n[i.hash]=e.base64Encoder(await c.digest())}}return t({...r,input:n})}}var OQ={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},RPe=e=>({applyToStack:t=>{t.add(PQ(e),OQ)}});function NQ(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}lp.getSsecPlugin=RPe;lp.isValidBase64EncodedSSECustomerKey=NQ;lp.ssecMiddleware=PQ;lp.ssecMiddlewareOptions=OQ});var MQ=E(rE=>{"use strict";function BQ(e){return t=>async r=>{let{CreateBucketConfiguration:n}=r.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&s!=="us-east-1"&&(r.input.CreateBucketConfiguration=r.input.CreateBucketConfiguration??{},r.input.CreateBucketConfiguration.LocationConstraint=s),t(r)}}var qQ={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},TPe=e=>({applyToStack:t=>{t.add(BQ(e),qQ)}});rE.getLocationConstraintPlugin=TPe;rE.locationConstraintMiddleware=BQ;rE.locationConstraintMiddlewareOptions=qQ});var $Q=E(Bn=>{"use strict";var kPe=e=>new Promise(t=>setTimeout(t,e*1e3)),UQ={minDelay:2,maxDelay:120};Bn.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(Bn.WaiterState||(Bn.WaiterState={}));var IPe=e=>{if(e.state===Bn.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state===Bn.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!==Bn.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},PPe=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return OPe(e,s)},OPe=(e,t)=>e+Math.random()*(t-e),NPe=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:i},o,a)=>{let c={},{state:d,reason:u}=await a(s,o);if(u){let y=LQ(u);c[y]|=0,c[y]+=1}if(d!==Bn.WaiterState.RETRY)return{state:d,reason:u,observedResponses:c};let f=1,m=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||i?.aborted){let R="AbortController signal aborted.";return c[R]|=0,c[R]+=1,{state:Bn.WaiterState.ABORTED,observedResponses:c}}let y=PPe(e,t,h,f);if(Date.now()+y*1e3>m)return{state:Bn.WaiterState.TIMEOUT,observedResponses:c};await kPe(y);let{state:b,reason:v}=await a(s,o);if(v){let R=LQ(v);c[R]|=0,c[R]+=1}if(b!==Bn.WaiterState.RETRY)return{state:b,reason:v,observedResponses:c};f+=1}},LQ=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),DPe=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},FQ=e=>{let t,r=new Promise(n=>{t=()=>n({state:Bn.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},BPe=async(e,t,r)=>{let n={...UQ,...e};DPe(n);let s=[NPe(n,t,r)],i=[];if(e.abortSignal){let{aborted:o,clearListener:a}=FQ(e.abortSignal);i.push(a),s.push(o)}if(e.abortController?.signal){let{aborted:o,clearListener:a}=FQ(e.abortController.signal);i.push(a),s.push(o)}return Promise.race(s).then(o=>{for(let a of i)a();return o})};Bn.checkExceptions=IPe;Bn.createWaiter=BPe;Bn.waiterServiceDefaults=UQ});var KZ=E(x=>{"use strict";var qPe=$4(),xt=hk(),jQ=nh(),MPe=sh(),LPe=ih(),ae=pb(),VQ=Hd(),FPe=_s(),U=(Pn(),je(Tc)),UPe=Gz(),$Pe=ch(),V=Pi(),zQ=xo(),l=We(),HQ=TI(),z=fa(),Ae=(_r(),je(Cs)),w=Ym(),VO=ut(),jPe=m0(),VPe=IQ(),GQ=su(),si=DQ(),zPe=MQ(),mr=$Q(),HPe=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),H={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Hr=class e extends l.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},GPe={requester:"requester"},KPe={requester:"requester"},zE=class e extends Hr{name="NoSuchUpload";$fault="client";constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},WPe={Enabled:"Enabled",Suspended:"Suspended"},XPe={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},QPe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},YPe={Destination:"Destination"},JPe={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},ZPe={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},eOe={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},tOe={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},rOe={COPY:"COPY",REPLACE:"REPLACE"},nOe={OFF:"OFF",ON:"ON"},sOe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},iOe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},oOe={COPY:"COPY",REPLACE:"REPLACE"},HE=class e extends Hr{name="ObjectNotInActiveTierError";$fault="client";constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},GE=class e extends Hr{name="BucketAlreadyExists";$fault="client";constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},KE=class e extends Hr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},aOe={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},cOe={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},lOe={Directory:"Directory"},dOe={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},uOe={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},fOe={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},mOe={DISABLED:"DISABLED",ENABLED:"ENABLED"},hOe={AES256:"AES256",aws_kms:"aws:kms"},pOe={DISABLED:"DISABLED",ENABLED:"ENABLED"},gOe={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},WE=class e extends Hr{name="NoSuchBucket";$fault="client";constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};x.AnalyticsFilter=void 0;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(x.AnalyticsFilter||(x.AnalyticsFilter={}));var yOe={CSV:"CSV"},bOe={V_1:"V_1"},SOe={Disabled:"Disabled",Enabled:"Enabled"},EOe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},xOe={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},wOe={All:"All",Current:"Current"},COe={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},_Oe={Daily:"Daily",Weekly:"Weekly"},vOe={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},AOe={Disabled:"Disabled",Enabled:"Enabled"},ROe={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},TOe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},kOe={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},IOe={aws:"aws",customer:"customer"};x.MetricsFilter=void 0;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(x.MetricsFilter||(x.MetricsFilter={}));var POe={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},OOe={prefix:"prefix",suffix:"suffix"},NOe={Disabled:"Disabled",Enabled:"Enabled"},DOe={Disabled:"Disabled",Enabled:"Enabled"},BOe={Disabled:"Disabled",Enabled:"Enabled"},qOe={Disabled:"Disabled",Enabled:"Enabled"},MOe={Disabled:"Disabled",Enabled:"Enabled"},LOe={Disabled:"Disabled",Enabled:"Enabled"},FOe={Disabled:"Disabled",Enabled:"Enabled"},UOe={BucketOwner:"BucketOwner",Requester:"Requester"},$Oe={Disabled:"Disabled",Enabled:"Enabled"},jOe={Enabled:"Enabled",Suspended:"Suspended"},VOe={http:"http",https:"https"},zOe={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},HOe={ENABLED:"ENABLED"},XE=class e extends Hr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}},QE=class e extends Hr{name="NoSuchKey";$fault="client";constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},GOe={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},KOe={Enabled:"Enabled"},WOe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},YE=class e extends Hr{name="NotFound";$fault="client";constructor(t){super({name:"NotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},XOe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},QOe={url:"url"},xY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),wY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),CY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),_Y=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:l.SENSITIVE_STRING}}),vY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),AY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),RY=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:l.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:l.SENSITIVE_STRING}}),TY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING},...e.Credentials&&{Credentials:RY(e.Credentials)}}),kY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),IY=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:l.SENSITIVE_STRING}}),PY=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:IY(e.ApplyServerSideEncryptionByDefault)}}),vN=e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>PY(t))}}),OY=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:vN(e.ServerSideEncryptionConfiguration)}}),NY=e=>({...e,...e.KeyId&&{KeyId:l.SENSITIVE_STRING}}),DY=e=>({...e,...e.SSEKMS&&{SSEKMS:NY(e.SSEKMS)}}),BY=e=>({...e,...e.Encryption&&{Encryption:DY(e.Encryption)}}),qY=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:BY(e.S3BucketDestination)}}),cC=e=>({...e,...e.Destination&&{Destination:qY(e.Destination)}}),MY=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:cC(e.InventoryConfiguration)}}),LY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),FY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),UY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),$Y=e=>({...e}),jY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),VY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),zY=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(t=>cC(t))}}),YOe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},JOe={RESTORE_STATUS:"RestoreStatus"},ZOe={STANDARD:"STANDARD"},eNe={Disabled:"Disabled",Enabled:"Enabled"},JE=class e extends Hr{name="EncryptionTypeMismatch";$fault="client";constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ZE=class e extends Hr{name="InvalidRequest";$fault="client";constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ex=class e extends Hr{name="InvalidWriteOffset";$fault="client";constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tx=class e extends Hr{name="TooManyParts";$fault="client";constructor(t){super({name:"TooManyParts",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rx=class e extends Hr{name="IdempotencyParameterMismatch";$fault="client";constructor(t){super({name:"IdempotencyParameterMismatch",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nx=class e extends Hr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tNe={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},rNe={SQL:"SQL"},nNe={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},sNe={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},iNe={DOCUMENT:"DOCUMENT",LINES:"LINES"},oNe={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},aNe={SELECT:"SELECT"};x.SelectObjectContentEventStream=void 0;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(x.SelectObjectContentEventStream||(x.SelectObjectContentEventStream={}));var HY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),GY=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:vN(e.ServerSideEncryptionConfiguration)}}),KY=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:cC(e.InventoryConfiguration)}}),WY=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),XY=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:l.SENSITIVE_STRING}}),QY=e=>({...e,...e.KMSKeyId&&{KMSKeyId:l.SENSITIVE_STRING}}),YY=e=>({...e,...e.Encryption&&{Encryption:QY(e.Encryption)}}),JY=e=>({...e,...e.S3&&{S3:YY(e.S3)}}),ZY=e=>({...e,...e.OutputLocation&&{OutputLocation:JY(e.OutputLocation)}}),eJ=e=>({...e,...e.RestoreRequest&&{RestoreRequest:ZY(e.RestoreRequest)}}),cNe=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},tJ=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),rJ=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),nJ=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),sJ=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING}}),iJ=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),oJ=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:l.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:l.SENSITIVE_STRING}}),aJ=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:l.SENSITIVE_STRING}}),lNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X],[lje]:[()=>l.isSerializableHeaderValue(e[tY]),()=>l.dateToUtcString(e[tY]).toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"AbortMultipartUpload"],[Tp]:[,l.expectNonNull(e[Yn],"UploadId")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},dNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Ul]:e[Pt],[$l]:e[Ot],[jl]:e[Nt],[Vl]:e[Dt],[zl]:e[Bt],[Af]:e[qt],[mje]:[()=>l.isSerializableHeaderValue(e[oY]),()=>e[oY].toString()],[Ct]:e[wt],[Q]:e[X],[Fl]:e[xf],[Cf]:e[Ep],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Tp]:[,l.expectNonNull(e[Yn],"UploadId")]}),i,o;return e.MultipartUpload!==void 0&&(o=q2e(e.MultipartUpload),o=o.n("CompleteMultipartUpload"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},uNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[vf]:e[uf],[wp]:e[ff],[nD]:e[Be],[Cp]:e[mf],[_p]:e[hf],[vp]:e[pf],[Ap]:e[gf],[PZ]:e[IJ],[OZ]:e[PJ],[NZ]:[()=>l.isSerializableHeaderValue(e[sx]),()=>l.dateToUtcString(e[sx]).toString()],[DZ]:e[OJ],[BZ]:[()=>l.isSerializableHeaderValue(e[ix]),()=>l.dateToUtcString(e[ix]).toString()],[Nl]:[()=>l.isSerializableHeaderValue(e[Hi]),()=>l.dateToUtcString(e[Hi]).toString()],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[If]:e[Ef],[Fl]:e[xf],[Cf]:e[Ep],[fje]:e[U4e],[Rje]:e[$6e],[ds]:e[wn],[Op]:e[$e],[Np]:e[xp],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[us]:e[nn],[rc]:e[tc],[hr]:[()=>l.isSerializableHeaderValue(e[Vt]),()=>e[Vt].toString()],[qZ]:e[NJ],[MZ]:e[DJ],[LZ]:e[BJ],[Ct]:e[wt],[aD]:e[kl],[Pp]:e[wf],[Dl]:[()=>l.isSerializableHeaderValue(e[Gi]),()=>l.serializeDateTime(e[Gi]).toString()],[Ip]:e[Ml],[Q]:e[X],[jZ]:e[LJ]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"CopyObject"]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},fNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[vf]:e[uf],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[sD]:e[BN],[If]:e[Ef],[x$e]:[()=>l.isSerializableHeaderValue(e[cY]),()=>e[cY].toString()],[gje]:e[fp]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,i;return e.CreateBucketConfiguration!==void 0&&(i=V2e(e.CreateBucketConfiguration),s=mt,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=i.toString()),r.m("PUT").h(n).b(s),r.build()},mNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[WN]:[,""]}),i,o;return e.MetadataConfiguration!==void 0&&(o=Oqe(e.MetadataConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},hNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[XN]:[,""]}),i,o;return e.MetadataTableConfiguration!==void 0&&(o=Dqe(e.MetadataTableConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},pNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((o,a)=>(o[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],o),{}),[vf]:e[uf],[wp]:e[ff],[Cp]:e[mf],[_p]:e[hf],[vp]:e[pf],[Ap]:e[gf],[Nl]:[()=>l.isSerializableHeaderValue(e[Hi]),()=>l.dateToUtcString(e[Hi]).toString()],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[If]:e[Ef],[ds]:e[wn],[Op]:e[$e],[Np]:e[xp],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[us]:e[nn],[rc]:e[tc],[hr]:[()=>l.isSerializableHeaderValue(e[Vt]),()=>e[Vt].toString()],[Ct]:e[wt],[aD]:e[kl],[Pp]:e[wf],[Dl]:[()=>l.isSerializableHeaderValue(e[Gi]),()=>l.serializeDateTime(e[Gi]).toString()],[Ip]:e[Ml],[Q]:e[X],[nD]:e[Be],[Af]:e[qt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[vZ]:[,""]});return r.m("POST").h(n).q(s).b(void 0),r.build()},gNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[_$e]:e[D6e],[ds]:e[wn],[us]:e[nn],[rc]:e[tc],[hr]:[()=>l.isSerializableHeaderValue(e[Vt]),()=>e[Vt].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[d$e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},yNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("DELETE").h(n).b(void 0),r.build()},bNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[uC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},SNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[VN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},ENe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[zN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},xNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[yC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},wNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},CNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[KN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},_Ne=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[WN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},vNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[XN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},ANe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[bC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},RNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[YN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},TNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[JN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},kNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[eD]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},INe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[_f]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},PNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[tD]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},ONe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[iD]:e[qN],[Ct]:e[wt],[rD]:[()=>l.isSerializableHeaderValue(e[rf]),()=>e[rf].toString()],[Q]:e[X],[Fl]:e[xf],[dje]:[()=>l.isSerializableHeaderValue(e[rY]),()=>l.dateToUtcString(e[rY]).toString()],[uje]:[()=>l.isSerializableHeaderValue(e[nY]),()=>e[nY].toString()]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"DeleteObject"],[Jn]:[,e[Ke]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},NNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[iD]:e[qN],[Ct]:e[wt],[rD]:[()=>l.isSerializableHeaderValue(e[rf]),()=>e[rf].toString()],[Q]:e[X],[Mt]:e[Be]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[Q6e]:[,""]}),i,o;return e.Delete!==void 0&&(o=K2e(e.Delete),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},DNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[_f]:[,""],[Jn]:[,e[Ke]]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},BNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[ZN]:[,""]});return r.m("DELETE").h(n).q(s).b(void 0),r.build()},qNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X],[Ct]:e[wt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[oZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},MNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[fC]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},LNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[uC]:[,""],[Wr]:[,"GetBucketAnalyticsConfiguration"],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},FNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[VN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},UNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[zN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},$Ne=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[yC]:[,""],[Wr]:[,"GetBucketIntelligentTieringConfiguration"],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},jNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gC]:[,""],[Wr]:[,"GetBucketInventoryConfiguration"],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},VNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[KN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},zNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[fZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},HNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[mZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},GNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[WN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},KNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[XN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},WNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[bC]:[,""],[Wr]:[,"GetBucketMetricsConfiguration"],[zs]:[,l.expectNonNull(e[_e],"Id")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},XNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[hZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},QNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[YN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},YNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[JN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},JNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[o$e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},ZNe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[eD]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},eDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},tDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[_f]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},rDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[AZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},nDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[tD]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},sDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Fl]:e[xf],[HN]:[()=>l.isSerializableHeaderValue(e[ox]),()=>l.dateToUtcString(e[ox]).toString()],[Cf]:e[Ep],[GN]:[()=>l.isSerializableHeaderValue(e[ax]),()=>l.dateToUtcString(e[ax]).toString()],[yZ]:e[XJ],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[Ct]:e[wt],[Q]:e[X],[IZ]:e[kJ]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"GetObject"],[bZ]:[,e[QJ]],[SZ]:[,e[YJ]],[EZ]:[,e[JJ]],[xZ]:[,e[ZJ]],[wZ]:[,e[eZ]],[CZ]:[()=>e.ResponseExpires!==void 0,()=>l.dateToUtcString(e[tZ]).toString()],[Jn]:[,e[Ke]],[SC]:[()=>e.PartNumber!==void 0,()=>e[Wn].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},iDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[fC]:[,""],[Jn]:[,e[Ke]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},oDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[hje]:[()=>l.isSerializableHeaderValue(e[Io]),()=>e[Io].toString()],[yje]:e[Xa],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[Ct]:e[wt],[Q]:e[X],[pje]:[()=>l.isSerializableHeaderValue(e[aY]),()=>(e[aY]||[]).map(l.quoteHeader).join(", ")]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[W6e]:[,""],[Jn]:[,e[Ke]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},aDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[uZ]:[,""],[Jn]:[,e[Ke]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},cDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[pZ]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},lDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[_Z]:[,""],[Jn]:[,e[Ke]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},dDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X],[Ct]:e[wt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[_f]:[,""],[Jn]:[,e[Ke]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},uDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[h$e]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},fDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[ZN]:[,""]});return r.m("GET").h(n).q(s).b(void 0),r.build()},mDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});return r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.m("HEAD").h(n).b(void 0),r.build()},hDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Fl]:e[xf],[HN]:[()=>l.isSerializableHeaderValue(e[ox]),()=>l.dateToUtcString(e[ox]).toString()],[Cf]:e[Ep],[GN]:[()=>l.isSerializableHeaderValue(e[ax]),()=>l.dateToUtcString(e[ax]).toString()],[yZ]:e[XJ],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[Ct]:e[wt],[Q]:e[X],[IZ]:e[kJ]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[bZ]:[,e[QJ]],[SZ]:[,e[YJ]],[EZ]:[,e[JJ]],[xZ]:[,e[ZJ]],[wZ]:[,e[eZ]],[CZ]:[()=>e.ResponseExpires!==void 0,()=>l.dateToUtcString(e[tZ]).toString()],[Jn]:[,e[Ke]],[SC]:[()=>e.PartNumber!==void 0,()=>e[Wn].toString()]});return r.m("HEAD").h(n).q(s).b(void 0),r.build()},pDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[uC]:[,""],[Wr]:[,"ListBucketAnalyticsConfigurations"],[Ll]:[,e[vt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},gDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[yC]:[,""],[Wr]:[,"ListBucketIntelligentTieringConfigurations"],[Ll]:[,e[vt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},yDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gC]:[,""],[Wr]:[,"ListBucketInventoryConfigurations"],[Ll]:[,e[vt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},bDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[bC]:[,""],[Wr]:[,"ListBucketMetricsConfigurations"],[Ll]:[,e[vt]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},SDe=async(e,t)=>{let r=U.requestBuilder(e,t),n={};r.bp("/");let s=l.map({[Wr]:[,"ListBuckets"],[r$e]:[()=>e.MaxBuckets!==void 0,()=>e[L4e].toString()],[Ll]:[,e[vt]],[Rp]:[,e[Z]],[X6e]:[,e[up]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},EDe=async(e,t)=>{let r=U.requestBuilder(e,t),n={};r.bp("/");let s=l.map({[Wr]:[,"ListDirectoryBuckets"],[Ll]:[,e[vt]],[n$e]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[$4e].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},xDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X],[Ct]:e[wt]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[vZ]:[,""],[mC]:[,e[bn]],[hC]:[,e[En]],[dZ]:[,e[Wa]],[i$e]:[()=>e.MaxUploads!==void 0,()=>e[wE].toString()],[Rp]:[,e[Z]],[p$e]:[,e[$E]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},wDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X],[oD]:[()=>l.isSerializableHeaderValue(e[nf]),()=>(e[nf]||[]).map(l.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[mC]:[,e[bn]],[hC]:[,e[En]],[t$e]:[,e[EE]],[QN]:[()=>e.MaxKeys!==void 0,()=>e[Bs].toString()],[Rp]:[,e[Z]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},CDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X],[oD]:[()=>l.isSerializableHeaderValue(e[nf]),()=>(e[nf]||[]).map(l.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[J6e]:[,"2"],[mC]:[,e[bn]],[hC]:[,e[En]],[QN]:[()=>e.MaxKeys!==void 0,()=>e[Bs].toString()],[Rp]:[,e[Z]],[Ll]:[,e[vt]],[Y6e]:[()=>e.FetchOwner!==void 0,()=>e[r4e].toString()],[u$e]:[,e[NE]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},_De=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Q]:e[X],[Ct]:e[wt],[oD]:[()=>l.isSerializableHeaderValue(e[nf]),()=>(e[nf]||[]).map(l.quoteHeader).join(", ")]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[g$e]:[,""],[mC]:[,e[bn]],[hC]:[,e[En]],[dZ]:[,e[Wa]],[QN]:[()=>e.MaxKeys!==void 0,()=>e[Bs].toString()],[Rp]:[,e[Z]],[y$e]:[,e[VE]]});return r.m("GET").h(n).q(s).b(void 0),r.build()},vDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Ct]:e[wt],[Q]:e[X],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"ListParts"],[s$e]:[()=>e.MaxParts!==void 0,()=>e[Io].toString()],[a$e]:[,e[Xa]],[Tp]:[,l.expectNonNull(e[Yn],"UploadId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},ADe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X],[Mt]:e[Be]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[oZ]:[,""]}),i,o;return e.AccelerateConfiguration!==void 0&&(o=C2e(e.AccelerateConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},RDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[vf]:e[uf],[ar]:e[or],[Mt]:e[Be],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[sD]:e[BN],[If]:e[Ef],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[fC]:[,""]}),i,o;return e.AccessControlPolicy!==void 0&&(o=cJ(e.AccessControlPolicy),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},TDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[uC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]}),i,o;return e.AnalyticsConfiguration!==void 0&&(o=k2e(e.AnalyticsConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},kDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[VN]:[,""]}),i,o;return e.CORSConfiguration!==void 0&&(o=U2e(e.CORSConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},IDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[zN]:[,""]}),i,o;return e.ServerSideEncryptionConfiguration!==void 0&&(o=vMe(e.ServerSideEncryptionConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},PDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[yC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]}),i,o;return e.IntelligentTieringConfiguration!==void 0&&(o=cqe(e.IntelligentTieringConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},ODe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]}),i,o;return e.InventoryConfiguration!==void 0&&(o=dqe(e.InventoryConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},NDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Mt]:e[Be],[Q]:e[X],[cD]:e[jN]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[KN]:[,""]}),i,o;return e.LifecycleConfiguration!==void 0&&(o=D2e(e.LifecycleConfiguration),o=o.n("LifecycleConfiguration"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},DDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[mZ]:[,""]}),i,o;return e.BucketLoggingStatus!==void 0&&(o=B2e(e.BucketLoggingStatus),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},BDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[bC]:[,""],[zs]:[,l.expectNonNull(e[_e],"Id")]}),i,o;return e.MetricsConfiguration!==void 0&&(o=Mqe(e.MetricsConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},qDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Q]:e[X],[Aje]:[()=>l.isSerializableHeaderValue(e[dY]),()=>e[dY].toString()]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[hZ]:[,""]}),i,o;return e.NotificationConfiguration!==void 0&&(o=jqe(e.NotificationConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},MDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Q]:e[X],[Mt]:e[Be]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[YN]:[,""]}),i,o;return e.OwnershipControls!==void 0&&(o=Yqe(e.OwnershipControls),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},LDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"text/plain",[ar]:e[or],[Mt]:e[Be],[C$e]:[()=>l.isSerializableHeaderValue(e[XQ]),()=>e[XQ].toString()],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[JN]:[,""]}),i,o;return e.Policy!==void 0&&(o=e.Policy,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},FDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[kZ]:e[sZ],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[eD]:[,""]}),i,o;return e.ReplicationConfiguration!==void 0&&(o=cMe(e.ReplicationConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},UDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[gZ]:[,""]}),i,o;return e.RequestPaymentConfiguration!==void 0&&(o=hMe(e.RequestPaymentConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},$De=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[_f]:[,""]}),i,o;return e.Tagging!==void 0&&(o=kN(e.Tagging),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},jDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[iD]:e[qN],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[AZ]:[,""]}),i,o;return e.VersioningConfiguration!==void 0&&(o=HMe(e.VersioningConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},VDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[tD]:[,""]}),i,o;return e.WebsiteConfiguration!==void 0&&(o=GMe(e.WebsiteConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},zDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[Ap]:e[gf]||"application/octet-stream",[vf]:e[uf],[wp]:e[ff],[Cp]:e[mf],[_p]:e[hf],[vp]:e[pf],[Ol]:[()=>l.isSerializableHeaderValue(e[Ya]),()=>e[Ya].toString()],[ar]:e[or],[Mt]:e[Be],[Ul]:e[Pt],[$l]:e[Ot],[jl]:e[Nt],[Vl]:e[Dt],[zl]:e[Bt],[Nl]:[()=>l.isSerializableHeaderValue(e[Hi]),()=>l.dateToUtcString(e[Hi]).toString()],[Fl]:e[xf],[Cf]:e[Ep],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[If]:e[Ef],[Tje]:[()=>l.isSerializableHeaderValue(e[yY]),()=>e[yY].toString()],[ds]:e[wn],[Op]:e[$e],[Np]:e[xp],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[us]:e[nn],[rc]:e[tc],[hr]:[()=>l.isSerializableHeaderValue(e[Vt]),()=>e[Vt].toString()],[Ct]:e[wt],[aD]:e[kl],[Pp]:e[wf],[Dl]:[()=>l.isSerializableHeaderValue(e[Gi]),()=>l.serializeDateTime(e[Gi]).toString()],[Ip]:e[Ml],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"PutObject"]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},HDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[vf]:e[uf],[ar]:e[or],[Mt]:e[Be],[Rf]:e[yf],[Tf]:e[bf],[kf]:e[Sf],[sD]:e[BN],[If]:e[Ef],[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[fC]:[,""],[Jn]:[,e[Ke]]}),i,o;return e.AccessControlPolicy!==void 0&&(o=cJ(e.AccessControlPolicy),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},GDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Ct]:e[wt],[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[uZ]:[,""],[Jn]:[,e[Ke]]}),i,o;return e.LegalHold!==void 0&&(o=Gqe(e.LegalHold),o=o.n("LegalHold"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},KDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Ct]:e[wt],[kZ]:e[sZ],[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[pZ]:[,""]}),i,o;return e.ObjectLockConfiguration!==void 0&&(o=Hqe(e.ObjectLockConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},WDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Ct]:e[wt],[rD]:[()=>l.isSerializableHeaderValue(e[rf]),()=>e[rf].toString()],[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[_Z]:[,""],[Jn]:[,e[Ke]]}),i,o;return e.Retention!==void 0&&(o=Kqe(e.Retention),o=o.n("Retention"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},XDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X],[Ct]:e[wt]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[_f]:[,""],[Jn]:[,e[Ke]]}),i,o;return e.Tagging!==void 0&&(o=kN(e.Tagging),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},QDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[ZN]:[,""]}),i,o;return e.PublicAccessBlockConfiguration!==void 0&&(o=rMe(e.PublicAccessBlockConfiguration),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},YDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[Eje]:e[C6e],[Fl]:e[HUe],[Cf]:e[GUe],[HN]:[()=>l.isSerializableHeaderValue(e[QQ]),()=>l.dateToUtcString(e[QQ]).toString()],[GN]:[()=>l.isSerializableHeaderValue(e[YQ]),()=>l.dateToUtcString(e[YQ]).toString()],[xje]:e[k6e],[Cje]:e[I6e],[wje]:[()=>l.isSerializableHeaderValue(e[uY]),()=>l.dateToUtcString(e[uY]).toString()],[_je]:[()=>l.isSerializableHeaderValue(e[fY]),()=>l.dateToUtcString(e[fY]).toString()],[A$e]:e[jUe]??jPe.v4()});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[c$e]:[,""]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},JDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Ct]:e[wt],[Mt]:e[Be],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[l$e]:[,""],[Jn]:[,e[Ke]]}),i,o;return e.RestoreRequest!==void 0&&(o=gMe(e.RestoreRequest),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("POST").h(n).q(s).b(i),r.build()},ZDe=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[f$e]:[,""],[m$e]:[,"2"]}),i;i=mt;let o=new w.XmlNode(B6e);return o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o.cc(e,UJ),o.cc(e,FJ),e[hl]!=null&&o.c(uJ(e[hl]).n(hl)),e[Sl]!=null&&o.c(fJ(e[Sl]).n(Sl)),e[PE]!=null&&o.c(pMe(e[PE]).n(PE)),e[BE]!=null&&o.c(wMe(e[BE]).n(BE)),i+=o.toString(),r.m("POST").h(n).q(s).b(i),r.build()},e3e=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[Z6e]:[,""]}),i,o;return e.InventoryTableConfiguration!==void 0&&(o=bqe(e.InventoryTableConfiguration),o=o.n("InventoryTableConfiguration"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},t3e=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/xml",[ar]:e[or],[Mt]:e[Be],[Q]:e[X]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=l.map({[e$e]:[,""]}),i,o;return e.JournalTableConfiguration!==void 0&&(o=Eqe(e.JournalTableConfiguration),o=o.n("JournalTableConfiguration"),i=mt,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),r.m("PUT").h(n).q(s).b(i),r.build()},r3e=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"content-type":"application/octet-stream",[Ol]:[()=>l.isSerializableHeaderValue(e[Ya]),()=>e[Ya].toString()],[ar]:e[or],[Mt]:e[Be],[Ul]:e[Pt],[$l]:e[Ot],[jl]:e[Nt],[Vl]:e[Dt],[zl]:e[Bt],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[Ct]:e[wt],[Q]:e[X]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"UploadPart"],[SC]:[l.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wn].toString()],[Tp]:[,l.expectNonNull(e[Yn],"UploadId")]}),i,o;return e.Body!==void 0&&(o=e.Body,i=o),r.m("PUT").h(n).q(s).b(i),r.build()},n3e=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{[PZ]:e[IJ],[OZ]:e[PJ],[NZ]:[()=>l.isSerializableHeaderValue(e[sx]),()=>l.dateToUtcString(e[sx]).toString()],[DZ]:e[OJ],[BZ]:[()=>l.isSerializableHeaderValue(e[ix]),()=>l.dateToUtcString(e[ix]).toString()],[v$e]:e[FUe],[Gr]:e[Nr],[oi]:e[ii],[Kr]:e[Dr],[qZ]:e[NJ],[MZ]:e[DJ],[LZ]:e[BJ],[Ct]:e[wt],[Q]:e[X],[jZ]:e[LJ]});r.bp("/{Key+}"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1),r.p("Key",()=>e.Key,"{Key+}",!0);let s=l.map({[Wr]:[,"UploadPartCopy"],[SC]:[l.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wn].toString()],[Tp]:[,l.expectNonNull(e[Yn],"UploadId")]});return r.m("PUT").h(n).q(s).b(void 0),r.build()},s3e=async(e,t)=>{let r=U.requestBuilder(e,t),n=l.map({},l.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),"content-type":"application/octet-stream",[Sje]:e[g6e],[vje]:e[_6e],[cje]:[()=>l.isSerializableHeaderValue(e[lY]),()=>e[lY].toString()],[R$e]:e[uE],[T$e]:e[fE],[k$e]:e[NN],[I$e]:e[ff],[P$e]:e[mf],[O$e]:e[hf],[N$e]:e[pf],[Ol]:[()=>l.isSerializableHeaderValue(e[Ya]),()=>e[Ya].toString()],[D$e]:e[DN],[B$e]:e[gf],[F$e]:e[Pt],[U$e]:e[Ot],[$$e]:e[Nt],[j$e]:e[Dt],[V$e]:e[Bt],[z$e]:[()=>l.isSerializableHeaderValue(e[ti]),()=>e[ti].toString()],[q$e]:e[At],[M$e]:[()=>l.isSerializableHeaderValue(e[Hi]),()=>l.dateToUtcString(e[Hi]).toString()],[H$e]:e[wr],[L$e]:[()=>l.isSerializableHeaderValue(e[ir]),()=>l.dateToUtcString(e[ir]).toString()],[G$e]:[()=>l.isSerializableHeaderValue(e[cx]),()=>e[cx].toString()],[X$e]:e[wf],[W$e]:e[Ml],[Q$e]:[()=>l.isSerializableHeaderValue(e[Gi]),()=>l.serializeDateTime(e[Gi]).toString()],[K$e]:[()=>l.isSerializableHeaderValue(e[sf]),()=>e[sf].toString()],[Z$e]:e[UN],[J$e]:e[Ht],[Y$e]:e[$N],[tje]:e[wn],[sje]:e[Nr],[rje]:e[nn],[ije]:e[Dr],[eje]:e[$e],[oje]:[()=>l.isSerializableHeaderValue(e[mx]),()=>e[mx].toString()],[aje]:e[Ke],[nje]:[()=>l.isSerializableHeaderValue(e[Vt]),()=>e[Vt].toString()]});r.bp("/WriteGetObjectResponse");let s,i;e.Body!==void 0&&(i=e.Body,s=i);let{hostname:o}=await t.endpoint();if(t.disableHostPrefix!==!0){if(o="{RequestRoute}."+o,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(o=o.replace("{RequestRoute}",e.RequestRoute),!VO.isValidHostname(o))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return r.hn(o),r.m("POST").h(n).b(s),r.build()},i3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},o3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[wr]:[,e.headers[kp]],[wn]:[,e.headers[ds]],[Ke]:[,e.headers[Ki]],[nn]:[,e.headers[us]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[et]!=null&&(r[et]=l.expectString(n[et])),n[Pt]!=null&&(r[Pt]=l.expectString(n[Pt])),n[Ot]!=null&&(r[Ot]=l.expectString(n[Ot])),n[Nt]!=null&&(r[Nt]=l.expectString(n[Nt])),n[Dt]!=null&&(r[Dt]=l.expectString(n[Dt])),n[Bt]!=null&&(r[Bt]=l.expectString(n[Bt])),n[qt]!=null&&(r[qt]=l.expectString(n[qt])),n[At]!=null&&(r[At]=l.expectString(n[At])),n[Oe]!=null&&(r[Oe]=l.expectString(n[Oe])),n[pl]!=null&&(r[pl]=l.expectString(n[pl])),r},a3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[wr]:[,e.headers[kp]],[qJ]:[,e.headers[FZ]],[Ke]:[,e.headers[Ki]],[wn]:[,e.headers[ds]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[tc]:[,e.headers[rc]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[Ht]:[,e.headers[Xt]]}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.CopyObjectResult=cLe(n),r},c3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[pl]:[,e.headers[fZ]],[dp]:[,e.headers[TZ]]});return await l.collectBody(e.body,t),r},l3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},d3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},u3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[RJ]:[()=>e.headers[hx]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[hx]))],[TJ]:[,e.headers[RZ]],[wn]:[,e.headers[ds]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[tc]:[,e.headers[rc]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[Ht]:[,e.headers[Xt]],[Be]:[,e.headers[nD]],[qt]:[,e.headers[Af]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[et]!=null&&(r[et]=l.expectString(n[et])),n[Oe]!=null&&(r[Oe]=l.expectString(n[Oe])),n[Yn]!=null&&(r[Yn]=l.expectString(n[Yn])),r},f3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[wn]:[,e.headers[ds]],[nn]:[,e.headers[us]],[tc]:[,e.headers[rc]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[uO]!=null&&(r[uO]=QFe(n[uO])),r},m3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},h3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},p3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},g3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},y3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},b3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},S3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},E3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},x3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},w3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},C3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},_3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},v3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},A3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},R3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},T3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[ti]:[()=>e.headers[Ja]!==void 0,()=>l.parseBoolean(e.headers[Ja])],[Ke]:[,e.headers[Ki]],[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},k3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.Deleted).trim()===""?r[sE]=[]:n[sE]!=null&&(r[sE]=hLe(l.getArrayIfSingleItem(n[sE]))),String(n.Error).trim()===""?r[ZQ]=[]:n[ni]!=null&&(r[ZQ]=_Le(l.getArrayIfSingleItem(n[ni]))),r},I3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ke]:[,e.headers[Ki]]});return await l.collectBody(e.body,t),r},P3e=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},O3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[ie]!=null&&(r[ie]=l.expectString(n[ie])),r},N3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.AccessControlList).trim()===""?r[mp]=[]:n[sl]!=null&&n[sl][Do]!=null&&(r[mp]=SJ(l.getArrayIfSingleItem(n[sl][Do]))),n[ot]!=null&&(r[ot]=ec(n[ot])),r},D3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.AnalyticsConfiguration=pJ(n),r},B3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.CORSRule).trim()===""?r[ZO]=[]:n[JO]!=null&&(r[ZO]=uLe(l.getArrayIfSingleItem(n[JO]))),r},q3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.ServerSideEncryptionConfiguration=KFe(n),r},M3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.IntelligentTieringConfiguration=xJ(n),r},L3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.InventoryConfiguration=wJ(n),r},F3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[jN]:[,e.headers[cD]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.Rule).trim()===""?r[Vs]=[]:n[Xn]!=null&&(r[Vs]=ZLe(l.getArrayIfSingleItem(n[Xn]))),r},U3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[zu]!=null&&(r[zu]=l.expectString(n[zu])),r},$3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[gl]!=null&&(r[gl]=eFe(n[gl])),r},j3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.GetBucketMetadataConfigurationResult=ILe(n),r},V3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.GetBucketMetadataTableConfigurationResult=PLe(n),r},z3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.MetricsConfiguration=CJ(n),r},H3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[dl]!=null&&(r[dl]=vLe(n[dl])),String(n.CloudFunctionConfiguration).trim()===""?r[aN]=[]:n[WQ]!=null&&(r[aN]=WLe(l.getArrayIfSingleItem(n[WQ]))),String(n.QueueConfiguration).trim()===""?r[mN]=[]:n[fN]!=null&&(r[mN]=PFe(l.getArrayIfSingleItem(n[fN]))),String(n.TopicConfiguration).trim()===""?r[SN]=[]:n[bN]!=null&&(r[SN]=uUe(l.getArrayIfSingleItem(n[bN]))),r},G3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.OwnershipControls=EFe(n),r},K3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=await hUe(e.body,t);return r.Policy=l.expectString(n),r},W3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.PolicyStatus=RFe(n),r},X3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.ReplicationConfiguration=qFe(n),r},Q3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[AE]!=null&&(r[AE]=l.expectString(n[AE])),r},Y3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.TagSet).trim()===""?r[ei]=[]:n[ei]!=null&&n[ei][Fe]!=null&&(r[ei]=ql(l.getArrayIfSingleItem(n[ei][Fe]))),r},J3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[lN]!=null&&(r[xE]=l.expectString(n[lN])),n[ie]!=null&&(r[ie]=l.expectString(n[ie])),r},Z3e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[ul]!=null&&(r[ul]=CLe(n[ul])),n[ml]!=null&&(r[ml]=DLe(n[ml])),n[xl]!=null&&(r[xl]=DFe(n[xl])),String(n.RoutingRules).trim()===""?r[wu]=[]:n[wu]!=null&&n[wu][dx]!=null&&(r[wu]=VFe(l.getArrayIfSingleItem(n[wu][dx]))),r},eBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[ti]:[()=>e.headers[Ja]!==void 0,()=>l.parseBoolean(e.headers[Ja])],[NN]:[,e.headers[aZ]],[wr]:[,e.headers[kp]],[$N]:[,e.headers[UZ]],[ir]:[()=>e.headers[of]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[of]))],[Ya]:[()=>e.headers[Ol]!==void 0,()=>l.strictParseLong(e.headers[Ol])],[At]:[,e.headers[pC]],[Pt]:[,e.headers[Ul]],[Ot]:[,e.headers[$l]],[Nt]:[,e.headers[jl]],[Dt]:[,e.headers[Vl]],[Bt]:[,e.headers[zl]],[qt]:[,e.headers[Af]],[cx]:[()=>e.headers[px]!==void 0,()=>l.strictParseInt32(e.headers[px])],[Ke]:[,e.headers[Ki]],[ff]:[,e.headers[wp]],[mf]:[,e.headers[Cp]],[hf]:[,e.headers[_p]],[pf]:[,e.headers[vp]],[DN]:[,e.headers[cZ]],[gf]:[,e.headers[Ap]],[Hi]:[()=>e.headers[Nl]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[Nl]))],[MJ]:[,e.headers[lZ]],[xp]:[,e.headers[Np]],[wn]:[,e.headers[ds]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[$e]:[,e.headers[Op]],[Ht]:[,e.headers[Xt]],[UN]:[,e.headers[$Z]],[sf]:[()=>e.headers[gx]!==void 0,()=>l.strictParseInt32(e.headers[gx])],[mx]:[()=>e.headers[yx]!==void 0,()=>l.strictParseInt32(e.headers[yx])],[wf]:[,e.headers[Pp]],[Gi]:[()=>e.headers[Dl]!==void 0,()=>l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e.headers[Dl]))],[Ml]:[,e.headers[Ip]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,i)=>(s[i.substring(11)]=e.headers[i],s),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},tBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.AccessControlList).trim()===""?r[mp]=[]:n[sl]!=null&&n[sl][Do]!=null&&(r[mp]=SJ(l.getArrayIfSingleItem(n[sl][Do]))),n[ot]!=null&&(r[ot]=ec(n[ot])),r},rBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[ti]:[()=>e.headers[Ja]!==void 0,()=>l.parseBoolean(e.headers[Ja])],[ir]:[()=>e.headers[of]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[of]))],[Ke]:[,e.headers[Ki]],[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[hO]!=null&&(r[hO]=sLe(n[hO])),n[At]!=null&&(r[At]=l.expectString(n[At])),n[NO]!=null&&(r[NO]=OLe(n[NO])),n[DO]!=null&&(r[DO]=l.strictParseLong(n[DO])),n[$e]!=null&&(r[$e]=l.expectString(n[$e])),r},nBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.LegalHold=hFe(n),r},sBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.ObjectLockConfiguration=mFe(n),r},iBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.Retention=pFe(n),r},oBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ke]:[,e.headers[Ki]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.TagSet).trim()===""?r[ei]=[]:n[ei]!=null&&n[ei][Fe]!=null&&(r[ei]=ql(l.getArrayIfSingleItem(n[ei][Fe]))),r},aBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},cBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.PublicAccessBlockConfiguration=kFe(n),r},lBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[dp]:[,e.headers[TZ]],[OUe]:[,e.headers[E$e]],[kUe]:[,e.headers[S$e]],[up]:[,e.headers[w$e]],[xUe]:[()=>e.headers[SY]!==void 0,()=>l.parseBoolean(e.headers[SY])]});return await l.collectBody(e.body,t),r},dBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[ti]:[()=>e.headers[Ja]!==void 0,()=>l.parseBoolean(e.headers[Ja])],[NN]:[,e.headers[aZ]],[wr]:[,e.headers[kp]],[$N]:[,e.headers[UZ]],[wUe]:[,e.headers[b$e]],[ir]:[()=>e.headers[of]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[of]))],[Ya]:[()=>e.headers[Ol]!==void 0,()=>l.strictParseLong(e.headers[Ol])],[Pt]:[,e.headers[Ul]],[Ot]:[,e.headers[$l]],[Nt]:[,e.headers[jl]],[Dt]:[,e.headers[Vl]],[Bt]:[,e.headers[zl]],[qt]:[,e.headers[Af]],[At]:[,e.headers[pC]],[cx]:[()=>e.headers[px]!==void 0,()=>l.strictParseInt32(e.headers[px])],[Ke]:[,e.headers[Ki]],[ff]:[,e.headers[wp]],[mf]:[,e.headers[Cp]],[hf]:[,e.headers[_p]],[pf]:[,e.headers[vp]],[gf]:[,e.headers[Ap]],[DN]:[,e.headers[cZ]],[Hi]:[()=>e.headers[Nl]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[Nl]))],[MJ]:[,e.headers[lZ]],[xp]:[,e.headers[Np]],[wn]:[,e.headers[ds]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[$e]:[,e.headers[Op]],[Ht]:[,e.headers[Xt]],[UN]:[,e.headers[$Z]],[sf]:[()=>e.headers[gx]!==void 0,()=>l.strictParseInt32(e.headers[gx])],[mx]:[()=>e.headers[yx]!==void 0,()=>l.strictParseInt32(e.headers[yx])],[wf]:[,e.headers[Pp]],[Gi]:[()=>e.headers[Dl]!==void 0,()=>l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e.headers[Dl]))],[Ml]:[,e.headers[Ip]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await l.collectBody(e.body,t),r},uBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.AnalyticsConfiguration).trim()===""?r[KQ]=[]:n[zO]!=null&&(r[KQ]=ZMe(l.getArrayIfSingleItem(n[zO]))),n[vt]!=null&&(r[vt]=l.expectString(n[vt])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Mn]!=null&&(r[Mn]=l.expectString(n[Mn])),r},fBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[vt]!=null&&(r[vt]=l.expectString(n[vt])),String(n.IntelligentTieringConfiguration).trim()===""?r[sY]=[]:n[oN]!=null&&(r[sY]=qLe(l.getArrayIfSingleItem(n[oN]))),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Mn]!=null&&(r[Mn]=l.expectString(n[Mn])),r},mBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[vt]!=null&&(r[vt]=l.expectString(n[vt])),String(n.InventoryConfiguration).trim()===""?r[eY]=[]:n[iN]!=null&&(r[eY]=LLe(l.getArrayIfSingleItem(n[iN]))),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Mn]!=null&&(r[Mn]=l.expectString(n[Mn])),r},hBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[vt]!=null&&(r[vt]=l.expectString(n[vt])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),String(n.MetricsConfiguration).trim()===""?r[iY]=[]:n[cN]!=null&&(r[iY]=iFe(l.getArrayIfSingleItem(n[cN]))),n[Mn]!=null&&(r[Mn]=l.expectString(n[Mn])),r},pBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.Buckets).trim()===""?r[$i]=[]:n[$i]!=null&&n[$i][et]!=null&&(r[$i]=gJ(l.getArrayIfSingleItem(n[$i][et]))),n[vt]!=null&&(r[vt]=l.expectString(n[vt])),n[ot]!=null&&(r[ot]=ec(n[ot])),n[Z]!=null&&(r[Z]=l.expectString(n[Z])),r},gBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.Buckets).trim()===""?r[$i]=[]:n[$i]!=null&&n[$i][et]!=null&&(r[$i]=gJ(l.getArrayIfSingleItem(n[$i][et]))),n[vt]!=null&&(r[vt]=l.expectString(n[vt])),r},yBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[et]!=null&&(r[et]=l.expectString(n[et])),String(n.CommonPrefixes).trim()===""?r[yn]=[]:n[yn]!=null&&(r[yn]=lC(l.getArrayIfSingleItem(n[yn]))),n[bn]!=null&&(r[bn]=l.expectString(n[bn])),n[En]!=null&&(r[En]=l.expectString(n[En])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Wa]!=null&&(r[Wa]=l.expectString(n[Wa])),n[wE]!=null&&(r[wE]=l.strictParseInt32(n[wE])),n[Hu]!=null&&(r[Hu]=l.expectString(n[Hu])),n[PO]!=null&&(r[PO]=l.expectString(n[PO])),n[Z]!=null&&(r[Z]=l.expectString(n[Z])),n[$E]!=null&&(r[$E]=l.expectString(n[$E])),String(n.Upload).trim()===""?r[hY]=[]:n[mY]!=null&&(r[hY]=cFe(l.getArrayIfSingleItem(n[mY]))),r},bBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[yn]=[]:n[yn]!=null&&(r[yn]=lC(l.getArrayIfSingleItem(n[yn]))),String(n.Contents).trim()===""?r[Ga]=[]:n[Ga]!=null&&(r[Ga]=_J(l.getArrayIfSingleItem(n[Ga]))),n[bn]!=null&&(r[bn]=l.expectString(n[bn])),n[En]!=null&&(r[En]=l.expectString(n[En])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[EE]!=null&&(r[EE]=l.expectString(n[EE])),n[Bs]!=null&&(r[Bs]=l.strictParseInt32(n[Bs])),n[Jt]!=null&&(r[Jt]=l.expectString(n[Jt])),n[IO]!=null&&(r[IO]=l.expectString(n[IO])),n[Z]!=null&&(r[Z]=l.expectString(n[Z])),r},SBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[yn]=[]:n[yn]!=null&&(r[yn]=lC(l.getArrayIfSingleItem(n[yn]))),String(n.Contents).trim()===""?r[Ga]=[]:n[Ga]!=null&&(r[Ga]=_J(l.getArrayIfSingleItem(n[Ga]))),n[vt]!=null&&(r[vt]=l.expectString(n[vt])),n[bn]!=null&&(r[bn]=l.expectString(n[bn])),n[En]!=null&&(r[En]=l.expectString(n[En])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[vO]!=null&&(r[vO]=l.strictParseInt32(n[vO])),n[Bs]!=null&&(r[Bs]=l.strictParseInt32(n[Bs])),n[Jt]!=null&&(r[Jt]=l.expectString(n[Jt])),n[Mn]!=null&&(r[Mn]=l.expectString(n[Mn])),n[Z]!=null&&(r[Z]=l.expectString(n[Z])),n[NE]!=null&&(r[NE]=l.expectString(n[NE])),r},EBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return String(n.CommonPrefixes).trim()===""?r[yn]=[]:n[yn]!=null&&(r[yn]=lC(l.getArrayIfSingleItem(n[yn]))),String(n.DeleteMarker).trim()===""?r[JQ]=[]:n[ti]!=null&&(r[JQ]=yLe(l.getArrayIfSingleItem(n[ti]))),n[bn]!=null&&(r[bn]=l.expectString(n[bn])),n[En]!=null&&(r[En]=l.expectString(n[En])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Wa]!=null&&(r[Wa]=l.expectString(n[Wa])),n[Bs]!=null&&(r[Bs]=l.strictParseInt32(n[Bs])),n[Jt]!=null&&(r[Jt]=l.expectString(n[Jt])),n[Hu]!=null&&(r[Hu]=l.expectString(n[Hu])),n[OO]!=null&&(r[OO]=l.expectString(n[OO])),n[Z]!=null&&(r[Z]=l.expectString(n[Z])),n[VE]!=null&&(r[VE]=l.expectString(n[VE])),String(n.Version).trim()===""?r[gY]=[]:n[pY]!=null&&(r[gY]=SFe(l.getArrayIfSingleItem(n[pY]))),r},xBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[RJ]:[()=>e.headers[hx]!==void 0,()=>l.expectNonNull(l.parseRfc7231DateTime(e.headers[hx]))],[TJ]:[,e.headers[RZ]],[Ht]:[,e.headers[Xt]]}),n=l.expectNonNull(l.expectObject(await Ae.parseXmlBody(e.body,t)),"body");return n[et]!=null&&(r[et]=l.expectString(n[et])),n[Be]!=null&&(r[Be]=l.expectString(n[Be])),n[qt]!=null&&(r[qt]=l.expectString(n[qt])),n[Uu]!=null&&(r[Uu]=EJ(n[Uu])),n[yt]!=null&&(r[yt]=l.parseBoolean(n[yt])),n[Oe]!=null&&(r[Oe]=l.expectString(n[Oe])),n[Io]!=null&&(r[Io]=l.strictParseInt32(n[Io])),n[Gu]!=null&&(r[Gu]=l.expectString(n[Gu])),n[ot]!=null&&(r[ot]=ec(n[ot])),n[Xa]!=null&&(r[Xa]=l.expectString(n[Xa])),String(n.Part).trim()===""?r[hp]=[]:n[lx]!=null&&(r[hp]=vFe(l.getArrayIfSingleItem(n[lx]))),n[$e]!=null&&(r[$e]=l.expectString(n[$e])),n[Yn]!=null&&(r[Yn]=l.expectString(n[Yn])),r},wBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},CBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},_Be=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},vBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},ABe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},RBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},TBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},kBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[jN]:[,e.headers[cD]]});return await l.collectBody(e.body,t),r},IBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},PBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},OBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},NBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},DBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},BBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},qBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},MBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},LBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},FBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},UBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[wr]:[,e.headers[kp]],[At]:[,e.headers[pC]],[Pt]:[,e.headers[Ul]],[Ot]:[,e.headers[$l]],[Nt]:[,e.headers[jl]],[Dt]:[,e.headers[Vl]],[Bt]:[,e.headers[zl]],[qt]:[,e.headers[Af]],[wn]:[,e.headers[ds]],[Ke]:[,e.headers[Ki]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[tc]:[,e.headers[rc]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[rn]:[()=>e.headers[EY]!==void 0,()=>l.strictParseLong(e.headers[EY])],[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},$Be=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},jBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},VBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},zBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},HBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ke]:[,e.headers[Ki]]});return await l.collectBody(e.body,t),r},GBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},KBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},WBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[Ht]:[,e.headers[Xt]],[h6e]:[,e.headers[bje]]});return await l.collectBody(e.body,t),r},XBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)}),n=e.body;return r.Payload=g2e(n,t),r},QBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},YBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},JBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[wn]:[,e.headers[ds]],[At]:[,e.headers[pC]],[Pt]:[,e.headers[Ul]],[Ot]:[,e.headers[$l]],[Nt]:[,e.headers[jl]],[Dt]:[,e.headers[Vl]],[Bt]:[,e.headers[zl]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[Ht]:[,e.headers[Xt]]});return await l.collectBody(e.body,t),r},ZBe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e),[qJ]:[,e.headers[FZ]],[wn]:[,e.headers[ds]],[Nr]:[,e.headers[Gr]],[Dr]:[,e.headers[Kr]],[nn]:[,e.headers[us]],[Vt]:[()=>e.headers[hr]!==void 0,()=>l.parseBoolean(e.headers[hr])],[Ht]:[,e.headers[Xt]]}),n=l.expectObject(await Ae.parseXmlBody(e.body,t));return r.CopyPartResult=lLe(n),r},e2e=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return G(e,t);let r=l.map({$metadata:F(e)});return await l.collectBody(e.body,t),r},G=async(e,t)=>{let r={...e,body:await Ae.parseXmlErrorBody(e.body,t)},n=Ae.loadRestXmlErrorCode(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await u2e(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await h2e(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await r2e(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await n2e(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await l2e(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await o2e(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await d2e(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await f2e(r);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await s2e(r);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await a2e(r);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await c2e(r);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await p2e(r);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await i2e(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await m2e(r);default:let s=r.body;return t2e({output:e,parsedBody:s,errorCode:n})}},t2e=l.withBaseException(Hr),r2e=async(e,t)=>{let r=l.map({});e.body;let n=new GE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},n2e=async(e,t)=>{let r=l.map({});e.body;let n=new KE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},s2e=async(e,t)=>{let r=l.map({});e.body;let n=new JE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},i2e=async(e,t)=>{let r=l.map({});e.body;let n=new rx({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},o2e=async(e,t)=>{let r=l.map({}),n=e.body;n[To]!=null&&(r[To]=l.expectString(n[To])),n[$e]!=null&&(r[$e]=l.expectString(n[$e]));let s=new XE({$metadata:F(e),...r});return l.decorateServiceException(s,e.body)},a2e=async(e,t)=>{let r=l.map({});e.body;let n=new ZE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},c2e=async(e,t)=>{let r=l.map({});e.body;let n=new ex({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},l2e=async(e,t)=>{let r=l.map({});e.body;let n=new WE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},d2e=async(e,t)=>{let r=l.map({});e.body;let n=new QE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},u2e=async(e,t)=>{let r=l.map({});e.body;let n=new zE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},f2e=async(e,t)=>{let r=l.map({});e.body;let n=new YE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},m2e=async(e,t)=>{let r=l.map({});e.body;let n=new nx({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},h2e=async(e,t)=>{let r=l.map({});e.body;let n=new HE({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},p2e=async(e,t)=>{let r=l.map({});e.body;let n=new tx({$metadata:F(e),...r});return l.decorateServiceException(n,e.body)},g2e=(e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.Records!=null?{Records:await E2e(r.Records)}:r.Stats!=null?{Stats:await x2e(r.Stats,t)}:r.Progress!=null?{Progress:await S2e(r.Progress,t)}:r.Cont!=null?{Cont:await y2e(r.Cont,t)}:r.End!=null?{End:await b2e(r.End,t)}:{$unknown:r}),y2e=async(e,t)=>{let r={};return await Ae.parseXmlBody(e.body,t),Object.assign(r,aLe()),r},b2e=async(e,t)=>{let r={};return await Ae.parseXmlBody(e.body,t),Object.assign(r,xLe()),r},S2e=async(e,t)=>{let r={},n=await Ae.parseXmlBody(e.body,t);return r.Details=TFe(n),r},E2e=async(e,t)=>{let r={};return r.Payload=e.body,r},x2e=async(e,t)=>{let r={},n=await Ae.parseXmlBody(e.body,t);return r.Details=rUe(n),r},w2e=(e,t)=>{let r=new w.XmlNode(ol);return e[Yc]!=null&&r.c(w.XmlNode.of(Yc,String(e[Yc])).n(Yc)),r},C2e=(e,t)=>{let r=new w.XmlNode(yUe);return e[ie]!=null&&r.c(w.XmlNode.of(vUe,e[ie]).n(ie)),r},cJ=(e,t)=>{let r=new w.XmlNode(gUe);return r.lc(e,"Grants","AccessControlList",()=>dJ(e[mp])),e[ot]!=null&&r.c(Qqe(e[ot]).n(ot)),r},_2e=(e,t)=>{let r=new w.XmlNode(il);return e[ot]!=null&&r.c(w.XmlNode.of(i6e,e[ot]).n(ot)),r},v2e=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(HO,r).n(Br)),A2e=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(KO,r).n(Br)),R2e=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(XO,r).n(Br)),T2e=(e,t)=>{let r=new w.XmlNode(pUe);return r.cc(e,Z),r.l(e,"Tags","Tag",()=>Bl(e[xn])),r},k2e=(e,t)=>{let r=new w.XmlNode(zO);return e[_e]!=null&&r.c(w.XmlNode.of(EUe,e[_e]).n(_e)),e[Ce]!=null&&r.c(P2e(e[Ce]).n(Ce)),e[vl]!=null&&r.c(NMe(e[vl]).n(vl)),r},I2e=(e,t)=>{let r=new w.XmlNode(bUe);return e[$s]!=null&&r.c(O2e(e[$s]).n($s)),r},P2e=(e,t)=>{let r=new w.XmlNode(SUe);return x.AnalyticsFilter.visit(e,{Prefix:n=>{e[Z]!=null&&r.c(w.XmlNode.of(Z,n).n(Z))},Tag:n=>{e[Fe]!=null&&r.c(lf(n).n(Fe))},And:n=>{e[zt]!=null&&r.c(T2e(n).n(zt))},_:(n,s)=>{if(!(s instanceof w.XmlNode||s instanceof w.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new w.XmlNode(n).c(s))}}),r},O2e=(e,t)=>{let r=new w.XmlNode(CUe);return e[Ds]!=null&&r.c(w.XmlNode.of(_Ue,e[Ds]).n(Ds)),e[Ru]!=null&&r.c(w.XmlNode.of(_u,e[Ru]).n(Ru)),e[et]!=null&&r.c(w.XmlNode.of(dC,e[et]).n(et)),r.cc(e,Z),r},N2e=(e,t)=>{let r=new w.XmlNode(AUe);return r.cc(e,WUe),e[Qn]!=null&&r.c(w.XmlNode.of(NUe,e[Qn]).n(Qn)),r},D2e=(e,t)=>{let r=new w.XmlNode(RUe);return r.l(e,"Rules","Rule",()=>kqe(e[Vs])),r},B2e=(e,t)=>{let r=new w.XmlNode(PUe);return e[gl]!=null&&r.c(Pqe(e[gl]).n(gl)),r},q2e=(e,t)=>{let r=new w.XmlNode(qUe);return r.l(e,"Parts","Part",()=>L2e(e[hp])),r},M2e=(e,t)=>{let r=new w.XmlNode(LUe);return r.cc(e,At),r.cc(e,Pt),r.cc(e,Ot),r.cc(e,Nt),r.cc(e,Dt),r.cc(e,Bt),e[Wn]!=null&&r.c(w.XmlNode.of(Wn,String(e[Wn])).n(Wn)),r},L2e=(e,t)=>e.filter(r=>r!=null).map(r=>M2e(r).n(Br)),F2e=(e,t)=>{let r=new w.XmlNode(al);return r.cc(e,hE),r.cc(e,bE),r},U2e=(e,t)=>{let r=new w.XmlNode(MUe);return r.l(e,"CORSRules","CORSRule",()=>j2e(e[ZO])),r},$2e=(e,t)=>{let r=new w.XmlNode(JO);return r.cc(e,sr),r.l(e,"AllowedHeaders","AllowedHeader",()=>v2e(e[GO])),r.l(e,"AllowedMethods","AllowedMethod",()=>A2e(e[WO])),r.l(e,"AllowedOrigins","AllowedOrigin",()=>R2e(e[QO])),r.l(e,"ExposeHeaders","ExposeHeader",()=>tqe(e[eN])),e[el]!=null&&r.c(w.XmlNode.of(el,String(e[el])).n(el)),r},j2e=(e,t)=>e.filter(r=>r!=null).map(r=>$2e(r).n(Br)),V2e=(e,t)=>{let r=new w.XmlNode(BUe);return e[zu]!=null&&r.c(w.XmlNode.of(TUe,e[zu]).n(zu)),e[pl]!=null&&r.c(Iqe(e[pl]).n(pl)),e[et]!=null&&r.c(N2e(e[et]).n(et)),r.lc(e,"Tags","Tags",()=>Bl(e[xn])),r},z2e=(e,t)=>{let r=new w.XmlNode(UUe);return r.cc(e,t4e),r.cc(e,zUe),r.cc(e,WJ),r.cc(e,FN),r.cc(e,$J),r.cc(e,KJ),e[nE]!=null&&r.c(w.XmlNode.of(nE,String(e[nE])).n(nE)),r},H2e=(e,t)=>{let r=new w.XmlNode($Ue);return r.cc(e,d6e),r.cc(e,WJ),r.cc(e,FN),r.cc(e,$J),r.cc(e,KJ),r},G2e=(e,t)=>{let r=new w.XmlNode(ll);return e[qs]!=null&&r.c(w.XmlNode.of(zJ,e[qs]).n(qs)),e[Qe]!=null&&r.c(w.XmlNode.of(Qe,String(e[Qe])).n(Qe)),e[nl]!=null&&r.c(w.XmlNode.of(nl,String(e[nl])).n(nl)),r},K2e=(e,t)=>{let r=new w.XmlNode(XUe);return r.l(e,"Objects","Object",()=>zqe(e[a6e])),e[aE]!=null&&r.c(w.XmlNode.of(aE,String(e[aE])).n(aE)),r},W2e=(e,t)=>{let r=new w.XmlNode(cl);return e[ie]!=null&&r.c(w.XmlNode.of(KUe,e[ie]).n(ie)),r},X2e=(e,t)=>{let r=new w.XmlNode(Or);return e[et]!=null&&r.c(w.XmlNode.of(dC,e[et]).n(et)),e[Au]!=null&&r.c(w.XmlNode.of(_u,e[Au]).n(Au)),r.cc(e,$e),e[il]!=null&&r.c(_2e(e[il]).n(il)),e[Sn]!=null&&r.c(Y2e(e[Sn]).n(Sn)),e[Cl]!=null&&r.c(mMe(e[Cl]).n(Cl)),e[yl]!=null&&r.c(Bqe(e[yl]).n(yl)),r},Q2e=(e,t)=>{let r=new w.XmlNode(ji);return e[bO]!=null&&r.c(w.XmlNode.of(wn,e[bO]).n(bO)),e[AO]!=null&&r.c(w.XmlNode.of(nn,e[AO]).n(AO)),r.cc(e,R4e),r},Y2e=(e,t)=>{let r=new w.XmlNode(Sn);return r.cc(e,TE),r},J2e=(e,t)=>{let r=new w.XmlNode(ul);return e[Oe]!=null&&r.c(w.XmlNode.of(LN,e[Oe]).n(Oe)),r},Z2e=(e,t)=>new w.XmlNode(dl),AN=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(Pl,r).n(Br)),eqe=(e,t)=>{let r=new w.XmlNode(fl);return e[ie]!=null&&r.c(w.XmlNode.of(YUe,e[ie]).n(ie)),r},tqe=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(tN,r).n(Br)),rqe=(e,t)=>{let r=new w.XmlNode(rN);return e[Jt]!=null&&r.c(w.XmlNode.of(n4e,e[Jt]).n(Jt)),e[ls]!=null&&r.c(w.XmlNode.of(s4e,e[ls]).n(ls)),r},nqe=(e,t)=>e.filter(r=>r!=null).map(r=>rqe(r).n(Br)),sqe=(e,t)=>{let r=new w.XmlNode(mE);return r.cc(e,nZ),r},iqe=(e,t)=>{let r=new w.XmlNode(Do);if(e[cs]!=null){let n=lJ(e[cs]).n(cs);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return r.cc(e,Vi),r},lJ=(e,t)=>{let r=new w.XmlNode(cs);return r.cc(e,ri),r.cc(e,dE),r.cc(e,sr),r.cc(e,jE),r.a("xsi:type",e[Qn]),r},dJ=(e,t)=>e.filter(r=>r!=null).map(r=>iqe(r).n(Do)),oqe=(e,t)=>{let r=new w.XmlNode(ml);return r.cc(e,ME),r},uJ=(e,t)=>{let r=new w.XmlNode(hl);return e[Nu]!=null&&r.c(z2e(e[Nu]).n(Nu)),r.cc(e,VUe),e[$u]!=null&&r.c(xqe(e[$u]).n($u)),e[BO]!=null&&r.c(eMe(e[BO]).n(BO)),r},aqe=(e,t)=>{let r=new w.XmlNode(p4e);return r.cc(e,Z),r.l(e,"Tags","Tag",()=>Bl(e[xn])),r},cqe=(e,t)=>{let r=new w.XmlNode(oN);return e[_e]!=null&&r.c(w.XmlNode.of(E4e,e[_e]).n(_e)),e[Ce]!=null&&r.c(lqe(e[Ce]).n(Ce)),e[ie]!=null&&r.c(w.XmlNode.of(x4e,e[ie]).n(ie)),r.l(e,"Tierings","Tiering",()=>FMe(e[EN])),r},lqe=(e,t)=>{let r=new w.XmlNode(S4e);return r.cc(e,Z),e[Fe]!=null&&r.c(lf(e[Fe]).n(Fe)),e[zt]!=null&&r.c(aqe(e[zt]).n(zt)),r},dqe=(e,t)=>{let r=new w.XmlNode(iN);return e[Or]!=null&&r.c(uqe(e[Or]).n(Or)),e[Zc]!=null&&r.c(w.XmlNode.of(Zc,String(e[Zc])).n(Zc)),e[Ce]!=null&&r.c(mqe(e[Ce]).n(Ce)),e[_e]!=null&&r.c(w.XmlNode.of(d4e,e[_e]).n(_e)),e[Lu]!=null&&r.c(w.XmlNode.of(u4e,e[Lu]).n(Lu)),r.lc(e,"OptionalFields","OptionalFields",()=>hqe(e[xu])),e[Ju]!=null&&r.c(gqe(e[Ju]).n(Ju)),r},uqe=(e,t)=>{let r=new w.XmlNode(i4e);return e[$s]!=null&&r.c(pqe(e[$s]).n($s)),r},fqe=(e,t)=>{let r=new w.XmlNode(o4e);return e[yN]!=null&&r.c(OMe(e[yN]).n(fx)),e[gN]!=null&&r.c(IMe(e[gN]).n(ux)),r},mqe=(e,t)=>{let r=new w.XmlNode(a4e);return r.cc(e,Z),r},hqe=(e,t)=>e.filter(r=>r!=null).map(r=>w.XmlNode.of(f4e,r).n(sN)),pqe=(e,t)=>{let r=new w.XmlNode(m4e);return r.cc(e,_u),e[et]!=null&&r.c(w.XmlNode.of(dC,e[et]).n(et)),e[Ds]!=null&&r.c(w.XmlNode.of(c4e,e[Ds]).n(Ds)),r.cc(e,Z),e[ji]!=null&&r.c(fqe(e[ji]).n(ji)),r},gqe=(e,t)=>{let r=new w.XmlNode(h4e);return e[qu]!=null&&r.c(w.XmlNode.of(l4e,e[qu]).n(qu)),r},yqe=(e,t)=>{let r=new w.XmlNode(gE);return e[ko]!=null&&r.c(w.XmlNode.of(jJ,e[ko]).n(ko)),e[Sn]!=null&&r.c(RN(e[Sn]).n(Sn)),r},bqe=(e,t)=>{let r=new w.XmlNode(y4e);return e[ko]!=null&&r.c(w.XmlNode.of(jJ,e[ko]).n(ko)),e[Sn]!=null&&r.c(RN(e[Sn]).n(Sn)),r},Sqe=(e,t)=>{let r=new w.XmlNode(yE);return e[zi]!=null&&r.c(mJ(e[zi]).n(zi)),e[Sn]!=null&&r.c(RN(e[Sn]).n(Sn)),r},Eqe=(e,t)=>{let r=new w.XmlNode(v4e);return e[zi]!=null&&r.c(mJ(e[zi]).n(zi)),r},xqe=(e,t)=>{let r=new w.XmlNode(w4e);return e[Qn]!=null&&r.c(w.XmlNode.of(_4e,e[Qn]).n(Qn)),r},wqe=(e,t)=>{let r=new w.XmlNode(C4e);return r.cc(e,FN),r},Cqe=(e,t)=>{let r=new w.XmlNode(k4e);return e[_e]!=null&&r.c(w.XmlNode.of(MN,e[_e]).n(_e)),e[SE]!=null&&r.c(w.XmlNode.of(SE,e[SE]).n(YO)),r.l(e,"Events","Event",()=>AN(e[No])),e[Ce]!=null&&r.c(TN(e[Ce]).n(Ce)),r},_qe=(e,t)=>e.filter(r=>r!=null).map(r=>Cqe(r).n(Br)),vqe=(e,t)=>{let r=new w.XmlNode(T4e);return e[qn]!=null&&r.c(w.XmlNode.of(qn,l.serializeDateTime(e[qn]).toString()).n(qn)),e[Qe]!=null&&r.c(w.XmlNode.of(Qe,String(e[Qe])).n(Qe)),e[Jc]!=null&&r.c(w.XmlNode.of(Jc,String(e[Jc])).n(Jc)),r},Aqe=(e,t)=>{let r=new w.XmlNode(N4e);return e[wr]!=null&&r.c(vqe(e[wr]).n(wr)),r.cc(e,sr),r.cc(e,Z),e[Ce]!=null&&r.c(Tqe(e[Ce]).n(Ce)),e[ie]!=null&&r.c(w.XmlNode.of(ZUe,e[ie]).n(ie)),r.l(e,"Transitions","Transition",()=>VMe(e[CN])),r.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>$qe(e[dN])),e[bl]!=null&&r.c(Fqe(e[bl]).n(bl)),e[ol]!=null&&r.c(w2e(e[ol]).n(ol)),r},Rqe=(e,t)=>{let r=new w.XmlNode(D4e);return r.cc(e,Z),r.l(e,"Tags","Tag",()=>Bl(e[xn])),e[Fs]!=null&&r.c(w.XmlNode.of(HJ,String(e[Fs])).n(Fs)),e[Us]!=null&&r.c(w.XmlNode.of(GJ,String(e[Us])).n(Us)),r},Tqe=(e,t)=>{let r=new w.XmlNode(B4e);return r.cc(e,Z),e[Fe]!=null&&r.c(lf(e[Fe]).n(Fe)),e[Fs]!=null&&r.c(w.XmlNode.of(HJ,String(e[Fs])).n(Fs)),e[Us]!=null&&r.c(w.XmlNode.of(GJ,String(e[Us])).n(Us)),e[zt]!=null&&r.c(Rqe(e[zt]).n(zt)),r},kqe=(e,t)=>e.filter(r=>r!=null).map(r=>Aqe(r).n(Br)),Iqe=(e,t)=>{let r=new w.XmlNode(I4e);return e[Qn]!=null&&r.c(w.XmlNode.of(q4e,e[Qn]).n(Qn)),e[Jt]!=null&&r.c(w.XmlNode.of(P4e,e[Jt]).n(Jt)),r},Pqe=(e,t)=>{let r=new w.XmlNode(gl);return r.cc(e,FE),r.lc(e,"TargetGrants","TargetGrants",()=>qMe(e[Cu])),r.cc(e,UE),e[Il]!=null&&r.c(MMe(e[Il]).n(Il)),r},Oqe=(e,t)=>{let r=new w.XmlNode(F4e);return e[yE]!=null&&r.c(Sqe(e[yE]).n(yE)),e[gE]!=null&&r.c(yqe(e[gE]).n(gE)),r},Nqe=(e,t)=>{let r=new w.XmlNode(VJ);return e[Jt]!=null&&r.c(w.XmlNode.of(z4e,e[Jt]).n(Jt)),e[ls]!=null&&r.c(w.XmlNode.of(W4e,e[ls]).n(ls)),r},Dqe=(e,t)=>{let r=new w.XmlNode(G4e);return e[qE]!=null&&r.c(xMe(e[qE]).n(qE)),r},RN=(e,t)=>{let r=new w.XmlNode(K4e);return e[LO]!=null&&r.c(w.XmlNode.of(z6e,e[LO]).n(LO)),r.cc(e,A4e),r},Bqe=(e,t)=>{let r=new w.XmlNode(yl);return e[ie]!=null&&r.c(w.XmlNode.of(H4e,e[ie]).n(ie)),e[Bu]!=null&&r.c(hJ(e[Bu]).n(Bu)),r},qqe=(e,t)=>{let r=new w.XmlNode(M4e);return r.cc(e,Z),r.l(e,"Tags","Tag",()=>Bl(e[xn])),r.cc(e,Ro),r},Mqe=(e,t)=>{let r=new w.XmlNode(cN);return e[_e]!=null&&r.c(w.XmlNode.of(V4e,e[_e]).n(_e)),e[Ce]!=null&&r.c(Lqe(e[Ce]).n(Ce)),r},Lqe=(e,t)=>{let r=new w.XmlNode(j4e);return x.MetricsFilter.visit(e,{Prefix:n=>{e[Z]!=null&&r.c(w.XmlNode.of(Z,n).n(Z))},Tag:n=>{e[Fe]!=null&&r.c(lf(n).n(Fe))},AccessPointArn:n=>{e[Ro]!=null&&r.c(w.XmlNode.of(Ro,n).n(Ro))},And:n=>{e[zt]!=null&&r.c(qqe(n).n(zt))},_:(n,s)=>{if(!(s instanceof w.XmlNode||s instanceof w.XmlText))throw new Error("Unable to serialize unknown union members in XML.");r.c(new w.XmlNode(n).c(s))}}),r},Fqe=(e,t)=>{let r=new w.XmlNode(bl);return e[Ms]!=null&&r.c(w.XmlNode.of(Qe,String(e[Ms])).n(Ms)),e[Ls]!=null&&r.c(w.XmlNode.of(iZ,String(e[Ls])).n(Ls)),r},Uqe=(e,t)=>{let r=new w.XmlNode(uN);return e[Ms]!=null&&r.c(w.XmlNode.of(Qe,String(e[Ms])).n(Ms)),e[$e]!=null&&r.c(w.XmlNode.of(rZ,e[$e]).n($e)),e[Ls]!=null&&r.c(w.XmlNode.of(iZ,String(e[Ls])).n(Ls)),r},$qe=(e,t)=>e.filter(r=>r!=null).map(r=>Uqe(r).n(Br)),jqe=(e,t)=>{let r=new w.XmlNode(X4e);return r.l(e,"TopicConfigurations","TopicConfiguration",()=>$Me(e[SN])),r.l(e,"QueueConfigurations","QueueConfiguration",()=>sMe(e[mN])),r.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>_qe(e[aN])),e[dl]!=null&&r.c(Z2e(e[dl]).n(dl)),r},TN=(e,t)=>{let r=new w.XmlNode(Q4e);return e[Oe]!=null&&r.c(SMe(e[Oe]).n(pN)),r},Vqe=(e,t)=>{let r=new w.XmlNode(e6e);return e[Oe]!=null&&r.c(w.XmlNode.of(LN,e[Oe]).n(Oe)),e[Ke]!=null&&r.c(w.XmlNode.of(o6e,e[Ke]).n(Ke)),r.cc(e,At),e[oE]!=null&&r.c(w.XmlNode.of(oE,l.dateToUtcString(e[oE]).toString()).n(oE)),e[rn]!=null&&r.c(w.XmlNode.of(rn,String(e[rn])).n(rn)),r},zqe=(e,t)=>e.filter(r=>r!=null).map(r=>Vqe(r).n(Br)),Hqe=(e,t)=>{let r=new w.XmlNode(t6e);return r.cc(e,_E),e[Xn]!=null&&r.c(Wqe(e[Xn]).n(Xn)),r},Gqe=(e,t)=>{let r=new w.XmlNode(r6e);return e[ie]!=null&&r.c(w.XmlNode.of(Ml,e[ie]).n(ie)),r},Kqe=(e,t)=>{let r=new w.XmlNode(n6e);return e[qs]!=null&&r.c(w.XmlNode.of(zJ,e[qs]).n(qs)),e[Qu]!=null&&r.c(w.XmlNode.of(qn,l.serializeDateTime(e[Qu]).toString()).n(Qu)),r},Wqe=(e,t)=>{let r=new w.XmlNode(s6e);return e[ll]!=null&&r.c(G2e(e[ll]).n(ll)),r},Xqe=(e,t)=>{let r=new w.XmlNode(CE);return e[$O]!=null&&r.c(EMe(e[$O]).n($O)),r},fJ=(e,t)=>{let r=new w.XmlNode(Sl);return e[Nu]!=null&&r.c(H2e(e[Nu]).n(Nu)),e[$u]!=null&&r.c(wqe(e[$u]).n($u)),r},Qqe=(e,t)=>{let r=new w.XmlNode(ot);return r.cc(e,ri),r.cc(e,sr),r},Yqe=(e,t)=>{let r=new w.XmlNode(Y4e);return r.l(e,"Rules","Rule",()=>Zqe(e[Vs])),r},Jqe=(e,t)=>{let r=new w.XmlNode(Z4e);return r.cc(e,fp),r},Zqe=(e,t)=>e.filter(r=>r!=null).map(r=>Jqe(r).n(Br)),eMe=(e,t)=>new w.XmlNode(l6e),tMe=(e,t)=>{let r=new w.XmlNode(El);return r.cc(e,vE),r},rMe=(e,t)=>{let r=new w.XmlNode(c6e);return e[ku]!=null&&r.c(w.XmlNode.of(cE,String(e[ku])).n(ku)),e[Fu]!=null&&r.c(w.XmlNode.of(cE,String(e[Fu])).n(Fu)),e[Iu]!=null&&r.c(w.XmlNode.of(cE,String(e[Iu])).n(Iu)),e[Wu]!=null&&r.c(w.XmlNode.of(cE,String(e[Wu])).n(Wu)),r},nMe=(e,t)=>{let r=new w.XmlNode(fN);return e[_e]!=null&&r.c(w.XmlNode.of(MN,e[_e]).n(_e)),e[RE]!=null&&r.c(w.XmlNode.of(RE,e[RE]).n(hN)),r.l(e,"Events","Event",()=>AN(e[No])),e[Ce]!=null&&r.c(TN(e[Ce]).n(Ce)),r},sMe=(e,t)=>e.filter(r=>r!=null).map(r=>nMe(r).n(Br)),mJ=(e,t)=>{let r=new w.XmlNode(zi);return e[wr]!=null&&r.c(w.XmlNode.of(e4e,e[wr]).n(wr)),e[Qe]!=null&&r.c(w.XmlNode.of(f6e,String(e[Qe])).n(Qe)),r},iMe=(e,t)=>{let r=new w.XmlNode(_l);return r.cc(e,Ka),r.cc(e,pE),r.cc(e,Qa),r.cc(e,kE),r.cc(e,IE),r},oMe=(e,t)=>{let r=new w.XmlNode(xl);return r.cc(e,Ka),r.cc(e,Qa),r},aMe=(e,t)=>{let r=new w.XmlNode(wl);return e[ie]!=null&&r.c(w.XmlNode.of(m6e,e[ie]).n(ie)),r},cMe=(e,t)=>{let r=new w.XmlNode(u6e);return r.cc(e,OE),r.l(e,"Rules","Rule",()=>fMe(e[Vs])),r},lMe=(e,t)=>{let r=new w.XmlNode(x6e);return r.cc(e,sr),e[rl]!=null&&r.c(w.XmlNode.of(rl,String(e[rl])).n(rl)),r.cc(e,Z),e[Ce]!=null&&r.c(uMe(e[Ce]).n(Ce)),e[ie]!=null&&r.c(w.XmlNode.of(S6e,e[ie]).n(ie)),e[Tl]!=null&&r.c(kMe(e[Tl]).n(Tl)),e[fl]!=null&&r.c(eqe(e[fl]).n(fl)),e[Or]!=null&&r.c(X2e(e[Or]).n(Or)),e[cl]!=null&&r.c(W2e(e[cl]).n(cl)),r},dMe=(e,t)=>{let r=new w.XmlNode(y6e);return r.cc(e,Z),r.l(e,"Tags","Tag",()=>Bl(e[xn])),r},uMe=(e,t)=>{let r=new w.XmlNode(b6e);return r.cc(e,Z),e[Fe]!=null&&r.c(lf(e[Fe]).n(Fe)),e[zt]!=null&&r.c(dMe(e[zt]).n(zt)),r},fMe=(e,t)=>e.filter(r=>r!=null).map(r=>lMe(r).n(Br)),mMe=(e,t)=>{let r=new w.XmlNode(Cl);return e[ie]!=null&&r.c(w.XmlNode.of(v6e,e[ie]).n(ie)),e[tf]!=null&&r.c(hJ(e[tf]).n(tf)),r},hJ=(e,t)=>{let r=new w.XmlNode(A6e);return e[tl]!=null&&r.c(w.XmlNode.of(tl,String(e[tl])).n(tl)),r},hMe=(e,t)=>{let r=new w.XmlNode(p6e);return r.cc(e,AE),r},pMe=(e,t)=>{let r=new w.XmlNode(PE);return e[SO]!=null&&r.c(w.XmlNode.of(JUe,String(e[SO])).n(SO)),r},gMe=(e,t)=>{let r=new w.XmlNode(w6e);return e[Qe]!=null&&r.c(w.XmlNode.of(Qe,String(e[Qe])).n(Qe)),e[mE]!=null&&r.c(sqe(e[mE]).n(mE)),e[Qn]!=null&&r.c(w.XmlNode.of(E6e,e[Qn]).n(Qn)),r.cc(e,nZ),r.cc(e,QUe),e[DE]!=null&&r.c(CMe(e[DE]).n(DE)),e[CE]!=null&&r.c(Xqe(e[CE]).n(CE)),r},yMe=(e,t)=>{let r=new w.XmlNode(dx);return e[al]!=null&&r.c(F2e(e[al]).n(al)),e[_l]!=null&&r.c(iMe(e[_l]).n(_l)),r},bMe=(e,t)=>e.filter(r=>r!=null).map(r=>yMe(r).n(dx)),SMe=(e,t)=>{let r=new w.XmlNode(O6e);return r.l(e,"FilterRules","FilterRule",()=>nqe(e[nN])),r},EMe=(e,t)=>{let r=new w.XmlNode(N6e);return r.cc(e,dC),e[Z]!=null&&r.c(w.XmlNode.of(O4e,e[Z]).n(Z)),e[ji]!=null&&r.c(Q2e(e[ji]).n(ji)),e[fO]!=null&&r.c(w.XmlNode.of(J4e,e[fO]).n(fO)),r.lc(e,"AccessControlList","AccessControlList",()=>dJ(e[sl])),e[kl]!=null&&r.c(kN(e[kl]).n(kl)),r.lc(e,"UserMetadata","UserMetadata",()=>zMe(e[H6e])),r.cc(e,$e),r},xMe=(e,t)=>{let r=new w.XmlNode(qE);return e[Oo]!=null&&r.c(w.XmlNode.of(F6e,e[Oo]).n(Oo)),e[js]!=null&&r.c(w.XmlNode.of(U6e,e[js]).n(js)),r},wMe=(e,t)=>{let r=new w.XmlNode(BE);return e[lE]!=null&&r.c(w.XmlNode.of(lE,String(e[lE])).n(lE)),e[iE]!=null&&r.c(w.XmlNode.of(iE,String(e[iE])).n(iE)),r},CMe=(e,t)=>{let r=new w.XmlNode(DE);return e[hl]!=null&&r.c(uJ(e[hl]).n(hl)),r.cc(e,FJ),r.cc(e,UJ),e[Sl]!=null&&r.c(fJ(e[Sl]).n(Sl)),r},_Me=(e,t)=>{let r=new w.XmlNode(q6e);return e[Yu]!=null&&r.c(w.XmlNode.of(wn,e[Yu]).n(Yu)),e[Vu]!=null&&r.c(w.XmlNode.of(nn,e[Vu]).n(Vu)),r},vMe=(e,t)=>{let r=new w.XmlNode(M6e);return r.l(e,"Rules","Rule",()=>RMe(e[Vs])),r},AMe=(e,t)=>{let r=new w.XmlNode(L6e);return e[vu]!=null&&r.c(_Me(e[vu]).n(vu)),e[Vt]!=null&&r.c(w.XmlNode.of(Vt,String(e[Vt])).n(Vt)),r},RMe=(e,t)=>e.filter(r=>r!=null).map(r=>AMe(r).n(Br)),TMe=(e,t)=>new w.XmlNode(Rl),kMe=(e,t)=>{let r=new w.XmlNode(Tl);return e[Al]!=null&&r.c(PMe(e[Al]).n(Al)),e[wl]!=null&&r.c(aMe(e[wl]).n(wl)),r},IMe=(e,t)=>{let r=new w.XmlNode(ux);return e[ju]!=null&&r.c(w.XmlNode.of(nn,e[ju]).n(ju)),r},PMe=(e,t)=>{let r=new w.XmlNode(Al);return e[ie]!=null&&r.c(w.XmlNode.of(P6e,e[ie]).n(ie)),r},OMe=(e,t)=>new w.XmlNode(fx),NMe=(e,t)=>{let r=new w.XmlNode(vl);return e[Du]!=null&&r.c(DMe(e[Du]).n(Du)),r},DMe=(e,t)=>{let r=new w.XmlNode(R6e);return e[Ku]!=null&&r.c(w.XmlNode.of(T6e,e[Ku]).n(Ku)),e[Or]!=null&&r.c(I2e(e[Or]).n(Or)),r},lf=(e,t)=>{let r=new w.XmlNode(Fe);return e[Oe]!=null&&r.c(w.XmlNode.of(LN,e[Oe]).n(Oe)),r.cc(e,ls),r},kN=(e,t)=>{let r=new w.XmlNode(kl);return r.lc(e,"TagSet","TagSet",()=>Bl(e[ei])),r},Bl=(e,t)=>e.filter(r=>r!=null).map(r=>lf(r).n(Fe)),BMe=(e,t)=>{let r=new w.XmlNode(j6e);if(e[cs]!=null){let n=lJ(e[cs]).n(cs);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),r.c(n)}return e[Vi]!=null&&r.c(w.XmlNode.of(IUe,e[Vi]).n(Vi)),r},qMe=(e,t)=>e.filter(r=>r!=null).map(r=>BMe(r).n(Do)),MMe=(e,t)=>{let r=new w.XmlNode(Il);return e[Rl]!=null&&r.c(TMe(e[Rl]).n(Rl)),e[El]!=null&&r.c(tMe(e[El]).n(El)),r},LMe=(e,t)=>{let r=new w.XmlNode(xN);return e[Qe]!=null&&r.c(w.XmlNode.of(b4e,String(e[Qe])).n(Qe)),e[To]!=null&&r.c(w.XmlNode.of(g4e,e[To]).n(To)),r},FMe=(e,t)=>e.filter(r=>r!=null).map(r=>LMe(r).n(Br)),UMe=(e,t)=>{let r=new w.XmlNode(bN);return e[_e]!=null&&r.c(w.XmlNode.of(MN,e[_e]).n(_e)),e[LE]!=null&&r.c(w.XmlNode.of(LE,e[LE]).n(wN)),r.l(e,"Events","Event",()=>AN(e[No])),e[Ce]!=null&&r.c(TN(e[Ce]).n(Ce)),r},$Me=(e,t)=>e.filter(r=>r!=null).map(r=>UMe(r).n(Br)),jMe=(e,t)=>{let r=new w.XmlNode(_N);return e[qn]!=null&&r.c(w.XmlNode.of(qn,l.serializeDateTime(e[qn]).toString()).n(qn)),e[Qe]!=null&&r.c(w.XmlNode.of(Qe,String(e[Qe])).n(Qe)),e[$e]!=null&&r.c(w.XmlNode.of(rZ,e[$e]).n($e)),r},VMe=(e,t)=>e.filter(r=>r!=null).map(r=>jMe(r).n(Br)),zMe=(e,t)=>e.filter(r=>r!=null).map(r=>Nqe(r).n(VJ)),HMe=(e,t)=>{let r=new w.XmlNode(G6e);return e[xE]!=null&&r.c(w.XmlNode.of(xE,e[xE]).n(lN)),e[ie]!=null&&r.c(w.XmlNode.of(DUe,e[ie]).n(ie)),r},GMe=(e,t)=>{let r=new w.XmlNode(K6e);return e[ul]!=null&&r.c(J2e(e[ul]).n(ul)),e[ml]!=null&&r.c(oqe(e[ml]).n(ml)),e[xl]!=null&&r.c(oMe(e[xl]).n(xl)),r.lc(e,"RoutingRules","RoutingRules",()=>bMe(e[wu])),r},KMe=(e,t)=>{let r={};return e[Yc]!=null&&(r[Yc]=l.strictParseInt32(e[Yc])),r},WMe=(e,t)=>{let r={};return e[ot]!=null&&(r[ot]=l.expectString(e[ot])),r},XMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),QMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),YMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),JMe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),String(e.Tag).trim()===""?r[xn]=[]:e[Fe]!=null&&(r[xn]=ql(l.getArrayIfSingleItem(e[Fe]))),r},pJ=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),String(e.Filter).trim()===""||e[Ce]!=null&&(r[Ce]=tLe(l.expectUnion(e[Ce]))),e[vl]!=null&&(r[vl]=nUe(e[vl])),r},ZMe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>pJ(r)),eLe=(e,t)=>{let r={};return e[$s]!=null&&(r[$s]=rLe(e[$s])),r},tLe=(e,t)=>e[Z]!=null?{Prefix:l.expectString(e[Z])}:e[Fe]!=null?{Tag:df(e[Fe])}:e[zt]!=null?{And:JMe(e[zt])}:{$unknown:Object.entries(e)[0]},rLe=(e,t)=>{let r={};return e[Ds]!=null&&(r[Ds]=l.expectString(e[Ds])),e[Ru]!=null&&(r[Ru]=l.expectString(e[Ru])),e[et]!=null&&(r[et]=l.expectString(e[et])),e[Z]!=null&&(r[Z]=l.expectString(e[Z])),r},nLe=(e,t)=>{let r={};return e[Jt]!=null&&(r[Jt]=l.expectString(e[Jt])),e[mO]!=null&&(r[mO]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[mO]))),e[up]!=null&&(r[up]=l.expectString(e[up])),e[dp]!=null&&(r[dp]=l.expectString(e[dp])),r},gJ=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>nLe(r)),sLe=(e,t)=>{let r={};return e[Pt]!=null&&(r[Pt]=l.expectString(e[Pt])),e[Ot]!=null&&(r[Ot]=l.expectString(e[Ot])),e[Nt]!=null&&(r[Nt]=l.expectString(e[Nt])),e[Dt]!=null&&(r[Dt]=l.expectString(e[Dt])),e[Bt]!=null&&(r[Bt]=l.expectString(e[Bt])),e[qt]!=null&&(r[qt]=l.expectString(e[qt])),r},yJ=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),iLe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),r},lC=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>iLe(r)),oLe=(e,t)=>{let r={};return e[hE]!=null&&(r[hE]=l.expectString(e[hE])),e[bE]!=null&&(r[bE]=l.expectString(e[bE])),r},aLe=(e,t)=>({}),cLe=(e,t)=>{let r={};return e[At]!=null&&(r[At]=l.expectString(e[At])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),e[qt]!=null&&(r[qt]=l.expectString(e[qt])),e[Pt]!=null&&(r[Pt]=l.expectString(e[Pt])),e[Ot]!=null&&(r[Ot]=l.expectString(e[Ot])),e[Nt]!=null&&(r[Nt]=l.expectString(e[Nt])),e[Dt]!=null&&(r[Dt]=l.expectString(e[Dt])),e[Bt]!=null&&(r[Bt]=l.expectString(e[Bt])),r},lLe=(e,t)=>{let r={};return e[At]!=null&&(r[At]=l.expectString(e[At])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),e[Pt]!=null&&(r[Pt]=l.expectString(e[Pt])),e[Ot]!=null&&(r[Ot]=l.expectString(e[Ot])),e[Nt]!=null&&(r[Nt]=l.expectString(e[Nt])),e[Dt]!=null&&(r[Dt]=l.expectString(e[Dt])),e[Bt]!=null&&(r[Bt]=l.expectString(e[Bt])),r},dLe=(e,t)=>{let r={};return e[sr]!=null&&(r[sr]=l.expectString(e[sr])),String(e.AllowedHeader).trim()===""?r[GO]=[]:e[HO]!=null&&(r[GO]=XMe(l.getArrayIfSingleItem(e[HO]))),String(e.AllowedMethod).trim()===""?r[WO]=[]:e[KO]!=null&&(r[WO]=QMe(l.getArrayIfSingleItem(e[KO]))),String(e.AllowedOrigin).trim()===""?r[QO]=[]:e[XO]!=null&&(r[QO]=YMe(l.getArrayIfSingleItem(e[XO]))),String(e.ExposeHeader).trim()===""?r[eN]=[]:e[tN]!=null&&(r[eN]=RLe(l.getArrayIfSingleItem(e[tN]))),e[el]!=null&&(r[el]=l.strictParseInt32(e[el])),r},uLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>dLe(r)),fLe=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=l.expectString(e[qs])),e[Qe]!=null&&(r[Qe]=l.strictParseInt32(e[Qe])),e[nl]!=null&&(r[nl]=l.strictParseInt32(e[nl])),r},mLe=(e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[Ke]!=null&&(r[Ke]=l.expectString(e[Ke])),e[ti]!=null&&(r[ti]=l.parseBoolean(e[ti])),e[gO]!=null&&(r[gO]=l.expectString(e[gO])),r},hLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>mLe(r)),pLe=(e,t)=>{let r={};return e[ot]!=null&&(r[ot]=ec(e[ot])),e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[Ke]!=null&&(r[Ke]=l.expectString(e[Ke])),e[Mu]!=null&&(r[Mu]=l.parseBoolean(e[Mu])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),r},gLe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),r},yLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>pLe(r)),bLe=(e,t)=>{let r={};return e[et]!=null&&(r[et]=l.expectString(e[et])),e[Au]!=null&&(r[Au]=l.expectString(e[Au])),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),e[il]!=null&&(r[il]=WMe(e[il])),e[Sn]!=null&&(r[Sn]=ELe(e[Sn])),e[Cl]!=null&&(r[Cl]=$Fe(e[Cl])),e[yl]!=null&&(r[yl]=nFe(e[yl])),r},SLe=(e,t)=>{let r={};return e[jO]!=null&&(r[jO]=l.expectString(e[jO])),e[Oo]!=null&&(r[Oo]=l.expectString(e[Oo])),e[Zu]!=null&&(r[Zu]=l.expectString(e[Zu])),r},ELe=(e,t)=>{let r={};return e[TE]!=null&&(r[TE]=l.expectString(e[TE])),r},xLe=(e,t)=>({}),wLe=(e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[Ke]!=null&&(r[Ke]=l.expectString(e[Ke])),e[pO]!=null&&(r[pO]=l.expectString(e[pO])),e[kO]!=null&&(r[kO]=l.expectString(e[kO])),r},IN=(e,t)=>{let r={};return e[uE]!=null&&(r[uE]=l.expectString(e[uE])),e[fE]!=null&&(r[fE]=l.expectString(e[fE])),r},CLe=(e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),r},_Le=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>wLe(r)),vLe=(e,t)=>({}),PN=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),ALe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),r},RLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),TLe=(e,t)=>{let r={};return e[Jt]!=null&&(r[Jt]=l.expectString(e[Jt])),e[ls]!=null&&(r[ls]=l.expectString(e[ls])),r},kLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>TLe(r)),ILe=(e,t)=>{let r={};return e[RO]!=null&&(r[RO]=tFe(e[RO])),r},PLe=(e,t)=>{let r={};return e[TO]!=null&&(r[TO]=rFe(e[TO])),e[ie]!=null&&(r[ie]=l.expectString(e[ie])),e[ni]!=null&&(r[ni]=IN(e[ni])),r},OLe=(e,t)=>{let r={};return e[sf]!=null&&(r[V6e]=l.strictParseInt32(e[sf])),e[Xa]!=null&&(r[Xa]=l.expectString(e[Xa])),e[Gu]!=null&&(r[Gu]=l.expectString(e[Gu])),e[Io]!=null&&(r[Io]=l.strictParseInt32(e[Io])),e[yt]!=null&&(r[yt]=l.parseBoolean(e[yt])),String(e.Part).trim()===""?r[hp]=[]:e[lx]!=null&&(r[hp]=AFe(l.getArrayIfSingleItem(e[lx]))),r},NLe=(e,t)=>{let r={};return e[cs]!=null&&(r[cs]=bJ(e[cs])),e[Vi]!=null&&(r[Vi]=l.expectString(e[Vi])),r},bJ=(e,t)=>{let r={};return e[ri]!=null&&(r[ri]=l.expectString(e[ri])),e[dE]!=null&&(r[dE]=l.expectString(e[dE])),e[sr]!=null&&(r[sr]=l.expectString(e[sr])),e[jE]!=null&&(r[jE]=l.expectString(e[jE])),e[bY]!=null&&(r[Qn]=l.expectString(e[bY])),r},SJ=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>NLe(r)),DLe=(e,t)=>{let r={};return e[ME]!=null&&(r[ME]=l.expectString(e[ME])),r},EJ=(e,t)=>{let r={};return e[sr]!=null&&(r[sr]=l.expectString(e[sr])),e[ri]!=null&&(r[ri]=l.expectString(e[ri])),r},BLe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),String(e.Tag).trim()===""?r[xn]=[]:e[Fe]!=null&&(r[xn]=ql(l.getArrayIfSingleItem(e[Fe]))),r},xJ=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),e[Ce]!=null&&(r[Ce]=MLe(e[Ce])),e[ie]!=null&&(r[ie]=l.expectString(e[ie])),String(e.Tiering).trim()===""?r[EN]=[]:e[xN]!=null&&(r[EN]=lUe(l.getArrayIfSingleItem(e[xN]))),r},qLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>xJ(r)),MLe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[Fe]!=null&&(r[Fe]=df(e[Fe])),e[zt]!=null&&(r[zt]=BLe(e[zt])),r},wJ=(e,t)=>{let r={};return e[Or]!=null&&(r[Or]=FLe(e[Or])),e[Zc]!=null&&(r[Zc]=l.parseBoolean(e[Zc])),e[Ce]!=null&&(r[Ce]=$Le(e[Ce])),e[_e]!=null&&(r[_e]=l.expectString(e[_e])),e[Lu]!=null&&(r[Lu]=l.expectString(e[Lu])),String(e.OptionalFields).trim()===""?r[xu]=[]:e[xu]!=null&&e[xu][sN]!=null&&(r[xu]=jLe(l.getArrayIfSingleItem(e[xu][sN]))),e[Ju]!=null&&(r[Ju]=zLe(e[Ju])),r},LLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>wJ(r)),FLe=(e,t)=>{let r={};return e[$s]!=null&&(r[$s]=VLe(e[$s])),r},ULe=(e,t)=>{let r={};return e[fx]!=null&&(r[yN]=tUe(e[fx])),e[ux]!=null&&(r[gN]=ZFe(e[ux])),r},$Le=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),r},jLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>l.expectString(r)),VLe=(e,t)=>{let r={};return e[_u]!=null&&(r[_u]=l.expectString(e[_u])),e[et]!=null&&(r[et]=l.expectString(e[et])),e[Ds]!=null&&(r[Ds]=l.expectString(e[Ds])),e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[ji]!=null&&(r[ji]=ULe(e[ji])),r},zLe=(e,t)=>{let r={};return e[qu]!=null&&(r[qu]=l.expectString(e[qu])),r},HLe=(e,t)=>{let r={};return e[ko]!=null&&(r[ko]=l.expectString(e[ko])),e[ef]!=null&&(r[ef]=l.expectString(e[ef])),e[ni]!=null&&(r[ni]=IN(e[ni])),e[js]!=null&&(r[js]=l.expectString(e[js])),e[Po]!=null&&(r[Po]=l.expectString(e[Po])),r},GLe=(e,t)=>{let r={};return e[ef]!=null&&(r[ef]=l.expectString(e[ef])),e[ni]!=null&&(r[ni]=IN(e[ni])),e[js]!=null&&(r[js]=l.expectString(e[js])),e[Po]!=null&&(r[Po]=l.expectString(e[Po])),e[zi]!=null&&(r[zi]=OFe(e[zi])),r},KLe=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),e[YO]!=null&&(r[SE]=l.expectString(e[YO])),String(e.Event).trim()===""?r[No]=[]:e[Pl]!=null&&(r[No]=PN(l.getArrayIfSingleItem(e[Pl]))),e[Ce]!=null&&(r[Ce]=ON(e[Ce])),r},WLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>KLe(r)),XLe=(e,t)=>{let r={};return e[qn]!=null&&(r[qn]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[qn]))),e[Qe]!=null&&(r[Qe]=l.strictParseInt32(e[Qe])),e[Jc]!=null&&(r[Jc]=l.parseBoolean(e[Jc])),r},QLe=(e,t)=>{let r={};return e[wr]!=null&&(r[wr]=XLe(e[wr])),e[sr]!=null&&(r[sr]=l.expectString(e[sr])),e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[Ce]!=null&&(r[Ce]=JLe(e[Ce])),e[ie]!=null&&(r[ie]=l.expectString(e[ie])),String(e.Transition).trim()===""?r[CN]=[]:e[_N]!=null&&(r[CN]=mUe(l.getArrayIfSingleItem(e[_N]))),String(e.NoncurrentVersionTransition).trim()===""?r[dN]=[]:e[uN]!=null&&(r[dN]=uFe(l.getArrayIfSingleItem(e[uN]))),e[bl]!=null&&(r[bl]=lFe(e[bl])),e[ol]!=null&&(r[ol]=KMe(e[ol])),r},YLe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),String(e.Tag).trim()===""?r[xn]=[]:e[Fe]!=null&&(r[xn]=ql(l.getArrayIfSingleItem(e[Fe]))),e[Fs]!=null&&(r[Fs]=l.strictParseLong(e[Fs])),e[Us]!=null&&(r[Us]=l.strictParseLong(e[Us])),r},JLe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[Fe]!=null&&(r[Fe]=df(e[Fe])),e[Fs]!=null&&(r[Fs]=l.strictParseLong(e[Fs])),e[Us]!=null&&(r[Us]=l.strictParseLong(e[Us])),e[zt]!=null&&(r[zt]=YLe(e[zt])),r},ZLe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>QLe(r)),eFe=(e,t)=>{let r={};return e[FE]!=null&&(r[FE]=l.expectString(e[FE])),String(e.TargetGrants).trim()===""?r[Cu]=[]:e[Cu]!=null&&e[Cu][Do]!=null&&(r[Cu]=oUe(l.getArrayIfSingleItem(e[Cu][Do]))),e[UE]!=null&&(r[UE]=l.expectString(e[UE])),e[Il]!=null&&(r[Il]=aUe(e[Il])),r},tFe=(e,t)=>{let r={};return e[yO]!=null&&(r[yO]=SLe(e[yO])),e[_O]!=null&&(r[_O]=GLe(e[_O])),e[wO]!=null&&(r[wO]=HLe(e[wO])),r},rFe=(e,t)=>{let r={};return e[UO]!=null&&(r[UO]=HFe(e[UO])),r},nFe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),e[Bu]!=null&&(r[Bu]=vJ(e[Bu])),r},sFe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),String(e.Tag).trim()===""?r[xn]=[]:e[Fe]!=null&&(r[xn]=ql(l.getArrayIfSingleItem(e[Fe]))),e[Ro]!=null&&(r[Ro]=l.expectString(e[Ro])),r},CJ=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),String(e.Filter).trim()===""||e[Ce]!=null&&(r[Ce]=oFe(l.expectUnion(e[Ce]))),r},iFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>CJ(r)),oFe=(e,t)=>e[Z]!=null?{Prefix:l.expectString(e[Z])}:e[Fe]!=null?{Tag:df(e[Fe])}:e[Ro]!=null?{AccessPointArn:l.expectString(e[Ro])}:e[zt]!=null?{And:sFe(e[zt])}:{$unknown:Object.entries(e)[0]},aFe=(e,t)=>{let r={};return e[Yn]!=null&&(r[Yn]=l.expectString(e[Yn])),e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[CO]!=null&&(r[CO]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[CO]))),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),e[ot]!=null&&(r[ot]=ec(e[ot])),e[Uu]!=null&&(r[Uu]=EJ(e[Uu])),e[Be]!=null&&(r[Be]=l.expectString(e[Be])),e[qt]!=null&&(r[qt]=l.expectString(e[qt])),r},cFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>aFe(r)),lFe=(e,t)=>{let r={};return e[Ms]!=null&&(r[Ms]=l.strictParseInt32(e[Ms])),e[Ls]!=null&&(r[Ls]=l.strictParseInt32(e[Ls])),r},dFe=(e,t)=>{let r={};return e[Ms]!=null&&(r[Ms]=l.strictParseInt32(e[Ms])),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),e[Ls]!=null&&(r[Ls]=l.strictParseInt32(e[Ls])),r},uFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>dFe(r)),ON=(e,t)=>{let r={};return e[pN]!=null&&(r[Oe]=zFe(e[pN])),r},fFe=(e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),e[At]!=null&&(r[At]=l.expectString(e[At])),String(e.ChecksumAlgorithm).trim()===""?r[Be]=[]:e[Be]!=null&&(r[Be]=yJ(l.getArrayIfSingleItem(e[Be]))),e[qt]!=null&&(r[qt]=l.expectString(e[qt])),e[rn]!=null&&(r[rn]=l.strictParseLong(e[rn])),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),e[ot]!=null&&(r[ot]=ec(e[ot])),e[Xu]!=null&&(r[Xu]=AJ(e[Xu])),r},_J=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>fFe(r)),mFe=(e,t)=>{let r={};return e[_E]!=null&&(r[_E]=l.expectString(e[_E])),e[Xn]!=null&&(r[Xn]=gFe(e[Xn])),r},hFe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),r},pFe=(e,t)=>{let r={};return e[qs]!=null&&(r[qs]=l.expectString(e[qs])),e[Qu]!=null&&(r[Qu]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[Qu]))),r},gFe=(e,t)=>{let r={};return e[ll]!=null&&(r[ll]=fLe(e[ll])),r},yFe=(e,t)=>{let r={};return e[Wn]!=null&&(r[Wn]=l.strictParseInt32(e[Wn])),e[rn]!=null&&(r[rn]=l.strictParseLong(e[rn])),e[Pt]!=null&&(r[Pt]=l.expectString(e[Pt])),e[Ot]!=null&&(r[Ot]=l.expectString(e[Ot])),e[Nt]!=null&&(r[Nt]=l.expectString(e[Nt])),e[Dt]!=null&&(r[Dt]=l.expectString(e[Dt])),e[Bt]!=null&&(r[Bt]=l.expectString(e[Bt])),r},bFe=(e,t)=>{let r={};return e[At]!=null&&(r[At]=l.expectString(e[At])),String(e.ChecksumAlgorithm).trim()===""?r[Be]=[]:e[Be]!=null&&(r[Be]=yJ(l.getArrayIfSingleItem(e[Be]))),e[qt]!=null&&(r[qt]=l.expectString(e[qt])),e[rn]!=null&&(r[rn]=l.strictParseLong(e[rn])),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[Ke]!=null&&(r[Ke]=l.expectString(e[Ke])),e[Mu]!=null&&(r[Mu]=l.parseBoolean(e[Mu])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),e[ot]!=null&&(r[ot]=ec(e[ot])),e[Xu]!=null&&(r[Xu]=AJ(e[Xu])),r},SFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>bFe(r)),ec=(e,t)=>{let r={};return e[ri]!=null&&(r[ri]=l.expectString(e[ri])),e[sr]!=null&&(r[sr]=l.expectString(e[sr])),r},EFe=(e,t)=>{let r={};return String(e.Rule).trim()===""?r[Vs]=[]:e[Xn]!=null&&(r[Vs]=wFe(l.getArrayIfSingleItem(e[Xn]))),r},xFe=(e,t)=>{let r={};return e[fp]!=null&&(r[fp]=l.expectString(e[fp])),r},wFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>xFe(r)),CFe=(e,t)=>{let r={};return e[Wn]!=null&&(r[Wn]=l.strictParseInt32(e[Wn])),e[ir]!=null&&(r[ir]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[ir]))),e[At]!=null&&(r[At]=l.expectString(e[At])),e[rn]!=null&&(r[rn]=l.strictParseLong(e[rn])),e[Pt]!=null&&(r[Pt]=l.expectString(e[Pt])),e[Ot]!=null&&(r[Ot]=l.expectString(e[Ot])),e[Nt]!=null&&(r[Nt]=l.expectString(e[Nt])),e[Dt]!=null&&(r[Dt]=l.expectString(e[Dt])),e[Bt]!=null&&(r[Bt]=l.expectString(e[Bt])),r},_Fe=(e,t)=>{let r={};return e[vE]!=null&&(r[vE]=l.expectString(e[vE])),r},vFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>CFe(r)),AFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>yFe(r)),RFe=(e,t)=>{let r={};return e[EO]!=null&&(r[EO]=l.parseBoolean(e[EO])),r},TFe=(e,t)=>{let r={};return e[Ou]!=null&&(r[Ou]=l.strictParseLong(e[Ou])),e[Tu]!=null&&(r[Tu]=l.strictParseLong(e[Tu])),e[Pu]!=null&&(r[Pu]=l.strictParseLong(e[Pu])),r},kFe=(e,t)=>{let r={};return e[ku]!=null&&(r[ku]=l.parseBoolean(e[ku])),e[Fu]!=null&&(r[Fu]=l.parseBoolean(e[Fu])),e[Iu]!=null&&(r[Iu]=l.parseBoolean(e[Iu])),e[Wu]!=null&&(r[Wu]=l.parseBoolean(e[Wu])),r},IFe=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),e[hN]!=null&&(r[RE]=l.expectString(e[hN])),String(e.Event).trim()===""?r[No]=[]:e[Pl]!=null&&(r[No]=PN(l.getArrayIfSingleItem(e[Pl]))),e[Ce]!=null&&(r[Ce]=ON(e[Ce])),r},PFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>IFe(r)),OFe=(e,t)=>{let r={};return e[wr]!=null&&(r[wr]=l.expectString(e[wr])),e[Qe]!=null&&(r[Qe]=l.strictParseInt32(e[Qe])),r},NFe=(e,t)=>{let r={};return e[Ka]!=null&&(r[Ka]=l.expectString(e[Ka])),e[pE]!=null&&(r[pE]=l.expectString(e[pE])),e[Qa]!=null&&(r[Qa]=l.expectString(e[Qa])),e[kE]!=null&&(r[kE]=l.expectString(e[kE])),e[IE]!=null&&(r[IE]=l.expectString(e[IE])),r},DFe=(e,t)=>{let r={};return e[Ka]!=null&&(r[Ka]=l.expectString(e[Ka])),e[Qa]!=null&&(r[Qa]=l.expectString(e[Qa])),r},BFe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),r},qFe=(e,t)=>{let r={};return e[OE]!=null&&(r[OE]=l.expectString(e[OE])),String(e.Rule).trim()===""?r[Vs]=[]:e[Xn]!=null&&(r[Vs]=UFe(l.getArrayIfSingleItem(e[Xn]))),r},MFe=(e,t)=>{let r={};return e[sr]!=null&&(r[sr]=l.expectString(e[sr])),e[rl]!=null&&(r[rl]=l.strictParseInt32(e[rl])),e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[Ce]!=null&&(r[Ce]=FFe(e[Ce])),e[ie]!=null&&(r[ie]=l.expectString(e[ie])),e[Tl]!=null&&(r[Tl]=JFe(e[Tl])),e[fl]!=null&&(r[fl]=ALe(e[fl])),e[Or]!=null&&(r[Or]=bLe(e[Or])),e[cl]!=null&&(r[cl]=gLe(e[cl])),r},LFe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),String(e.Tag).trim()===""?r[xn]=[]:e[Fe]!=null&&(r[xn]=ql(l.getArrayIfSingleItem(e[Fe]))),r},FFe=(e,t)=>{let r={};return e[Z]!=null&&(r[Z]=l.expectString(e[Z])),e[Fe]!=null&&(r[Fe]=df(e[Fe])),e[zt]!=null&&(r[zt]=LFe(e[zt])),r},UFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>MFe(r)),$Fe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),e[tf]!=null&&(r[tf]=vJ(e[tf])),r},vJ=(e,t)=>{let r={};return e[tl]!=null&&(r[tl]=l.strictParseInt32(e[tl])),r},AJ=(e,t)=>{let r={};return e[xO]!=null&&(r[xO]=l.parseBoolean(e[xO])),e[qO]!=null&&(r[qO]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[qO]))),r},jFe=(e,t)=>{let r={};return e[al]!=null&&(r[al]=oLe(e[al])),e[_l]!=null&&(r[_l]=NFe(e[_l])),r},VFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>jFe(r)),zFe=(e,t)=>{let r={};return String(e.FilterRule).trim()===""?r[nN]=[]:e[rN]!=null&&(r[nN]=kLe(l.getArrayIfSingleItem(e[rN]))),r},HFe=(e,t)=>{let r={};return e[Oo]!=null&&(r[Oo]=l.expectString(e[Oo])),e[js]!=null&&(r[js]=l.expectString(e[js])),e[Po]!=null&&(r[Po]=l.expectString(e[Po])),e[Zu]!=null&&(r[Zu]=l.expectString(e[Zu])),r},GFe=(e,t)=>{let r={};return e[Yu]!=null&&(r[Yu]=l.expectString(e[Yu])),e[Vu]!=null&&(r[Vu]=l.expectString(e[Vu])),r},KFe=(e,t)=>{let r={};return String(e.Rule).trim()===""?r[Vs]=[]:e[Xn]!=null&&(r[Vs]=XFe(l.getArrayIfSingleItem(e[Xn]))),r},WFe=(e,t)=>{let r={};return e[vu]!=null&&(r[vu]=GFe(e[vu])),e[Vt]!=null&&(r[Vt]=l.parseBoolean(e[Vt])),r},XFe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>WFe(r)),QFe=(e,t)=>{let r={};return e[dO]!=null&&(r[dO]=l.expectString(e[dO])),e[MO]!=null&&(r[MO]=l.expectString(e[MO])),e[FO]!=null&&(r[FO]=l.expectString(e[FO])),e[wr]!=null&&(r[wr]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[wr]))),r},YFe=(e,t)=>({}),JFe=(e,t)=>{let r={};return e[Al]!=null&&(r[Al]=eUe(e[Al])),e[wl]!=null&&(r[wl]=BFe(e[wl])),r},ZFe=(e,t)=>{let r={};return e[ju]!=null&&(r[ju]=l.expectString(e[ju])),r},eUe=(e,t)=>{let r={};return e[ie]!=null&&(r[ie]=l.expectString(e[ie])),r},tUe=(e,t)=>({}),rUe=(e,t)=>{let r={};return e[Ou]!=null&&(r[Ou]=l.strictParseLong(e[Ou])),e[Tu]!=null&&(r[Tu]=l.strictParseLong(e[Tu])),e[Pu]!=null&&(r[Pu]=l.strictParseLong(e[Pu])),r},nUe=(e,t)=>{let r={};return e[Du]!=null&&(r[Du]=sUe(e[Du])),r},sUe=(e,t)=>{let r={};return e[Ku]!=null&&(r[Ku]=l.expectString(e[Ku])),e[Or]!=null&&(r[Or]=eLe(e[Or])),r},df=(e,t)=>{let r={};return e[Oe]!=null&&(r[Oe]=l.expectString(e[Oe])),e[ls]!=null&&(r[ls]=l.expectString(e[ls])),r},ql=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>df(r)),iUe=(e,t)=>{let r={};return e[cs]!=null&&(r[cs]=bJ(e[cs])),e[Vi]!=null&&(r[Vi]=l.expectString(e[Vi])),r},oUe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>iUe(r)),aUe=(e,t)=>{let r={};return e[Rl]!=null&&(r[Rl]=YFe(e[Rl])),e[El]!=null&&(r[El]=_Fe(e[El])),r},cUe=(e,t)=>{let r={};return e[Qe]!=null&&(r[Qe]=l.strictParseInt32(e[Qe])),e[To]!=null&&(r[To]=l.expectString(e[To])),r},lUe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>cUe(r)),dUe=(e,t)=>{let r={};return e[_e]!=null&&(r[_e]=l.expectString(e[_e])),e[wN]!=null&&(r[LE]=l.expectString(e[wN])),String(e.Event).trim()===""?r[No]=[]:e[Pl]!=null&&(r[No]=PN(l.getArrayIfSingleItem(e[Pl]))),e[Ce]!=null&&(r[Ce]=ON(e[Ce])),r},uUe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>dUe(r)),fUe=(e,t)=>{let r={};return e[qn]!=null&&(r[qn]=l.expectNonNull(l.parseRfc3339DateTimeWithOffset(e[qn]))),e[Qe]!=null&&(r[Qe]=l.strictParseInt32(e[Qe])),e[$e]!=null&&(r[$e]=l.expectString(e[$e])),r},mUe=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>fUe(r)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),hUe=(e,t)=>l.collectBody(e,t).then(r=>t.utf8Encoder(r)),zt="And",pUe="AnalyticsAndOperator",zO="AnalyticsConfiguration",uf="ACL",sl="AccessControlList",KQ="AnalyticsConfigurationList",gUe="AccessControlPolicy",il="AccessControlTranslation",yUe="AccelerateConfiguration",RJ="AbortDate",bUe="AnalyticsExportDestination",SUe="AnalyticsFilter",HO="AllowedHeader",GO="AllowedHeaders",EUe="AnalyticsId",ol="AbortIncompleteMultipartUpload",_u="AccountId",dO="AccessKeyId",KO="AllowedMethod",WO="AllowedMethods",XO="AllowedOrigin",QO="AllowedOrigins",xUe="AccessPointAlias",Ro="AccessPointArn",nE="AllowQuotedRecordDelimiter",NN="AcceptRanges",TJ="AbortRuleId",wUe="ArchiveStatus",CUe="AnalyticsS3BucketDestination",_Ue="AnalyticsS3ExportFileFormat",vu="ApplyServerSideEncryptionByDefault",To="AccessTier",Au="Account",et="Bucket",dp="BucketArn",Ru="BucketAccountId",vUe="BucketAccelerateStatus",rf="BypassGovernanceRetention",AUe="BucketInfo",Vt="BucketKeyEnabled",RUe="BucketLifecycleConfiguration",TUe="BucketLocationConstraint",kUe="BucketLocationName",IUe="BucketLogsPermission",PUe="BucketLoggingStatus",OUe="BucketLocationType",dC="BucketName",Tu="BytesProcessed",ku="BlockPublicAcls",Iu="BlockPublicPolicy",up="BucketRegion",Pu="BytesReturned",Ou="BytesScanned",NUe="BucketType",DUe="BucketVersioningStatus",$i="Buckets",uO="Credentials",Be="ChecksumAlgorithm",fO="CannedACL",BUe="CreateBucketConfiguration",ff="CacheControl",Pt="ChecksumCRC32",Ot="ChecksumCRC32C",Nt="ChecksumCRC64NVME",mf="ContentDisposition",mO="CreationDate",hf="ContentEncoding",YO="CloudFunction",WQ="CloudFunctionConfiguration",pf="ContentLanguage",Ya="ContentLength",kJ="ChecksumMode",or="ContentMD5",qUe="CompletedMultipartUpload",MUe="CORSConfiguration",JO="CORSRule",ZO="CORSRules",yn="CommonPrefixes",LUe="CompletedPart",DN="ContentRange",XQ="ConfirmRemoveSelfBucketAccess",IJ="CopySource",Dt="ChecksumSHA1",Bt="ChecksumSHA256",PJ="CopySourceIfMatch",sx="CopySourceIfModifiedSince",OJ="CopySourceIfNoneMatch",ix="CopySourceIfUnmodifiedSince",FUe="CopySourceRange",NJ="CopySourceSSECustomerAlgorithm",DJ="CopySourceSSECustomerKey",BJ="CopySourceSSECustomerKeyMD5",Nu="CSV",qJ="CopySourceVersionId",UUe="CSVInput",$Ue="CSVOutput",ko="ConfigurationState",qt="ChecksumType",jUe="ClientToken",gf="ContentType",VUe="CompressionType",vt="ContinuationToken",hO="Checksum",Ga="Contents",pO="Code",zUe="Comments",al="Condition",bn="Delimiter",Yc="DaysAfterInitiation",Du="DataExport",HUe="DestinationIfMatch",QQ="DestinationIfModifiedSince",GUe="DestinationIfNoneMatch",YQ="DestinationIfUnmodifiedSince",ti="DeleteMarker",cl="DeleteMarkerReplication",KUe="DeleteMarkerReplicationStatus",gO="DeleteMarkerVersionId",JQ="DeleteMarkers",ri="DisplayName",WUe="DataRedundancy",ll="DefaultRetention",yO="DestinationResult",Qe="Days",qn="Date",sE="Deleted",XUe="Delete",Or="Destination",QUe="Description",Hi="Expires",dE="EmailAddress",dl="EventBridgeConfiguration",X="ExpectedBucketOwner",uE="ErrorCode",Sn="EncryptionConfiguration",ul="ErrorDocument",eN="ExposeHeaders",tN="ExposeHeader",fE="ErrorMessage",Jc="ExpiredObjectDeleteMarker",fl="ExistingObjectReplication",YUe="ExistingObjectReplicationStatus",JUe="EnableRequestProgress",MJ="ExpiresString",LJ="ExpectedSourceBucketOwner",ZUe="ExpirationStatus",e4e="ExpirationState",En="EncodingType",At="ETag",bO="EncryptionType",Bu="EventThreshold",FJ="ExpressionType",ji="Encryption",SO="Enabled",iE="End",ni="Error",ZQ="Errors",Pl="Event",No="Events",UJ="Expression",wr="Expiration",Ce="Filter",$J="FieldDelimiter",t4e="FileHeaderInfo",r4e="FetchOwner",rN="FilterRule",n4e="FilterRuleName",s4e="FilterRuleValue",nN="FilterRules",sN="Field",Ds="Format",qu="Frequency",Do="Grant",yf="GrantFullControl",mE="GlacierJobParameters",bf="GrantRead",Sf="GrantReadACP",BN="GrantWrite",Ef="GrantWriteACP",mp="Grants",cs="Grantee",hE="HttpErrorCodeReturnedEquals",Ka="HostName",pE="HttpRedirectCode",_e="Id",iN="InventoryConfiguration",eY="InventoryConfigurationList",jJ="InventoryConfigurationState",ml="IndexDocument",sr="ID",i4e="InventoryDestination",Zc="IsEnabled",o4e="InventoryEncryption",a4e="InventoryFilter",c4e="InventoryFormat",l4e="InventoryFrequency",d4e="InventoryId",u4e="InventoryIncludedObjectVersions",Mu="IsLatest",xf="IfMatch",tY="IfMatchInitiatedTime",rY="IfMatchLastModifiedTime",nY="IfMatchSize",ox="IfModifiedSince",Ep="IfNoneMatch",f4e="InventoryOptionalField",Lu="IncludedObjectVersions",EO="IsPublic",Fu="IgnorePublicAcls",xO="IsRestoreInProgress",hl="InputSerialization",m4e="InventoryS3BucketDestination",h4e="InventorySchedule",yt="IsTruncated",p4e="IntelligentTieringAndOperator",g4e="IntelligentTieringAccessTier",oN="IntelligentTieringConfiguration",sY="IntelligentTieringConfigurationList",wO="InventoryTableConfigurationResult",y4e="InventoryTableConfigurationUpdates",gE="InventoryTableConfiguration",b4e="IntelligentTieringDays",S4e="IntelligentTieringFilter",E4e="IntelligentTieringId",x4e="IntelligentTieringStatus",ax="IfUnmodifiedSince",Uu="Initiator",CO="Initiated",$u="JSON",w4e="JSONInput",C4e="JSONOutput",_4e="JSONType",yE="JournalTableConfiguration",_O="JournalTableConfigurationResult",v4e="JournalTableConfigurationUpdates",Oe="Key",vO="KeyCount",ju="KeyId",A4e="KmsKeyArn",Wa="KeyMarker",R4e="KMSContext",AO="KMSKeyId",Vu="KMSMasterKeyID",bE="KeyPrefixEquals",pl="Location",zu="LocationConstraint",gl="LoggingEnabled",T4e="LifecycleExpiration",SE="LambdaFunctionArn",aN="LambdaFunctionConfigurations",k4e="LambdaFunctionConfiguration",I4e="LocationInfo",ir="LastModified",oE="LastModifiedTime",P4e="LocationNameAsString",O4e="LocationPrefix",N4e="LifecycleRule",D4e="LifecycleRuleAndOperator",B4e="LifecycleRuleFilter",q4e="LocationType",EE="Marker",M4e="MetricsAndOperator",el="MaxAgeSeconds",L4e="MaxBuckets",cN="MetricsConfiguration",iY="MetricsConfigurationList",RO="MetadataConfigurationResult",F4e="MetadataConfiguration",U4e="MetadataDirective",$4e="MaxDirectoryBuckets",lN="MfaDelete",VJ="MetadataEntry",j4e="MetricsFilter",qN="MFA",xE="MFADelete",V4e="MetricsId",Bs="MaxKeys",z4e="MetadataKey",cx="MissingMeta",oY="MpuObjectSize",Io="MaxParts",H4e="MetricsStatus",G4e="MetadataTableConfiguration",TO="MetadataTableConfigurationResult",K4e="MetadataTableEncryptionConfiguration",wE="MaxUploads",W4e="MetadataValue",yl="Metrics",kO="Message",tl="Minutes",qs="Mode",Jt="Name",X4e="NotificationConfiguration",Q4e="NotificationConfigurationFilter",Mn="NextContinuationToken",Ms="NoncurrentDays",MN="NotificationId",Hu="NextKeyMarker",IO="NextMarker",Ls="NewerNoncurrentVersions",Gu="NextPartNumberMarker",PO="NextUploadIdMarker",bl="NoncurrentVersionExpiration",OO="NextVersionIdMarker",dN="NoncurrentVersionTransitions",uN="NoncurrentVersionTransition",ot="Owner",aY="ObjectAttributes",Y4e="OwnershipControls",J4e="ObjectCannedACL",Z4e="OwnershipControlsRule",xu="OptionalFields",e6e="ObjectIdentifier",LN="ObjectKey",CE="OutputLocation",t6e="ObjectLockConfiguration",_E="ObjectLockEnabled",cY="ObjectLockEnabledForBucket",r6e="ObjectLockLegalHold",Ml="ObjectLockLegalHoldStatus",wf="ObjectLockMode",n6e="ObjectLockRetention",zJ="ObjectLockRetentionMode",Gi="ObjectLockRetainUntilDate",s6e="ObjectLockRule",fp="ObjectOwnership",nf="OptionalObjectAttributes",i6e="OwnerOverride",NO="ObjectParts",Sl="OutputSerialization",Fs="ObjectSizeGreaterThan",HJ="ObjectSizeGreaterThanBytes",Us="ObjectSizeLessThan",GJ="ObjectSizeLessThanBytes",Ku="OutputSchemaVersion",DO="ObjectSize",o6e="ObjectVersionId",a6e="Objects",Z="Prefix",c6e="PublicAccessBlockConfiguration",sf="PartsCount",vE="PartitionDateSource",l6e="ParquetInput",Wn="PartNumber",Xa="PartNumberMarker",El="PartitionedPrefix",AE="Payer",lx="Part",BO="Parquet",hp="Parts",Vi="Permission",Qa="Protocol",rl="Priority",aE="Quiet",RE="QueueArn",fN="QueueConfiguration",mN="QueueConfigurations",KJ="QuoteCharacter",WJ="QuoteEscapeCharacter",d6e="QuoteFields",hN="Queue",XJ="Range",xl="RedirectAllRequestsTo",Ht="RequestCharged",QJ="ResponseCacheControl",YJ="ResponseContentDisposition",JJ="ResponseContentEncoding",ZJ="ResponseContentLanguage",eZ="ResponseContentType",u6e="ReplicationConfiguration",FN="RecordDelimiter",tZ="ResponseExpires",f6e="RecordExpirationDays",qO="RestoreExpiryDate",zi="RecordExpiration",TE="ReplicaKmsKeyID",kE="ReplaceKeyPrefixWith",IE="ReplaceKeyWith",wl="ReplicaModifications",m6e="ReplicaModificationsStatus",h6e="RestoreOutputPath",wt="RequestPayer",Wu="RestrictPublicBuckets",p6e="RequestPaymentConfiguration",PE="RequestProgress",g6e="RequestRoute",y6e="ReplicationRuleAndOperator",b6e="ReplicationRuleFilter",S6e="ReplicationRuleStatus",E6e="RestoreRequestType",x6e="ReplicationRule",w6e="RestoreRequest",wu="RoutingRules",dx="RoutingRule",C6e="RenameSource",UN="ReplicationStatus",Xu="RestoreStatus",_6e="RequestToken",v6e="ReplicationTimeStatus",A6e="ReplicationTimeValue",Cl="ReplicationTime",Qu="RetainUntilDate",$N="Restore",_l="Redirect",OE="Role",Xn="Rule",Vs="Rules",ie="Status",NE="StartAfter",MO="SecretAccessKey",LO="SseAlgorithm",$s="S3BucketDestination",$e="StorageClass",vl="StorageClassAnalysis",R6e="StorageClassAnalysisDataExport",T6e="StorageClassAnalysisSchemaVersion",lY="StatusCode",dY="SkipDestinationValidation",k6e="SourceIfMatch",uY="SourceIfModifiedSince",I6e="SourceIfNoneMatch",fY="SourceIfUnmodifiedSince",ux="SSE-KMS",Al="SseKmsEncryptedObjects",P6e="SseKmsEncryptedObjectsStatus",O6e="S3KeyFilter",pN="S3Key",N6e="S3Location",D6e="SessionMode",B6e="SelectObjectContentRequest",DE="SelectParameters",Rl="SimplePrefix",BE="ScanRange",fx="SSE-S3",Tl="SourceSelectionCriteria",wn="ServerSideEncryption",Yu="SSEAlgorithm",q6e="ServerSideEncryptionByDefault",M6e="ServerSideEncryptionConfiguration",Nr="SSECustomerAlgorithm",ii="SSECustomerKey",Dr="SSECustomerKeyMD5",gN="SSEKMS",tc="SSEKMSEncryptionContext",nn="SSEKMSKeyId",L6e="ServerSideEncryptionRule",yN="SSES3",FO="SessionToken",F6e="S3TablesBucketArn",qE="S3TablesDestination",UO="S3TablesDestinationResult",U6e="S3TablesName",$O="S3",Ju="Schedule",cE="Setting",rn="Size",lE="Start",ME="Suffix",kl="Tagging",LE="TopicArn",Po="TableArn",FE="TargetBucket",Oo="TableBucketArn",jO="TableBucketType",mx="TagCount",bN="TopicConfiguration",SN="TopicConfigurations",$6e="TaggingDirective",jN="TransitionDefaultMinimumObjectSize",Cu="TargetGrants",j6e="TargetGrant",js="TableName",Zu="TableNamespace",Il="TargetObjectKeyFormat",UE="TargetPrefix",V6e="TotalPartsCount",ei="TagSet",z6e="TableSseAlgorithm",rZ="TransitionStorageClass",ef="TableStatus",Fe="Tag",xn="Tags",nZ="Tier",EN="Tierings",xN="Tiering",tf="Time",sZ="Token",wN="Topic",CN="Transitions",_N="Transition",Qn="Type",mY="Upload",Yn="UploadId",$E="UploadIdMarker",H6e="UserMetadata",jE="URI",hY="Uploads",pY="Version",iZ="VersionCount",G6e="VersioningConfiguration",Ke="VersionId",VE="VersionIdMarker",ls="Value",gY="Versions",K6e="WebsiteConfiguration",yY="WriteOffsetBytes",xp="WebsiteRedirectLocation",nl="Years",uC="analytics",oZ="accelerate",fC="acl",aZ="accept-ranges",W6e="attributes",X6e="bucket-region",VN="cors",wp="cache-control",Cp="content-disposition",_p="content-encoding",vp="content-language",Ol="content-length",ar="content-md5",cZ="content-range",Ap="content-type",Ll="continuation-token",Q6e="delete",mC="delimiter",Nl="expires",zN="encryption",hC="encoding-type",pC="etag",lZ="expiresstring",Y6e="fetch-owner",zs="id",Fl="if-match",HN="if-modified-since",gC="inventory",Cf="if-none-match",yC="intelligent-tiering",GN="if-unmodified-since",dZ="key-marker",KN="lifecycle",uZ="legal-hold",of="last-modified",fZ="location",mZ="logging",J6e="list-type",bC="metrics",WN="metadataConfiguration",Z6e="metadataInventoryTable",e$e="metadataJournalTable",XN="metadataTable",t$e="marker",r$e="max-buckets",n$e="max-directory-buckets",Br="member",QN="max-keys",s$e="max-parts",i$e="max-uploads",hZ="notification",YN="ownershipControls",pZ="object-lock",JN="policy",ZN="publicAccessBlock",SC="partNumber",o$e="policyStatus",a$e="part-number-marker",Rp="prefix",eD="replication",c$e="renameObject",gZ="requestPayment",yZ="range",bZ="response-cache-control",SZ="response-content-disposition",EZ="response-content-encoding",xZ="response-content-language",wZ="response-content-type",CZ="response-expires",l$e="restore",_Z="retention",d$e="session",u$e="start-after",f$e="select",m$e="select-type",_f="tagging",h$e="torrent",vZ="uploads",Tp="uploadId",p$e="upload-id-marker",AZ="versioning",Jn="versionId",mt='<?xml version="1.0" encoding="UTF-8"?>',g$e="versions",y$e="version-id-marker",tD="website",bY="xsi:type",vf="x-amz-acl",hx="x-amz-abort-date",SY="x-amz-access-point-alias",RZ="x-amz-abort-rule-id",b$e="x-amz-archive-status",TZ="x-amz-bucket-arn",rD="x-amz-bypass-governance-retention",S$e="x-amz-bucket-location-name",E$e="x-amz-bucket-location-type",x$e="x-amz-bucket-object-lock-enabled",kZ="x-amz-bucket-object-lock-token",w$e="x-amz-bucket-region",nD="x-amz-checksum-algorithm",Ul="x-amz-checksum-crc32",$l="x-amz-checksum-crc32c",jl="x-amz-checksum-crc64nvme",IZ="x-amz-checksum-mode",C$e="x-amz-confirm-remove-self-bucket-access",Vl="x-amz-checksum-sha1",zl="x-amz-checksum-sha256",PZ="x-amz-copy-source",OZ="x-amz-copy-source-if-match",NZ="x-amz-copy-source-if-modified-since",DZ="x-amz-copy-source-if-none-match",BZ="x-amz-copy-source-if-unmodified-since",_$e="x-amz-create-session-mode",v$e="x-amz-copy-source-range",qZ="x-amz-copy-source-server-side-encryption-customer-algorithm",MZ="x-amz-copy-source-server-side-encryption-customer-key",LZ="x-amz-copy-source-server-side-encryption-customer-key-md5",FZ="x-amz-copy-source-version-id",Af="x-amz-checksum-type",A$e="x-amz-client-token",Ja="x-amz-delete-marker",kp="x-amz-expiration",Q="x-amz-expected-bucket-owner",R$e="x-amz-fwd-error-code",T$e="x-amz-fwd-error-message",k$e="x-amz-fwd-header-accept-ranges",I$e="x-amz-fwd-header-cache-control",P$e="x-amz-fwd-header-content-disposition",O$e="x-amz-fwd-header-content-encoding",N$e="x-amz-fwd-header-content-language",D$e="x-amz-fwd-header-content-range",B$e="x-amz-fwd-header-content-type",q$e="x-amz-fwd-header-etag",M$e="x-amz-fwd-header-expires",L$e="x-amz-fwd-header-last-modified",F$e="x-amz-fwd-header-x-amz-checksum-crc32",U$e="x-amz-fwd-header-x-amz-checksum-crc32c",$$e="x-amz-fwd-header-x-amz-checksum-crc64nvme",j$e="x-amz-fwd-header-x-amz-checksum-sha1",V$e="x-amz-fwd-header-x-amz-checksum-sha256",z$e="x-amz-fwd-header-x-amz-delete-marker",H$e="x-amz-fwd-header-x-amz-expiration",G$e="x-amz-fwd-header-x-amz-missing-meta",K$e="x-amz-fwd-header-x-amz-mp-parts-count",W$e="x-amz-fwd-header-x-amz-object-lock-legal-hold",X$e="x-amz-fwd-header-x-amz-object-lock-mode",Q$e="x-amz-fwd-header-x-amz-object-lock-retain-until-date",Y$e="x-amz-fwd-header-x-amz-restore",J$e="x-amz-fwd-header-x-amz-request-charged",Z$e="x-amz-fwd-header-x-amz-replication-status",eje="x-amz-fwd-header-x-amz-storage-class",tje="x-amz-fwd-header-x-amz-server-side-encryption",rje="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",nje="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",sje="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",ije="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",oje="x-amz-fwd-header-x-amz-tagging-count",aje="x-amz-fwd-header-x-amz-version-id",cje="x-amz-fwd-status",Rf="x-amz-grant-full-control",Tf="x-amz-grant-read",kf="x-amz-grant-read-acp",sD="x-amz-grant-write",If="x-amz-grant-write-acp",lje="x-amz-if-match-initiated-time",dje="x-amz-if-match-last-modified-time",uje="x-amz-if-match-size",iD="x-amz-mfa",fje="x-amz-metadata-directive",px="x-amz-missing-meta",mje="x-amz-mp-object-size",hje="x-amz-max-parts",gx="x-amz-mp-parts-count",pje="x-amz-object-attributes",Ip="x-amz-object-lock-legal-hold",Pp="x-amz-object-lock-mode",Dl="x-amz-object-lock-retain-until-date",gje="x-amz-object-ownership",oD="x-amz-optional-object-attributes",EY="x-amz-object-size",yje="x-amz-part-number-marker",UZ="x-amz-restore",Xt="x-amz-request-charged",bje="x-amz-restore-output-path",Ct="x-amz-request-payer",Sje="x-amz-request-route",Eje="x-amz-rename-source",$Z="x-amz-replication-status",xje="x-amz-rename-source-if-match",wje="x-amz-rename-source-if-modified-since",Cje="x-amz-rename-source-if-none-match",_je="x-amz-rename-source-if-unmodified-since",vje="x-amz-request-token",Op="x-amz-storage-class",Mt="x-amz-sdk-checksum-algorithm",Aje="x-amz-skip-destination-validation",jZ="x-amz-source-expected-bucket-owner",ds="x-amz-server-side-encryption",us="x-amz-server-side-encryption-aws-kms-key-id",hr="x-amz-server-side-encryption-bucket-key-enabled",rc="x-amz-server-side-encryption-context",Gr="x-amz-server-side-encryption-customer-algorithm",oi="x-amz-server-side-encryption-customer-key",Kr="x-amz-server-side-encryption-customer-key-md5",aD="x-amz-tagging",yx="x-amz-tagging-count",Rje="x-amz-tagging-directive",cD="x-amz-transition-default-minimum-object-size",Ki="x-amz-version-id",Tje="x-amz-write-offset-bytes",Np="x-amz-website-redirect-location",Wr="x-id",pp=class extends l.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(kY,TY).ser(gNe).de(f3e).build(){},kje=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Ije=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Pje=(e,t)=>{let r=Object.assign(GQ.getAwsRegionExtensionConfiguration(e),l.getDefaultExtensionConfiguration(e),VO.getHttpHandlerExtensionConfiguration(e),kje(e));return t.forEach(n=>n.configure(r)),Object.assign(e,GQ.resolveAwsRegionExtensionConfiguration(r),l.resolveDefaultRuntimeConfig(r),VO.resolveHttpHandlerRuntimeConfig(r),Ije(r))},Za=class extends l.Client{config;constructor(...[t]){let r=VPe.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=HPe(r),s=VQ.resolveUserAgentConfig(n),i=xt.resolveFlexibleChecksumsConfig(s),o=zQ.resolveRetryConfig(i),a=FPe.resolveRegionConfig(o),c=jQ.resolveHostHeaderConfig(a),d=V.resolveEndpointConfig(c),u=UPe.resolveEventStreamSerdeConfig(d),f=HQ.resolveHttpAuthSchemeConfig(u),m=ae.resolveS3Config(f,{session:[()=>this,pp]}),h=Pje(m,t?.extensions||[]);this.config=h,this.middlewareStack.use(VQ.getUserAgentPlugin(this.config)),this.middlewareStack.use(zQ.getRetryPlugin(this.config)),this.middlewareStack.use($Pe.getContentLengthPlugin(this.config)),this.middlewareStack.use(jQ.getHostHeaderPlugin(this.config)),this.middlewareStack.use(MPe.getLoggerPlugin(this.config)),this.middlewareStack.use(LPe.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(U.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:HQ.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async y=>new U.DefaultIdentityProviderConfig({"aws.auth#sigv4":y.credentials,"aws.auth#sigv4a":y.credentials})})),this.middlewareStack.use(U.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ae.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(qPe.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ae.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ae.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ae.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},bx=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(lNe).de(i3e).build(){},Sx=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(wY,xY).ser(dNe).de(o3e).build(){},Ex=class extends l.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(_Y,CY).ser(uNe).de(a3e).build(){},xx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),zPe.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(fNe).de(c3e).build(){},wx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(mNe).de(l3e).build(){},Cx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(hNe).de(d3e).build(){},_x=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(AY,vY).ser(pNe).de(u3e).build(){},vx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(bNe).de(h3e).build(){},Ax=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(yNe).de(m3e).build(){},Rx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(SNe).de(p3e).build(){},Tx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(ENe).de(g3e).build(){},kx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(xNe).de(y3e).build(){},Ix=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(wNe).de(b3e).build(){},Px=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(CNe).de(S3e).build(){},Ox=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(_Ne).de(E3e).build(){},Nx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(vNe).de(x3e).build(){},Dx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(ANe).de(w3e).build(){},Bx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(RNe).de(C3e).build(){},qx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(TNe).de(_3e).build(){},Mx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(kNe).de(v3e).build(){},Lx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(INe).de(A3e).build(){},Fx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(PNe).de(R3e).build(){},Ux=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(ONe).de(T3e).build(){},$x=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(NNe).de(k3e).build(){},jx=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(DNe).de(I3e).build(){},Vx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(BNe).de(P3e).build(){},zx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(qNe).de(O3e).build(){},Hx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(MNe).de(N3e).build(){},Gx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(LNe).de(D3e).build(){},Kx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(FNe).de(B3e).build(){},Wx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,OY).ser(UNe).de(q3e).build(){},Xx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser($Ne).de(M3e).build(){},Qx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,MY).ser(jNe).de(L3e).build(){},Yx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(VNe).de(F3e).build(){},Jx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(zNe).de(U3e).build(){},Zx=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(HNe).de($3e).build(){},ew=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(GNe).de(j3e).build(){},tw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(KNe).de(V3e).build(){},rw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(WNe).de(z3e).build(){},nw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(XNe).de(H3e).build(){},sw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(QNe).de(G3e).build(){},iw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(YNe).de(K3e).build(){},ow=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(JNe).de(W3e).build(){},aw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(ZNe).de(X3e).build(){},cw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(eDe).de(Q3e).build(){},lw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(tDe).de(Y3e).build(){},dw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(rDe).de(J3e).build(){},uw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(nDe).de(Z3e).build(){},fw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(iDe).de(tBe).build(){},mw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(UY,void 0).ser(oDe).de(rBe).build(){},hw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),si.getSsecPlugin(n),ae.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(FY,LY).ser(sDe).de(eBe).build(){},pw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(aDe).de(nBe).build(){},gw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(cDe).de(sBe).build(){},yw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(lDe).de(iBe).build(){},bw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(dDe).de(oBe).build(){},Sw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,$Y).ser(uDe).de(aBe).build(){},Ew=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(fDe).de(cBe).build(){},af=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(mDe).de(lBe).build(){},cf=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n),ae.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(VY,jY).ser(hDe).de(dBe).build(){},xw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(pDe).de(uBe).build(){},ww=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(gDe).de(fBe).build(){},Cw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,zY).ser(yDe).de(mBe).build(){},_w=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(bDe).de(hBe).build(){},gp=class extends l.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(SDe).de(pBe).build(){},yp=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(EDe).de(gBe).build(){},vw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(xDe).de(yBe).build(){},Aw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(wDe).de(bBe).build(){},bp=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(CDe).de(SBe).build(){},Rw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(_De).de(EBe).build(){},Sp=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(HY,void 0).ser(vDe).de(xBe).build(){},Tw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(ADe).de(wBe).build(){},kw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(RDe).de(CBe).build(){},Iw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(TDe).de(_Be).build(){},Pw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(kDe).de(vBe).build(){},Ow=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(GY,void 0).ser(IDe).de(ABe).build(){},Nw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(PDe).de(RBe).build(){},Dw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(KY,void 0).ser(ODe).de(TBe).build(){},Bw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(NDe).de(kBe).build(){},qw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(DDe).de(IBe).build(){},Mw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(BDe).de(PBe).build(){},Lw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(qDe).de(OBe).build(){},Fw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(MDe).de(NBe).build(){},Uw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(LDe).de(DBe).build(){},$w=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(FDe).de(BBe).build(){},jw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(UDe).de(qBe).build(){},Vw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser($De).de(MBe).build(){},zw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(jDe).de(LBe).build(){},Hw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(VDe).de(FBe).build(){},Gw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(HDe).de($Be).build(){},Kw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ae.getCheckContentLengthHeaderPlugin(n),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(XY,WY).ser(zDe).de(UBe).build(){},Ww=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(GDe).de(jBe).build(){},Xw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(KDe).de(VBe).build(){},Qw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(WDe).de(zBe).build(){},Yw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(XDe).de(HBe).build(){},Jw=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(QDe).de(GBe).build(){},Zw=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(YDe).de(KBe).build(){},eC=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ae.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(eJ,void 0).ser(JDe).de(WBe).build(){},tC=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(rJ,tJ).ser(ZDe).de(XBe).build(){},rC=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(e3e).de(QBe).build(){},nC=class extends l.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(t3e).de(YBe).build(){},sC=class extends l.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),xt.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(sJ,nJ).ser(r3e).de(JBe).build(){},iC=class extends l.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions()),ae.getThrow200ExceptionsPlugin(n),si.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(oJ,iJ).ser(n3e).de(ZBe).build(){},oC=class extends l.Command.classBuilder().ep({...H,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),V.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(aJ,void 0).ser(s3e).de(e2e).build(){},Oje={AbortMultipartUploadCommand:bx,CompleteMultipartUploadCommand:Sx,CopyObjectCommand:Ex,CreateBucketCommand:xx,CreateBucketMetadataConfigurationCommand:wx,CreateBucketMetadataTableConfigurationCommand:Cx,CreateMultipartUploadCommand:_x,CreateSessionCommand:pp,DeleteBucketCommand:Ax,DeleteBucketAnalyticsConfigurationCommand:vx,DeleteBucketCorsCommand:Rx,DeleteBucketEncryptionCommand:Tx,DeleteBucketIntelligentTieringConfigurationCommand:kx,DeleteBucketInventoryConfigurationCommand:Ix,DeleteBucketLifecycleCommand:Px,DeleteBucketMetadataConfigurationCommand:Ox,DeleteBucketMetadataTableConfigurationCommand:Nx,DeleteBucketMetricsConfigurationCommand:Dx,DeleteBucketOwnershipControlsCommand:Bx,DeleteBucketPolicyCommand:qx,DeleteBucketReplicationCommand:Mx,DeleteBucketTaggingCommand:Lx,DeleteBucketWebsiteCommand:Fx,DeleteObjectCommand:Ux,DeleteObjectsCommand:$x,DeleteObjectTaggingCommand:jx,DeletePublicAccessBlockCommand:Vx,GetBucketAccelerateConfigurationCommand:zx,GetBucketAclCommand:Hx,GetBucketAnalyticsConfigurationCommand:Gx,GetBucketCorsCommand:Kx,GetBucketEncryptionCommand:Wx,GetBucketIntelligentTieringConfigurationCommand:Xx,GetBucketInventoryConfigurationCommand:Qx,GetBucketLifecycleConfigurationCommand:Yx,GetBucketLocationCommand:Jx,GetBucketLoggingCommand:Zx,GetBucketMetadataConfigurationCommand:ew,GetBucketMetadataTableConfigurationCommand:tw,GetBucketMetricsConfigurationCommand:rw,GetBucketNotificationConfigurationCommand:nw,GetBucketOwnershipControlsCommand:sw,GetBucketPolicyCommand:iw,GetBucketPolicyStatusCommand:ow,GetBucketReplicationCommand:aw,GetBucketRequestPaymentCommand:cw,GetBucketTaggingCommand:lw,GetBucketVersioningCommand:dw,GetBucketWebsiteCommand:uw,GetObjectCommand:hw,GetObjectAclCommand:fw,GetObjectAttributesCommand:mw,GetObjectLegalHoldCommand:pw,GetObjectLockConfigurationCommand:gw,GetObjectRetentionCommand:yw,GetObjectTaggingCommand:bw,GetObjectTorrentCommand:Sw,GetPublicAccessBlockCommand:Ew,HeadBucketCommand:af,HeadObjectCommand:cf,ListBucketAnalyticsConfigurationsCommand:xw,ListBucketIntelligentTieringConfigurationsCommand:ww,ListBucketInventoryConfigurationsCommand:Cw,ListBucketMetricsConfigurationsCommand:_w,ListBucketsCommand:gp,ListDirectoryBucketsCommand:yp,ListMultipartUploadsCommand:vw,ListObjectsCommand:Aw,ListObjectsV2Command:bp,ListObjectVersionsCommand:Rw,ListPartsCommand:Sp,PutBucketAccelerateConfigurationCommand:Tw,PutBucketAclCommand:kw,PutBucketAnalyticsConfigurationCommand:Iw,PutBucketCorsCommand:Pw,PutBucketEncryptionCommand:Ow,PutBucketIntelligentTieringConfigurationCommand:Nw,PutBucketInventoryConfigurationCommand:Dw,PutBucketLifecycleConfigurationCommand:Bw,PutBucketLoggingCommand:qw,PutBucketMetricsConfigurationCommand:Mw,PutBucketNotificationConfigurationCommand:Lw,PutBucketOwnershipControlsCommand:Fw,PutBucketPolicyCommand:Uw,PutBucketReplicationCommand:$w,PutBucketRequestPaymentCommand:jw,PutBucketTaggingCommand:Vw,PutBucketVersioningCommand:zw,PutBucketWebsiteCommand:Hw,PutObjectCommand:Kw,PutObjectAclCommand:Gw,PutObjectLegalHoldCommand:Ww,PutObjectLockConfigurationCommand:Xw,PutObjectRetentionCommand:Qw,PutObjectTaggingCommand:Yw,PutPublicAccessBlockCommand:Jw,RenameObjectCommand:Zw,RestoreObjectCommand:eC,SelectObjectContentCommand:tC,UpdateBucketMetadataInventoryTableConfigurationCommand:rC,UpdateBucketMetadataJournalTableConfigurationCommand:nC,UploadPartCommand:sC,UploadPartCopyCommand:iC,WriteGetObjectResponseCommand:oC},aC=class extends Za{};l.createAggregatedClient(Oje,aC);var Nje=U.createPaginator(Za,gp,"ContinuationToken","ContinuationToken","MaxBuckets"),Dje=U.createPaginator(Za,yp,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),Bje=U.createPaginator(Za,bp,"ContinuationToken","NextContinuationToken","MaxKeys"),qje=U.createPaginator(Za,Sp,"PartNumberMarker","NextPartNumberMarker","MaxParts"),VZ=async(e,t)=>{let r;try{return r=await e.send(new af(t)),{state:mr.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:mr.WaiterState.RETRY,reason:r}}return{state:mr.WaiterState.RETRY,reason:r}},Mje=async(e,t)=>{let r={minDelay:5,maxDelay:120};return mr.createWaiter({...r,...e},t,VZ)},Lje=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await mr.createWaiter({...r,...e},t,VZ);return mr.checkExceptions(n)},zZ=async(e,t)=>{let r;try{r=await e.send(new af(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:mr.WaiterState.SUCCESS,reason:r}}return{state:mr.WaiterState.RETRY,reason:r}},Fje=async(e,t)=>{let r={minDelay:5,maxDelay:120};return mr.createWaiter({...r,...e},t,zZ)},Uje=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await mr.createWaiter({...r,...e},t,zZ);return mr.checkExceptions(n)},HZ=async(e,t)=>{let r;try{return r=await e.send(new cf(t)),{state:mr.WaiterState.SUCCESS,reason:r}}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:mr.WaiterState.RETRY,reason:r}}return{state:mr.WaiterState.RETRY,reason:r}},$je=async(e,t)=>{let r={minDelay:5,maxDelay:120};return mr.createWaiter({...r,...e},t,HZ)},jje=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await mr.createWaiter({...r,...e},t,HZ);return mr.checkExceptions(n)},GZ=async(e,t)=>{let r;try{r=await e.send(new cf(t))}catch(n){if(r=n,n.name&&n.name=="NotFound")return{state:mr.WaiterState.SUCCESS,reason:r}}return{state:mr.WaiterState.RETRY,reason:r}},Vje=async(e,t)=>{let r={minDelay:5,maxDelay:120};return mr.createWaiter({...r,...e},t,GZ)},zje=async(e,t)=>{let r={minDelay:5,maxDelay:120},n=await mr.createWaiter({...r,...e},t,GZ);return mr.checkExceptions(n)};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return l.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return l.Client}});x.AbortMultipartUploadCommand=bx;x.AnalyticsS3ExportFileFormat=yOe;x.ArchiveStatus=XOe;x.BucketAccelerateStatus=WPe;x.BucketAlreadyExists=GE;x.BucketAlreadyOwnedByYou=KE;x.BucketCannedACL=aOe;x.BucketLocationConstraint=uOe;x.BucketLogsPermission=TOe;x.BucketType=lOe;x.BucketVersioningStatus=jOe;x.ChecksumAlgorithm=tOe;x.ChecksumMode=HOe;x.ChecksumType=JPe;x.CompleteMultipartUploadCommand=Sx;x.CompleteMultipartUploadOutputFilterSensitiveLog=xY;x.CompleteMultipartUploadRequestFilterSensitiveLog=wY;x.CompressionType=nNe;x.CopyObjectCommand=Ex;x.CopyObjectOutputFilterSensitiveLog=CY;x.CopyObjectRequestFilterSensitiveLog=_Y;x.CreateBucketCommand=xx;x.CreateBucketMetadataConfigurationCommand=wx;x.CreateBucketMetadataTableConfigurationCommand=Cx;x.CreateMultipartUploadCommand=_x;x.CreateMultipartUploadOutputFilterSensitiveLog=vY;x.CreateMultipartUploadRequestFilterSensitiveLog=AY;x.CreateSessionCommand=pp;x.CreateSessionOutputFilterSensitiveLog=TY;x.CreateSessionRequestFilterSensitiveLog=kY;x.DataRedundancy=cOe;x.DeleteBucketAnalyticsConfigurationCommand=vx;x.DeleteBucketCommand=Ax;x.DeleteBucketCorsCommand=Rx;x.DeleteBucketEncryptionCommand=Tx;x.DeleteBucketIntelligentTieringConfigurationCommand=kx;x.DeleteBucketInventoryConfigurationCommand=Ix;x.DeleteBucketLifecycleCommand=Px;x.DeleteBucketMetadataConfigurationCommand=Ox;x.DeleteBucketMetadataTableConfigurationCommand=Nx;x.DeleteBucketMetricsConfigurationCommand=Dx;x.DeleteBucketOwnershipControlsCommand=Bx;x.DeleteBucketPolicyCommand=qx;x.DeleteBucketReplicationCommand=Mx;x.DeleteBucketTaggingCommand=Lx;x.DeleteBucketWebsiteCommand=Fx;x.DeleteMarkerReplicationStatus=NOe;x.DeleteObjectCommand=Ux;x.DeleteObjectTaggingCommand=jx;x.DeleteObjectsCommand=$x;x.DeletePublicAccessBlockCommand=Vx;x.EncodingType=QOe;x.EncryptionFilterSensitiveLog=QY;x.EncryptionTypeMismatch=JE;x.Event=POe;x.ExistingObjectReplicationStatus=qOe;x.ExpirationState=pOe;x.ExpirationStatus=AOe;x.ExpressionType=rNe;x.FileHeaderInfo=sNe;x.FilterRuleName=OOe;x.GetBucketAccelerateConfigurationCommand=zx;x.GetBucketAclCommand=Hx;x.GetBucketAnalyticsConfigurationCommand=Gx;x.GetBucketCorsCommand=Kx;x.GetBucketEncryptionCommand=Wx;x.GetBucketEncryptionOutputFilterSensitiveLog=OY;x.GetBucketIntelligentTieringConfigurationCommand=Xx;x.GetBucketInventoryConfigurationCommand=Qx;x.GetBucketInventoryConfigurationOutputFilterSensitiveLog=MY;x.GetBucketLifecycleConfigurationCommand=Yx;x.GetBucketLocationCommand=Jx;x.GetBucketLoggingCommand=Zx;x.GetBucketMetadataConfigurationCommand=ew;x.GetBucketMetadataTableConfigurationCommand=tw;x.GetBucketMetricsConfigurationCommand=rw;x.GetBucketNotificationConfigurationCommand=nw;x.GetBucketOwnershipControlsCommand=sw;x.GetBucketPolicyCommand=iw;x.GetBucketPolicyStatusCommand=ow;x.GetBucketReplicationCommand=aw;x.GetBucketRequestPaymentCommand=cw;x.GetBucketTaggingCommand=lw;x.GetBucketVersioningCommand=dw;x.GetBucketWebsiteCommand=uw;x.GetObjectAclCommand=fw;x.GetObjectAttributesCommand=mw;x.GetObjectAttributesRequestFilterSensitiveLog=UY;x.GetObjectCommand=hw;x.GetObjectLegalHoldCommand=pw;x.GetObjectLockConfigurationCommand=gw;x.GetObjectOutputFilterSensitiveLog=LY;x.GetObjectRequestFilterSensitiveLog=FY;x.GetObjectRetentionCommand=yw;x.GetObjectTaggingCommand=bw;x.GetObjectTorrentCommand=Sw;x.GetObjectTorrentOutputFilterSensitiveLog=$Y;x.GetPublicAccessBlockCommand=Ew;x.HeadBucketCommand=af;x.HeadObjectCommand=cf;x.HeadObjectOutputFilterSensitiveLog=jY;x.HeadObjectRequestFilterSensitiveLog=VY;x.IdempotencyParameterMismatch=rx;x.IntelligentTieringAccessTier=EOe;x.IntelligentTieringStatus=SOe;x.InvalidObjectState=XE;x.InvalidRequest=ZE;x.InvalidWriteOffset=ex;x.InventoryConfigurationFilterSensitiveLog=cC;x.InventoryConfigurationState=mOe;x.InventoryDestinationFilterSensitiveLog=qY;x.InventoryEncryptionFilterSensitiveLog=DY;x.InventoryFormat=xOe;x.InventoryFrequency=_Oe;x.InventoryIncludedObjectVersions=wOe;x.InventoryOptionalField=COe;x.InventoryS3BucketDestinationFilterSensitiveLog=BY;x.JSONType=iNe;x.ListBucketAnalyticsConfigurationsCommand=xw;x.ListBucketIntelligentTieringConfigurationsCommand=ww;x.ListBucketInventoryConfigurationsCommand=Cw;x.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=zY;x.ListBucketMetricsConfigurationsCommand=_w;x.ListBucketsCommand=gp;x.ListDirectoryBucketsCommand=yp;x.ListMultipartUploadsCommand=vw;x.ListObjectVersionsCommand=Rw;x.ListObjectsCommand=Aw;x.ListObjectsV2Command=bp;x.ListPartsCommand=Sp;x.ListPartsRequestFilterSensitiveLog=HY;x.LocationType=dOe;x.MFADelete=eNe;x.MFADeleteStatus=$Oe;x.MetadataDirective=rOe;x.MetricsStatus=DOe;x.NoSuchBucket=WE;x.NoSuchKey=QE;x.NoSuchUpload=zE;x.NotFound=YE;x.ObjectAlreadyInActiveTierError=nx;x.ObjectAttributes=GOe;x.ObjectCannedACL=eOe;x.ObjectLockEnabled=KOe;x.ObjectLockLegalHoldStatus=nOe;x.ObjectLockMode=sOe;x.ObjectLockRetentionMode=WOe;x.ObjectNotInActiveTierError=HE;x.ObjectOwnership=fOe;x.ObjectStorageClass=YOe;x.ObjectVersionStorageClass=ZOe;x.OptionalObjectAttributes=JOe;x.OutputLocationFilterSensitiveLog=JY;x.OwnerOverride=YPe;x.PartitionDateSource=kOe;x.Payer=UOe;x.Permission=QPe;x.Protocol=VOe;x.PutBucketAccelerateConfigurationCommand=Tw;x.PutBucketAclCommand=kw;x.PutBucketAnalyticsConfigurationCommand=Iw;x.PutBucketCorsCommand=Pw;x.PutBucketEncryptionCommand=Ow;x.PutBucketEncryptionRequestFilterSensitiveLog=GY;x.PutBucketIntelligentTieringConfigurationCommand=Nw;x.PutBucketInventoryConfigurationCommand=Dw;x.PutBucketInventoryConfigurationRequestFilterSensitiveLog=KY;x.PutBucketLifecycleConfigurationCommand=Bw;x.PutBucketLoggingCommand=qw;x.PutBucketMetricsConfigurationCommand=Mw;x.PutBucketNotificationConfigurationCommand=Lw;x.PutBucketOwnershipControlsCommand=Fw;x.PutBucketPolicyCommand=Uw;x.PutBucketReplicationCommand=$w;x.PutBucketRequestPaymentCommand=jw;x.PutBucketTaggingCommand=Vw;x.PutBucketVersioningCommand=zw;x.PutBucketWebsiteCommand=Hw;x.PutObjectAclCommand=Gw;x.PutObjectCommand=Kw;x.PutObjectLegalHoldCommand=Ww;x.PutObjectLockConfigurationCommand=Xw;x.PutObjectOutputFilterSensitiveLog=WY;x.PutObjectRequestFilterSensitiveLog=XY;x.PutObjectRetentionCommand=Qw;x.PutObjectTaggingCommand=Yw;x.PutPublicAccessBlockCommand=Jw;x.QuoteFields=oNe;x.RenameObjectCommand=Zw;x.ReplicaModificationsStatus=MOe;x.ReplicationRuleStatus=FOe;x.ReplicationStatus=zOe;x.ReplicationTimeStatus=BOe;x.RequestCharged=GPe;x.RequestPayer=KPe;x.RestoreObjectCommand=eC;x.RestoreObjectRequestFilterSensitiveLog=eJ;x.RestoreRequestFilterSensitiveLog=ZY;x.RestoreRequestType=aNe;x.S3=aC;x.S3Client=Za;x.S3LocationFilterSensitiveLog=YY;x.S3ServiceException=Hr;x.S3TablesBucketType=IOe;x.SSEKMSFilterSensitiveLog=NY;x.SelectObjectContentCommand=tC;x.SelectObjectContentEventStreamFilterSensitiveLog=cNe;x.SelectObjectContentOutputFilterSensitiveLog=tJ;x.SelectObjectContentRequestFilterSensitiveLog=rJ;x.ServerSideEncryption=ZPe;x.ServerSideEncryptionByDefaultFilterSensitiveLog=IY;x.ServerSideEncryptionConfigurationFilterSensitiveLog=vN;x.ServerSideEncryptionRuleFilterSensitiveLog=PY;x.SessionCredentialsFilterSensitiveLog=RY;x.SessionMode=gOe;x.SseKmsEncryptedObjectsStatus=LOe;x.StorageClass=iOe;x.StorageClassAnalysisSchemaVersion=bOe;x.TableSseAlgorithm=hOe;x.TaggingDirective=oOe;x.Tier=tNe;x.TooManyParts=tx;x.TransitionDefaultMinimumObjectSize=ROe;x.TransitionStorageClass=vOe;x.Type=XPe;x.UpdateBucketMetadataInventoryTableConfigurationCommand=rC;x.UpdateBucketMetadataJournalTableConfigurationCommand=nC;x.UploadPartCommand=sC;x.UploadPartCopyCommand=iC;x.UploadPartCopyOutputFilterSensitiveLog=iJ;x.UploadPartCopyRequestFilterSensitiveLog=oJ;x.UploadPartOutputFilterSensitiveLog=nJ;x.UploadPartRequestFilterSensitiveLog=sJ;x.WriteGetObjectResponseCommand=oC;x.WriteGetObjectResponseRequestFilterSensitiveLog=aJ;x.paginateListBuckets=Nje;x.paginateListDirectoryBuckets=Dje;x.paginateListObjectsV2=Bje;x.paginateListParts=qje;x.waitForBucketExists=Mje;x.waitForBucketNotExists=Fje;x.waitForObjectExists=$je;x.waitForObjectNotExists=Vje;x.waitUntilBucketExists=Lje;x.waitUntilBucketNotExists=Uje;x.waitUntilObjectExists=jje;x.waitUntilObjectNotExists=zje});var XZ=E(WZ=>{"use strict";var Hje=zy();function Gje(e){let{port:t,query:r}=e,{protocol:n,path:s,hostname:i}=e;n&&n.slice(-1)!==":"&&(n+=":"),t&&(i+=`:${t}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let o=r?Hje.buildQueryString(r):"";o&&o[0]!=="?"&&(o=`?${o}`);let a="";if(e.username!=null||e.password!=null){let d=e.username??"",u=e.password??"";a=`${d}:${u}@`}let c="";return e.fragment&&(c=`#${e.fragment}`),`${n}//${a}${i}${s}${o}${c}`}WZ.formatUrl=Gje});var QZ=E(lD=>{"use strict";var Kje=XZ(),Wje=Pi(),Xje=ut(),Qje=Ib(),Yje="UNSIGNED-PAYLOAD",Jje="X-Amz-Content-Sha256",Dp=class{signer;constructor(t){let r={service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1,applyChecksum:t.applyChecksum||!1,...t};this.signer=new Qje.SignatureV4MultiRegion(r)}presign(t,{unsignableHeaders:r=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...i}={}){return this.prepareRequest(t,{unsignableHeaders:r,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presign(t,{expiresIn:900,unsignableHeaders:r,unhoistableHeaders:s,...i})}presignWithCredentials(t,r,{unsignableHeaders:n=new Set,hoistableHeaders:s=new Set,unhoistableHeaders:i=new Set,...o}={}){return this.prepareRequest(t,{unsignableHeaders:n,unhoistableHeaders:i,hoistableHeaders:s}),this.signer.presignWithCredentials(t,r,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:i,...o})}prepareRequest(t,{unsignableHeaders:r=new Set,unhoistableHeaders:n=new Set,hoistableHeaders:s=new Set}={}){r.add("content-type"),Object.keys(t.headers).map(c=>c.toLowerCase()).filter(c=>c.startsWith("x-amz-server-side-encryption")).forEach(c=>{s.has(c)||n.add(c)}),t.headers[Jje]=Yje;let i=t.headers.host,o=t.port,a=`${t.hostname}${t.port!=null?":"+o:""}`;(!i||i===t.hostname&&t.port!=null)&&(t.headers.host=a)}},Zje=async(e,t,r={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let m=(await Wje.getEndpointFromInstructions(t.input,t.constructor,e.config)).properties?.authSchemes?.[0];m?.name==="sigv4a"?s=m?.signingRegionSet?.join(","):s=m?.signingRegion,n=new Dp({...e.config,signingName:m?.signingName,region:async()=>s})}else n=new Dp(e.config);let i=(f,m)=>async h=>{let{request:y}=h;if(!Xje.HttpRequest.isInstance(y))throw new Error("Request to be presigned is not an valid HTTP request.");delete y.headers["amz-sdk-invocation-id"],delete y.headers["amz-sdk-request"],delete y.headers["x-amz-user-agent"];let b,v={...r,signingRegion:r.signingRegion??m.signing_region??s,signingService:r.signingService??m.signing_service};return m.s3ExpressIdentity?b=await n.presignWithCredentials(y,m.s3ExpressIdentity,v):b=await n.presign(y,v),{response:{},output:{$metadata:{httpStatusCode:200},presigned:b}}},o="presignInterceptMiddleware",a=e.middlewareStack.clone();a.addRelativeTo(i,{name:o,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let c=t.resolveMiddleware(a,e.config,{}),{output:d}=await c({input:t.input}),{presigned:u}=d;return Kje.formatUrl(u)};lD.S3RequestPresigner=Dp;lD.getSignedUrl=Zje});var i5e={};Zn(i5e,{completeUpload:()=>t5e,deleteMedia:()=>n5e,getAccessUrl:()=>s5e,getUploadUrl:()=>e5e,updateMedia:()=>r5e});module.exports=je(i5e);var R2=N(A2(),1),M_;function eo(){return M_||(M_=new R2.PrismaClient),M_}var _ce=process.env.FRONTEND_URL||"http://localhost:5173",vce=process.env.NODE_ENV||"development",T2=vce==="production",Ace=()=>{let e=[_ce];return T2&&e.push("https://dkmxy676d3vgc.cloudfront.net"),T2||e.push("http://localhost:3000","http://localhost:5173"),e},k2=e=>{let t=Ace(),r=e?.headers?.origin||e?.headers?.Origin||"";return{"Access-Control-Allow-Origin":t.includes(r)?r:t[0],"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Content-Type,Authorization,X-CSRF-Token","Access-Control-Max-Age":"86400"}};function fc(e,t=200,r={}){let n=k2(r.event);return delete r.event,{statusCode:t,headers:{"content-type":"application/json",...n,"x-content-type-options":"nosniff","referrer-policy":"strict-origin-when-cross-origin","permissions-policy":"camera=(), microphone=(), geolocation=()","strict-transport-security":"max-age=63072000; includeSubDomains; preload",...r},body:JSON.stringify(e)}}function rt(e,t=400,r={}){return fc({error:e},t,r)}var GVe=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;var KVe="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");var D0e=N(lq(),1);var rv=N(require("crypto"),1),Fce=process.env.CSRF_ENABLED==="true";var dq=e=>rv.default.createHash("sha256").update(e).digest("hex");var Uce=e=>{if(!e)return null;let t={};return e.split(";").forEach(r=>{let[n,...s]=r.split("=");n&&s.length>0&&(t[n.trim()]=s.join("=").trim())}),t["XSRF-TOKEN"]||null},$ce=e=>e["x-csrf-token"]||e["X-CSRF-Token"]||null,jce=(e,t)=>{if(!e||!t)return!1;let r=dq(e),n=dq(t);return rv.default.timingSafeEqual(Buffer.from(r),Buffer.from(n))},nv=e=>{if(!Fce)return null;let t=(e.requestContext?.http?.method||e.httpMethod||"GET").toUpperCase();if(!["POST","PUT","PATCH","DELETE"].includes(t))return null;let n=e.headers?.cookie||e.headers?.Cookie||"",s=Uce(n),i=$ce(e.headers||{});return jce(s,i)?null:{statusCode:403,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"},body:JSON.stringify({error:"CSRF token validation failed",message:"Invalid or missing CSRF token"})}};var Ofe=N(aL(),1);var tze={auth:{maxRequests:10,windowMs:9e5,message:"Too many authentication attempts. Please try again later."},emailVerification:{maxRequests:5,windowMs:36e5,message:"Too many verification email requests. Please try again later."},reports:{maxRequests:parseInt(process.env.REPORTS_MAX_PER_HOUR||"5",10),windowMs:36e5,message:"Too many reports submitted. Please try again later."},write:{maxRequests:100,windowMs:36e5,message:"Too many write requests. Please try again later."},read:{maxRequests:1e3,windowMs:36e5,message:"Too many read requests. Please try again later."}};var q4=N(B4(),1);var O0e=process.env.JWT_SECRET||"dev-secret-key-change-in-production";var v9e=process.env.COOKIE_DOMAIN||void 0,A9e=process.env.NODE_ENV||"development";var M4=e=>{try{return q4.default.verify(e,O0e)}catch{return null}},L4=(e,t="access")=>{let r=t==="access"?"access_token":"refresh_token",n=N0e(e.headers?.cookie||e.headers?.Cookie||"");if(n[r])return n[r];if(t==="access"){let s=e.headers?.authorization||e.headers?.Authorization;if(s&&s.startsWith("Bearer "))return s.substring(7)}return null},N0e=e=>{let t={};return e&&e.split(";").forEach(r=>{let[n,...s]=r.split("=");n&&s.length>0&&(t[n.trim()]=s.join("=").trim())}),t};var gR=e=>{let t=L4(e,"access");if(!t)return null;let r=M4(t);return!r||r.type!=="access"?null:r.userId||null};function bd(e){try{return gR(e)||null}catch{return null}}async function yR(e){if(!e)return rt("Unauthorized - No valid token provided",401);let r=await eo().user.findUnique({where:{id:e},select:{emailVerified:!0}});return r?r.emailVerified?null:rt("Email verification required. Please verify your email address to access this resource.",403):rt("User not found",404)}var Hl=N(KZ(),1),EC=N(QZ(),1),YZ=N(require("crypto"),1),dD=new Hl.S3Client({region:process.env.AWS_REGION||"us-west-2"}),uD=process.env.MEDIA_BUCKET||process.env.S3_BUCKET||"valine-media-uploads",e5e=async e=>{try{let t=nv(e);if(t)return t;let{id:r}=e.pathParameters||{};if(!r)return rt("profileId is required",400);let n=bd(e);if(!n)return rt("Unauthorized",401);let s=await yR(n);if(s)return s;let i=JSON.parse(e.body||"{}"),{type:o,title:a,description:c,privacy:d}=i;if(!o||!["image","video","pdf"].includes(o))return rt("Valid type is required (image, video, or pdf)",400);let u=eo(),f=await u.profile.findUnique({where:{id:r}});if(!f)return rt("Profile not found",404);if(f.userId!==n)return rt("Forbidden - not profile owner",403);let m=YZ.default.randomUUID(),h=Date.now(),y=`profiles/${r}/media/${h}-${m}`,b=await u.media.create({data:{profileId:r,type:o,s3Key:y,title:a||null,description:c||null,privacy:d||"public",processedStatus:"pending"}}),v=new Hl.PutObjectCommand({Bucket:uD,Key:y,ContentType:o==="video"?"video/mp4":o==="image"?"image/jpeg":"application/pdf"}),R=await(0,EC.getSignedUrl)(dD,v,{expiresIn:900});return fc({mediaId:b.id,uploadUrl:R,s3Key:y,message:"Upload your file to the provided URL, then call /complete endpoint"},201)}catch(t){return console.error("Get upload URL error:",t),rt("Server error: "+t.message,500)}},t5e=async e=>{try{let t=nv(e);if(t)return t;let{id:r}=e.pathParameters||{};if(!r)return rt("profileId is required",400);let n=bd(e);if(!n)return rt("Unauthorized",401);let s=await yR(n);if(s)return s;let i=JSON.parse(e.body||"{}"),{mediaId:o,width:a,height:c,fileSize:d}=i;if(!o)return rt("mediaId is required",400);let u=eo(),f=await u.profile.findUnique({where:{id:r}});if(!f)return rt("Profile not found",404);if(f.userId!==n)return rt("Forbidden - not profile owner",403);let m=await u.media.update({where:{id:o},data:{processedStatus:"processing",width:a||null,height:c||null,fileSize:d||null}});return fc({media:m,message:"Upload marked as complete, processing started"})}catch(t){return console.error("Complete upload error:",t),rt("Server error: "+t.message,500)}},r5e=async e=>{try{let{id:t}=e.pathParameters||{};if(!t)return rt("id is required",400);let r=bd(e);if(!r)return rt("Unauthorized",401);let n=JSON.parse(e.body||"{}"),{title:s,description:i,privacy:o}=n,a=eo(),c=await a.media.findUnique({where:{id:t},include:{profile:!0}});if(!c)return rt("Media not found",404);if(c.profile.userId!==r)return rt("Forbidden - not media owner",403);if(o&&!["public","on-request","private"].includes(o))return rt("Invalid privacy value",400);let d={};s!==void 0&&(d.title=s),i!==void 0&&(d.description=i),o!==void 0&&(d.privacy=o);let u=await a.media.update({where:{id:t},data:d});return fc(u)}catch(t){return console.error("Update media error:",t),rt("Server error: "+t.message,500)}},n5e=async e=>{try{let{id:t}=e.pathParameters||{};if(!t)return rt("id is required",400);let r=bd(e);if(!r)return rt("Unauthorized",401);let n=eo(),s=await n.media.findUnique({where:{id:t},include:{profile:!0}});return s?s.profile.userId!==r?rt("Forbidden - not media owner",403):(await n.media.delete({where:{id:t}}),fc({message:"Media deleted successfully"})):rt("Media not found",404)}catch(t){return console.error("Delete media error:",t),rt("Server error: "+t.message,500)}},s5e=async e=>{try{let{id:t}=e.pathParameters||{};if(!t)return rt("id is required",400);let r=bd(e),n=eo(),s=await n.media.findUnique({where:{id:t},include:{profile:!0}});if(!s)return rt("Media not found",404);let i=r===s.profile.userId;if(s.privacy==="private"&&!i)return rt("This media is private",403);if(s.privacy==="on-request"&&!i){if(!r)return rt("Authentication required to request access",401);let d=await n.reelRequest.findUnique({where:{mediaId_requesterId:{mediaId:t,requesterId:r}}});if(!d||d.status!=="approved")return rt("Access request required or pending",403)}let o=new Hl.GetObjectCommand({Bucket:uD,Key:s.s3Key}),a=await(0,EC.getSignedUrl)(dD,o,{expiresIn:3600}),c=null;if(s.posterS3Key){let d=new Hl.GetObjectCommand({Bucket:uD,Key:s.posterS3Key});c=await(0,EC.getSignedUrl)(dD,d,{expiresIn:3600})}return fc({viewUrl:a,posterUrl:c,expiresIn:3600})}catch(t){return console.error("Get access URL error:",t),rt("Server error: "+t.message,500)}};0&&(module.exports={completeUpload,deleteMedia,getAccessUrl,getUploadUrl,updateMedia});
/*! Bundled license information:

@prisma/client/runtime/library.js:
  (*! Bundled license information:
  
  decimal.js/decimal.mjs:
    (*!
     *  decimal.js v10.5.0
     *  An arbitrary-precision Decimal type for JavaScript.
     *  https://github.com/MikeMcl/decimal.js
     *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
     *  MIT Licence
     *)
  *)

@otplib/plugin-crypto/index.js:
  (**
   * @otplib/plugin-crypto
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/plugin-thirty-two/index.js:
  (**
   * @otplib/plugin-thirty-two
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/core/index.js:
  (**
   * @otplib/core
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/preset-default/index.js:
  (**
   * @otplib/preset-default
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

otplib/index.js:
  (**
   * otplib
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
