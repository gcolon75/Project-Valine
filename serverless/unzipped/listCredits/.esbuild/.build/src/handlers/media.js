var BK=Object.create;var Lm=Object.defineProperty;var DK=Object.getOwnPropertyDescriptor;var MK=Object.getOwnPropertyNames;var LK=Object.getPrototypeOf,FK=Object.prototype.hasOwnProperty;var R=(e,r)=>()=>(e&&(r=e(e=0)),r);var b=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Cn=(e,r)=>{for(var t in r)Lm(e,t,{get:r[t],enumerable:!0})},T1=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of MK(r))!FK.call(e,s)&&s!==t&&Lm(e,s,{get:()=>r[s],enumerable:!(n=DK(r,s))||n.enumerable});return e};var O=(e,r,t)=>(t=e!=null?BK(LK(e)):{},T1(r||!e||!e.__esModule?Lm(t,"default",{value:e,enumerable:!0}):t,e)),Re=e=>T1(Lm({},"__esModule",{value:!0}),e);var JK={};function XK(e){return typeof e=="function"?e:r=>r.$extends(e)}function QK(e){return e}var Vx,qK,UK,zK,jK,HK,$K,k1,VK,GK,KK,WK,R1,YK,I1=R(()=>{"use strict";Vx=Object.defineProperty,qK=Object.getOwnPropertyDescriptor,UK=Object.getOwnPropertyNames,zK=Object.prototype.hasOwnProperty,jK=(e,r)=>{for(var t in r)Vx(e,t,{get:r[t],enumerable:!0})},HK=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of UK(r))!zK.call(e,s)&&s!==t&&Vx(e,s,{get:()=>r[s],enumerable:!(n=qK(r,s))||n.enumerable});return e},$K=e=>HK(Vx({},"__esModule",{value:!0}),e),k1={};jK(k1,{Prisma:()=>R1,PrismaClient:()=>WK,default:()=>YK});module.exports=$K(k1);VK={enginesVersion:"2ba551f319ab1df4bc874a89965d8b3641056773"},GK="6.19.0",KK=GK,WK=class{constructor(){throw new Error('@prisma/client did not initialize yet. Please run "prisma generate" and try to import it again.')}};R1={defineExtension:XK,getExtensionContext:QK,prismaVersion:{client:KK,engine:VK.enginesVersion}},YK={Prisma:R1}});var O1=b((LOe,P1)=>{P1.exports={...(I1(),Re(JK))}});var L1=b(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});function rW(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var M1=rW(require("crypto")),nW=(e,r,t)=>M1.createHmac(e,Buffer.from(r,"hex")).update(Buffer.from(t,"hex")).digest().toString("hex"),sW=(e,r)=>M1.randomBytes(e).toString(r);Fm.createDigest=nW;Fm.createRandomBytes=sW});var q1=b(Kx=>{"use strict";var oW="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",F1=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function iW(e){var r=Math.floor(e.length/5);return e.length%5===0?r:r+1}Kx.encode=function(e){Buffer.isBuffer(e)||(e=new Buffer(e));for(var r=0,t=0,n=0,s=0,o=new Buffer(iW(e)*8);r<e.length;){var i=e[r];n>3?(s=i&255>>n,n=(n+5)%8,s=s<<n|(r+1<e.length?e[r+1]:0)>>8-n,r++):(s=i>>8-(n+5)&31,n=(n+5)%8,n===0&&r++),o[t]=oW.charCodeAt(s),t++}for(r=t;r<o.length;r++)o[r]=61;return o};Kx.decode=function(e){var r=0,t=0,n,s=0;Buffer.isBuffer(e)||(e=new Buffer(e));for(var o=new Buffer(Math.ceil(e.length*5/8)),i=0;i<e.length&&e[i]!==61;i++){var c=e[i]-48;if(c<F1.length)t=F1[c],r<=3?(r=(r+5)%8,r===0?(n|=t,o[s]=n,s++,n=0):n|=255&t<<8-r):(r=(r+5)%8,n|=255&t>>>r,o[s]=n,s++,n=255&t<<8-r);else throw new Error("Invalid input - it is not base32 encoded string")}return o.slice(0,s)}});var z1=b(Wx=>{var U1=q1();Wx.encode=U1.encode;Wx.decode=U1.decode});var H1=b(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});function aW(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var j1=aW(z1()),cW=(e,r)=>j1.decode(e).toString(r),lW=(e,r)=>j1.encode(Buffer.from(e,r).toString("ascii")).toString().replace(/=/g,"");qm.keyDecoder=cW;qm.keyEncoder=lW});var uP=b(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});function Vm(e){return Object.keys(e).map(r=>e[r])}(function(e){e.SHA1="sha1",e.SHA256="sha256",e.SHA512="sha512"})(ae.HashAlgorithms||(ae.HashAlgorithms={}));var zm=Vm(ae.HashAlgorithms);(function(e){e.ASCII="ascii",e.BASE64="base64",e.HEX="hex",e.LATIN1="latin1",e.UTF8="utf8"})(ae.KeyEncodings||(ae.KeyEncodings={}));var Xx=Vm(ae.KeyEncodings);(function(e){e.HOTP="hotp",e.TOTP="totp"})(ae.Strategy||(ae.Strategy={}));var Qx=Vm(ae.Strategy),Gm=()=>{throw new Error("Please provide an options.createDigest implementation.")};function Zx(e){return/^(\d+)$/.test(e)}function eE(e,r,t){return e.length>=r?e:`${Array(r+1).join(t)}${e}`.slice(-1*r)}function tE(e){let r=`otpauth://${e.type}/{labelPrefix}:{accountName}?secret={secret}{query}`,t=[];if(Qx.indexOf(e.type)<0)throw new Error(`Expecting options.type to be one of ${Qx.join(", ")}. Received ${e.type}.`);if(e.type==="hotp"){if(e.counter==null||typeof e.counter!="number")throw new Error('Expecting options.counter to be a number when options.type is "hotp".');t.push(`&counter=${e.counter}`)}return e.type==="totp"&&e.step&&t.push(`&period=${e.step}`),e.digits&&t.push(`&digits=${e.digits}`),e.algorithm&&t.push(`&algorithm=${e.algorithm.toUpperCase()}`),e.issuer&&t.push(`&issuer=${encodeURIComponent(e.issuer)}`),r.replace("{labelPrefix}",encodeURIComponent(e.issuer||e.accountName)).replace("{accountName}",encodeURIComponent(e.accountName)).replace("{secret}",e.secret).replace("{query}",t.join(""))}var jm=class e{constructor(r={}){this._defaultOptions=Object.freeze({...r}),this._options=Object.freeze({})}create(r={}){return new e(r)}clone(r={}){let t=this.create({...this._defaultOptions,...r});return t.options=this._options,t}get options(){return Object.freeze({...this._defaultOptions,...this._options})}set options(r){this._options=Object.freeze({...this._options,...r})}allOptions(){return this.options}resetOptions(){this._options=Object.freeze({})}};function rE(e){if(typeof e.createDigest!="function")throw new Error("Expecting options.createDigest to be a function.");if(typeof e.createHmacKey!="function")throw new Error("Expecting options.createHmacKey to be a function.");if(typeof e.digits!="number")throw new Error("Expecting options.digits to be a number.");if(!e.algorithm||zm.indexOf(e.algorithm)<0)throw new Error(`Expecting options.algorithm to be one of ${zm.join(", ")}. Received ${e.algorithm}.`);if(!e.encoding||Xx.indexOf(e.encoding)<0)throw new Error(`Expecting options.encoding to be one of ${Xx.join(", ")}. Received ${e.encoding}.`)}var V1=(e,r,t)=>Buffer.from(r,t).toString("hex");function G1(){return{algorithm:ae.HashAlgorithms.SHA1,createHmacKey:V1,createDigest:Gm,digits:6,encoding:ae.KeyEncodings.ASCII}}function K1(e){let r={...G1(),...e};return rE(r),Object.freeze(r)}function W1(e){let r=e.toString(16);return eE(r,16,"0")}function X1(e,r){let t=Buffer.from(e,"hex"),n=t[t.length-1]&15,o=((t[n]&127)<<24|(t[n+1]&255)<<16|(t[n+2]&255)<<8|t[n+3]&255)%Math.pow(10,r);return eE(String(o),r,"0")}function dW(e,r,t){let n=W1(r),s=t.createHmacKey(t.algorithm,e,t.encoding);return t.createDigest(t.algorithm,s,n)}function Km(e,r,t){let n=t.digest||dW(e,r,t);return X1(n,t.digits)}function Q1(e,r,t,n){if(!Zx(e))return!1;let s=Km(r,t,n);return e===s}function Y1(e,r,t,n,s){return tE({algorithm:s.algorithm,digits:s.digits,type:ae.Strategy.HOTP,accountName:e,counter:n,issuer:r,secret:t})}var Hm=class e extends jm{create(r={}){return new e(r)}allOptions(){return K1(this.options)}generate(r,t){return Km(r,t,this.allOptions())}check(r,t,n){return Q1(r,t,n,this.allOptions())}verify(r){if(typeof r!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(r.token,r.secret,r.counter)}keyuri(r,t,n,s){return Y1(r,t,n,s,this.allOptions())}};function J1(e){if(typeof e=="number")return[Math.abs(e),Math.abs(e)];if(Array.isArray(e)){let[r,t]=e;if(typeof r=="number"&&typeof t=="number")return[Math.abs(r),Math.abs(t)]}throw new Error("Expecting options.window to be an number or [number, number].")}function nE(e){if(rE(e),J1(e.window),typeof e.epoch!="number")throw new Error("Expecting options.epoch to be a number.");if(typeof e.step!="number")throw new Error("Expecting options.step to be a number.")}var Um=(e,r,t)=>{let n=e.length,s=Buffer.from(e,r).toString("hex");if(n<t){let o=new Array(t-n+1).join(s);return Buffer.from(o,"hex").slice(0,t).toString("hex")}return s},sE=(e,r,t)=>{switch(e){case ae.HashAlgorithms.SHA1:return Um(r,t,20);case ae.HashAlgorithms.SHA256:return Um(r,t,32);case ae.HashAlgorithms.SHA512:return Um(r,t,64);default:throw new Error(`Expecting algorithm to be one of ${zm.join(", ")}. Received ${e}.`)}};function Z1(){return{algorithm:ae.HashAlgorithms.SHA1,createDigest:Gm,createHmacKey:sE,digits:6,encoding:ae.KeyEncodings.ASCII,epoch:Date.now(),step:30,window:0}}function eP(e){let r={...Z1(),...e};return nE(r),Object.freeze(r)}function tP(e,r){return Math.floor(e/r/1e3)}function Wm(e,r){let t=tP(r.epoch,r.step);return Km(e,t,r)}function $1(e,r,t,n){let s=[];if(n===0)return s;for(let o=1;o<=n;o++){let i=r*o*t;s.push(e+i)}return s}function rP(e,r,t){let n=J1(t),s=r*1e3;return{current:e,past:$1(e,-1,s,n[0]),future:$1(e,1,s,n[1])}}function oE(e,r,t){if(!Zx(e))return!1;let n=Wm(r,t);return e===n}function Yx(e,r,t,n){let s=null;return e.some((o,i)=>oE(r,t,{...n,epoch:o})?(s=i+1,!0):!1),s}function iE(e,r,t){if(oE(e,r,t))return 0;let n=rP(t.epoch,t.step,t.window),s=Yx(n.past,e,r,t);return s!==null?s*-1:Yx(n.future,e,r,t)}function aE(e,r){return Math.floor(e/1e3)%r}function nP(e,r){return r-aE(e,r)}function sP(e,r,t,n){return tE({algorithm:n.algorithm,digits:n.digits,step:n.step,type:ae.Strategy.TOTP,accountName:e,issuer:r,secret:t})}var $m=class e extends Hm{create(r={}){return new e(r)}allOptions(){return eP(this.options)}generate(r){return Wm(r,this.allOptions())}checkDelta(r,t){return iE(r,t,this.allOptions())}check(r,t){return typeof this.checkDelta(r,t)=="number"}verify(r){if(typeof r!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(r.token,r.secret)}timeRemaining(){let r=this.allOptions();return nP(r.epoch,r.step)}timeUsed(){let r=this.allOptions();return aE(r.epoch,r.step)}keyuri(r,t,n){return sP(r,t,n,this.allOptions())}};function oP(e){if(nE(e),typeof e.keyDecoder!="function")throw new Error("Expecting options.keyDecoder to be a function.");if(e.keyEncoder&&typeof e.keyEncoder!="function")throw new Error("Expecting options.keyEncoder to be a function.")}function iP(){return{algorithm:ae.HashAlgorithms.SHA1,createDigest:Gm,createHmacKey:sE,digits:6,encoding:ae.KeyEncodings.HEX,epoch:Date.now(),step:30,window:0}}function aP(e){let r={...iP(),...e};return oP(r),Object.freeze(r)}function cE(e,r){return r.keyEncoder(e,r.encoding)}function Xm(e,r){return r.keyDecoder(e,r.encoding)}function cP(e,r){let t=r.createRandomBytes(e,r.encoding);return cE(t,r)}function lP(e,r){return Wm(Xm(e,r),r)}function dP(e,r,t){return iE(e,Xm(r,t),t)}var Jx=class e extends $m{create(r={}){return new e(r)}allOptions(){return aP(this.options)}generate(r){return lP(r,this.allOptions())}checkDelta(r,t){return dP(r,t,this.allOptions())}encode(r){return cE(r,this.allOptions())}decode(r){return Xm(r,this.allOptions())}generateSecret(r=10){return cP(r,this.allOptions())}};ae.Authenticator=Jx;ae.HASH_ALGORITHMS=zm;ae.HOTP=Hm;ae.KEY_ENCODINGS=Xx;ae.OTP=jm;ae.STRATEGY=Qx;ae.TOTP=$m;ae.authenticatorCheckWithWindow=dP;ae.authenticatorDecoder=Xm;ae.authenticatorDefaultOptions=iP;ae.authenticatorEncoder=cE;ae.authenticatorGenerateSecret=cP;ae.authenticatorOptionValidator=oP;ae.authenticatorOptions=aP;ae.authenticatorToken=lP;ae.createDigestPlaceholder=Gm;ae.hotpCheck=Q1;ae.hotpCounter=W1;ae.hotpCreateHmacKey=V1;ae.hotpDefaultOptions=G1;ae.hotpDigestToToken=X1;ae.hotpKeyuri=Y1;ae.hotpOptions=K1;ae.hotpOptionsValidator=rE;ae.hotpToken=Km;ae.isTokenValid=Zx;ae.keyuri=tE;ae.objectValues=Vm;ae.padStart=eE;ae.totpCheck=oE;ae.totpCheckByEpoch=Yx;ae.totpCheckWithWindow=iE;ae.totpCounter=tP;ae.totpCreateHmacKey=sE;ae.totpDefaultOptions=Z1;ae.totpEpochAvailable=rP;ae.totpKeyuri=sP;ae.totpOptions=eP;ae.totpOptionsValidator=nE;ae.totpPadSecret=Um;ae.totpTimeRemaining=nP;ae.totpTimeUsed=aE;ae.totpToken=Wm});var mP=b(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});var Qm=L1(),fP=H1(),lE=uP(),uW=new lE.HOTP({createDigest:Qm.createDigest}),fW=new lE.TOTP({createDigest:Qm.createDigest}),mW=new lE.Authenticator({createDigest:Qm.createDigest,createRandomBytes:Qm.createRandomBytes,keyDecoder:fP.keyDecoder,keyEncoder:fP.keyEncoder});ru.authenticator=mW;ru.hotp=uW;ru.totp=fW});var pP=b(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var hP=mP();Object.keys(hP).forEach(function(e){e!=="default"&&Object.defineProperty(dE,e,{enumerable:!0,get:function(){return hP[e]}})})});var yP=b((YOe,SW)=>{SW.exports={acl:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},append:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},asking:{arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},auth:{arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},bgrewriteaof:{arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bgsave:{arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bitcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},bitfield:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},bitfield_ro:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},bitop:{arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},bitpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},blmove:{arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},blmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},blpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpop:{arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},brpoplpush:{arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},bzmpop:{arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},bzpopmax:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},bzpopmin:{arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},client:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},cluster:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},command:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},config:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},copy:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},dbsize:{arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},debug:{arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},decr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},decrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},del:{arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},discard:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},dump:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},echo:{arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},evalsha_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},exec:{arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},exists:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},expire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},expiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},failover:{arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},fcall:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},fcall_ro:{arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},flushall:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},flushdb:{arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},geodist:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},geohash:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},geopos:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadius:{arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadius_ro:{arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},georadiusbymember:{arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},georadiusbymember_ro:{arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearch:{arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},geosearchstore:{arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},get:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getbit:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},getdel:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getex:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},getrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},getset:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hello:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},hexists:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hexpire:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hpexpire:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},hget:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hgetall:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hincrbyfloat:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hkeys:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmget:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hmset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hrandfield:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},hscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},hset:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hsetnx:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hstrlen:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},hvals:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},incr:{arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrby:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},incrbyfloat:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},info:{arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},keys:{arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},lastsave:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},latency:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},lcs:{arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},lindex:{arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},linsert:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},llen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},lmove:{arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},lmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},lolwut:{arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},lpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},lpos:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},lpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lrange:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lrem:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},lset:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},ltrim:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},memory:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},mget:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},migrate:{arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},module:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},monitor:{arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},move:{arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},mset:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},msetnx:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},multi:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},object:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},persist:{arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpire:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpireat:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pexpiretime:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},pfadd:{arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},pfcount:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},pfdebug:{arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},pfmerge:{arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},pfselftest:{arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},ping:{arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},psetex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},psubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},psync:{arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},pttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},publish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},pubsub:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},punsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},quit:{arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},randomkey:{arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},readonly:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},readwrite:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},rename:{arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},renamenx:{arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},replconf:{arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},replicaof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},reset:{arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},restore:{arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:{arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},rpop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},rpoplpush:{arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},rpush:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},rpushx:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sadd:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},save:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},scan:{arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},scard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},script:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},sdiff:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sdiffstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},select:{arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},set:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setbit:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setex:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},setnx:{arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},setrange:{arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},shutdown:{arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},sinter:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},sinterstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sismember:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},slaveof:{arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},slowlog:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},smembers:{arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},smismember:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},smove:{arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},sort:{arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},sort_ro:{arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},spop:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},spublish:{arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},srandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},srem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},sscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},ssubscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},strlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},subscribe:{arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},substr:{arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sunion:{arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},sunionstore:{arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},sunsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},swapdb:{arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},sync:{arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},time:{arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},touch:{arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},ttl:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},type:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},unlink:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},unsubscribe:{arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},unwatch:{arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},wait:{arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},watch:{arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},xack:{arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xadd:{arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xautoclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xclaim:{arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdel:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xdelex:{arity:-5,flags:["write","fast"],keyStart:1,keyStop:1,step:1},xgroup:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xinfo:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},xlen:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xpending:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},xrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xread:{arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xreadgroup:{arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},xrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xsetid:{arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xtrim:{arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},zadd:{arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zcard:{arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zdiff:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zdiffstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zincrby:{arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},zinter:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zintercard:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zinterstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},zlexcount:{arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zmpop:{arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},zmscore:{arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zpopmax:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zpopmin:{arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zrandmember:{arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrangestore:{arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},zrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zrem:{arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},zremrangebylex:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyrank:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zremrangebyscore:{arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},zrevrange:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebylex:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrangebyscore:{arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zrevrank:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zscan:{arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},zscore:{arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zunion:{arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},zunionstore:{arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1}}});var kc=b(_n=>{"use strict";var bW=_n&&_n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});_n.getKeyIndexes=_n.hasFlag=_n.exists=_n.list=void 0;var Ym=bW(yP());_n.list=Object.keys(Ym.default);var mE={};_n.list.forEach(e=>{mE[e]=Ym.default[e].flags.reduce(function(r,t){return r[t]=!0,r},{})});function xW(e){return!!Ym.default[e]}_n.exists=xW;function EW(e,r){if(!mE[e])throw new Error("Unknown command "+e);return!!mE[e][r]}_n.hasFlag=EW;function CW(e,r,t){let n=Ym.default[e];if(!n)throw new Error("Unknown command "+e);if(!Array.isArray(r))throw new Error("Expect args to be an array");let s=[],o=!!(t&&t.parseExternalKey),i=(l,d)=>{let u=[],f=Number(l[d]);for(let g=0;g<f;g++)u.push(g+d+1);return u},c=(l,d,u)=>{for(let f=d;f<l.length-1;f+=1)if(String(l[f]).toLowerCase()===u.toLowerCase())return f+1;return null};switch(e){case"zunionstore":case"zinterstore":case"zdiffstore":s.push(0,...i(r,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":s.push(...i(r,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{s.push(...i(r,0));break}case"georadius":{s.push(0);let l=c(r,5,"STORE");l&&s.push(l);let d=c(r,5,"STOREDIST");d&&s.push(d);break}case"georadiusbymember":{s.push(0);let l=c(r,4,"STORE");l&&s.push(l);let d=c(r,4,"STOREDIST");d&&s.push(d);break}case"sort":case"sort_ro":s.push(0);for(let l=1;l<r.length-1;l++){let d=r[l];if(typeof d!="string")continue;let u=d.toUpperCase();u==="GET"?(l+=1,d=r[l],d!=="#"&&(o?s.push([l,SP(d)]):s.push(l))):u==="BY"?(l+=1,o?s.push([l,SP(r[l])]):s.push(l)):u==="STORE"&&(l+=1,s.push(l))}break;case"migrate":if(r[2]==="")for(let l=5;l<r.length-1;l++){let d=r[l];if(typeof d=="string"&&d.toUpperCase()==="KEYS"){for(let u=l+1;u<r.length;u++)s.push(u);break}}else s.push(2);break;case"xreadgroup":case"xread":for(let l=e==="xread"?0:3;l<r.length-1;l++)if(String(r[l]).toUpperCase()==="STREAMS"){for(let d=l+1;d<=l+(r.length-1-l)/2;d++)s.push(d);break}break;default:if(n.step>0){let l=n.keyStart-1,d=n.keyStop>0?n.keyStop:r.length+n.keyStop+1;for(let u=l;u<d;u+=n.step)s.push(u)}break}return s}_n.getKeyIndexes=CW;function SP(e){typeof e!="string"&&(e=String(e));let r=e.indexOf("->");return r===-1?e.length:r}});var bP=b(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.tryCatch=Fo.errorObj=void 0;Fo.errorObj={e:{}};var hE;function _W(e,r){try{let t=hE;return hE=null,t.apply(this,arguments)}catch(t){return Fo.errorObj.e=t,Fo.errorObj}}function wW(e){return hE=e,_W}Fo.tryCatch=wW});var qo=b(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var Rc=bP();function xP(e){setTimeout(function(){throw e},0)}function AW(e,r,t){return typeof r=="function"&&e.then(n=>{let s;t!==void 0&&Object(t).spread&&Array.isArray(n)?s=Rc.tryCatch(r).apply(void 0,[null].concat(n)):s=n===void 0?Rc.tryCatch(r)(null):Rc.tryCatch(r)(null,n),s===Rc.errorObj&&xP(s.e)},n=>{if(!n){let o=new Error(n+"");Object.assign(o,{cause:n}),n=o}let s=Rc.tryCatch(r)(n);s===Rc.errorObj&&xP(s.e)}),e}pE.default=AW});var _P=b((tNe,CP)=>{"use strict";var EP=require("assert"),nu=require("util");function Ic(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}nu.inherits(Ic,Error);Object.defineProperty(Ic.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function gE(e,r,t){EP(r),EP.strictEqual(typeof t,"number"),Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});let n=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=n,this.offset=t,this.buffer=r}nu.inherits(gE,Ic);Object.defineProperty(gE.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function yE(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0});let r=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=r}nu.inherits(yE,Ic);Object.defineProperty(yE.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function Jm(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}nu.inherits(Jm,Ic);Object.defineProperty(Jm.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function SE(e){Object.defineProperty(this,"message",{value:e||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}nu.inherits(SE,Jm);Object.defineProperty(SE.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0});CP.exports={RedisError:Ic,ParserError:gE,ReplyError:yE,AbortError:Jm,InterruptError:SE}});var vP=b((rNe,AP)=>{"use strict";var wP=require("assert"),Pc=class extends Error{get name(){return this.constructor.name}},bE=class extends Pc{constructor(r,t,n){wP(t),wP.strictEqual(typeof n,"number");let s=Error.stackTraceLimit;Error.stackTraceLimit=2,super(r),Error.stackTraceLimit=s,this.offset=n,this.buffer=t}get name(){return this.constructor.name}},xE=class extends Pc{constructor(r){let t=Error.stackTraceLimit;Error.stackTraceLimit=2,super(r),Error.stackTraceLimit=t}get name(){return this.constructor.name}},Zm=class extends Pc{get name(){return this.constructor.name}},EE=class extends Zm{get name(){return this.constructor.name}};AP.exports={RedisError:Pc,ParserError:bE,ReplyError:xE,AbortError:Zm,InterruptError:EE}});var Wi=b((nNe,TP)=>{"use strict";var vW=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?_P():vP();TP.exports=vW});var su=b((sNe,CE)=>{var kP=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],TW=function(r){for(var t,n=0,s=0,o=[],i=r.length;n<i;n++)t=r.charCodeAt(n),t<128?o[s++]=t:t<2048?(o[s++]=t>>6|192,o[s++]=t&63|128):(t&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(t=65536+((t&1023)<<10)+(r.charCodeAt(++n)&1023),o[s++]=t>>18|240,o[s++]=t>>12&63|128,o[s++]=t>>6&63|128,o[s++]=t&63|128):(o[s++]=t>>12|224,o[s++]=t>>6&63|128,o[s++]=t&63|128);return o},RP=CE.exports=function(r){for(var t,n=0,s=-1,o=0,i=0,c=typeof r=="string"?TW(r):r,l=c.length;n<l;){if(t=c[n++],s===-1)t===123&&(s=n);else if(t!==125)i=kP[(t^i>>8)&255]^i<<8;else if(n-1!==s)return i&16383;o=kP[(t^o>>8)&255]^o<<8}return o&16383};CE.exports.generateMulti=function(r){for(var t=1,n=r.length,s=RP(r[0]);t<n;)if(RP(r[t++])!==s)return-1;return s}});var LP=b((oNe,MP)=>{var PP=9007199254740991,kW="[object Arguments]",RW="[object Function]",IW="[object GeneratorFunction]",PW=/^(?:0|[1-9]\d*)$/;function OP(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}function OW(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var ou=Object.prototype,iu=ou.hasOwnProperty,NP=ou.toString,NW=ou.propertyIsEnumerable,IP=Math.max;function BW(e,r){var t=$W(e)||HW(e)?OW(e.length,String):[],n=t.length,s=!!n;for(var o in e)(r||iu.call(e,o))&&!(s&&(o=="length"||DP(o,n)))&&t.push(o);return t}function DW(e,r,t,n){return e===void 0||_E(e,ou[t])&&!iu.call(n,t)?r:e}function MW(e,r,t){var n=e[r];(!(iu.call(e,r)&&_E(n,t))||t===void 0&&!(r in e))&&(e[r]=t)}function LW(e){if(!AE(e))return jW(e);var r=zW(e),t=[];for(var n in e)n=="constructor"&&(r||!iu.call(e,n))||t.push(n);return t}function BP(e,r){return r=IP(r===void 0?e.length-1:r,0),function(){for(var t=arguments,n=-1,s=IP(t.length-r,0),o=Array(s);++n<s;)o[n]=t[r+n];n=-1;for(var i=Array(r+1);++n<r;)i[n]=t[n];return i[r]=o,OP(e,this,i)}}function FW(e,r,t,n){t||(t={});for(var s=-1,o=r.length;++s<o;){var i=r[s],c=n?n(t[i],e[i],i,t,e):void 0;MW(t,i,c===void 0?e[i]:c)}return t}function qW(e){return BP(function(r,t){var n=-1,s=t.length,o=s>1?t[s-1]:void 0,i=s>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):void 0,i&&UW(t[0],t[1],i)&&(o=s<3?void 0:o,s=1),r=Object(r);++n<s;){var c=t[n];c&&e(r,c,n,o)}return r})}function DP(e,r){return r=r??PP,!!r&&(typeof e=="number"||PW.test(e))&&e>-1&&e%1==0&&e<r}function UW(e,r,t){if(!AE(t))return!1;var n=typeof r;return(n=="number"?wE(t)&&DP(r,t.length):n=="string"&&r in t)?_E(t[r],e):!1}function zW(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||ou;return e===t}function jW(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}function _E(e,r){return e===r||e!==e&&r!==r}function HW(e){return VW(e)&&iu.call(e,"callee")&&(!NW.call(e,"callee")||NP.call(e)==kW)}var $W=Array.isArray;function wE(e){return e!=null&&KW(e.length)&&!GW(e)}function VW(e){return WW(e)&&wE(e)}function GW(e){var r=AE(e)?NP.call(e):"";return r==RW||r==IW}function KW(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=PP}function AE(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function WW(e){return!!e&&typeof e=="object"}var XW=qW(function(e,r,t,n){FW(r,YW(r),e,n)}),QW=BP(function(e){return e.push(void 0,DW),OP(XW,void 0,e)});function YW(e){return wE(e)?BW(e,!0):LW(e)}MP.exports=QW});var UP=b((iNe,qP)=>{var JW=9007199254740991,ZW="[object Arguments]",eX="[object Function]",tX="[object GeneratorFunction]",vE=Object.prototype,rX=vE.hasOwnProperty,FP=vE.toString,nX=vE.propertyIsEnumerable;function sX(e){return iX(e)&&rX.call(e,"callee")&&(!nX.call(e,"callee")||FP.call(e)==ZW)}function oX(e){return e!=null&&cX(e.length)&&!aX(e)}function iX(e){return dX(e)&&oX(e)}function aX(e){var r=lX(e)?FP.call(e):"";return r==eX||r==tX}function cX(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=JW}function lX(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function dX(e){return!!e&&typeof e=="object"}qP.exports=sX});var eh=b(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.isArguments=Uo.defaults=Uo.noop=void 0;var uX=LP();Uo.defaults=uX;var fX=UP();Uo.isArguments=fX;function mX(){}Uo.noop=mX});var TE=b((cNe,zP)=>{var Oc=1e3,Nc=Oc*60,Bc=Nc*60,Xi=Bc*24,hX=Xi*7,pX=Xi*365.25;zP.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return gX(e);if(t==="number"&&isFinite(e))return r.long?SX(e):yX(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function gX(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*pX;case"weeks":case"week":case"w":return t*hX;case"days":case"day":case"d":return t*Xi;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Bc;case"minutes":case"minute":case"mins":case"min":case"m":return t*Nc;case"seconds":case"second":case"secs":case"sec":case"s":return t*Oc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function yX(e){var r=Math.abs(e);return r>=Xi?Math.round(e/Xi)+"d":r>=Bc?Math.round(e/Bc)+"h":r>=Nc?Math.round(e/Nc)+"m":r>=Oc?Math.round(e/Oc)+"s":e+"ms"}function SX(e){var r=Math.abs(e);return r>=Xi?th(e,r,Xi,"day"):r>=Bc?th(e,r,Bc,"hour"):r>=Nc?th(e,r,Nc,"minute"):r>=Oc?th(e,r,Oc,"second"):e+" ms"}function th(e,r,t,n){var s=r>=t*1.5;return Math.round(e/t)+" "+n+(s?"s":"")}});var kE=b((lNe,jP)=>{function bX(e){t.debug=t,t.default=t,t.coerce=l,t.disable=i,t.enable=s,t.enabled=c,t.humanize=TE(),t.destroy=d,Object.keys(e).forEach(u=>{t[u]=e[u]}),t.names=[],t.skips=[],t.formatters={};function r(u){let f=0;for(let g=0;g<u.length;g++)f=(f<<5)-f+u.charCodeAt(g),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=r;function t(u){let f,g=null,p,y;function A(...k){if(!A.enabled)return;let N=A,G=Number(new Date),le=G-(f||G);N.diff=le,N.prev=f,N.curr=G,f=G,k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let de=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,($e,Tt)=>{if($e==="%%")return"%";de++;let ke=t.formatters[Tt];if(typeof ke=="function"){let je=k[de];$e=ke.call(N,je),k.splice(de,1),de--}return $e}),t.formatArgs.call(N,k),(N.log||t.log).apply(N,k)}return A.namespace=u,A.useColors=t.useColors(),A.color=t.selectColor(u),A.extend=n,A.destroy=t.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(p!==t.namespaces&&(p=t.namespaces,y=t.enabled(u)),y),set:k=>{g=k}}),typeof t.init=="function"&&t.init(A),A}function n(u,f){let g=t(this.namespace+(typeof f>"u"?":":f)+u);return g.log=this.log,g}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of f)g[0]==="-"?t.skips.push(g.slice(1)):t.names.push(g)}function o(u,f){let g=0,p=0,y=-1,A=0;for(;g<u.length;)if(p<f.length&&(f[p]===u[g]||f[p]==="*"))f[p]==="*"?(y=p,A=g,p++):(g++,p++);else if(y!==-1)p=y+1,A++,g=A;else return!1;for(;p<f.length&&f[p]==="*";)p++;return p===f.length}function i(){let u=[...t.names,...t.skips.map(f=>"-"+f)].join(",");return t.enable(""),u}function c(u){for(let f of t.skips)if(o(u,f))return!1;for(let f of t.names)if(o(u,f))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}jP.exports=bX});var HP=b((dn,rh)=>{dn.formatArgs=EX;dn.save=CX;dn.load=_X;dn.useColors=xX;dn.storage=wX();dn.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();dn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xX(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function EX(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+rh.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),e.splice(n,0,r)}dn.log=console.debug||console.log||(()=>{});function CX(e){try{e?dn.storage.setItem("debug",e):dn.storage.removeItem("debug")}catch{}}function _X(){let e;try{e=dn.storage.getItem("debug")||dn.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function wX(){try{return localStorage}catch{}}rh.exports=kE()(dn);var{formatters:AX}=rh.exports;AX.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}});var VP=b((dNe,$P)=>{"use strict";$P.exports=(e,r=process.argv)=>{let t=e.startsWith("-")?"":e.length===1?"-":"--",n=r.indexOf(t+e),s=r.indexOf("--");return n!==-1&&(s===-1||n<s)}});var WP=b((uNe,KP)=>{"use strict";var vX=require("os"),GP=require("tty"),Bn=VP(),{env:mr}=process,nh;Bn("no-color")||Bn("no-colors")||Bn("color=false")||Bn("color=never")?nh=0:(Bn("color")||Bn("colors")||Bn("color=true")||Bn("color=always"))&&(nh=1);function TX(){if("FORCE_COLOR"in mr)return mr.FORCE_COLOR==="true"?1:mr.FORCE_COLOR==="false"?0:mr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(mr.FORCE_COLOR,10),3)}function kX(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function RX(e,{streamIsTTY:r,sniffFlags:t=!0}={}){let n=TX();n!==void 0&&(nh=n);let s=t?nh:n;if(s===0)return 0;if(t){if(Bn("color=16m")||Bn("color=full")||Bn("color=truecolor"))return 3;if(Bn("color=256"))return 2}if(e&&!r&&s===void 0)return 0;let o=s||0;if(mr.TERM==="dumb")return o;if(process.platform==="win32"){let i=vX.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in mr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(i=>i in mr)||mr.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in mr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(mr.TEAMCITY_VERSION)?1:0;if(mr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in mr){let i=Number.parseInt((mr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(mr.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(mr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(mr.TERM)||"COLORTERM"in mr?1:o}function RE(e,r={}){let t=RX(e,{streamIsTTY:e&&e.isTTY,...r});return kX(t)}KP.exports={supportsColor:RE,stdout:RE({isTTY:GP.isatty(1)}),stderr:RE({isTTY:GP.isatty(2)})}});var QP=b((hr,oh)=>{var IX=require("tty"),sh=require("util");hr.init=LX;hr.log=BX;hr.formatArgs=OX;hr.save=DX;hr.load=MX;hr.useColors=PX;hr.destroy=sh.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");hr.colors=[6,2,3,4,5,1];try{let e=WP();e&&(e.stderr||e).level>=2&&(hr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}hr.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,r)=>{let t=r.substring(6).toLowerCase().replace(/_([a-z])/g,(s,o)=>o.toUpperCase()),n=process.env[r];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[t]=n,e},{});function PX(){return"colors"in hr.inspectOpts?!!hr.inspectOpts.colors:IX.isatty(process.stderr.fd)}function OX(e){let{namespace:r,useColors:t}=this;if(t){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${s};1m${r} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(s+"m+"+oh.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=NX()+r+" "+e[0]}function NX(){return hr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function BX(...e){return process.stderr.write(sh.formatWithOptions(hr.inspectOpts,...e)+`
`)}function DX(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function MX(){return process.env.DEBUG}function LX(e){e.inspectOpts={};let r=Object.keys(hr.inspectOpts);for(let t=0;t<r.length;t++)e.inspectOpts[r[t]]=hr.inspectOpts[r[t]]}oh.exports=kE()(hr);var{formatters:XP}=oh.exports;XP.o=function(e){return this.inspectOpts.colors=this.useColors,sh.inspect(e,this.inspectOpts).split(`
`).map(r=>r.trim()).join(" ")};XP.O=function(e){return this.inspectOpts.colors=this.useColors,sh.inspect(e,this.inspectOpts)}});var YP=b((fNe,IE)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?IE.exports=HP():IE.exports=QP()});var eO=b(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.genRedactedString=ro.getStringValue=ro.MAX_ARGUMENT_LENGTH=void 0;var FX=YP(),PE=200;ro.MAX_ARGUMENT_LENGTH=PE;var qX="ioredis";function JP(e){if(e!==null)switch(typeof e){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(e))return e.toString("hex");if(Array.isArray(e))return e.join(",");try{return JSON.stringify(e)}catch{return}case"string":return e}}ro.getStringValue=JP;function ZP(e,r){let{length:t}=e;return t<=r?e:e.slice(0,r)+' ... <REDACTED full-length="'+t+'">'}ro.genRedactedString=ZP;function UX(e){let r=(0,FX.default)(`${qX}:${e}`);function t(...n){if(r.enabled){for(let s=1;s<n.length;s++){let o=JP(n[s]);typeof o=="string"&&o.length>PE&&(n[s]=ZP(o,PE))}return r.apply(null,n)}}return Object.defineProperties(t,{namespace:{get(){return r.namespace}},enabled:{get(){return r.enabled}},destroy:{get(){return r.destroy}},log:{get(){return r.log},set(n){r.log=n}}}),t}ro.default=UX});var rO=b(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});var tO=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,zX={RedisCloudFixed:{ca:tO},RedisCloudFlexible:{ca:tO}};OE.default=zX});var vr=b(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.noop=Oe.defaults=Oe.Debug=Oe.getPackageMeta=Oe.zipMap=Oe.CONNECTION_CLOSED_ERROR_MSG=Oe.shuffle=Oe.sample=Oe.resolveTLSProfile=Oe.parseURL=Oe.optimizeErrorStack=Oe.toArg=Oe.convertMapToArray=Oe.convertObjectToArray=Oe.timeout=Oe.packObject=Oe.isInt=Oe.wrapMultiResult=Oe.convertBufferToString=void 0;var jX=require("fs"),HX=require("path"),nO=require("url"),NE=eh();Object.defineProperty(Oe,"defaults",{enumerable:!0,get:function(){return NE.defaults}});Object.defineProperty(Oe,"noop",{enumerable:!0,get:function(){return NE.noop}});var $X=eO();Oe.Debug=$X.default;var VX=rO();function sO(e,r){if(e instanceof Buffer)return e.toString(r);if(Array.isArray(e)){let t=e.length,n=Array(t);for(let s=0;s<t;++s)n[s]=e[s]instanceof Buffer&&r==="utf8"?e[s].toString():sO(e[s],r);return n}return e}Oe.convertBufferToString=sO;function GX(e){if(!e)return null;let r=[],t=e.length;for(let n=0;n<t;++n){let s=e[n];s instanceof Error?r.push([s]):r.push([null,s])}return r}Oe.wrapMultiResult=GX;function oO(e){let r=parseFloat(e);return!isNaN(e)&&(r|0)===r}Oe.isInt=oO;function KX(e){let r={},t=e.length;for(let n=1;n<t;n+=2)r[e[n-1]]=e[n];return r}Oe.packObject=KX;function WX(e,r){let t=null,n=function(){t&&(clearTimeout(t),t=null,e.apply(this,arguments))};return t=setTimeout(n,r,new Error("timeout")),n}Oe.timeout=WX;function XX(e){let r=[],t=Object.keys(e);for(let n=0,s=t.length;n<s;n++)r.push(t[n],e[t[n]]);return r}Oe.convertObjectToArray=XX;function QX(e){let r=[],t=0;return e.forEach(function(n,s){r[t]=s,r[t+1]=n,t+=2}),r}Oe.convertMapToArray=QX;function YX(e){return e===null||typeof e>"u"?"":String(e)}Oe.toArg=YX;function JX(e,r,t){let n=r.split(`
`),s="",o;for(o=1;o<n.length&&n[o].indexOf(t)!==-1;++o);for(let i=o;i<n.length;++i)s+=`
`+n[i];if(e.stack){let i=e.stack.indexOf(`
`);e.stack=e.stack.slice(0,i)+s}return e}Oe.optimizeErrorStack=JX;function ZX(e){if(oO(e))return{port:e};let r=(0,nO.parse)(e,!0,!0);!r.slashes&&e[0]!=="/"&&(e="//"+e,r=(0,nO.parse)(e,!0,!0));let t=r.query||{},n={};if(r.auth){let s=r.auth.indexOf(":");n.username=s===-1?r.auth:r.auth.slice(0,s),n.password=s===-1?"":r.auth.slice(s+1)}if(r.pathname&&(r.protocol==="redis:"||r.protocol==="rediss:"?r.pathname.length>1&&(n.db=r.pathname.slice(1)):n.path=r.pathname),r.host&&(n.host=r.hostname),r.port&&(n.port=r.port),typeof t.family=="string"){let s=Number.parseInt(t.family,10);Number.isNaN(s)||(n.family=s)}return(0,NE.defaults)(n,t),n}Oe.parseURL=ZX;function eQ(e){let r=e?.tls;typeof r=="string"&&(r={profile:r});let t=VX.default[r?.profile];return t&&(r=Object.assign({},t,r),delete r.profile,e=Object.assign({},e,{tls:r})),e}Oe.resolveTLSProfile=eQ;function tQ(e,r=0){let t=e.length;return r>=t?null:e[r+Math.floor(Math.random()*(t-r))]}Oe.sample=tQ;function rQ(e){let r=e.length;for(;r>0;){let t=Math.floor(Math.random()*r);r--,[e[r],e[t]]=[e[t],e[r]]}return e}Oe.shuffle=rQ;Oe.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function nQ(e,r){let t=new Map;return e.forEach((n,s)=>{t.set(n,r[s])}),t}Oe.zipMap=nQ;var Dc=null;async function sQ(){if(Dc)return Dc;try{let e=(0,HX.resolve)(__dirname,"..","..","package.json"),r=await jX.promises.readFile(e,"utf8");return Dc={version:JSON.parse(r).version},Dc}catch{return Dc={version:"error-fetching-version"},Dc}}Oe.getPackageMeta=sQ});var no=b(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});var iO=kc(),oQ=su(),iQ=qo(),Qi=vr(),ws=class e{constructor(r,t=[],n={},s){if(this.name=r,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=n.replyEncoding,this.errorStack=n.errorStack,this.args=t.flat(),this.callback=s,this.initPromise(),n.keyPrefix){let o=n.keyPrefix instanceof Buffer,i=o?n.keyPrefix:null;this._iterateKeys(c=>c instanceof Buffer?(i===null&&(i=Buffer.from(n.keyPrefix)),Buffer.concat([i,c])):o?Buffer.concat([n.keyPrefix,Buffer.from(String(c))]):n.keyPrefix+c)}n.readOnly&&(this.isReadOnly=!0)}static checkFlag(r,t){return!!this.getFlagMap()[r][t]}static setArgumentTransformer(r,t){this._transformer.argument[r]=t}static setReplyTransformer(r,t){this._transformer.reply[r]=t}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(e.FLAGS).reduce((r,t)=>(r[t]={},e.FLAGS[t].forEach(n=>{r[t][n]=!0}),r),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){let r=this.getKeys()[0];this.slot=r==null?null:oQ(r)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(r){let t,n="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){let s=new BE;s.push(n);for(let o=0;o<this.args.length;++o){let i=this.args[o];i instanceof Buffer?i.length===0?s.push(`$0\r
\r
`):(s.push("$"+i.length+`\r
`),s.push(i),s.push(`\r
`)):s.push("$"+Buffer.byteLength(i)+`\r
`+i+`\r
`)}t=s.toBuffer()}else{t=n;for(let s=0;s<this.args.length;++s){let o=this.args[s];t+="$"+Buffer.byteLength(o)+`\r
`+o+`\r
`}}return t}stringifyArguments(){for(let r=0;r<this.args.length;++r){let t=this.args[r];typeof t=="string"||(t instanceof Buffer?this.bufferMode=!0:this.args[r]=(0,Qi.toArg)(t))}}transformReply(r){this.replyEncoding&&(r=(0,Qi.convertBufferToString)(r,this.replyEncoding));let t=e._transformer.reply[this.name];return t&&(r=t(r)),r}setTimeout(r){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},r))}initPromise(){let r=new Promise((t,n)=>{if(!this.transformed){this.transformed=!0;let s=e._transformer.argument[this.name];s&&(this.args=s(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(t),this.errorStack?this.reject=s=>{n((0,Qi.optimizeErrorStack)(s,this.errorStack.stack,__dirname))}:this.reject=n});this.promise=(0,iQ.default)(r,this.callback)}_iterateKeys(r=t=>t){if(typeof this.keys>"u"&&(this.keys=[],(0,iO.exists)(this.name))){let t=(0,iO.getKeyIndexes)(this.name,this.args);for(let n of t)this.args[n]=r(this.args[n]),this.keys.push(this.args[n])}return this.keys}_convertValue(r){return t=>{try{let n=this._commandTimeoutTimer;n&&(clearTimeout(n),delete this._commandTimeoutTimer),r(this.transformReply(t)),this.isResolved=!0}catch(n){this.reject(n)}return this.promise}}};DE.default=ws;ws.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"],HANDSHAKE_COMMANDS:["auth","select","client","readonly","info"],IGNORE_RECONNECT_ON_ERROR:["client"]};ws._transformer={argument:{},reply:{}};var aO=function(e){if(e.length===1){if(e[0]instanceof Map)return(0,Qi.convertMapToArray)(e[0]);if(typeof e[0]=="object"&&e[0]!==null)return(0,Qi.convertObjectToArray)(e[0])}return e},cO=function(e){if(e.length===2){if(e[1]instanceof Map)return[e[0]].concat((0,Qi.convertMapToArray)(e[1]));if(typeof e[1]=="object"&&e[1]!==null)return[e[0]].concat((0,Qi.convertObjectToArray)(e[1]))}return e};ws.setArgumentTransformer("mset",aO);ws.setArgumentTransformer("msetnx",aO);ws.setArgumentTransformer("hset",cO);ws.setArgumentTransformer("hmset",cO);ws.setReplyTransformer("hgetall",function(e){if(Array.isArray(e)){let r={};for(let t=0;t<e.length;t+=2){let n=e[t],s=e[t+1];n in r?Object.defineProperty(r,n,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[n]=s}return r}return e});var BE=class{constructor(){this.length=0,this.items=[]}push(r){this.length+=Buffer.byteLength(r),this.items.push(r)}toBuffer(){let r=Buffer.allocUnsafe(this.length),t=0;for(let n of this.items){let s=Buffer.byteLength(n);Buffer.isBuffer(n)?n.copy(r,t):r.write(n,t,s),t+=s}return r}}});var lO=b(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});var aQ=Wi(),ih=class extends aQ.RedisError{constructor(r,t){super(r),this.lastNodeError=t,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};ME.default=ih;ih.defaultMessage="Failed to refresh slots cache."});var ah=b(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});var cQ=require("stream"),LE=class extends cQ.Readable{constructor(r){super(r),this.opt=r,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}let r=[this._redisCursor];this.opt.key&&r.unshift(this.opt.key),this.opt.match&&r.push("MATCH",this.opt.match),this.opt.type&&r.push("TYPE",this.opt.type),this.opt.count&&r.push("COUNT",String(this.opt.count)),this.opt.noValues&&r.push("NOVALUES"),this.opt.redis[this.opt.command](r,(t,n)=>{if(t){this.emit("error",t);return}this._redisCursor=n[0]instanceof Buffer?n[0].toString():n[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(n[1])})}close(){this._redisDrained=!0}};FE.default=LE});var pO=b(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.executeWithAutoPipelining=zt.getFirstValueInFlattenedArray=zt.shouldUseAutoPipelining=zt.notAllowedAutoPipelineCommands=zt.kCallbacks=zt.kExec=void 0;var uO=eh(),lQ=su(),dO=qo();zt.kExec=Symbol("exec");zt.kCallbacks=Symbol("callbacks");zt.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select","client"];function fO(e,r){if(e._runningAutoPipelines.has(r)||!e._autoPipelines.has(r))return;e._runningAutoPipelines.add(r);let t=e._autoPipelines.get(r);e._autoPipelines.delete(r);let n=t[zt.kCallbacks];t[zt.kCallbacks]=null,t.exec(function(s,o){if(e._runningAutoPipelines.delete(r),s)for(let i=0;i<n.length;i++)process.nextTick(n[i],s);else for(let i=0;i<n.length;i++)process.nextTick(n[i],...o[i]);e._autoPipelines.has(r)&&fO(e,r)})}function dQ(e,r,t){return r&&e.options.enableAutoPipelining&&!e.isPipeline&&!zt.notAllowedAutoPipelineCommands.includes(t)&&!e.options.autoPipeliningIgnoredCommands.includes(t)}zt.shouldUseAutoPipelining=dQ;function mO(e){for(let r=0;r<e.length;r++){let t=e[r];if(typeof t=="string")return t;if(Array.isArray(t)||(0,uO.isArguments)(t)){if(t.length===0)continue;return t[0]}let n=[t].flat();if(n.length>0)return n[0]}}zt.getFirstValueInFlattenedArray=mO;function hO(e,r,t,n,s){if(e.isCluster&&!e.slots.length)return e.status==="wait"&&e.connect().catch(uO.noop),(0,dO.default)(new Promise(function(d,u){e.delayUntilReady(f=>{if(f){u(f);return}hO(e,r,t,n,null).then(d,u)})}),s);let o=e.options.keyPrefix||"",i=e.isCluster?e.slots[lQ(`${o}${mO(n)}`)].join(","):"main";if(!e._autoPipelines.has(i)){let d=e.pipeline();d[zt.kExec]=!1,d[zt.kCallbacks]=[],e._autoPipelines.set(i,d)}let c=e._autoPipelines.get(i);c[zt.kExec]||(c[zt.kExec]=!0,setImmediate(fO,e,i));let l=new Promise(function(d,u){c[zt.kCallbacks].push(function(f,g){if(f){u(f);return}d(g)}),r==="call"&&n.unshift(t),c[r](...n)});return(0,dO.default)(l,s)}zt.executeWithAutoPipelining=hO});var gO=b(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});var uQ=require("crypto"),fQ=no(),mQ=qo(),qE=class{constructor(r,t=null,n="",s=!1){this.lua=r,this.numberOfKeys=t,this.keyPrefix=n,this.readOnly=s,this.sha=(0,uQ.createHash)("sha1").update(r).digest("hex");let o=this.sha,i=new WeakSet;this.Command=class extends fQ.default{toWritable(l){let d=this.reject;return this.reject=u=>{u.message.indexOf("NOSCRIPT")!==-1&&i.delete(l),d.call(this,u)},i.has(l)?this.name==="eval"&&(this.name="evalsha",this.args[0]=o):(i.add(l),this.name="eval",this.args[0]=r),super.toWritable(l)}}}execute(r,t,n,s){typeof this.numberOfKeys=="number"&&t.unshift(this.numberOfKeys),this.keyPrefix&&(n.keyPrefix=this.keyPrefix),this.readOnly&&(n.readOnly=!0);let o=new this.Command("evalsha",[this.sha,...t],n);return o.promise=o.promise.catch(i=>{if(i.message.indexOf("NOSCRIPT")===-1)throw i;let c=new this.Command("evalsha",[this.sha,...t],n);return(r.isPipeline?r.redis:r).sendCommand(c)}),(0,mQ.default)(o.promise,s),r.sendCommand(o)}};UE.default=qE});var lh=b(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});var hQ=kc(),ch=pO(),pQ=no(),gQ=gO(),so=class{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return zE.slice(0)}createBuiltinCommand(r){return{string:zo(null,r,"utf8"),buffer:zo(null,r,null)}}addBuiltinCommand(r){this.addedBuiltinSet.add(r),this[r]=zo(r,r,"utf8"),this[r+"Buffer"]=zo(r+"Buffer",r,null)}defineCommand(r,t){let n=new gQ.default(t.lua,t.numberOfKeys,this.options.keyPrefix,t.readOnly);this.scriptsSet[r]=n,this[r]=yO(r,r,n,"utf8"),this[r+"Buffer"]=yO(r+"Buffer",r,n,null)}sendCommand(r,t,n){throw new Error('"sendCommand" is not implemented')}},zE=hQ.list.filter(e=>e!=="monitor");zE.push("sentinel");zE.forEach(function(e){so.prototype[e]=zo(e,e,"utf8"),so.prototype[e+"Buffer"]=zo(e+"Buffer",e,null)});so.prototype.call=zo("call","utf8");so.prototype.callBuffer=zo("callBuffer",null);so.prototype.send_command=so.prototype.call;function zo(e,r,t){return typeof t>"u"&&(t=r,r=null),function(...n){let s=r||n.shift(),o=n[n.length-1];typeof o=="function"?n.pop():o=void 0;let i={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:t};return(0,ch.shouldUseAutoPipelining)(this,e,s)?(0,ch.executeWithAutoPipelining)(this,e,s,n,o):this.sendCommand(new pQ.default(s,n,i,o))}}function yO(e,r,t,n){return function(...s){let o=typeof s[s.length-1]=="function"?s.pop():void 0,i={replyEncoding:n};return this.options.showFriendlyErrorStack&&(i.errorStack=new Error),(0,ch.shouldUseAutoPipelining)(this,e,r)?(0,ch.executeWithAutoPipelining)(this,e,r,s,o):t.execute(this,s,i,o)}}jE.default=so});var VE=b($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0});var HE=su(),SO=kc(),bO=qo(),yQ=require("util"),SQ=no(),bQ=vr(),xQ=lh();function EQ(e,r){let t=HE(r[0]),n=e._groupsBySlot[t];for(let s=1;s<r.length;s++)if(e._groupsBySlot[HE(r[s])]!==n)return-1;return t}var jo=class extends xQ.default{constructor(r){super(),this.redis=r,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=r.options,Object.keys(r.scriptsSet).forEach(n=>{let s=r.scriptsSet[n];this._shaToScript[s.sha]=s,this[n]=r[n],this[n+"Buffer"]=r[n+"Buffer"]}),r.addedBuiltinSet.forEach(n=>{this[n]=r[n],this[n+"Buffer"]=r[n+"Buffer"]}),this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s});let t=this;Object.defineProperty(this,"length",{get:function(){return t._queue.length}})}fillResult(r,t){if(this._queue[t].name==="exec"&&Array.isArray(r[1])){let s=r[1].length;for(let o=0;o<s;o++){if(r[1][o]instanceof Error)continue;let i=this._queue[t-(s-o)];try{r[1][o]=i.transformReply(r[1][o])}catch(c){r[1][o]=c}}}if(this._result[t]=r,--this.replyPending)return;if(this.isCluster){let s=!0,o;for(let i=0;i<this._result.length;++i){let c=this._result[i][0],l=this._queue[i];if(c){if(l.name==="exec"&&c.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!o)o={name:c.name,message:c.message};else if(o.name!==c.name||o.message!==c.message){s=!1;break}}else if(!l.inTransaction&&!((0,SO.exists)(l.name)&&(0,SO.hasFlag)(l.name,"readonly"))){s=!1;break}}if(o&&s){let i=this,c=o.message.split(" "),l=this._queue,d=!1;this._queue=[];for(let p=0;p<l.length;++p){if(c[0]==="ASK"&&!d&&l[p].name!=="asking"&&(!l[p-1]||l[p-1].name!=="asking")){let y=new SQ.default("asking");y.ignore=!0,this.sendCommand(y)}l[p].initPromise(),this.sendCommand(l[p]),d=l[p].inTransaction}let u=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});let f=function(){i.exec()},g=this.redis;if(g.handleError(o,this.leftRedirections,{moved:function(p,y){i.preferKey=y,g.slots[c[1]]=[y],g._groupsBySlot[c[1]]=g._groupsIds[g.slots[c[1]].join(";")],g.refreshSlotsCache(),i.exec()},ask:function(p,y){i.preferKey=y,i.exec()},tryagain:f,clusterDown:f,connectionClosed:f,maxRedirections:()=>{u=!1},defaults:()=>{u=!1}}),u)return}}let n=0;for(let s=0;s<this._queue.length-n;++s)this._queue[s+n].ignore&&(n+=1),this._result[s]=this._result[s+n];this.resolve(this._result.slice(0,this._result.length-n))}sendCommand(r){this._transactions>0&&(r.inTransaction=!0);let t=this._queue.length;return r.pipelineIndex=t,r.promise.then(n=>{this.fillResult([null,n],t)}).catch(n=>{this.fillResult([n],t)}),this._queue.push(r),this}addBatch(r){let t,n,s;for(let o=0;o<r.length;++o)t=r[o],n=t[0],s=t.slice(1),this[n].apply(this,s);return this}};$E.default=jo;var CQ=jo.prototype.multi;jo.prototype.multi=function(){return this._transactions+=1,CQ.apply(this,arguments)};var xO=jo.prototype.execBuffer;jo.prototype.execBuffer=(0,yQ.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),xO.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead");jo.prototype.exec=function(e){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(bQ.noop),e&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,bO.default)(this.promise,e)),this.redis.delayUntilReady(s=>{if(s){this.reject(s);return}this.exec(e)}),this.promise;if(this._transactions>0)return this._transactions-=1,xO.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,bO.default)(this.promise,e)),this._queue.length||this.resolve([]);let r;if(this.isCluster){let s=[];for(let o=0;o<this._queue.length;o++){let i=this._queue[o].getKeys();if(i.length&&s.push(i[0]),i.length&&HE.generateMulti(i)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(s.length){if(r=EQ(this.redis,s),r<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else r=Math.random()*16384|0}let t=this;return n(),this.promise;function n(){let s=t.replyPending=t._queue.length,o;t.isCluster&&(o={slot:r,redis:t.redis.connectionPool.nodes.all[t.preferKey]});let i="",c,l={isPipeline:!0,destination:t.isCluster?o:{redis:t.redis},write(d){typeof d!="string"?(c||(c=[]),i&&(c.push(Buffer.from(i,"utf8")),i=""),c.push(d)):i+=d,--s||(c?(i&&c.push(Buffer.from(i,"utf8")),l.destination.redis.stream.write(Buffer.concat(c))):l.destination.redis.stream.write(i),s=t._queue.length,i="",c=void 0)}};for(let d=0;d<t._queue.length;++d)t.redis.sendCommand(t._queue[d],l,o);return t.promise}}});var WE=b(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.addTransactionSupport=void 0;var GE=vr(),KE=qo(),EO=VE();function _Q(e){e.pipeline=function(n){let s=new EO.default(this);return Array.isArray(n)&&s.addBatch(n),s};let{multi:r}=e;e.multi=function(n,s){if(typeof s>"u"&&!Array.isArray(n)&&(s=n,n=null),s&&s.pipeline===!1)return r.call(this);let o=new EO.default(this);o.multi(),Array.isArray(n)&&o.addBatch(n);let i=o.exec;o.exec=function(l){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(GE.noop),(0,KE.default)(new Promise((u,f)=>{this.redis.delayUntilReady(g=>{if(g){f(g);return}this.exec(o).then(u,f)})}),l);if(this._transactions>0&&i.call(o),this.nodeifiedPromise)return i.call(o);let d=i.call(o);return(0,KE.default)(d.then(function(u){let f=u[u.length-1];if(typeof f>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(f[0]){f[0].previousErrors=[];for(let g=0;g<u.length-1;++g)u[g][0]&&f[0].previousErrors.push(u[g][0]);throw f[0]}return(0,GE.wrapMultiResult)(f[1])}),l)};let{execBuffer:c}=o;return o.execBuffer=function(l){return this._transactions>0&&c.call(o),o.exec(l)},o};let{exec:t}=e;e.exec=function(n){return(0,KE.default)(t.call(this).then(function(s){return Array.isArray(s)&&(s=(0,GE.wrapMultiResult)(s)),s}),n)}}dh.addTransactionSupport=_Q});var QE=b(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});function wQ(e,r){Object.getOwnPropertyNames(r.prototype).forEach(t=>{Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t))})}XE.default=wQ});var _O=b(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.DEFAULT_CLUSTER_OPTIONS=void 0;var CO=require("dns");uh.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:e=>Math.min(100+e*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:CO.resolveSrv,dnsLookup:CO.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1}});var au=b(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.getConnectionName=Br.weightSrvRecords=Br.groupSrvRecords=Br.getUniqueHostnamesFromOptions=Br.normalizeNodeOptions=Br.nodeKeyToRedisOptions=Br.getNodeKey=void 0;var wO=vr(),AQ=require("net");function vQ(e){return e.port=e.port||6379,e.host=e.host||"127.0.0.1",e.host+":"+e.port}Br.getNodeKey=vQ;function TQ(e){let r=e.lastIndexOf(":");if(r===-1)throw new Error(`Invalid node key ${e}`);return{host:e.slice(0,r),port:Number(e.slice(r+1))}}Br.nodeKeyToRedisOptions=TQ;function kQ(e){return e.map(r=>{let t={};if(typeof r=="object")Object.assign(t,r);else if(typeof r=="string")Object.assign(t,(0,wO.parseURL)(r));else if(typeof r=="number")t.port=r;else throw new Error("Invalid argument "+r);return typeof t.port=="string"&&(t.port=parseInt(t.port,10)),delete t.db,t.port||(t.port=6379),t.host||(t.host="127.0.0.1"),(0,wO.resolveTLSProfile)(t)})}Br.normalizeNodeOptions=kQ;function RQ(e){let r={};return e.forEach(t=>{r[t.host]=!0}),Object.keys(r).filter(t=>!(0,AQ.isIP)(t))}Br.getUniqueHostnamesFromOptions=RQ;function IQ(e){let r={};for(let t of e)r.hasOwnProperty(t.priority)?(r[t.priority].totalWeight+=t.weight,r[t.priority].records.push(t)):r[t.priority]={totalWeight:t.weight,records:[t]};return r}Br.groupSrvRecords=IQ;function PQ(e){if(e.records.length===1)return e.totalWeight=0,e.records.shift();let r=Math.floor(Math.random()*(e.totalWeight+e.records.length)),t=0;for(let[n,s]of e.records.entries())if(t+=1+s.weight,t>r)return e.totalWeight-=s.weight,e.records.splice(n,1),s}Br.weightSrvRecords=PQ;function OQ(e,r){let t=`ioredis-cluster(${e})`;return r?`${t}:${r}`:t}Br.getConnectionName=OQ});var eC=b(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});var AO=au(),YE=vr(),NQ=Ho(),As=(0,YE.Debug)("cluster:subscriber"),JE=class{constructor(r,t,n=!1){this.connectionPool=r,this.emitter=t,this.isSharded=n,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){As("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}As("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(s,o)=>{!this.started||!this.subscriber||(0,AO.getNodeKey)(this.subscriber.options)===o&&(As("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(As("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(r){return this.isSharded&&(this.slotRange=r),this.slotRange}start(){this.started=!0,this.selectSubscriber(),As("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){let r=this.lastActiveSubscriber;r&&(r.off("end",this.onSubscriberEnd),r.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());let t=(0,YE.sample)(this.connectionPool.getNodes());if(!t){As("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}let{options:n}=t;As("selected a subscriber %s:%s",n.host,n.port);let s="subscriber";this.isSharded&&(s="ssubscriber"),this.subscriber=new NQ.default({port:n.port,host:n.host,username:n.username,password:n.password,enableReadyCheck:!0,connectionName:(0,AO.getConnectionName)(s,n.connectionName),lazyConnect:!0,tls:n.tls,retryStrategy:null}),this.subscriber.on("error",YE.noop),this.subscriber.on("moved",()=>{this.emitter.emit("forceRefresh")}),this.subscriber.once("end",this.onSubscriberEnd);let o={subscribe:[],psubscribe:[],ssubscribe:[]};if(r){let i=r.condition||r.prevCondition;i&&i.subscriber&&(o.subscribe=i.subscriber.channels("subscribe"),o.psubscribe=i.subscriber.channels("psubscribe"),o.ssubscribe=i.subscriber.channels("ssubscribe"))}if(o.subscribe.length||o.psubscribe.length||o.ssubscribe.length){let i=0;for(let c of["subscribe","psubscribe","ssubscribe"]){let l=o[c];if(l.length!=0)if(As("%s %d channels",c,l.length),c==="ssubscribe")for(let d of l)i+=1,this.subscriber[c](d).then(()=>{--i||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{As("failed to ssubscribe to channel: %s",d)});else i+=1,this.subscriber[c](l).then(()=>{--i||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{As("failed to %s %d channels",c,l.length)})}}else this.lastActiveSubscriber=this.subscriber;for(let i of["message","messageBuffer"])this.subscriber.on(i,(c,l)=>{this.emitter.emit(i,c,l)});for(let i of["pmessage","pmessageBuffer"])this.subscriber.on(i,(c,l,d)=>{this.emitter.emit(i,c,l,d)});if(this.isSharded==!0)for(let i of["smessage","smessageBuffer"])this.subscriber.on(i,(c,l)=>{this.emitter.emit(i,c,l)})}};ZE.default=JE});var sC=b(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});var BQ=require("events"),fh=vr(),tC=au(),DQ=Ho(),cu=(0,fh.Debug)("cluster:connectionPool"),rC=class extends BQ.EventEmitter{constructor(r){super(),this.redisOptions=r,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(r="all"){let t=this.nodes[r];return Object.keys(t).map(n=>t[n])}getInstanceByKey(r){return this.nodes.all[r]}getSampleInstance(r){let t=Object.keys(this.nodes[r]),n=(0,fh.sample)(t);return this.nodes[r][n]}addMasterNode(r){let t=(0,tC.getNodeKey)(r.options),n=this.createRedisFromOptions(r,r.options.readOnly);return r.options.readOnly?!1:(this.nodes.all[t]=n,this.nodes.master[t]=n,!0)}createRedisFromOptions(r,t){return new DQ.default((0,fh.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:t},r,this.redisOptions,{lazyConnect:!0}))}findOrCreate(r,t=!1){let n=(0,tC.getNodeKey)(r);t=!!t,this.specifiedOptions[n]?Object.assign(r,this.specifiedOptions[n]):this.specifiedOptions[n]=r;let s;return this.nodes.all[n]?(s=this.nodes.all[n],s.options.readOnly!==t&&(s.options.readOnly=t,cu("Change role of %s to %s",n,t?"slave":"master"),s[t?"readonly":"readwrite"]().catch(fh.noop),t?(delete this.nodes.master[n],this.nodes.slave[n]=s):(delete this.nodes.slave[n],this.nodes.master[n]=s))):(cu("Connecting to %s as %s",n,t?"slave":"master"),s=this.createRedisFromOptions(r,t),this.nodes.all[n]=s,this.nodes[t?"slave":"master"][n]=s,s.once("end",()=>{this.removeNode(n),this.emit("-node",s,n),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",s,n),s.on("error",function(o){this.emit("nodeError",o,n)})),s}reset(r){cu("Reset with %O",r);let t={};r.forEach(n=>{let s=(0,tC.getNodeKey)(n);n.readOnly&&t[s]||(t[s]=n)}),Object.keys(this.nodes.all).forEach(n=>{t[n]||(cu("Disconnect %s because the node does not hold any slot",n),this.nodes.all[n].disconnect(),this.removeNode(n))}),Object.keys(t).forEach(n=>{let s=t[n];this.findOrCreate(s,s.readOnly)})}removeNode(r){let{nodes:t}=this;t.all[r]&&(cu("Remove %s from the pool",r),delete t.all[r]),delete t.master[r],delete t.slave[r]}};nC.default=rC});var mh=b((INe,vO)=>{"use strict";function Ot(e,t){var t=t||{};this._capacity=t.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}Ot.prototype.peekAt=function(r){var t=r;if(t===(t|0)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}};Ot.prototype.get=function(r){return this.peekAt(r)};Ot.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Ot.prototype.peekFront=function(){return this.peek()};Ot.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Ot.prototype,"length",{get:function(){return this.size()}});Ot.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ot.prototype.unshift=function(r){if(arguments.length===0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=r,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ot.prototype.shift=function(){var r=this._head;if(r!==this._tail){var t=this._list[r];return this._list[r]=void 0,this._head=r+1&this._capacityMask,r<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}};Ot.prototype.push=function(r){if(arguments.length===0)return this.size();var t=this._tail;return this._list[t]=r,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Ot.prototype.pop=function(){var r=this._tail;if(r!==this._head){var t=this._list.length;this._tail=r-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&r>1e4&&r<=t>>>2&&this._shrinkArray(),n}};Ot.prototype.removeOne=function(r){var t=r;if(t===(t|0)&&this._head!==this._tail){var n=this.size(),s=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var o=this._list[t],i;if(r<n/2){for(i=r;i>0;i--)this._list[t]=this._list[t=t-1+s&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+s&this._capacityMask}else{for(i=n-1-r;i>0;i--)this._list[t]=this._list[t=t+1+s&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+s&this._capacityMask}return o}}};Ot.prototype.remove=function(r,t){var n=r,s,o=t;if(n===(n|0)&&this._head!==this._tail){var i=this.size(),c=this._list.length;if(!(n>=i||n<-i||t<1)){if(n<0&&(n+=i),t===1||!t)return s=new Array(1),s[0]=this.removeOne(n),s;if(n===0&&n+t>=i)return s=this.toArray(),this.clear(),s;n+t>i&&(t=i-n);var l;for(s=new Array(t),l=0;l<t;l++)s[l]=this._list[this._head+n+l&this._capacityMask];if(n=this._head+n&this._capacityMask,r+t===i){for(this._tail=this._tail-t+c&this._capacityMask,l=t;l>0;l--)this._list[n=n+1+c&this._capacityMask]=void 0;return s}if(r===0){for(this._head=this._head+t+c&this._capacityMask,l=t-1;l>0;l--)this._list[n=n+1+c&this._capacityMask]=void 0;return s}if(n<i/2){for(this._head=this._head+r+t+c&this._capacityMask,l=r;l>0;l--)this.unshift(this._list[n=n-1+c&this._capacityMask]);for(n=this._head-1+c&this._capacityMask;o>0;)this._list[n=n-1+c&this._capacityMask]=void 0,o--;r<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+c&this._capacityMask,l=i-(t+r);l>0;l--)this.push(this._list[n++]);for(n=this._tail;o>0;)this._list[n=n+1+c&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=c>>>2&&this._shrinkArray(),s}}};Ot.prototype.splice=function(r,t){var n=r;if(n===(n|0)){var s=this.size();if(n<0&&(n+=s),!(n>s))if(arguments.length>2){var o,i,c,l=arguments.length,d=this._list.length,u=2;if(!s||n<s/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(t===0?(c=[],n>0&&(this._head=this._head+n+d&this._capacityMask)):(c=this.remove(n,t),this._head=this._head+n+d&this._capacityMask);l>u;)this.unshift(arguments[--l]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{i=new Array(s-(n+t));var f=i.length;for(o=0;o<f;o++)i[o]=this._list[this._head+n+t+o&this._capacityMask];for(t===0?(c=[],n!=s&&(this._tail=this._head+n+d&this._capacityMask)):(c=this.remove(n,t),this._tail=this._tail-f+d&this._capacityMask);u<l;)this.push(arguments[u++]);for(o=0;o<f;o++)this.push(i[o])}return c}else return this.remove(n,t)}};Ot.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0};Ot.prototype.isEmpty=function(){return this._head===this._tail};Ot.prototype.toArray=function(){return this._copyArray(!1)};Ot.prototype._fromArray=function(r){var t=r.length,n=this._nextPowerOf2(t);this._list=new Array(n),this._capacityMask=n-1,this._tail=t;for(var s=0;s<t;s++)this._list[s]=r[s]};Ot.prototype._copyArray=function(r,t){var n=this._list,s=n.length,o=this.length;if(t=t|o,t==o&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i=new Array(t),c=0,l;if(r||this._head>this._tail){for(l=this._head;l<s;l++)i[c++]=n[l];for(l=0;l<this._tail;l++)i[c++]=n[l]}else for(l=this._head;l<this._tail;l++)i[c++]=n[l];return i};Ot.prototype._growArray=function(){if(this._head!=0){var r=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=r}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1};Ot.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};Ot.prototype._nextPowerOf2=function(r){var t=Math.log(r)/Math.log(2),n=1<<t+1;return Math.max(n,4)};vO.exports=Ot});var TO=b(iC=>{"use strict";Object.defineProperty(iC,"__esModule",{value:!0});var MQ=vr(),LQ=mh(),FQ=(0,MQ.Debug)("delayqueue"),oC=class{constructor(){this.queues={},this.timeouts={}}push(r,t,n){let s=n.callback||process.nextTick;this.queues[r]||(this.queues[r]=new LQ),this.queues[r].push(t),this.timeouts[r]||(this.timeouts[r]=setTimeout(()=>{s(()=>{this.timeouts[r]=null,this.execute(r)})},n.timeout))}execute(r){let t=this.queues[r];if(!t)return;let{length:n}=t;if(n)for(FQ("send %d commands in %s queue",n,r),this.queues[r]=null;t.length>0;)t.shift()()}};iC.default=oC});var IO=b(cC=>{"use strict";Object.defineProperty(cC,"__esModule",{value:!0});var qQ=vr(),UQ=eC(),zQ=sC(),kO=au(),hh=su(),RO=(0,qQ.Debug)("cluster:subscriberGroup"),aC=class{constructor(r,t){this.cluster=r,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,r.on("+node",n=>{this._addSubscriber(n)}),r.on("-node",n=>{this._removeSubscriber(n)}),r.on("refresh",()=>{this._refreshSlots(r)}),r.on("forceRefresh",()=>{t()})}getResponsibleSubscriber(r){let t=this.clusterSlots[r][0];return this.shardedSubscribers.get(t)}addChannels(r){let t=hh(r[0]);r.forEach(s=>{if(hh(s)!=t)return-1});let n=this.channels.get(t);return n?this.channels.set(t,n.concat(r)):this.channels.set(t,r),[...this.channels.values()].flatMap(s=>s).length}removeChannels(r){let t=hh(r[0]);r.forEach(s=>{if(hh(s)!=t)return-1});let n=this.channels.get(t);if(n){let s=n.filter(o=>!r.includes(o));this.channels.set(t,s)}return[...this.channels.values()].flatMap(s=>s).length}stop(){for(let r of this.shardedSubscribers.values())r.stop()}start(){for(let r of this.shardedSubscribers.values())r.isStarted()||r.start()}_addSubscriber(r){let t=new zQ.default(r.options);if(t.addMasterNode(r)){let n=new UQ.default(t,this.cluster,!0),s=(0,kO.getNodeKey)(r.options);return this.shardedSubscribers.set(s,n),n.start(),this._resubscribe(),this.cluster.emit("+subscriber"),n}return null}_removeSubscriber(r){let t=(0,kO.getNodeKey)(r.options),n=this.shardedSubscribers.get(t);return n&&(n.stop(),this.shardedSubscribers.delete(t),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(r){if(this._slotsAreEqual(r.slots))RO("Nothing to refresh because the new cluster map is equal to the previous one.");else{RO("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let t=0;t<r.slots.length;t++){let n=r.slots[t][0];this.subscriberToSlotsIndex.has(n)||this.subscriberToSlotsIndex.set(n,[]),this.subscriberToSlotsIndex.get(n).push(Number(t))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(r.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((r,t)=>{let n=this.subscriberToSlotsIndex.get(t);n&&(r.associateSlotRange(n),n.forEach(s=>{let o=r.getInstance(),i=this.channels.get(s);i&&i.length>0&&o&&(o.ssubscribe(i),o.on("ready",()=>{o.ssubscribe(i)}))}))})}_slotsAreEqual(r){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(r)}};cC.default=aC});var uC=b(dC=>{"use strict";Object.defineProperty(dC,"__esModule",{value:!0});var PO=kc(),MO=require("events"),lu=Wi(),OO=qo(),NO=no(),lC=lO(),jQ=Ho(),HQ=ah(),$Q=WE(),wn=vr(),VQ=QE(),GQ=lh(),KQ=_O(),WQ=eC(),XQ=sC(),QQ=TO(),Mc=au(),BO=mh(),YQ=IO(),Nt=(0,wn.Debug)("cluster"),DO=new WeakSet,du=class e extends GQ.default{constructor(r,t={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new QQ.default,this.offlineQueue=new BO,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,MO.EventEmitter.call(this),this.startupNodes=r,this.options=(0,wn.defaults)({},t,KQ.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new YQ.default(this,this.refreshSlotsCache.bind(this))),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new XQ.default(this.options.redisOptions),this.connectionPool.on("-node",(n,s)=>{this.emit("-node",n)}),this.connectionPool.on("+node",n=>{this.emit("+node",n)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(n,s)=>{this.emit("node error",n,s)}),this.subscriber=new WQ.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([n,s])=>{this.defineCommand(n,s)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(n=>{Nt("connecting failed: %s",n)})}connect(){return new Promise((r,t)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){t(new Error("Redis is already connecting/connected"));return}let n=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(s=>{if(this.connectionEpoch!==n){Nt("discard connecting after resolving startup nodes because epoch not match: %d != %d",n,this.connectionEpoch),t(new lu.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){Nt("discard connecting after resolving startup nodes because the status changed to %s",this.status),t(new lu.RedisError("Connection is aborted"));return}this.connectionPool.reset(s);let o=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),r()},i,c=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",i),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((l,d)=>{l||d?(Nt("Ready check failed (%s). Reconnecting...",l||d),this.status==="connect"&&this.disconnect(!0)):o()}):o()};i=()=>{let l=new Error("None of startup nodes is available");this.removeListener("refresh",c),this.invokeReadyDelayedCallbacks(l),t(l)},this.once("refresh",c),this.once("close",i),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(l=>{l&&l.message===lC.default.defaultMessage&&(jQ.default.prototype.silentEmit.call(this,"error",l),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(s=>{this.setStatus("close"),this.handleCloseEvent(s),this.invokeReadyDelayedCallbacks(s),t(s)})})}disconnect(r=!1){let t=this.status;this.setStatus("disconnecting"),r||(this.manuallyClosing=!0),this.reconnectTimeout&&!r&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,Nt("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),t==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(r){let t=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),t==="wait"){let n=(0,OO.default)(Promise.resolve("OK"),r);return setImmediate(function(){this.setStatus("close"),this.handleCloseEvent()}.bind(this)),n}return(0,OO.default)(Promise.all(this.nodes().map(n=>n.quit().catch(s=>{if(s.message===wn.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw s}))).then(()=>"OK"),r)}duplicate(r=[],t={}){let n=r.length>0?r:this.startupNodes.slice(0),s=Object.assign({},this.options,t);return new e(n,s)}nodes(r="all"){if(r!=="all"&&r!=="master"&&r!=="slave")throw new Error('Invalid role "'+r+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(r)}delayUntilReady(r){this._readyDelayedCallbacks.push(r)}get autoPipelineQueueSize(){let r=0;for(let t of this._autoPipelines.values())r+=t.length;return r}refreshSlotsCache(r){if(r&&this._refreshSlotsCacheCallbacks.push(r),this.isRefreshing)return;this.isRefreshing=!0;let t=this,n=c=>{this.isRefreshing=!1;for(let l of this._refreshSlotsCacheCallbacks)l(c);this._refreshSlotsCacheCallbacks=[]},s=(0,wn.shuffle)(this.connectionPool.getNodes()),o=null;function i(c){if(c===s.length){let u=new lC.default(lC.default.defaultMessage,o);return n(u)}let l=s[c],d=`${l.options.host}:${l.options.port}`;Nt("getting slot cache from %s",d),t.getInfoFromNode(l,function(u){switch(t.status){case"close":case"end":return n(new Error("Cluster is disconnected."));case"disconnecting":return n(new Error("Cluster is disconnecting."))}u?(t.emit("node error",u,d),o=u,i(c+1)):(t.emit("refresh"),n())})}i(0)}sendCommand(r,t,n){if(this.status==="wait"&&this.connect().catch(wn.noop),this.status==="end")return r.reject(new Error(wn.CONNECTION_CLOSED_ERROR_MSG)),r.promise;let s=this.options.scaleReads;s!=="master"&&(r.isReadOnly||(0,PO.exists)(r.name)&&(0,PO.hasFlag)(r.name,"readonly")||(s="master"));let o=n?n.slot:r.getSlot(),i={},c=this;if(!n&&!DO.has(r)){DO.add(r);let d=r.reject;r.reject=function(u){let f=l.bind(null,!0);c.handleError(u,i,{moved:function(g,p){Nt("command %s is moved to %s",r.name,p),o=Number(g),c.slots[g]?c.slots[g][0]=p:c.slots[g]=[p],c._groupsBySlot[g]=c._groupsIds[c.slots[g].join(";")],c.connectionPool.findOrCreate(c.natMapper(p)),l(),Nt("refreshing slot caches... (triggered by MOVED error)"),c.refreshSlotsCache()},ask:function(g,p){Nt("command %s is required to ask %s:%s",r.name,p);let y=c.natMapper(p);c.connectionPool.findOrCreate(y),l(!1,`${y.host}:${y.port}`)},tryagain:f,clusterDown:f,connectionClosed:f,maxRedirections:function(g){d.call(r,g)},defaults:function(){d.call(r,u)}})}}l();function l(d,u){if(c.status==="end"){r.reject(new lu.AbortError("Cluster is ended."));return}let f;if(c.status==="ready"||r.name==="cluster"){if(n&&n.redis)f=n.redis;else if(NO.default.checkFlag("ENTER_SUBSCRIBER_MODE",r.name)||NO.default.checkFlag("EXIT_SUBSCRIBER_MODE",r.name)){if(c.options.shardedSubscribers==!0&&(r.name=="ssubscribe"||r.name=="sunsubscribe")){let g=c.shardedSubscribers.getResponsibleSubscriber(o),p=-1;r.name=="ssubscribe"&&(p=c.shardedSubscribers.addChannels(r.getKeys())),r.name=="sunsubscribe"&&(p=c.shardedSubscribers.removeChannels(r.getKeys())),p!==-1?f=g.getInstance():r.reject(new lu.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else f=c.subscriber.getInstance();if(!f){r.reject(new lu.AbortError("No subscriber for the cluster"));return}}else{if(!d){if(typeof o=="number"&&c.slots[o]){let g=c.slots[o];if(typeof s=="function"){let p=g.map(function(y){return c.connectionPool.getInstanceByKey(y)});f=s(p,r),Array.isArray(f)&&(f=(0,wn.sample)(f)),f||(f=p[0])}else{let p;s==="all"?p=(0,wn.sample)(g):s==="slave"&&g.length>1?p=(0,wn.sample)(g,1):p=g[0],f=c.connectionPool.getInstanceByKey(p)}}u&&(f=c.connectionPool.getInstanceByKey(u),f.asking())}f||(f=(typeof s=="function"?null:c.connectionPool.getSampleInstance(s))||c.connectionPool.getSampleInstance("all"))}n&&!n.redis&&(n.redis=f)}f?f.sendCommand(r,t):c.options.enableOfflineQueue?c.offlineQueue.push({command:r,stream:t,node:n}):r.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return r.promise}sscanStream(r,t){return this.createScanStream("sscan",{key:r,options:t})}sscanBufferStream(r,t){return this.createScanStream("sscanBuffer",{key:r,options:t})}hscanStream(r,t){return this.createScanStream("hscan",{key:r,options:t})}hscanBufferStream(r,t){return this.createScanStream("hscanBuffer",{key:r,options:t})}zscanStream(r,t){return this.createScanStream("zscan",{key:r,options:t})}zscanBufferStream(r,t){return this.createScanStream("zscanBuffer",{key:r,options:t})}handleError(r,t,n){if(typeof t.value>"u"?t.value=this.options.maxRedirections:t.value-=1,t.value<=0){n.maxRedirections(new Error("Too many Cluster redirections. Last error: "+r));return}let s=r.message.split(" ");if(s[0]==="MOVED"){let o=this.options.retryDelayOnMoved;o&&typeof o=="number"?this.delayQueue.push("moved",n.moved.bind(null,s[1],s[2]),{timeout:o}):n.moved(s[1],s[2])}else s[0]==="ASK"?n.ask(s[1],s[2]):s[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",n.tryagain,{timeout:this.options.retryDelayOnTryAgain}):s[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",n.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):r.message===wn.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",n.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):n.defaults()}resetOfflineQueue(){this.offlineQueue=new BO}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;let r=()=>{this.slotsTimer=setTimeout(()=>{Nt('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{r()})},this.options.slotsRefreshInterval)};r()}setStatus(r){Nt("status: %s -> %s",this.status||"[empty]",r),this.status=r,process.nextTick(()=>{this.emit(r)})}handleCloseEvent(r){r&&Nt("closed because %s",r);let t;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(t=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,r)),typeof t=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,Nt("Cluster is disconnected. Retrying after %dms",t),this.connect().catch(function(n){Nt("Got error %s when reconnecting. Ignoring...",n)})},t)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(r){let t;for(;t=this.offlineQueue.shift();)t.command.reject(r)}executeOfflineCommands(){if(this.offlineQueue.length){Nt("send %d commands in offline queue",this.offlineQueue.length);let r=this.offlineQueue;this.resetOfflineQueue();let t;for(;t=r.shift();)this.sendCommand(t.command,t.stream,t.node)}}natMapper(r){let t=typeof r=="string"?r:`${r.host}:${r.port}`,n=null;return this.options.natMap&&typeof this.options.natMap=="function"?n=this.options.natMap(t):this.options.natMap&&typeof this.options.natMap=="object"&&(n=this.options.natMap[t]),n?(Nt("NAT mapping %s -> %O",t,n),Object.assign({},n)):typeof r=="string"?(0,Mc.nodeKeyToRedisOptions)(r):r}getInfoFromNode(r,t){if(!r)return t(new Error("Node is disconnected"));let n=r.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,Mc.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});n.on("error",wn.noop),n.cluster("SLOTS",(0,wn.timeout)((s,o)=>{if(n.disconnect(),s)return Nt("error encountered running CLUSTER.SLOTS: %s",s),t(s);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){Nt("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",o.length,this.status),t();return}let i=[];Nt("cluster slots result count: %d",o.length);for(let l=0;l<o.length;++l){let d=o[l],u=d[0],f=d[1],g=[];for(let p=2;p<d.length;p++){if(!d[p][0])continue;let y=this.natMapper({host:d[p][0],port:d[p][1]});y.readOnly=p!==2,i.push(y),g.push(y.host+":"+y.port)}Nt("cluster slots result [%d]: slots %d~%d served by %s",l,u,f,g);for(let p=u;p<=f;p++)this.slots[p]=g}this._groupsIds=Object.create(null);let c=0;for(let l=0;l<16384;l++){let d=(this.slots[l]||[]).join(";");if(!d.length){this._groupsBySlot[l]=void 0;continue}this._groupsIds[d]||(this._groupsIds[d]=++c),this._groupsBySlot[l]=this._groupsIds[d]}this.connectionPool.reset(i),t()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(r){for(let t of this._readyDelayedCallbacks)process.nextTick(t,r);this._readyDelayedCallbacks=[]}readyCheck(r){this.cluster("INFO",(t,n)=>{if(t)return r(t);if(typeof n!="string")return r();let s,o=n.split(`\r
`);for(let i=0;i<o.length;++i){let c=o[i].split(":");if(c[0]==="cluster_state"){s=c[1];break}}s==="fail"?(Nt("cluster state not ok (%s)",s),r(null,s)):r()})}resolveSrv(r){return new Promise((t,n)=>{this.options.resolveSrv(r,(s,o)=>{if(s)return n(s);let i=this,c=(0,Mc.groupSrvRecords)(o),l=Object.keys(c).sort((u,f)=>parseInt(u)-parseInt(f));function d(u){if(!l.length)return n(u);let f=l[0],g=c[f],p=(0,Mc.weightSrvRecords)(g);g.records.length||l.shift(),i.dnsLookup(p.name).then(y=>t({host:y,port:p.port}),d)}d()})})}dnsLookup(r){return new Promise((t,n)=>{this.options.dnsLookup(r,(s,o)=>{s?(Nt("failed to resolve hostname %s to IP: %s",r,s.message),n(s)):(Nt("resolved hostname %s to IP %s",r,o),t(o))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");let r=(0,Mc.normalizeNodeOptions)(this.startupNodes),t=(0,Mc.getUniqueHostnamesFromOptions)(r);if(t.length===0)return r;let n=await Promise.all(t.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),s=(0,wn.zipMap)(t,n);return r.map(o=>{let i=s.get(o.host);return i?this.options.useSRVRecords?Object.assign({},o,i):Object.assign({},o,{host:i}):o})}createScanStream(r,{key:t,options:n={}}){return new HQ.default({objectMode:!0,key:t,redis:this,command:r,...n})}};(0,VQ.default)(du,MO.EventEmitter);(0,$Q.addTransactionSupport)(du.prototype);dC.default=du});var ph=b(mC=>{"use strict";Object.defineProperty(mC,"__esModule",{value:!0});var JQ=vr(),ZQ=(0,JQ.Debug)("AbstractConnector"),fC=class{constructor(r){this.connecting=!1,this.disconnectTimeout=r}check(r){return!0}disconnect(){if(this.connecting=!1,this.stream){let r=this.stream,t=setTimeout(()=>{ZQ("stream %s:%s still open, destroying it",r.remoteAddress,r.remotePort),r.destroy()},this.disconnectTimeout);r.on("close",()=>clearTimeout(t)),r.end()}}};mC.default=fC});var LO=b(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0});var eY=require("net"),tY=require("tls"),rY=vr(),nY=ph(),hC=class extends nY.default{constructor(r){super(r.disconnectTimeout),this.options=r}connect(r){let{options:t}=this;this.connecting=!0;let n;return"path"in t&&t.path?n={path:t.path}:(n={},"port"in t&&t.port!=null&&(n.port=t.port),"host"in t&&t.host!=null&&(n.host=t.host),"family"in t&&t.family!=null&&(n.family=t.family)),t.tls&&Object.assign(n,t.tls),new Promise((s,o)=>{process.nextTick(()=>{if(!this.connecting){o(new Error(rY.CONNECTION_CLOSED_ERROR_MSG));return}try{t.tls?this.stream=(0,tY.connect)(n):this.stream=(0,eY.createConnection)(n)}catch(i){o(i);return}this.stream.once("error",i=>{this.firstError=i}),s(this.stream)})})}};pC.default=hC});var FO=b(yC=>{"use strict";Object.defineProperty(yC,"__esModule",{value:!0});function sY(e,r){return(e.host||"127.0.0.1")===(r.host||"127.0.0.1")&&(e.port||26379)===(r.port||26379)}var gC=class{constructor(r){this.cursor=0,this.sentinels=r.slice(0)}next(){let r=this.cursor>=this.sentinels.length;return{done:r,value:r?void 0:this.sentinels[this.cursor++]}}reset(r){r&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(r){for(let t=0;t<this.sentinels.length;t++)if(sY(r,this.sentinels[t]))return!1;return this.sentinels.push(r),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}};yC.default=gC});var UO=b(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.FailoverDetector=void 0;var oY=vr(),SC=(0,oY.Debug)("FailoverDetector"),qO="+switch-master",bC=class{constructor(r,t){this.isDisconnected=!1,this.connector=r,this.sentinels=t}cleanup(){this.isDisconnected=!0;for(let r of this.sentinels)r.client.disconnect()}async subscribe(){SC("Starting FailoverDetector");let r=[];for(let t of this.sentinels){let n=t.client.subscribe(qO).catch(s=>{SC("Failed to subscribe to failover messages on sentinel %s:%s (%s)",t.address.host||"127.0.0.1",t.address.port||26739,s.message)});r.push(n),t.client.on("message",s=>{!this.isDisconnected&&s===qO&&this.disconnect()})}await Promise.all(r)}disconnect(){this.isDisconnected=!0,SC("Failover detected, disconnecting"),this.connector.disconnect()}};gh.FailoverDetector=bC});var yh=b(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.SentinelIterator=void 0;var iY=require("net"),uu=vr(),aY=require("tls"),zO=FO();fu.SentinelIterator=zO.default;var cY=ph(),lY=Ho(),dY=UO(),Lc=(0,uu.Debug)("SentinelConnector"),xC=class extends cY.default{constructor(r){if(super(r.disconnectTimeout),this.options=r,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new zO.default(this.options.sentinels)}check(r){let t=!r.role||this.options.role===r.role;return t||(Lc("role invalid, expected %s, but got %s",this.options.role,r.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),t}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(r){this.connecting=!0,this.retryAttempts=0;let t,n=async()=>{let s=this.sentinelIterator.next();if(s.done){this.sentinelIterator.reset(!1);let l=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null,d=typeof l!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${l}ms.`;t&&(d+=` Last error: ${t.message}`),Lc(d);let u=new Error(d);if(typeof l=="number")return r("error",u),await new Promise(f=>setTimeout(f,l)),n();throw u}let o=null,i=null;try{o=await this.resolve(s.value)}catch(l){i=l}if(!this.connecting)throw new Error(uu.CONNECTION_CLOSED_ERROR_MSG);let c=s.value.host+":"+s.value.port;if(o)return Lc("resolved: %s:%s from sentinel %s",o.host,o.port,c),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(o,this.options.tls),this.stream=(0,aY.connect)(o),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,iY.createConnection)(o),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",l=>{this.firstError=l}),this.stream;{let l=i?"failed to connect to sentinel "+c+" because "+i.message:"connected to sentinel "+c+" successfully, but got an invalid reply: "+o;return Lc(l),r("sentinelError",new Error(l)),i&&(t=i),n()}};return n()}async updateSentinels(r){if(!this.options.updateSentinels)return;let t=await r.sentinel("sentinels",this.options.name);Array.isArray(t)&&(t.map(uu.packObject).forEach(n=>{if((n.flags?n.flags.split(","):[]).indexOf("disconnected")===-1&&n.ip&&n.port){let o=this.sentinelNatResolve(jO(n));this.sentinelIterator.add(o)&&Lc("adding sentinel %s:%s",o.host,o.port)}}),Lc("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(r){let t=await r.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(r),this.sentinelNatResolve(Array.isArray(t)?{host:t[0],port:Number(t[1])}:null)}async resolveSlave(r){let t=await r.sentinel("slaves",this.options.name);if(!Array.isArray(t))return null;let n=t.map(uu.packObject).filter(s=>s.flags&&!s.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(uY(n,this.options.preferredSlaves))}sentinelNatResolve(r){if(!r||!this.options.natMap)return r;let t=`${r.host}:${r.port}`,n=r;return typeof this.options.natMap=="function"?n=this.options.natMap(t)||r:typeof this.options.natMap=="object"&&(n=this.options.natMap[t]||r),n}connectToSentinel(r,t){return new lY.default({port:r.port||26379,host:r.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:r.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...t})}async resolve(r){let t=this.connectToSentinel(r);t.on("error",fY);try{return this.options.role==="slave"?await this.resolveSlave(t):await this.resolveMaster(t)}finally{t.disconnect()}}async initFailoverDetector(){var r;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);let t=[];for(;t.length<this.options.sentinelMaxConnections;){let{done:n,value:s}=this.sentinelIterator.next();if(n)break;let o=this.connectToSentinel(s,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});o.on("reconnecting",()=>{var i;(i=this.emitter)===null||i===void 0||i.emit("sentinelReconnecting")}),t.push({address:s,client:o})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new dY.FailoverDetector(this,t),await this.failoverDetector.subscribe(),(r=this.emitter)===null||r===void 0||r.emit("failoverSubscribed")}};fu.default=xC;function uY(e,r){if(e.length===0)return null;let t;if(typeof r=="function")t=r(e);else if(r!==null&&typeof r=="object"){let n=Array.isArray(r)?r:[r];n.sort((s,o)=>(s.prio||(s.prio=1),o.prio||(o.prio=1),s.prio<o.prio?-1:s.prio>o.prio?1:0));for(let s=0;s<n.length;s++){for(let o=0;o<e.length;o++){let i=e[o];if(i.ip===n[s].ip&&i.port===n[s].port){t=i;break}}if(t)break}}return t||(t=(0,uu.sample)(e)),jO(t)}function jO(e){return{host:e.ip,port:Number(e.port)}}function fY(){}});var HO=b(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.SentinelConnector=Fc.StandaloneConnector=void 0;var mY=LO();Fc.StandaloneConnector=mY.default;var hY=yh();Fc.SentinelConnector=hY.default});var $O=b(CC=>{"use strict";Object.defineProperty(CC,"__esModule",{value:!0});var pY=Wi(),EC=class extends pY.AbortError{constructor(r){let t=`Reached the max retries per request limit (which is ${r}). Refer to "maxRetriesPerRequest" option for details.`;super(t),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};CC.default=EC});var VO=b(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.MaxRetriesPerRequestError=void 0;var gY=$O();Sh.MaxRetriesPerRequestError=gY.default});var JO=b((jNe,YO)=>{"use strict";var kC=require("buffer").Buffer,yY=require("string_decoder").StringDecoder,_C=new yY,GO=Wi(),SY=GO.ReplyError,bY=GO.ParserError,ls=kC.allocUnsafe(32*1024),Qr=0,bh=null,mu=0,wC=0;function xY(e){let r=e.buffer.length-1;var t=e.offset,n=0,s=1;for(e.buffer[t]===45&&(s=-1,t++);t<r;){let o=e.buffer[t++];if(o===13)return e.offset=t+1,s*n;n=n*10+(o-48)}}function EY(e){let r=e.buffer.length-1;var t=e.offset,n=0,s="";for(e.buffer[t]===45&&(s+="-",t++);t<r;){var o=e.buffer[t++];if(o===13)return e.offset=t+1,n!==0&&(s+=n),s;n>429496728?(s+=n*10+(o-48),n=0):o===48&&n===0?s+=0:n=n*10+(o-48)}}function KO(e){let r=e.offset,t=e.buffer,n=t.length-1;for(var s=r;s<n;)if(t[s++]===13)return e.offset=s+1,e.optionReturnBuffers===!0?e.buffer.slice(r,s-1):e.buffer.toString("utf8",r,s-1)}function WO(e){let r=e.buffer.length-1;for(var t=e.offset,n=0;t<r;){let s=e.buffer[t++];if(s===13)return e.offset=t+1,n;n=n*10+(s-48)}}function CY(e){return e.optionStringNumbers===!0?EY(e):xY(e)}function _Y(e){let r=WO(e);if(r===void 0)return;if(r<0)return null;let t=e.offset+r;if(t+2>e.buffer.length){e.bigStrSize=t+2,e.totalChunkSize=e.buffer.length,e.bufferCache.push(e.buffer);return}let n=e.offset;return e.offset=t+2,e.optionReturnBuffers===!0?e.buffer.slice(n,t):e.buffer.toString("utf8",n,t)}function wY(e){var r=KO(e);if(r!==void 0)return e.optionReturnBuffers===!0&&(r=r.toString()),new SY(r)}function AY(e,r){let t=new bY("Protocol error, got "+JSON.stringify(String.fromCharCode(r))+" as reply type byte",JSON.stringify(e.buffer),e.offset);e.buffer=null,e.returnFatalError(t)}function vY(e){let r=WO(e);if(r===void 0)return;if(r<0)return null;let t=new Array(r);return XO(e,t,0)}function AC(e,r,t){e.arrayCache.push(r),e.arrayPos.push(t)}function vC(e){let r=e.arrayCache.pop();var t=e.arrayPos.pop();if(e.arrayCache.length){let n=vC(e);if(n===void 0){AC(e,r,t);return}r[t++]=n}return XO(e,r,t)}function XO(e,r,t){let n=e.buffer.length;for(;t<r.length;){let s=e.offset;if(e.offset>=n){AC(e,r,t);return}let o=QO(e,e.buffer[e.offset++]);if(o===void 0){e.arrayCache.length||e.bufferCache.length||(e.offset=s),AC(e,r,t);return}r[t]=o,t++}return r}function QO(e,r){switch(r){case 36:return _Y(e);case 43:return KO(e);case 42:return vY(e);case 58:return CY(e);case 45:return wY(e);default:return AY(e,r)}}function TY(){if(ls.length>50*1024)if(mu===1||wC>mu*2){let e=Math.floor(ls.length/10),r=e<Qr?Qr:e;Qr=0,ls=ls.slice(r,ls.length)}else wC++,mu--;else clearInterval(bh),mu=0,wC=0,bh=null}function kY(e){if(ls.length<e+Qr){let r=e>78643200?2:3;Qr>1024*1024*111&&(Qr=1024*1024*50),ls=kC.allocUnsafe(e*r+Qr),Qr=0,mu++,bh===null&&(bh=setInterval(TY,50))}}function RY(e){let r=e.bufferCache,t=e.offset;var n=r.length,s=e.bigStrSize-e.totalChunkSize;if(e.offset=s,s<=2){if(n===2)return r[0].toString("utf8",t,r[0].length+s-2);n--,s=r[r.length-2].length+s}for(var o=_C.write(r[0].slice(t)),i=1;i<n-1;i++)o+=_C.write(r[i]);return o+=_C.end(r[i].slice(0,s-2)),o}function IY(e){let r=e.bufferCache,t=e.offset,n=e.bigStrSize-t-2;var s=r.length,o=e.bigStrSize-e.totalChunkSize;if(e.offset=o,o<=2){if(s===2)return r[0].slice(t,r[0].length+o-2);s--,o=r[r.length-2].length+o}kY(n);let i=Qr;r[0].copy(ls,i,t,r[0].length),Qr+=r[0].length-t;for(var c=1;c<s-1;c++)r[c].copy(ls,Qr),Qr+=r[c].length;return r[c].copy(ls,Qr,0,o-2),Qr+=o-2,ls.slice(i,Qr)}var TC=class{constructor(r){if(!r)throw new TypeError("Options are mandatory.");if(typeof r.returnError!="function"||typeof r.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!r.returnBuffers),this.setStringNumbers(!!r.stringNumbers),this.returnError=r.returnError,this.returnFatalError=r.returnFatalError||r.returnError,this.returnReply=r.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(r){if(typeof r!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=r}setStringNumbers(r){if(typeof r!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=r}execute(r){if(this.buffer===null)this.buffer=r,this.offset=0;else if(this.bigStrSize===0){let n=this.buffer.length,s=n-this.offset,o=kC.allocUnsafe(s+r.length);if(this.buffer.copy(o,0,this.offset,n),r.copy(o,s,0,r.length),this.buffer=o,this.offset=0,this.arrayCache.length){let i=vC(this);if(i===void 0)return;this.returnReply(i)}}else if(this.totalChunkSize+r.length>=this.bigStrSize){this.bufferCache.push(r);var t=this.optionReturnBuffers?IY(this):RY(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=r,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=t,t=vC(this),t===void 0))return;this.returnReply(t)}else{this.bufferCache.push(r),this.totalChunkSize+=r.length;return}for(;this.offset<this.buffer.length;){let n=this.offset,s=this.buffer[this.offset++],o=QO(this,s);if(o===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=n);return}s===45?this.returnError(o):this.returnReply(o)}this.buffer=null}};YO.exports=TC});var eN=b((HNe,ZO)=>{"use strict";ZO.exports=JO()});var tN=b(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});var IC=class{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(r,t){this.set[RC(r)][t]=!0}del(r,t){delete this.set[RC(r)][t]}channels(r){return Object.keys(this.set[RC(r)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}};PC.default=IC;function RC(e){return e==="unsubscribe"?"subscribe":e==="punsubscribe"?"psubscribe":e==="sunsubscribe"?"ssubscribe":e}});var oN=b(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});var rN=no(),PY=vr(),OY=eN(),NY=tN(),BY=(0,PY.Debug)("dataHandler"),OC=class{constructor(r,t){this.redis=r;let n=new OY({stringNumbers:t.stringNumbers,returnBuffers:!0,returnError:s=>{this.returnError(s)},returnFatalError:s=>{this.returnFatalError(s)},returnReply:s=>{this.returnReply(s)}});r.stream.prependListener("data",s=>{n.execute(s)}),r.stream.resume()}returnFatalError(r){r.message+=". Please report this.",this.redis.recoverFromFatalError(r,r,{offlineQueue:!1})}returnError(r){let t=this.shiftCommand(r);if(t){if(r.command={name:t.command.name,args:t.command.args},t.command.name=="ssubscribe"&&r.message.includes("MOVED")){this.redis.emit("moved");return}this.redis.handleReconnection(r,t)}}returnReply(r){if(this.handleMonitorReply(r)||this.handleSubscriberReply(r))return;let t=this.shiftCommand(r);t&&(rN.default.checkFlag("ENTER_SUBSCRIBER_MODE",t.command.name)?(this.redis.condition.subscriber=new NY.default,this.redis.condition.subscriber.add(t.command.name,r[1].toString()),nN(t.command,r[2])||this.redis.commandQueue.unshift(t)):rN.default.checkFlag("EXIT_SUBSCRIBER_MODE",t.command.name)?sN(t.command,r[2])||this.redis.commandQueue.unshift(t):t.command.resolve(r))}handleSubscriberReply(r){if(!this.redis.condition.subscriber)return!1;let t=Array.isArray(r)?r[0].toString():null;switch(BY('receive reply "%s" in subscriber mode',t),t){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",r[1].toString(),r[2]?r[2].toString():""),this.redis.emit("messageBuffer",r[1],r[2]);break;case"pmessage":{let n=r[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",n,r[2].toString(),r[3].toString()),this.redis.emit("pmessageBuffer",n,r[2],r[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",r[1].toString(),r[2]?r[2].toString():""),this.redis.emit("smessageBuffer",r[1],r[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{let n=r[1].toString();this.redis.condition.subscriber.add(t,n);let s=this.shiftCommand(r);if(!s)return;nN(s.command,r[2])||this.redis.commandQueue.unshift(s);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{let n=r[1]?r[1].toString():null;n&&this.redis.condition.subscriber.del(t,n);let s=r[2];Number(s)===0&&(this.redis.condition.subscriber=!1);let o=this.shiftCommand(r);if(!o)return;sN(o.command,s)||this.redis.commandQueue.unshift(o);break}default:{let n=this.shiftCommand(r);if(!n)return;n.command.resolve(r)}}return!0}handleMonitorReply(r){if(this.redis.status!=="monitoring")return!1;let t=r.toString();if(t==="OK")return!1;let n=t.indexOf(" "),s=t.slice(0,n),o=t.indexOf('"'),i=t.slice(o+1,-1).split('" "').map(l=>l.replace(/\\"/g,'"')),c=t.slice(n+2,o-2).split(" ");return this.redis.emit("monitor",s,i,c[1],c[0]),!0}shiftCommand(r){let t=this.redis.commandQueue.shift();if(!t){let n="Command queue state error. If you can reproduce this, please report it.",s=new Error(n+(r instanceof Error?` Last error: ${r.message}`:` Last reply: ${r.toString()}`));return this.redis.emit("error",s),null}return t}};NC.default=OC;var $o=new WeakMap;function nN(e,r){let t=$o.has(e)?$o.get(e):e.args.length;return t-=1,t<=0?(e.resolve(r),$o.delete(e),!0):($o.set(e,t),!1)}function sN(e,r){let t=$o.has(e)?$o.get(e):e.args.length;return t===0?Number(r)===0?($o.delete(e),e.resolve(r),!0):!1:(t-=1,t<=0?(e.resolve(r),!0):($o.set(e,t),!1))}});var iN=b(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.readyHandler=Dn.errorHandler=Dn.closeHandler=Dn.connectHandler=void 0;var DY=Wi(),MY=no(),LY=VO(),vs=vr(),FY=oN(),Tr=(0,vs.Debug)("connection");function qY(e){return function(){var r;e.setStatus("connect"),e.resetCommandQueue();let t=!1,{connectionEpoch:n}=e;e.condition.auth&&e.auth(e.condition.auth,function(o){n===e.connectionEpoch&&o&&(o.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):o.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):o.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(t=!0,e.recoverFromFatalError(o,o)))}),e.condition.select&&e.select(e.condition.select).catch(o=>{e.silentEmit("error",o)}),new FY.default(e,{stringNumbers:e.options.stringNumbers});let s=[];e.options.connectionName&&(Tr("set the connection name [%s]",e.options.connectionName),s.push(e.client("setname",e.options.connectionName).catch(vs.noop))),e.options.disableClientInfo||(Tr("set the client info"),s.push((0,vs.getPackageMeta)().then(o=>e.client("SETINFO","LIB-VER",o.version).catch(vs.noop)).catch(vs.noop)),s.push(e.client("SETINFO","LIB-NAME",!((r=e.options)===null||r===void 0)&&r.clientInfoTag?`ioredis(${e.options.clientInfoTag})`:"ioredis").catch(vs.noop))),Promise.all(s).catch(vs.noop).finally(()=>{e.options.enableReadyCheck||Dn.readyHandler(e)(),e.options.enableReadyCheck&&e._readyCheck(function(o,i){n===e.connectionEpoch&&(o?t||e.recoverFromFatalError(new Error("Ready check failed: "+o.message),o):e.connector.check(i)?Dn.readyHandler(e)():e.disconnect(!0))})})}}Dn.connectHandler=qY;function BC(e){let r=new DY.AbortError("Command aborted due to connection close");return r.command={name:e.name,args:e.args},r}function UY(e){var r;let t=0;for(let n=0;n<e.length;){let s=(r=e.peekAt(n))===null||r===void 0?void 0:r.command,o=s.pipelineIndex;if((o===void 0||o===0)&&(t=0),o!==void 0&&o!==t++){e.remove(n,1),s.reject(BC(s));continue}n++}}function zY(e){var r;for(let t=0;t<e.length;){let n=(r=e.peekAt(t))===null||r===void 0?void 0:r.command;if(n.name==="multi")break;if(n.name==="exec"){e.remove(t,1),n.reject(BC(n));break}n.inTransaction?(e.remove(t,1),n.reject(BC(n))):t++}}function jY(e){return function(){let t=e.status;if(e.setStatus("close"),e.commandQueue.length&&UY(e.commandQueue),e.offlineQueue.length&&zY(e.offlineQueue),t==="ready"&&(e.prevCondition||(e.prevCondition=e.condition),e.commandQueue.length&&(e.prevCommandQueue=e.commandQueue)),e.manuallyClosing)return e.manuallyClosing=!1,Tr("skip reconnecting since the connection is manually closed."),r();if(typeof e.options.retryStrategy!="function")return Tr("skip reconnecting because `retryStrategy` is not a function"),r();let n=e.options.retryStrategy(++e.retryAttempts);if(typeof n!="number")return Tr("skip reconnecting because `retryStrategy` doesn't return a number"),r();Tr("reconnect in %sms",n),e.setStatus("reconnecting",n),e.reconnectTimeout=setTimeout(function(){e.reconnectTimeout=null,e.connect().catch(vs.noop)},n);let{maxRetriesPerRequest:s}=e.options;typeof s=="number"&&(s<0?Tr("maxRetriesPerRequest is negative, ignoring..."):e.retryAttempts%(s+1)===0&&(Tr("reach maxRetriesPerRequest limitation, flushing command queue..."),e.flushQueue(new LY.MaxRetriesPerRequestError(s))))};function r(){e.setStatus("end"),e.flushQueue(new Error(vs.CONNECTION_CLOSED_ERROR_MSG))}}Dn.closeHandler=jY;function HY(e){return function(r){Tr("error: %s",r),e.silentEmit("error",r)}}Dn.errorHandler=HY;function $Y(e){return function(){if(e.setStatus("ready"),e.retryAttempts=0,e.options.monitor){e.call("monitor").then(()=>e.setStatus("monitoring"),n=>e.emit("error",n));let{sendCommand:t}=e;e.sendCommand=function(n){return MY.default.checkFlag("VALID_IN_MONITOR_MODE",n.name)?t.call(e,n):(n.reject(new Error("Connection is in monitoring mode, can't process commands.")),n.promise)},e.once("close",function(){delete e.sendCommand});return}let r=e.prevCondition?e.prevCondition.select:e.condition.select;if(e.options.readOnly&&(Tr("set the connection to readonly mode"),e.readonly().catch(vs.noop)),e.prevCondition){let t=e.prevCondition;if(e.prevCondition=null,t.subscriber&&e.options.autoResubscribe){e.condition.select!==r&&(Tr("connect to db [%d]",r),e.select(r));let n=t.subscriber.channels("subscribe");n.length&&(Tr("subscribe %d channels",n.length),e.subscribe(n));let s=t.subscriber.channels("psubscribe");s.length&&(Tr("psubscribe %d channels",s.length),e.psubscribe(s));let o=t.subscriber.channels("ssubscribe");if(o.length){Tr("ssubscribe %s",o.length);for(let i of o)e.ssubscribe(i)}}}if(e.prevCommandQueue)if(e.options.autoResendUnfulfilledCommands)for(Tr("resend %d unfulfilled commands",e.prevCommandQueue.length);e.prevCommandQueue.length>0;){let t=e.prevCommandQueue.shift();t.select!==e.condition.select&&t.command.name!=="select"&&e.select(t.select),e.sendCommand(t.command,t.stream)}else e.prevCommandQueue=null;if(e.offlineQueue.length){Tr("send %d commands in offline queue",e.offlineQueue.length);let t=e.offlineQueue;for(e.resetOfflineQueue();t.length>0;){let n=t.shift();n.select!==e.condition.select&&n.command.name!=="select"&&e.select(n.select),e.sendCommand(n.command,n.stream)}}e.condition.select!==r&&(Tr("connect to db [%d]",r),e.select(r))}}Dn.readyHandler=$Y});var aN=b(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.DEFAULT_REDIS_OPTIONS=void 0;xh.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:0,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(e){return Math.min(e*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,disableClientInfo:!1,clientInfoTag:void 0,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(e){return Math.min(e*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10}});var Ho=b(MC=>{"use strict";Object.defineProperty(MC,"__esModule",{value:!0});var cN=kc(),dN=require("events"),DC=qo(),VY=uC(),hu=no(),GY=HO(),KY=yh(),Vo=iN(),WY=aN(),XY=ah(),QY=WE(),Yi=vr(),YY=QE(),JY=lh(),Go=eh(),lN=mh(),Ko=(0,Yi.Debug)("redis"),Wo=class e extends JY.default{constructor(r,t,n){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(r,t,n),dN.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){let s=new KY.default(this.options);s.emitter=this,this.connector=s}else this.connector=new GY.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([s,o])=>{this.defineCommand(s,o)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(Go.noop)}static createClient(...r){return new e(...r)}get autoPipelineQueueSize(){let r=0;for(let t of this._autoPipelines.values())r+=t.length;return r}connect(r){let t=new Promise((n,s)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){s(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");let{options:o}=this;this.condition={select:o.db,auth:o.username?[o.username,o.password]:o.password,subscriber:!1};let i=this;(0,DC.default)(this.connector.connect(function(c,l){i.silentEmit(c,l)}),function(c,l){if(c){i.flushQueue(c),i.silentEmit("error",c),s(c),i.setStatus("end");return}let d=o.tls?"secureConnect":"connect";if("sentinels"in o&&o.sentinels&&!o.enableTLSForSentinelMode&&(d="connect"),i.stream=l,o.noDelay&&l.setNoDelay(!0),typeof o.keepAlive=="number"&&(l.connecting?l.once(d,()=>{l.setKeepAlive(!0,o.keepAlive)}):l.setKeepAlive(!0,o.keepAlive)),l.connecting){if(l.once(d,Vo.connectHandler(i)),o.connectTimeout){let g=!1;l.setTimeout(o.connectTimeout,function(){if(g)return;l.setTimeout(0),l.destroy();let p=new Error("connect ETIMEDOUT");p.errorno="ETIMEDOUT",p.code="ETIMEDOUT",p.syscall="connect",Vo.errorHandler(i)(p)}),l.once(d,function(){g=!0,l.setTimeout(0)})}}else if(l.destroyed){let g=i.connector.firstError;g&&process.nextTick(()=>{Vo.errorHandler(i)(g)}),process.nextTick(Vo.closeHandler(i))}else process.nextTick(Vo.connectHandler(i));l.destroyed||(l.once("error",Vo.errorHandler(i)),l.once("close",Vo.closeHandler(i)));let u=function(){i.removeListener("close",f),n()};var f=function(){i.removeListener("ready",u),s(new Error(Yi.CONNECTION_CLOSED_ERROR_MSG))};i.once("ready",u),i.once("close",f)})});return(0,DC.default)(t,r)}disconnect(r=!1){r||(this.manuallyClosing=!0),this.reconnectTimeout&&!r&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?Vo.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(r){return new e({...this.options,...r})}get mode(){var r;return this.options.monitor?"monitor":!((r=this.condition)===null||r===void 0)&&r.subscriber?"subscriber":"normal"}monitor(r){let t=this.duplicate({monitor:!0,lazyConnect:!1});return(0,DC.default)(new Promise(function(n,s){t.once("error",s),t.once("monitoring",function(){n(t)})}),r)}sendCommand(r,t){var n,s;if(this.status==="wait"&&this.connect().catch(Go.noop),this.status==="end")return r.reject(new Error(Yi.CONNECTION_CLOSED_ERROR_MSG)),r.promise;if(!((n=this.condition)===null||n===void 0)&&n.subscriber&&!hu.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",r.name))return r.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),r.promise;typeof this.options.commandTimeout=="number"&&r.setTimeout(this.options.commandTimeout);let o=this.status==="ready"||!t&&this.status==="connect"&&(0,cN.exists)(r.name)&&((0,cN.hasFlag)(r.name,"loading")||hu.default.checkFlag("HANDSHAKE_COMMANDS",r.name));if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(o=!1):o=!1,o)Ko.enabled&&Ko("write command[%s]: %d -> %s(%o)",this._getDescription(),(s=this.condition)===null||s===void 0?void 0:s.select,r.name,r.args),t?"isPipeline"in t&&t.isPipeline?t.write(r.toWritable(t.destination.redis.stream)):t.write(r.toWritable(t)):this.stream.write(r.toWritable(this.stream)),this.commandQueue.push({command:r,stream:t,select:this.condition.select}),hu.default.checkFlag("WILL_DISCONNECT",r.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return r.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),r.promise;if(r.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),r.resolve(Buffer.from("OK")),r.promise;Ko.enabled&&Ko("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,r.name,r.args),this.offlineQueue.push({command:r,stream:t,select:this.condition.select})}if(r.name==="select"&&(0,Yi.isInt)(r.args[0])){let i=parseInt(r.args[0],10);this.condition.select!==i&&(this.condition.select=i,this.emit("select",i),Ko("switch to db [%d]",this.condition.select))}return r.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(r){return this.createScanStream("scan",{options:r})}scanBufferStream(r){return this.createScanStream("scanBuffer",{options:r})}sscanStream(r,t){return this.createScanStream("sscan",{key:r,options:t})}sscanBufferStream(r,t){return this.createScanStream("sscanBuffer",{key:r,options:t})}hscanStream(r,t){return this.createScanStream("hscan",{key:r,options:t})}hscanBufferStream(r,t){return this.createScanStream("hscanBuffer",{key:r,options:t})}zscanStream(r,t){return this.createScanStream("zscan",{key:r,options:t})}zscanBufferStream(r,t){return this.createScanStream("zscanBuffer",{key:r,options:t})}silentEmit(r,t){let n;if(!(r==="error"&&(n=t,this.status==="end"||this.manuallyClosing&&n instanceof Error&&(n.message===Yi.CONNECTION_CLOSED_ERROR_MSG||n.syscall==="connect"||n.syscall==="read"))))return this.listeners(r).length>0?this.emit.apply(this,arguments):(n&&n instanceof Error&&console.error("[ioredis] Unhandled error event:",n.stack),!1)}recoverFromFatalError(r,t,n){this.flushQueue(t,n),this.silentEmit("error",t),this.disconnect(!0)}handleReconnection(r,t){var n;let s=!1;switch(this.options.reconnectOnError&&!hu.default.checkFlag("IGNORE_RECONNECT_ON_ERROR",t.command.name)&&(s=this.options.reconnectOnError(r)),s){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),t.command.reject(r);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((n=this.condition)===null||n===void 0?void 0:n.select)!==t.select&&t.command.name!=="select"&&this.select(t.select),this.sendCommand(t.command);break;default:t.command.reject(r)}}_getDescription(){let r;return"path"in this.options&&this.options.path?r=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?r=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?r=this.options.host+":"+this.options.port:r="",this.options.connectionName&&(r+=` (${this.options.connectionName})`),r}resetCommandQueue(){this.commandQueue=new lN}resetOfflineQueue(){this.offlineQueue=new lN}parseOptions(...r){let t={},n=!1;for(let s=0;s<r.length;++s){let o=r[s];if(!(o===null||typeof o>"u"))if(typeof o=="object")(0,Go.defaults)(t,o);else if(typeof o=="string")(0,Go.defaults)(t,(0,Yi.parseURL)(o)),o.startsWith("rediss://")&&(n=!0);else if(typeof o=="number")t.port=o;else throw new Error("Invalid argument "+o)}n&&(0,Go.defaults)(t,{tls:!0}),(0,Go.defaults)(t,e.defaultOptions),typeof t.port=="string"&&(t.port=parseInt(t.port,10)),typeof t.db=="string"&&(t.db=parseInt(t.db,10)),this.options=(0,Yi.resolveTLSProfile)(t)}setStatus(r,t){Ko.enabled&&Ko("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",r),this.status=r,process.nextTick(this.emit.bind(this,r,t))}createScanStream(r,{key:t,options:n={}}){return new XY.default({objectMode:!0,key:t,redis:this,command:r,...n})}flushQueue(r,t){t=(0,Go.defaults)({},t,{offlineQueue:!0,commandQueue:!0});let n;if(t.offlineQueue)for(;n=this.offlineQueue.shift();)n.command.reject(r);if(t.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");n=this.commandQueue.shift();)n.command.reject(r)}_readyCheck(r){let t=this;this.info(function(n,s){if(n)return n.message&&n.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${n.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),r(null,{})):r(n);if(typeof s!="string")return r(null,s);let o={},i=s.split(`\r
`);for(let c=0;c<i.length;++c){let[l,...d]=i[c].split(":"),u=d.join(":");u&&(o[l]=u)}if(!o.loading||o.loading==="0")r(null,o);else{let c=(o.loading_eta_seconds||1)*1e3,l=t.options.maxLoadingRetryTime&&t.options.maxLoadingRetryTime<c?t.options.maxLoadingRetryTime:c;Ko("Redis server still loading, trying again in "+l+"ms"),setTimeout(function(){t._readyCheck(r)},l)}}).catch(Go.noop)}};Wo.Cluster=VY.default;Wo.Command=hu.default;Wo.defaultOptions=WY.DEFAULT_REDIS_OPTIONS;(0,YY.default)(Wo,dN.EventEmitter);(0,QY.addTransactionSupport)(Wo.prototype);MC.default=Wo});var mN=b((Et,fN)=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.print=Et.ReplyError=Et.SentinelIterator=Et.SentinelConnector=Et.AbstractConnector=Et.Pipeline=Et.ScanStream=Et.Command=Et.Cluster=Et.Redis=Et.default=void 0;Et=fN.exports=Ho().default;var ZY=Ho();Object.defineProperty(Et,"default",{enumerable:!0,get:function(){return ZY.default}});var eJ=Ho();Object.defineProperty(Et,"Redis",{enumerable:!0,get:function(){return eJ.default}});var tJ=uC();Object.defineProperty(Et,"Cluster",{enumerable:!0,get:function(){return tJ.default}});var rJ=no();Object.defineProperty(Et,"Command",{enumerable:!0,get:function(){return rJ.default}});var nJ=ah();Object.defineProperty(Et,"ScanStream",{enumerable:!0,get:function(){return nJ.default}});var sJ=VE();Object.defineProperty(Et,"Pipeline",{enumerable:!0,get:function(){return sJ.default}});var oJ=ph();Object.defineProperty(Et,"AbstractConnector",{enumerable:!0,get:function(){return oJ.default}});var uN=yh();Object.defineProperty(Et,"SentinelConnector",{enumerable:!0,get:function(){return uN.default}});Object.defineProperty(Et,"SentinelIterator",{enumerable:!0,get:function(){return uN.SentinelIterator}});Et.ReplyError=Wi().ReplyError;Object.defineProperty(Et,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(e){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function iJ(e,r){console.log(e?"Error: "+e:"Reply: "+r)}Et.print=iJ});var qc=b((LC,pN)=>{var Eh=require("buffer"),Ts=Eh.Buffer;function hN(e,r){for(var t in e)r[t]=e[t]}Ts.from&&Ts.alloc&&Ts.allocUnsafe&&Ts.allocUnsafeSlow?pN.exports=Eh:(hN(Eh,LC),LC.Buffer=Ji);function Ji(e,r,t){return Ts(e,r,t)}Ji.prototype=Object.create(Ts.prototype);hN(Ts,Ji);Ji.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Ts(e,r,t)};Ji.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Ts(e);return r!==void 0?typeof t=="string"?n.fill(r,t):n.fill(r):n.fill(0),n};Ji.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Ts(e)};Ji.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Eh.SlowBuffer(e)}});var FC=b((tBe,gN)=>{var Ch=qc().Buffer,cJ=require("stream"),lJ=require("util");function _h(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=Ch.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=Ch.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}lJ.inherits(_h,cJ);_h.prototype.write=function(r){this.buffer=Ch.concat([this.buffer,Ch.from(r)]),this.emit("data",r)};_h.prototype.end=function(r){r&&this.write(r),this.emit("end",r),this.emit("close"),this.writable=!1,this.readable=!1};gN.exports=_h});var SN=b((rBe,yN)=>{"use strict";function qC(e){var r=(e/8|0)+(e%8===0?0:1);return r}var dJ={ES256:qC(256),ES384:qC(384),ES512:qC(521)};function uJ(e){var r=dJ[e];if(r)return r;throw new Error('Unknown algorithm "'+e+'"')}yN.exports=uJ});var AN=b((nBe,wN)=>{"use strict";var wh=qc().Buffer,xN=SN(),Ah=128,EN=0,fJ=32,mJ=16,hJ=2,CN=mJ|fJ|EN<<6,vh=hJ|EN<<6;function pJ(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _N(e){if(wh.isBuffer(e))return e;if(typeof e=="string")return wh.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function gJ(e,r){e=_N(e);var t=xN(r),n=t+1,s=e.length,o=0;if(e[o++]!==CN)throw new Error('Could not find expected "seq"');var i=e[o++];if(i===(Ah|1)&&(i=e[o++]),s-o<i)throw new Error('"seq" specified length of "'+i+'", only "'+(s-o)+'" remaining');if(e[o++]!==vh)throw new Error('Could not find expected "int" for "r"');var c=e[o++];if(s-o-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(s-o-2)+'" available');if(n<c)throw new Error('"r" specified length of "'+c+'", max of "'+n+'" is acceptable');var l=o;if(o+=c,e[o++]!==vh)throw new Error('Could not find expected "int" for "s"');var d=e[o++];if(s-o!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(s-o)+'"');if(n<d)throw new Error('"s" specified length of "'+d+'", max of "'+n+'" is acceptable');var u=o;if(o+=d,o!==s)throw new Error('Expected to consume entire buffer, but "'+(s-o)+'" bytes remain');var f=t-c,g=t-d,p=wh.allocUnsafe(f+c+g+d);for(o=0;o<f;++o)p[o]=0;e.copy(p,o,l+Math.max(-f,0),l+c),o=t;for(var y=o;o<y+g;++o)p[o]=0;return e.copy(p,o,u+Math.max(-g,0),u+d),p=p.toString("base64"),p=pJ(p),p}function bN(e,r,t){for(var n=0;r+n<t&&e[r+n]===0;)++n;var s=e[r+n]>=Ah;return s&&--n,n}function yJ(e,r){e=_N(e);var t=xN(r),n=e.length;if(n!==t*2)throw new TypeError('"'+r+'" signatures must be "'+t*2+'" bytes, saw "'+n+'"');var s=bN(e,0,t),o=bN(e,t,e.length),i=t-s,c=t-o,l=2+i+1+1+c,d=l<Ah,u=wh.allocUnsafe((d?2:3)+l),f=0;return u[f++]=CN,d?u[f++]=l:(u[f++]=Ah|1,u[f++]=l&255),u[f++]=vh,u[f++]=i,s<0?(u[f++]=0,f+=e.copy(u,f,0,t)):f+=e.copy(u,f,s,t),u[f++]=vh,u[f++]=c,o<0?(u[f++]=0,e.copy(u,f,t)):e.copy(u,f,t+o),u}wN.exports={derToJose:gJ,joseToDer:yJ}});var TN=b((sBe,vN)=>{"use strict";var pu=require("buffer").Buffer,UC=require("buffer").SlowBuffer;vN.exports=Th;function Th(e,r){if(!pu.isBuffer(e)||!pu.isBuffer(r)||e.length!==r.length)return!1;for(var t=0,n=0;n<e.length;n++)t|=e[n]^r[n];return t===0}Th.install=function(){pu.prototype.equal=UC.prototype.equal=function(r){return Th(this,r)}};var SJ=pu.prototype.equal,bJ=UC.prototype.equal;Th.restore=function(){pu.prototype.equal=SJ,UC.prototype.equal=bJ}});var $C=b((oBe,MN)=>{var zc=qc().Buffer,Mn=require("crypto"),RN=AN(),kN=require("util"),xJ=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,gu="secret must be a string or buffer",Uc="key must be a string or a buffer",EJ="key must be a string, a buffer or an object",jC=typeof Mn.createPublicKey=="function";jC&&(Uc+=" or a KeyObject",gu+="or a KeyObject");function IN(e){if(!zc.isBuffer(e)&&typeof e!="string"&&(!jC||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw ds(Uc)}function PN(e){if(!zc.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw ds(EJ)}function CJ(e){if(!zc.isBuffer(e)){if(typeof e=="string")return e;if(!jC||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw ds(gu)}}function HC(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ON(e){e=e.toString();var r=4-e.length%4;if(r!==4)for(var t=0;t<r;++t)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function ds(e){var r=[].slice.call(arguments,1),t=kN.format.bind(kN,e).apply(null,r);return new TypeError(t)}function _J(e){return zc.isBuffer(e)||typeof e=="string"}function yu(e){return _J(e)||(e=JSON.stringify(e)),e}function NN(e){return function(t,n){CJ(n),t=yu(t);var s=Mn.createHmac("sha"+e,n),o=(s.update(t),s.digest("base64"));return HC(o)}}var zC,wJ="timingSafeEqual"in Mn?function(r,t){return r.byteLength!==t.byteLength?!1:Mn.timingSafeEqual(r,t)}:function(r,t){return zC||(zC=TN()),zC(r,t)};function AJ(e){return function(t,n,s){var o=NN(e)(t,s);return wJ(zc.from(n),zc.from(o))}}function BN(e){return function(t,n){PN(n),t=yu(t);var s=Mn.createSign("RSA-SHA"+e),o=(s.update(t),s.sign(n,"base64"));return HC(o)}}function DN(e){return function(t,n,s){IN(s),t=yu(t),n=ON(n);var o=Mn.createVerify("RSA-SHA"+e);return o.update(t),o.verify(s,n,"base64")}}function vJ(e){return function(t,n){PN(n),t=yu(t);var s=Mn.createSign("RSA-SHA"+e),o=(s.update(t),s.sign({key:n,padding:Mn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Mn.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return HC(o)}}function TJ(e){return function(t,n,s){IN(s),t=yu(t),n=ON(n);var o=Mn.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:s,padding:Mn.constants.RSA_PKCS1_PSS_PADDING,saltLength:Mn.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function kJ(e){var r=BN(e);return function(){var n=r.apply(null,arguments);return n=RN.derToJose(n,"ES"+e),n}}function RJ(e){var r=DN(e);return function(n,s,o){s=RN.joseToDer(s,"ES"+e).toString("base64");var i=r(n,s,o);return i}}function IJ(){return function(){return""}}function PJ(){return function(r,t){return t===""}}MN.exports=function(r){var t={hs:NN,rs:BN,ps:vJ,es:kJ,none:IJ},n={hs:AJ,rs:DN,ps:TJ,es:RJ,none:PJ},s=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw ds(xJ,r);var o=(s[1]||s[3]).toLowerCase(),i=s[2];return{sign:t[o](i),verify:n[o](i)}}});var VC=b((iBe,LN)=>{var OJ=require("buffer").Buffer;LN.exports=function(r){return typeof r=="string"?r:typeof r=="number"||OJ.isBuffer(r)?r.toString():JSON.stringify(r)}});var HN=b((aBe,jN)=>{var NJ=qc().Buffer,FN=FC(),BJ=$C(),DJ=require("stream"),qN=VC(),GC=require("util");function UN(e,r){return NJ.from(e,r).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function MJ(e,r,t){t=t||"utf8";var n=UN(qN(e),"binary"),s=UN(qN(r),t);return GC.format("%s.%s",n,s)}function zN(e){var r=e.header,t=e.payload,n=e.secret||e.privateKey,s=e.encoding,o=BJ(r.alg),i=MJ(r,t,s),c=o.sign(i,n);return GC.format("%s.%s",i,c)}function kh(e){var r=e.secret||e.privateKey||e.key,t=new FN(r);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new FN(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}GC.inherits(kh,DJ);kh.prototype.sign=function(){try{var r=zN({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",r),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}};kh.sign=zN;jN.exports=kh});var ZN=b((cBe,JN)=>{var VN=qc().Buffer,$N=FC(),LJ=$C(),FJ=require("stream"),GN=VC(),qJ=require("util"),UJ=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function zJ(e){return Object.prototype.toString.call(e)==="[object Object]"}function jJ(e){if(zJ(e))return e;try{return JSON.parse(e)}catch{return}}function KN(e){var r=e.split(".",1)[0];return jJ(VN.from(r,"base64").toString("binary"))}function HJ(e){return e.split(".",2).join(".")}function WN(e){return e.split(".")[2]}function $J(e,r){r=r||"utf8";var t=e.split(".")[1];return VN.from(t,"base64").toString(r)}function XN(e){return UJ.test(e)&&!!KN(e)}function QN(e,r,t){if(!r){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}e=GN(e);var s=WN(e),o=HJ(e),i=LJ(r);return i.verify(o,s,t)}function YN(e,r){if(r=r||{},e=GN(e),!XN(e))return null;var t=KN(e);if(!t)return null;var n=$J(e);return(t.typ==="JWT"||r.json)&&(n=JSON.parse(n,r.encoding)),{header:t,payload:n,signature:WN(e)}}function jc(e){e=e||{};var r=e.secret||e.publicKey||e.key,t=new $N(r);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new $N(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}qJ.inherits(jc,FJ);jc.prototype.verify=function(){try{var r=QN(this.signature.buffer,this.algorithm,this.key.buffer),t=YN(this.signature.buffer,this.encoding);return this.emit("done",r,t),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}};jc.decode=YN;jc.isValid=XN;jc.verify=QN;JN.exports=jc});var Ih=b(Xo=>{var eB=HN(),Rh=ZN(),VJ=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Xo.ALGORITHMS=VJ;Xo.sign=eB.sign;Xo.verify=Rh.verify;Xo.decode=Rh.decode;Xo.isValid=Rh.isValid;Xo.createSign=function(r){return new eB(r)};Xo.createVerify=function(r){return new Rh(r)}});var KC=b((dBe,tB)=>{var GJ=Ih();tB.exports=function(e,r){r=r||{};var t=GJ.decode(e,r);if(!t)return null;var n=t.payload;if(typeof n=="string")try{var s=JSON.parse(n);s!==null&&typeof s=="object"&&(n=s)}catch{}return r.complete===!0?{header:t.header,payload:n,signature:t.signature}:n}});var Su=b((uBe,rB)=>{var Ph=function(e,r){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,r&&(this.inner=r)};Ph.prototype=Object.create(Error.prototype);Ph.prototype.constructor=Ph;rB.exports=Ph});var WC=b((fBe,sB)=>{var nB=Su(),Oh=function(e,r){nB.call(this,e),this.name="NotBeforeError",this.date=r};Oh.prototype=Object.create(nB.prototype);Oh.prototype.constructor=Oh;sB.exports=Oh});var XC=b((mBe,iB)=>{var oB=Su(),Nh=function(e,r){oB.call(this,e),this.name="TokenExpiredError",this.expiredAt=r};Nh.prototype=Object.create(oB.prototype);Nh.prototype.constructor=Nh;iB.exports=Nh});var QC=b((hBe,aB)=>{var KJ=TE();aB.exports=function(e,r){var t=r||Math.floor(Date.now()/1e3);if(typeof e=="string"){var n=KJ(e);return typeof n>"u"?void 0:Math.floor(t+n/1e3)}else return typeof e=="number"?t+e:void 0}});var bu=b((pBe,cB)=>{"use strict";var WJ="2.0.0",XJ=Number.MAX_SAFE_INTEGER||9007199254740991,QJ=16,YJ=250,JJ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];cB.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:QJ,MAX_SAFE_BUILD_LENGTH:YJ,MAX_SAFE_INTEGER:XJ,RELEASE_TYPES:JJ,SEMVER_SPEC_VERSION:WJ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xu=b((gBe,lB)=>{"use strict";var ZJ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};lB.exports=ZJ});var Hc=b((ks,dB)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:YC,MAX_SAFE_BUILD_LENGTH:eZ,MAX_LENGTH:tZ}=bu(),rZ=xu();ks=dB.exports={};var nZ=ks.re=[],sZ=ks.safeRe=[],se=ks.src=[],oZ=ks.safeSrc=[],oe=ks.t={},iZ=0,JC="[a-zA-Z0-9-]",aZ=[["\\s",1],["\\d",tZ],[JC,eZ]],cZ=e=>{for(let[r,t]of aZ)e=e.split(`${r}*`).join(`${r}{0,${t}}`).split(`${r}+`).join(`${r}{1,${t}}`);return e},Ae=(e,r,t)=>{let n=cZ(r),s=iZ++;rZ(e,s,r),oe[e]=s,se[s]=r,oZ[s]=n,nZ[s]=new RegExp(r,t?"g":void 0),sZ[s]=new RegExp(n,t?"g":void 0)};Ae("NUMERICIDENTIFIER","0|[1-9]\\d*");Ae("NUMERICIDENTIFIERLOOSE","\\d+");Ae("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${JC}*`);Ae("MAINVERSION",`(${se[oe.NUMERICIDENTIFIER]})\\.(${se[oe.NUMERICIDENTIFIER]})\\.(${se[oe.NUMERICIDENTIFIER]})`);Ae("MAINVERSIONLOOSE",`(${se[oe.NUMERICIDENTIFIERLOOSE]})\\.(${se[oe.NUMERICIDENTIFIERLOOSE]})\\.(${se[oe.NUMERICIDENTIFIERLOOSE]})`);Ae("PRERELEASEIDENTIFIER",`(?:${se[oe.NONNUMERICIDENTIFIER]}|${se[oe.NUMERICIDENTIFIER]})`);Ae("PRERELEASEIDENTIFIERLOOSE",`(?:${se[oe.NONNUMERICIDENTIFIER]}|${se[oe.NUMERICIDENTIFIERLOOSE]})`);Ae("PRERELEASE",`(?:-(${se[oe.PRERELEASEIDENTIFIER]}(?:\\.${se[oe.PRERELEASEIDENTIFIER]})*))`);Ae("PRERELEASELOOSE",`(?:-?(${se[oe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${se[oe.PRERELEASEIDENTIFIERLOOSE]})*))`);Ae("BUILDIDENTIFIER",`${JC}+`);Ae("BUILD",`(?:\\+(${se[oe.BUILDIDENTIFIER]}(?:\\.${se[oe.BUILDIDENTIFIER]})*))`);Ae("FULLPLAIN",`v?${se[oe.MAINVERSION]}${se[oe.PRERELEASE]}?${se[oe.BUILD]}?`);Ae("FULL",`^${se[oe.FULLPLAIN]}$`);Ae("LOOSEPLAIN",`[v=\\s]*${se[oe.MAINVERSIONLOOSE]}${se[oe.PRERELEASELOOSE]}?${se[oe.BUILD]}?`);Ae("LOOSE",`^${se[oe.LOOSEPLAIN]}$`);Ae("GTLT","((?:<|>)?=?)");Ae("XRANGEIDENTIFIERLOOSE",`${se[oe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ae("XRANGEIDENTIFIER",`${se[oe.NUMERICIDENTIFIER]}|x|X|\\*`);Ae("XRANGEPLAIN",`[v=\\s]*(${se[oe.XRANGEIDENTIFIER]})(?:\\.(${se[oe.XRANGEIDENTIFIER]})(?:\\.(${se[oe.XRANGEIDENTIFIER]})(?:${se[oe.PRERELEASE]})?${se[oe.BUILD]}?)?)?`);Ae("XRANGEPLAINLOOSE",`[v=\\s]*(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${se[oe.XRANGEIDENTIFIERLOOSE]})(?:${se[oe.PRERELEASELOOSE]})?${se[oe.BUILD]}?)?)?`);Ae("XRANGE",`^${se[oe.GTLT]}\\s*${se[oe.XRANGEPLAIN]}$`);Ae("XRANGELOOSE",`^${se[oe.GTLT]}\\s*${se[oe.XRANGEPLAINLOOSE]}$`);Ae("COERCEPLAIN",`(^|[^\\d])(\\d{1,${YC}})(?:\\.(\\d{1,${YC}}))?(?:\\.(\\d{1,${YC}}))?`);Ae("COERCE",`${se[oe.COERCEPLAIN]}(?:$|[^\\d])`);Ae("COERCEFULL",se[oe.COERCEPLAIN]+`(?:${se[oe.PRERELEASE]})?(?:${se[oe.BUILD]})?(?:$|[^\\d])`);Ae("COERCERTL",se[oe.COERCE],!0);Ae("COERCERTLFULL",se[oe.COERCEFULL],!0);Ae("LONETILDE","(?:~>?)");Ae("TILDETRIM",`(\\s*)${se[oe.LONETILDE]}\\s+`,!0);ks.tildeTrimReplace="$1~";Ae("TILDE",`^${se[oe.LONETILDE]}${se[oe.XRANGEPLAIN]}$`);Ae("TILDELOOSE",`^${se[oe.LONETILDE]}${se[oe.XRANGEPLAINLOOSE]}$`);Ae("LONECARET","(?:\\^)");Ae("CARETTRIM",`(\\s*)${se[oe.LONECARET]}\\s+`,!0);ks.caretTrimReplace="$1^";Ae("CARET",`^${se[oe.LONECARET]}${se[oe.XRANGEPLAIN]}$`);Ae("CARETLOOSE",`^${se[oe.LONECARET]}${se[oe.XRANGEPLAINLOOSE]}$`);Ae("COMPARATORLOOSE",`^${se[oe.GTLT]}\\s*(${se[oe.LOOSEPLAIN]})$|^$`);Ae("COMPARATOR",`^${se[oe.GTLT]}\\s*(${se[oe.FULLPLAIN]})$|^$`);Ae("COMPARATORTRIM",`(\\s*)${se[oe.GTLT]}\\s*(${se[oe.LOOSEPLAIN]}|${se[oe.XRANGEPLAIN]})`,!0);ks.comparatorTrimReplace="$1$2$3";Ae("HYPHENRANGE",`^\\s*(${se[oe.XRANGEPLAIN]})\\s+-\\s+(${se[oe.XRANGEPLAIN]})\\s*$`);Ae("HYPHENRANGELOOSE",`^\\s*(${se[oe.XRANGEPLAINLOOSE]})\\s+-\\s+(${se[oe.XRANGEPLAINLOOSE]})\\s*$`);Ae("STAR","(<|>)?=?\\s*\\*");Ae("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ae("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Bh=b((yBe,uB)=>{"use strict";var lZ=Object.freeze({loose:!0}),dZ=Object.freeze({}),uZ=e=>e?typeof e!="object"?lZ:e:dZ;uB.exports=uZ});var ZC=b((SBe,hB)=>{"use strict";var fB=/^[0-9]+$/,mB=(e,r)=>{if(typeof e=="number"&&typeof r=="number")return e===r?0:e<r?-1:1;let t=fB.test(e),n=fB.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1},fZ=(e,r)=>mB(r,e);hB.exports={compareIdentifiers:mB,rcompareIdentifiers:fZ}});var Dr=b((bBe,gB)=>{"use strict";var Dh=xu(),{MAX_LENGTH:pB,MAX_SAFE_INTEGER:Mh}=bu(),{safeRe:Lh,t:Fh}=Hc(),mZ=Bh(),{compareIdentifiers:e_}=ZC(),t_=class e{constructor(r,t){if(t=mZ(t),r instanceof e){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>pB)throw new TypeError(`version is longer than ${pB} characters`);Dh("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=r.trim().match(t.loose?Lh[Fh.LOOSE]:Lh[Fh.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<Mh)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(Dh("SemVer.compare",this.version,this.options,r),!(r instanceof e)){if(typeof r=="string"&&r===this.version)return 0;r=new e(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof e||(r=new e(r,this.options)),this.major<r.major?-1:this.major>r.major?1:this.minor<r.minor?-1:this.minor>r.minor?1:this.patch<r.patch?-1:this.patch>r.patch?1:0}comparePre(r){if(r instanceof e||(r=new e(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=r.prerelease[t];if(Dh("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return e_(n,s)}while(++t)}compareBuild(r){r instanceof e||(r=new e(r,this.options));let t=0;do{let n=this.build[t],s=r.build[t];if(Dh("build compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return e_(n,s)}while(++t)}inc(r,t,n){if(r.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let s=`-${t}`.match(this.options.loose?Lh[Fh.PRERELEASELOOSE]:Lh[Fh.PRERELEASE]);if(!s||s[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let o=[t,s];n===!1&&(o=[t]),e_(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};gB.exports=t_});var Zi=b((xBe,SB)=>{"use strict";var yB=Dr(),hZ=(e,r,t=!1)=>{if(e instanceof yB)return e;try{return new yB(e,r)}catch(n){if(!t)return null;throw n}};SB.exports=hZ});var xB=b((EBe,bB)=>{"use strict";var pZ=Zi(),gZ=(e,r)=>{let t=pZ(e,r);return t?t.version:null};bB.exports=gZ});var CB=b((CBe,EB)=>{"use strict";var yZ=Zi(),SZ=(e,r)=>{let t=yZ(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};EB.exports=SZ});var AB=b((_Be,wB)=>{"use strict";var _B=Dr(),bZ=(e,r,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new _B(e instanceof _B?e.version:e,t).inc(r,n,s).version}catch{return null}};wB.exports=bZ});var kB=b((wBe,TB)=>{"use strict";var vB=Zi(),xZ=(e,r)=>{let t=vB(e,null,!0),n=vB(r,null,!0),s=t.compare(n);if(s===0)return null;let o=s>0,i=o?t:n,c=o?n:t,l=!!i.prerelease.length;if(!!c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}let u=l?"pre":"";return t.major!==n.major?u+"major":t.minor!==n.minor?u+"minor":t.patch!==n.patch?u+"patch":"prerelease"};TB.exports=xZ});var IB=b((ABe,RB)=>{"use strict";var EZ=Dr(),CZ=(e,r)=>new EZ(e,r).major;RB.exports=CZ});var OB=b((vBe,PB)=>{"use strict";var _Z=Dr(),wZ=(e,r)=>new _Z(e,r).minor;PB.exports=wZ});var BB=b((TBe,NB)=>{"use strict";var AZ=Dr(),vZ=(e,r)=>new AZ(e,r).patch;NB.exports=vZ});var MB=b((kBe,DB)=>{"use strict";var TZ=Zi(),kZ=(e,r)=>{let t=TZ(e,r);return t&&t.prerelease.length?t.prerelease:null};DB.exports=kZ});var Ln=b((RBe,FB)=>{"use strict";var LB=Dr(),RZ=(e,r,t)=>new LB(e,t).compare(new LB(r,t));FB.exports=RZ});var UB=b((IBe,qB)=>{"use strict";var IZ=Ln(),PZ=(e,r,t)=>IZ(r,e,t);qB.exports=PZ});var jB=b((PBe,zB)=>{"use strict";var OZ=Ln(),NZ=(e,r)=>OZ(e,r,!0);zB.exports=NZ});var qh=b((OBe,$B)=>{"use strict";var HB=Dr(),BZ=(e,r,t)=>{let n=new HB(e,t),s=new HB(r,t);return n.compare(s)||n.compareBuild(s)};$B.exports=BZ});var GB=b((NBe,VB)=>{"use strict";var DZ=qh(),MZ=(e,r)=>e.sort((t,n)=>DZ(t,n,r));VB.exports=MZ});var WB=b((BBe,KB)=>{"use strict";var LZ=qh(),FZ=(e,r)=>e.sort((t,n)=>LZ(n,t,r));KB.exports=FZ});var Eu=b((DBe,XB)=>{"use strict";var qZ=Ln(),UZ=(e,r,t)=>qZ(e,r,t)>0;XB.exports=UZ});var Uh=b((MBe,QB)=>{"use strict";var zZ=Ln(),jZ=(e,r,t)=>zZ(e,r,t)<0;QB.exports=jZ});var r_=b((LBe,YB)=>{"use strict";var HZ=Ln(),$Z=(e,r,t)=>HZ(e,r,t)===0;YB.exports=$Z});var n_=b((FBe,JB)=>{"use strict";var VZ=Ln(),GZ=(e,r,t)=>VZ(e,r,t)!==0;JB.exports=GZ});var zh=b((qBe,ZB)=>{"use strict";var KZ=Ln(),WZ=(e,r,t)=>KZ(e,r,t)>=0;ZB.exports=WZ});var jh=b((UBe,e3)=>{"use strict";var XZ=Ln(),QZ=(e,r,t)=>XZ(e,r,t)<=0;e3.exports=QZ});var s_=b((zBe,t3)=>{"use strict";var YZ=r_(),JZ=n_(),ZZ=Eu(),eee=zh(),tee=Uh(),ree=jh(),nee=(e,r,t,n)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return YZ(e,t,n);case"!=":return JZ(e,t,n);case">":return ZZ(e,t,n);case">=":return eee(e,t,n);case"<":return tee(e,t,n);case"<=":return ree(e,t,n);default:throw new TypeError(`Invalid operator: ${r}`)}};t3.exports=nee});var n3=b((jBe,r3)=>{"use strict";var see=Dr(),oee=Zi(),{safeRe:Hh,t:$h}=Hc(),iee=(e,r)=>{if(e instanceof see)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let t=null;if(!r.rtl)t=e.match(r.includePrerelease?Hh[$h.COERCEFULL]:Hh[$h.COERCE]);else{let l=r.includePrerelease?Hh[$h.COERCERTLFULL]:Hh[$h.COERCERTL],d;for(;(d=l.exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||d.index+d[0].length!==t.index+t[0].length)&&(t=d),l.lastIndex=d.index+d[1].length+d[2].length;l.lastIndex=-1}if(t===null)return null;let n=t[2],s=t[3]||"0",o=t[4]||"0",i=r.includePrerelease&&t[5]?`-${t[5]}`:"",c=r.includePrerelease&&t[6]?`+${t[6]}`:"";return oee(`${n}.${s}.${o}${i}${c}`,r)};r3.exports=iee});var o3=b((HBe,s3)=>{"use strict";var o_=class{constructor(){this.max=1e3,this.map=new Map}get(r){let t=this.map.get(r);if(t!==void 0)return this.map.delete(r),this.map.set(r,t),t}delete(r){return this.map.delete(r)}set(r,t){if(!this.delete(r)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(r,t)}return this}};s3.exports=o_});var Fn=b(($Be,l3)=>{"use strict";var aee=/\s+/g,i_=class e{constructor(r,t){if(t=lee(t),r instanceof e)return r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease?r:new e(r.raw,t);if(r instanceof a_)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=r.trim().replace(aee," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!a3(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&gee(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let r=0;r<this.set.length;r++){r>0&&(this.formatted+="||");let t=this.set[r];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(r){let n=((this.options.includePrerelease&&hee)|(this.options.loose&&pee))+":"+r,s=i3.get(n);if(s)return s;let o=this.options.loose,i=o?Yr[Mr.HYPHENRANGELOOSE]:Yr[Mr.HYPHENRANGE];r=r.replace(i,vee(this.options.includePrerelease)),kt("hyphen replace",r),r=r.replace(Yr[Mr.COMPARATORTRIM],uee),kt("comparator trim",r),r=r.replace(Yr[Mr.TILDETRIM],fee),kt("tilde trim",r),r=r.replace(Yr[Mr.CARETTRIM],mee),kt("caret trim",r);let c=r.split(" ").map(f=>yee(f,this.options)).join(" ").split(/\s+/).map(f=>Aee(f,this.options));o&&(c=c.filter(f=>(kt("loose invalid filter",f,this.options),!!f.match(Yr[Mr.COMPARATORLOOSE])))),kt("range list",c);let l=new Map,d=c.map(f=>new a_(f,this.options));for(let f of d){if(a3(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return i3.set(n,u),u}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>c3(n,t)&&r.set.some(s=>c3(s,t)&&n.every(o=>s.every(i=>o.intersects(i,t)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new dee(r,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Tee(this.set[t],r,this.options))return!0;return!1}};l3.exports=i_;var cee=o3(),i3=new cee,lee=Bh(),a_=Cu(),kt=xu(),dee=Dr(),{safeRe:Yr,t:Mr,comparatorTrimReplace:uee,tildeTrimReplace:fee,caretTrimReplace:mee}=Hc(),{FLAG_INCLUDE_PRERELEASE:hee,FLAG_LOOSE:pee}=bu(),a3=e=>e.value==="<0.0.0-0",gee=e=>e.value==="",c3=(e,r)=>{let t=!0,n=e.slice(),s=n.pop();for(;t&&n.length;)t=n.every(o=>s.intersects(o,r)),s=n.pop();return t},yee=(e,r)=>(e=e.replace(Yr[Mr.BUILD],""),kt("comp",e,r),e=xee(e,r),kt("caret",e),e=See(e,r),kt("tildes",e),e=Cee(e,r),kt("xrange",e),e=wee(e,r),kt("stars",e),e),Jr=e=>!e||e.toLowerCase()==="x"||e==="*",See=(e,r)=>e.trim().split(/\s+/).map(t=>bee(t,r)).join(" "),bee=(e,r)=>{let t=r.loose?Yr[Mr.TILDELOOSE]:Yr[Mr.TILDE];return e.replace(t,(n,s,o,i,c)=>{kt("tilde",e,n,s,o,i,c);let l;return Jr(s)?l="":Jr(o)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:Jr(i)?l=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:c?(kt("replaceTilde pr",c),l=`>=${s}.${o}.${i}-${c} <${s}.${+o+1}.0-0`):l=`>=${s}.${o}.${i} <${s}.${+o+1}.0-0`,kt("tilde return",l),l})},xee=(e,r)=>e.trim().split(/\s+/).map(t=>Eee(t,r)).join(" "),Eee=(e,r)=>{kt("caret",e,r);let t=r.loose?Yr[Mr.CARETLOOSE]:Yr[Mr.CARET],n=r.includePrerelease?"-0":"";return e.replace(t,(s,o,i,c,l)=>{kt("caret",e,s,o,i,c,l);let d;return Jr(o)?d="":Jr(i)?d=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Jr(c)?o==="0"?d=`>=${o}.${i}.0${n} <${o}.${+i+1}.0-0`:d=`>=${o}.${i}.0${n} <${+o+1}.0.0-0`:l?(kt("replaceCaret pr",l),o==="0"?i==="0"?d=`>=${o}.${i}.${c}-${l} <${o}.${i}.${+c+1}-0`:d=`>=${o}.${i}.${c}-${l} <${o}.${+i+1}.0-0`:d=`>=${o}.${i}.${c}-${l} <${+o+1}.0.0-0`):(kt("no pr"),o==="0"?i==="0"?d=`>=${o}.${i}.${c}${n} <${o}.${i}.${+c+1}-0`:d=`>=${o}.${i}.${c}${n} <${o}.${+i+1}.0-0`:d=`>=${o}.${i}.${c} <${+o+1}.0.0-0`),kt("caret return",d),d})},Cee=(e,r)=>(kt("replaceXRanges",e,r),e.split(/\s+/).map(t=>_ee(t,r)).join(" ")),_ee=(e,r)=>{e=e.trim();let t=r.loose?Yr[Mr.XRANGELOOSE]:Yr[Mr.XRANGE];return e.replace(t,(n,s,o,i,c,l)=>{kt("xRange",e,n,s,o,i,c,l);let d=Jr(o),u=d||Jr(i),f=u||Jr(c),g=f;return s==="="&&g&&(s=""),l=r.includePrerelease?"-0":"",d?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&g?(u&&(i=0),c=0,s===">"?(s=">=",u?(o=+o+1,i=0,c=0):(i=+i+1,c=0)):s==="<="&&(s="<",u?o=+o+1:i=+i+1),s==="<"&&(l="-0"),n=`${s+o}.${i}.${c}${l}`):u?n=`>=${o}.0.0${l} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${l} <${o}.${+i+1}.0-0`),kt("xRange return",n),n})},wee=(e,r)=>(kt("replaceStars",e,r),e.trim().replace(Yr[Mr.STAR],"")),Aee=(e,r)=>(kt("replaceGTE0",e,r),e.trim().replace(Yr[r.includePrerelease?Mr.GTE0PRE:Mr.GTE0],"")),vee=e=>(r,t,n,s,o,i,c,l,d,u,f,g)=>(Jr(n)?t="":Jr(s)?t=`>=${n}.0.0${e?"-0":""}`:Jr(o)?t=`>=${n}.${s}.0${e?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${e?"-0":""}`,Jr(d)?l="":Jr(u)?l=`<${+d+1}.0.0-0`:Jr(f)?l=`<${d}.${+u+1}.0-0`:g?l=`<=${d}.${u}.${f}-${g}`:e?l=`<${d}.${u}.${+f+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),Tee=(e,r,t)=>{for(let n=0;n<e.length;n++)if(!e[n].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let n=0;n<e.length;n++)if(kt(e[n].semver),e[n].semver!==a_.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0}});var Cu=b((VBe,p3)=>{"use strict";var _u=Symbol("SemVer ANY"),d_=class e{static get ANY(){return _u}constructor(r,t){if(t=d3(t),r instanceof e){if(r.loose===!!t.loose)return r;r=r.value}r=r.trim().split(/\s+/).join(" "),l_("comparator",r,t),this.options=t,this.loose=!!t.loose,this.parse(r),this.semver===_u?this.value="":this.value=this.operator+this.semver.version,l_("comp",this)}parse(r){let t=this.options.loose?u3[f3.COMPARATORLOOSE]:u3[f3.COMPARATOR],n=r.match(t);if(!n)throw new TypeError(`Invalid comparator: ${r}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new m3(n[2],this.options.loose):this.semver=_u}toString(){return this.value}test(r){if(l_("Comparator.test",r,this.options.loose),this.semver===_u||r===_u)return!0;if(typeof r=="string")try{r=new m3(r,this.options)}catch{return!1}return c_(r,this.operator,this.semver,this.options)}intersects(r,t){if(!(r instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new h3(r.value,t).test(this.value):r.operator===""?r.value===""?!0:new h3(this.value,t).test(r.semver):(t=d3(t),t.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||c_(this.semver,"<",r.semver,t)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||c_(this.semver,">",r.semver,t)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}};p3.exports=d_;var d3=Bh(),{safeRe:u3,t:f3}=Hc(),c_=s_(),l_=xu(),m3=Dr(),h3=Fn()});var wu=b((GBe,g3)=>{"use strict";var kee=Fn(),Ree=(e,r,t)=>{try{r=new kee(r,t)}catch{return!1}return r.test(e)};g3.exports=Ree});var S3=b((KBe,y3)=>{"use strict";var Iee=Fn(),Pee=(e,r)=>new Iee(e,r).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));y3.exports=Pee});var x3=b((WBe,b3)=>{"use strict";var Oee=Dr(),Nee=Fn(),Bee=(e,r,t)=>{let n=null,s=null,o=null;try{o=new Nee(r,t)}catch{return null}return e.forEach(i=>{o.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new Oee(n,t))}),n};b3.exports=Bee});var C3=b((XBe,E3)=>{"use strict";var Dee=Dr(),Mee=Fn(),Lee=(e,r,t)=>{let n=null,s=null,o=null;try{o=new Mee(r,t)}catch{return null}return e.forEach(i=>{o.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new Dee(n,t))}),n};E3.exports=Lee});var A3=b((QBe,w3)=>{"use strict";var u_=Dr(),Fee=Fn(),_3=Eu(),qee=(e,r)=>{e=new Fee(e,r);let t=new u_("0.0.0");if(e.test(t)||(t=new u_("0.0.0-0"),e.test(t)))return t;t=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],o=null;s.forEach(i=>{let c=new u_(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||_3(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!t||_3(t,o))&&(t=o)}return t&&e.test(t)?t:null};w3.exports=qee});var T3=b((YBe,v3)=>{"use strict";var Uee=Fn(),zee=(e,r)=>{try{return new Uee(e,r).range||"*"}catch{return null}};v3.exports=zee});var Vh=b((JBe,P3)=>{"use strict";var jee=Dr(),I3=Cu(),{ANY:Hee}=I3,$ee=Fn(),Vee=wu(),k3=Eu(),R3=Uh(),Gee=jh(),Kee=zh(),Wee=(e,r,t,n)=>{e=new jee(e,n),r=new $ee(r,n);let s,o,i,c,l;switch(t){case">":s=k3,o=Gee,i=R3,c=">",l=">=";break;case"<":s=R3,o=Kee,i=k3,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Vee(e,r,n))return!1;for(let d=0;d<r.set.length;++d){let u=r.set[d],f=null,g=null;if(u.forEach(p=>{p.semver===Hee&&(p=new I3(">=0.0.0")),f=f||p,g=g||p,s(p.semver,f.semver,n)?f=p:i(p.semver,g.semver,n)&&(g=p)}),f.operator===c||f.operator===l||(!g.operator||g.operator===c)&&o(e,g.semver))return!1;if(g.operator===l&&i(e,g.semver))return!1}return!0};P3.exports=Wee});var N3=b((ZBe,O3)=>{"use strict";var Xee=Vh(),Qee=(e,r,t)=>Xee(e,r,">",t);O3.exports=Qee});var D3=b((e3e,B3)=>{"use strict";var Yee=Vh(),Jee=(e,r,t)=>Yee(e,r,"<",t);B3.exports=Jee});var F3=b((t3e,L3)=>{"use strict";var M3=Fn(),Zee=(e,r,t)=>(e=new M3(e,t),r=new M3(r,t),e.intersects(r,t));L3.exports=Zee});var U3=b((r3e,q3)=>{"use strict";var ete=wu(),tte=Ln();q3.exports=(e,r,t)=>{let n=[],s=null,o=null,i=e.sort((u,f)=>tte(u,f,t));for(let u of i)ete(u,r,t)?(o=u,s||(s=u)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let c=[];for(let[u,f]of n)u===f?c.push(u):!f&&u===i[0]?c.push("*"):f?u===i[0]?c.push(`<=${f}`):c.push(`${u} - ${f}`):c.push(`>=${u}`);let l=c.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return l.length<d.length?l:r}});var G3=b((n3e,V3)=>{"use strict";var z3=Fn(),m_=Cu(),{ANY:f_}=m_,Au=wu(),h_=Ln(),rte=(e,r,t={})=>{if(e===r)return!0;e=new z3(e,t),r=new z3(r,t);let n=!1;e:for(let s of e.set){for(let o of r.set){let i=ste(s,o,t);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},nte=[new m_(">=0.0.0-0")],j3=[new m_(">=0.0.0")],ste=(e,r,t)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===f_){if(r.length===1&&r[0].semver===f_)return!0;t.includePrerelease?e=nte:e=j3}if(r.length===1&&r[0].semver===f_){if(t.includePrerelease)return!0;r=j3}let n=new Set,s,o;for(let p of e)p.operator===">"||p.operator===">="?s=H3(s,p,t):p.operator==="<"||p.operator==="<="?o=$3(o,p,t):n.add(p.semver);if(n.size>1)return null;let i;if(s&&o){if(i=h_(s.semver,o.semver,t),i>0)return null;if(i===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(s&&!Au(p,String(s),t)||o&&!Au(p,String(o),t))return null;for(let y of r)if(!Au(p,String(y),t))return!1;return!0}let c,l,d,u,f=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of r){if(u=u||p.operator===">"||p.operator===">=",d=d||p.operator==="<"||p.operator==="<=",s){if(g&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===g.major&&p.semver.minor===g.minor&&p.semver.patch===g.patch&&(g=!1),p.operator===">"||p.operator===">="){if(c=H3(s,p,t),c===p&&c!==s)return!1}else if(s.operator===">="&&!Au(s.semver,String(p),t))return!1}if(o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(l=$3(o,p,t),l===p&&l!==o)return!1}else if(o.operator==="<="&&!Au(o.semver,String(p),t))return!1}if(!p.operator&&(o||s)&&i!==0)return!1}return!(s&&d&&!o&&i!==0||o&&u&&!s&&i!==0||g||f)},H3=(e,r,t)=>{if(!e)return r;let n=h_(e.semver,r.semver,t);return n>0?e:n<0||r.operator===">"&&e.operator===">="?r:e},$3=(e,r,t)=>{if(!e)return r;let n=h_(e.semver,r.semver,t);return n<0?e:n>0||r.operator==="<"&&e.operator==="<="?r:e};V3.exports=rte});var Gh=b((s3e,X3)=>{"use strict";var p_=Hc(),K3=bu(),ote=Dr(),W3=ZC(),ite=Zi(),ate=xB(),cte=CB(),lte=AB(),dte=kB(),ute=IB(),fte=OB(),mte=BB(),hte=MB(),pte=Ln(),gte=UB(),yte=jB(),Ste=qh(),bte=GB(),xte=WB(),Ete=Eu(),Cte=Uh(),_te=r_(),wte=n_(),Ate=zh(),vte=jh(),Tte=s_(),kte=n3(),Rte=Cu(),Ite=Fn(),Pte=wu(),Ote=S3(),Nte=x3(),Bte=C3(),Dte=A3(),Mte=T3(),Lte=Vh(),Fte=N3(),qte=D3(),Ute=F3(),zte=U3(),jte=G3();X3.exports={parse:ite,valid:ate,clean:cte,inc:lte,diff:dte,major:ute,minor:fte,patch:mte,prerelease:hte,compare:pte,rcompare:gte,compareLoose:yte,compareBuild:Ste,sort:bte,rsort:xte,gt:Ete,lt:Cte,eq:_te,neq:wte,gte:Ate,lte:vte,cmp:Tte,coerce:kte,Comparator:Rte,Range:Ite,satisfies:Pte,toComparators:Ote,maxSatisfying:Nte,minSatisfying:Bte,minVersion:Dte,validRange:Mte,outside:Lte,gtr:Fte,ltr:qte,intersects:Ute,simplifyRange:zte,subset:jte,SemVer:ote,re:p_.re,src:p_.src,tokens:p_.t,SEMVER_SPEC_VERSION:K3.SEMVER_SPEC_VERSION,RELEASE_TYPES:K3.RELEASE_TYPES,compareIdentifiers:W3.compareIdentifiers,rcompareIdentifiers:W3.rcompareIdentifiers}});var Y3=b((o3e,Q3)=>{var Hte=Gh();Q3.exports=Hte.satisfies(process.version,">=15.7.0")});var Z3=b((i3e,J3)=>{var $te=Gh();J3.exports=$te.satisfies(process.version,">=16.9.0")});var g_=b((a3e,eD)=>{var Vte=Y3(),Gte=Z3(),Kte={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},Wte={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};eD.exports=function(e,r){if(!e||!r)return;let t=r.asymmetricKeyType;if(!t)return;let n=Kte[t];if(!n)throw new Error(`Unknown key type "${t}".`);if(!n.includes(e))throw new Error(`"alg" parameter for "${t}" key type must be one of: ${n.join(", ")}.`);if(Vte)switch(t){case"ec":let s=r.asymmetricKeyDetails.namedCurve,o=Wte[e];if(s!==o)throw new Error(`"alg" parameter "${e}" requires curve "${o}".`);break;case"rsa-pss":if(Gte){let i=parseInt(e.slice(-3),10),{hashAlgorithm:c,mgf1HashAlgorithm:l,saltLength:d}=r.asymmetricKeyDetails;if(c!==`sha${i}`||l!==c)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(d!==void 0&&d>i>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}break}}});var y_=b((c3e,tD)=>{var Xte=Gh();tD.exports=Xte.satisfies(process.version,"^6.12.0 || >=8.0.0")});var sD=b((l3e,nD)=>{var Ct=Su(),Qte=WC(),rD=XC(),Yte=KC(),Jte=QC(),Zte=g_(),ere=y_(),tre=Ih(),{KeyObject:rre,createSecretKey:nre,createPublicKey:sre}=require("crypto"),S_=["RS256","RS384","RS512"],ore=["ES256","ES384","ES512"],b_=["RS256","RS384","RS512"],ire=["HS256","HS384","HS512"];ere&&(S_.splice(S_.length,0,"PS256","PS384","PS512"),b_.splice(b_.length,0,"PS256","PS384","PS512"));nD.exports=function(e,r,t,n){typeof t=="function"&&!n&&(n=t,t={}),t||(t={}),t=Object.assign({},t);let s;if(n?s=n:s=function(u,f){if(u)throw u;return f},t.clockTimestamp&&typeof t.clockTimestamp!="number")return s(new Ct("clockTimestamp must be a number"));if(t.nonce!==void 0&&(typeof t.nonce!="string"||t.nonce.trim()===""))return s(new Ct("nonce must be a non-empty string"));if(t.allowInvalidAsymmetricKeyTypes!==void 0&&typeof t.allowInvalidAsymmetricKeyTypes!="boolean")return s(new Ct("allowInvalidAsymmetricKeyTypes must be a boolean"));let o=t.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return s(new Ct("jwt must be provided"));if(typeof e!="string")return s(new Ct("jwt must be a string"));let i=e.split(".");if(i.length!==3)return s(new Ct("jwt malformed"));let c;try{c=Yte(e,{complete:!0})}catch(u){return s(u)}if(!c)return s(new Ct("invalid token"));let l=c.header,d;if(typeof r=="function"){if(!n)return s(new Ct("verify must be called asynchronous if secret or public key is provided as a callback"));d=r}else d=function(u,f){return f(null,r)};return d(l,function(u,f){if(u)return s(new Ct("error in secret or public key callback: "+u.message));let g=i[2].trim()!=="";if(!g&&f)return s(new Ct("jwt signature is required"));if(g&&!f)return s(new Ct("secret or public key must be provided"));if(!g&&!t.algorithms)return s(new Ct('please specify "none" in "algorithms" to verify unsigned tokens'));if(f!=null&&!(f instanceof rre))try{f=sre(f)}catch{try{f=nre(typeof f=="string"?Buffer.from(f):f)}catch{return s(new Ct("secretOrPublicKey is not valid key material"))}}if(t.algorithms||(f.type==="secret"?t.algorithms=ire:["rsa","rsa-pss"].includes(f.asymmetricKeyType)?t.algorithms=b_:f.asymmetricKeyType==="ec"?t.algorithms=ore:t.algorithms=S_),t.algorithms.indexOf(c.header.alg)===-1)return s(new Ct("invalid algorithm"));if(l.alg.startsWith("HS")&&f.type!=="secret")return s(new Ct(`secretOrPublicKey must be a symmetric key when using ${l.alg}`));if(/^(?:RS|PS|ES)/.test(l.alg)&&f.type!=="public")return s(new Ct(`secretOrPublicKey must be an asymmetric key when using ${l.alg}`));if(!t.allowInvalidAsymmetricKeyTypes)try{Zte(l.alg,f)}catch(A){return s(A)}let p;try{p=tre.verify(e,c.header.alg,f)}catch(A){return s(A)}if(!p)return s(new Ct("invalid signature"));let y=c.payload;if(typeof y.nbf<"u"&&!t.ignoreNotBefore){if(typeof y.nbf!="number")return s(new Ct("invalid nbf value"));if(y.nbf>o+(t.clockTolerance||0))return s(new Qte("jwt not active",new Date(y.nbf*1e3)))}if(typeof y.exp<"u"&&!t.ignoreExpiration){if(typeof y.exp!="number")return s(new Ct("invalid exp value"));if(o>=y.exp+(t.clockTolerance||0))return s(new rD("jwt expired",new Date(y.exp*1e3)))}if(t.audience){let A=Array.isArray(t.audience)?t.audience:[t.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(G){return A.some(function(le){return le instanceof RegExp?le.test(G):le===G})}))return s(new Ct("jwt audience invalid. expected: "+A.join(" or ")))}if(t.issuer&&(typeof t.issuer=="string"&&y.iss!==t.issuer||Array.isArray(t.issuer)&&t.issuer.indexOf(y.iss)===-1))return s(new Ct("jwt issuer invalid. expected: "+t.issuer));if(t.subject&&y.sub!==t.subject)return s(new Ct("jwt subject invalid. expected: "+t.subject));if(t.jwtid&&y.jti!==t.jwtid)return s(new Ct("jwt jwtid invalid. expected: "+t.jwtid));if(t.nonce&&y.nonce!==t.nonce)return s(new Ct("jwt nonce invalid. expected: "+t.nonce));if(t.maxAge){if(typeof y.iat!="number")return s(new Ct("iat required when maxAge is specified"));let A=Jte(t.maxAge,y.iat);if(typeof A>"u")return s(new Ct('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(o>=A+(t.clockTolerance||0))return s(new rD("maxAge exceeded",new Date(A*1e3)))}if(t.complete===!0){let A=c.signature;return s(null,{header:l,payload:y,signature:A})}return s(null,y)})}});var dD=b((d3e,lD)=>{var oD=1/0,aD=9007199254740991,are=17976931348623157e292,iD=NaN,cre="[object Arguments]",lre="[object Function]",dre="[object GeneratorFunction]",ure="[object String]",fre="[object Symbol]",mre=/^\s+|\s+$/g,hre=/^[-+]0x[0-9a-f]+$/i,pre=/^0b[01]+$/i,gre=/^0o[0-7]+$/i,yre=/^(?:0|[1-9]\d*)$/,Sre=parseInt;function bre(e,r){for(var t=-1,n=e?e.length:0,s=Array(n);++t<n;)s[t]=r(e[t],t,e);return s}function xre(e,r,t,n){for(var s=e.length,o=t+(n?1:-1);n?o--:++o<s;)if(r(e[o],o,e))return o;return-1}function Ere(e,r,t){if(r!==r)return xre(e,Cre,t);for(var n=t-1,s=e.length;++n<s;)if(e[n]===r)return n;return-1}function Cre(e){return e!==e}function _re(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}function wre(e,r){return bre(r,function(t){return e[t]})}function Are(e,r){return function(t){return e(r(t))}}var Kh=Object.prototype,E_=Kh.hasOwnProperty,Wh=Kh.toString,vre=Kh.propertyIsEnumerable,Tre=Are(Object.keys,Object),kre=Math.max;function Rre(e,r){var t=cD(e)||Bre(e)?_re(e.length,String):[],n=t.length,s=!!n;for(var o in e)(r||E_.call(e,o))&&!(s&&(o=="length"||Pre(o,n)))&&t.push(o);return t}function Ire(e){if(!Ore(e))return Tre(e);var r=[];for(var t in Object(e))E_.call(e,t)&&t!="constructor"&&r.push(t);return r}function Pre(e,r){return r=r??aD,!!r&&(typeof e=="number"||yre.test(e))&&e>-1&&e%1==0&&e<r}function Ore(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Kh;return e===t}function Nre(e,r,t,n){e=C_(e)?e:$re(e),t=t&&!n?zre(t):0;var s=e.length;return t<0&&(t=kre(s+t,0)),Fre(e)?t<=s&&e.indexOf(r,t)>-1:!!s&&Ere(e,r,t)>-1}function Bre(e){return Dre(e)&&E_.call(e,"callee")&&(!vre.call(e,"callee")||Wh.call(e)==cre)}var cD=Array.isArray;function C_(e){return e!=null&&Lre(e.length)&&!Mre(e)}function Dre(e){return __(e)&&C_(e)}function Mre(e){var r=x_(e)?Wh.call(e):"";return r==lre||r==dre}function Lre(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=aD}function x_(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function __(e){return!!e&&typeof e=="object"}function Fre(e){return typeof e=="string"||!cD(e)&&__(e)&&Wh.call(e)==ure}function qre(e){return typeof e=="symbol"||__(e)&&Wh.call(e)==fre}function Ure(e){if(!e)return e===0?e:0;if(e=jre(e),e===oD||e===-oD){var r=e<0?-1:1;return r*are}return e===e?e:0}function zre(e){var r=Ure(e),t=r%1;return r===r?t?r-t:r:0}function jre(e){if(typeof e=="number")return e;if(qre(e))return iD;if(x_(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=x_(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(mre,"");var t=pre.test(e);return t||gre.test(e)?Sre(e.slice(2),t?2:8):hre.test(e)?iD:+e}function Hre(e){return C_(e)?Rre(e):Ire(e)}function $re(e){return e?wre(e,Hre(e)):[]}lD.exports=Nre});var fD=b((u3e,uD)=>{var Vre="[object Boolean]",Gre=Object.prototype,Kre=Gre.toString;function Wre(e){return e===!0||e===!1||Xre(e)&&Kre.call(e)==Vre}function Xre(e){return!!e&&typeof e=="object"}uD.exports=Wre});var yD=b((f3e,gD)=>{var mD=1/0,Qre=17976931348623157e292,hD=NaN,Yre="[object Symbol]",Jre=/^\s+|\s+$/g,Zre=/^[-+]0x[0-9a-f]+$/i,ene=/^0b[01]+$/i,tne=/^0o[0-7]+$/i,rne=parseInt,nne=Object.prototype,sne=nne.toString;function one(e){return typeof e=="number"&&e==lne(e)}function pD(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function ine(e){return!!e&&typeof e=="object"}function ane(e){return typeof e=="symbol"||ine(e)&&sne.call(e)==Yre}function cne(e){if(!e)return e===0?e:0;if(e=dne(e),e===mD||e===-mD){var r=e<0?-1:1;return r*Qre}return e===e?e:0}function lne(e){var r=cne(e),t=r%1;return r===r?t?r-t:r:0}function dne(e){if(typeof e=="number")return e;if(ane(e))return hD;if(pD(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=pD(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Jre,"");var t=ene.test(e);return t||tne.test(e)?rne(e.slice(2),t?2:8):Zre.test(e)?hD:+e}gD.exports=one});var bD=b((m3e,SD)=>{var une="[object Number]",fne=Object.prototype,mne=fne.toString;function hne(e){return!!e&&typeof e=="object"}function pne(e){return typeof e=="number"||hne(e)&&mne.call(e)==une}SD.exports=pne});var _D=b((h3e,CD)=>{var gne="[object Object]";function yne(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch{}return r}function Sne(e,r){return function(t){return e(r(t))}}var bne=Function.prototype,xD=Object.prototype,ED=bne.toString,xne=xD.hasOwnProperty,Ene=ED.call(Object),Cne=xD.toString,_ne=Sne(Object.getPrototypeOf,Object);function wne(e){return!!e&&typeof e=="object"}function Ane(e){if(!wne(e)||Cne.call(e)!=gne||yne(e))return!1;var r=_ne(e);if(r===null)return!0;var t=xne.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&ED.call(t)==Ene}CD.exports=Ane});var AD=b((p3e,wD)=>{var vne="[object String]",Tne=Object.prototype,kne=Tne.toString,Rne=Array.isArray;function Ine(e){return!!e&&typeof e=="object"}function Pne(e){return typeof e=="string"||!Rne(e)&&Ine(e)&&kne.call(e)==vne}wD.exports=Pne});var ID=b((g3e,RD)=>{var One="Expected a function",vD=1/0,Nne=17976931348623157e292,TD=NaN,Bne="[object Symbol]",Dne=/^\s+|\s+$/g,Mne=/^[-+]0x[0-9a-f]+$/i,Lne=/^0b[01]+$/i,Fne=/^0o[0-7]+$/i,qne=parseInt,Une=Object.prototype,zne=Une.toString;function jne(e,r){var t;if(typeof r!="function")throw new TypeError(One);return e=Kne(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}function Hne(e){return jne(2,e)}function kD(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function $ne(e){return!!e&&typeof e=="object"}function Vne(e){return typeof e=="symbol"||$ne(e)&&zne.call(e)==Bne}function Gne(e){if(!e)return e===0?e:0;if(e=Wne(e),e===vD||e===-vD){var r=e<0?-1:1;return r*Nne}return e===e?e:0}function Kne(e){var r=Gne(e),t=r%1;return r===r?t?r-t:r:0}function Wne(e){if(typeof e=="number")return e;if(Vne(e))return TD;if(kD(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=kD(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Dne,"");var t=Lne.test(e);return t||Fne.test(e)?qne(e.slice(2),t?2:8):Mne.test(e)?TD:+e}RD.exports=Hne});var qD=b((y3e,FD)=>{var PD=QC(),Xne=y_(),Qne=g_(),OD=Ih(),Yne=dD(),Xh=fD(),ND=yD(),w_=bD(),DD=_D(),Qo=AD(),Jne=ID(),{KeyObject:Zne,createSecretKey:ese,createPrivateKey:tse}=require("crypto"),MD=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];Xne&&MD.splice(3,0,"PS256","PS384","PS512");var rse={expiresIn:{isValid:function(e){return ND(e)||Qo(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return ND(e)||Qo(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return Qo(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:Yne.bind(null,MD),message:'"algorithm" must be a valid string enum value'},header:{isValid:DD,message:'"header" must be an object'},encoding:{isValid:Qo,message:'"encoding" must be a string'},issuer:{isValid:Qo,message:'"issuer" must be a string'},subject:{isValid:Qo,message:'"subject" must be a string'},jwtid:{isValid:Qo,message:'"jwtid" must be a string'},noTimestamp:{isValid:Xh,message:'"noTimestamp" must be a boolean'},keyid:{isValid:Qo,message:'"keyid" must be a string'},mutatePayload:{isValid:Xh,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:Xh,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:Xh,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},nse={iat:{isValid:w_,message:'"iat" should be a number of seconds'},exp:{isValid:w_,message:'"exp" should be a number of seconds'},nbf:{isValid:w_,message:'"nbf" should be a number of seconds'}};function LD(e,r,t,n){if(!DD(t))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(t).forEach(function(s){let o=e[s];if(!o){if(!r)throw new Error('"'+s+'" is not allowed in "'+n+'"');return}if(!o.isValid(t[s]))throw new Error(o.message)})}function sse(e){return LD(rse,!1,e,"options")}function ose(e){return LD(nse,!0,e,"payload")}var BD={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},ise=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];FD.exports=function(e,r,t,n){typeof t=="function"?(n=t,t={}):t=t||{};let s=typeof e=="object"&&!Buffer.isBuffer(e),o=Object.assign({alg:t.algorithm||"HS256",typ:s?"JWT":void 0,kid:t.keyid},t.header);function i(d){if(n)return n(d);throw d}if(!r&&t.algorithm!=="none")return i(new Error("secretOrPrivateKey must have a value"));if(r!=null&&!(r instanceof Zne))try{r=tse(r)}catch{try{r=ese(typeof r=="string"?Buffer.from(r):r)}catch{return i(new Error("secretOrPrivateKey is not valid key material"))}}if(o.alg.startsWith("HS")&&r.type!=="secret")return i(new Error(`secretOrPrivateKey must be a symmetric key when using ${o.alg}`));if(/^(?:RS|PS|ES)/.test(o.alg)){if(r.type!=="private")return i(new Error(`secretOrPrivateKey must be an asymmetric key when using ${o.alg}`));if(!t.allowInsecureKeySizes&&!o.alg.startsWith("ES")&&r.asymmetricKeyDetails!==void 0&&r.asymmetricKeyDetails.modulusLength<2048)return i(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`))}if(typeof e>"u")return i(new Error("payload is required"));if(s){try{ose(e)}catch(d){return i(d)}t.mutatePayload||(e=Object.assign({},e))}else{let d=ise.filter(function(u){return typeof t[u]<"u"});if(d.length>0)return i(new Error("invalid "+d.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof t.expiresIn<"u")return i(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof t.notBefore<"u")return i(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{sse(t)}catch(d){return i(d)}if(!t.allowInvalidAsymmetricKeyTypes)try{Qne(o.alg,r)}catch(d){return i(d)}let c=e.iat||Math.floor(Date.now()/1e3);if(t.noTimestamp?delete e.iat:s&&(e.iat=c),typeof t.notBefore<"u"){try{e.nbf=PD(t.notBefore,c)}catch(d){return i(d)}if(typeof e.nbf>"u")return i(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof t.expiresIn<"u"&&typeof e=="object"){try{e.exp=PD(t.expiresIn,c)}catch(d){return i(d)}if(typeof e.exp>"u")return i(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(BD).forEach(function(d){let u=BD[d];if(typeof t[d]<"u"){if(typeof e[u]<"u")return i(new Error('Bad "options.'+d+'" option. The payload already has an "'+u+'" property.'));e[u]=t[d]}});let l=t.encoding||"utf8";if(typeof n=="function")n=n&&Jne(n),OD.createSign({header:o,privateKey:r,payload:e,encoding:l}).once("error",n).once("done",function(d){if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&d.length<256)return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`));n(null,d)});else{let d=OD.sign({header:o,payload:e,secret:r,encoding:l});if(!t.allowInsecureKeySizes&&/^(?:RS|PS)/.test(o.alg)&&d.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${o.alg}`);return d}}});var zD=b((S3e,UD)=>{UD.exports={decode:KC(),verify:sD(),sign:qD(),JsonWebTokenError:Su(),NotBeforeError:WC(),TokenExpiredError:XC()}});var oo=b(ut=>{"use strict";ut.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ut.HttpAuthLocation||(ut.HttpAuthLocation={}));ut.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ut.HttpApiKeyAuthLocation||(ut.HttpApiKeyAuthLocation={}));ut.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ut.EndpointURLScheme||(ut.EndpointURLScheme={}));ut.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ut.AlgorithmId||(ut.AlgorithmId={}));var dse=e=>{let r=[];return e.sha256!==void 0&&r.push({algorithmId:()=>ut.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&r.push({algorithmId:()=>ut.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},use=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},fse=e=>dse(e),mse=e=>use(e);ut.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ut.FieldPosition||(ut.FieldPosition={}));var hse="__smithy_context";ut.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ut.IniSectionType||(ut.IniSectionType={}));ut.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ut.RequestHandlerProtocol||(ut.RequestHandlerProtocol={}));ut.SMITHY_CONTEXT_KEY=hse;ut.getDefaultClientConfiguration=fse;ut.resolveDefaultRuntimeConfig=mse});var Ye=b(Yo=>{"use strict";var pse=oo(),gse=e=>({setHttpHandler(r){e.httpHandler=r},httpHandler(){return e.httpHandler},updateHttpClientConfig(r,t){e.httpHandler?.updateHttpClientConfig(r,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),yse=e=>({httpHandler:e.httpHandler()}),T_=class{name;kind;values;constructor({name:r,kind:t=pse.FieldPosition.HEADER,values:n=[]}){this.name=r,this.kind=t,this.values=n}add(r){this.values.push(r)}set(r){this.values=r}remove(r){this.values=this.values.filter(t=>t!==r)}toString(){return this.values.map(r=>r.includes(",")||r.includes(" ")?`"${r}"`:r).join(", ")}get(){return this.values}},k_=class{entries={};encoding;constructor({fields:r=[],encoding:t="utf-8"}){r.forEach(this.setField.bind(this)),this.encoding=t}setField(r){this.entries[r.name.toLowerCase()]=r}getField(r){return this.entries[r.toLowerCase()]}removeField(r){delete this.entries[r.toLowerCase()]}getByType(r){return Object.values(this.entries).filter(t=>t.kind===r)}},R_=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){let t=new e({...r,headers:{...r.headers}});return t.query&&(t.query=Sse(t.query)),t}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function Sse(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var I_=class{statusCode;reason;headers;body;constructor(r){this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function bse(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Yo.Field=T_;Yo.Fields=k_;Yo.HttpRequest=R_;Yo.HttpResponse=I_;Yo.getHttpHandlerExtensionConfiguration=gse;Yo.isValidHostname=bse;Yo.resolveHttpHandlerRuntimeConfig=yse});var KD=b(Qh=>{"use strict";var xse=Ye();function VD(e){return r=>async t=>{let{request:n}=t;if(e.expectContinueHeader!==!1&&xse.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof e.expectContinueHeader=="number")try{s=(Number(n.headers?.["content-length"])??e.bodyLengthChecker?.(n.body)??1/0)>=e.expectContinueHeader}catch{}else s=!!e.expectContinueHeader;s&&(n.headers.Expect="100-continue")}return r({...t,request:n})}}var GD={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Ese=e=>({applyToStack:r=>{r.add(VD(e),GD)}});Qh.addExpectContinueMiddleware=VD;Qh.addExpectContinueMiddlewareOptions=GD;Qh.getAddExpectContinuePlugin=Ese});var Yh,Vc,WD=R(()=>{Yh={warningEmitted:!1},Vc=e=>{e&&!Yh.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Yh.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Jo(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var XD=R(()=>{});function QD(e,r,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=t}var YD=R(()=>{});function JD(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var ZD=R(()=>{});var Zo={};Cn(Zo,{emitWarningIfUnsupportedVersion:()=>Vc,setCredentialFeature:()=>Jo,setFeature:()=>QD,setTokenFeature:()=>JD,state:()=>Yh});var us=R(()=>{WD();XD();YD();ZD()});var e2,P_,t2=R(()=>{e2=O(Ye()),P_=e=>e2.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Gc,O_=R(()=>{Gc=e=>new Date(Date.now()+e)});var r2,n2=R(()=>{O_();r2=(e,r)=>Math.abs(Gc(r).getTime()-e)>=3e5});var N_,s2=R(()=>{n2();N_=(e,r)=>{let t=Date.parse(e);return r2(t,r)?t-Date.now():r}});var B_=R(()=>{t2();O_();s2()});var o2,vu,Kc,un,D_,M_=R(()=>{o2=O(Ye());B_();vu=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},Kc=async e=>{let r=vu("context",e.context),t=vu("config",e.config),n=r.endpointV2?.properties?.authSchemes?.[0],o=await vu("signer",t.signer)(n),i=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:c,signingName:l}},un=class{async sign(r,t,n){if(!o2.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Kc(n),{config:o,signer:i}=s,{signingRegion:c,signingName:l}=s,d=n.context;if(d?.authSchemes?.length??!1){let[f,g]=d.authSchemes;f?.name==="sigv4a"&&g?.name==="sigv4"&&(c=g?.signingRegion??c,l=g?.signingName??l)}return await i.sign(r,{signingDate:Gc(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(r){return t=>{let n=t.ServerTime??P_(t.$response);if(n){let s=vu("config",r.config),o=s.systemClockOffset;s.systemClockOffset=N_(n,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(r,t){let n=P_(r);if(n){let s=vu("config",t.config);s.systemClockOffset=N_(n,s.systemClockOffset)}}},D_=un});var i2,Tu,a2=R(()=>{i2=O(Ye());B_();M_();Tu=class extends un{async sign(r,t,n){if(!i2.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:c,signingName:l}=await Kc(n),u=(await s.sigv4aSigningRegionSet?.()??c??[i]).join(",");return await o.sign(r,{signingDate:Gc(s.systemClockOffset),signingRegion:u,signingService:l})}}});var L_,c2=R(()=>{L_=e=>typeof e=="string"&&e.length>0?e.split(",").map(r=>r.trim()):[]});var Jh,F_=R(()=>{Jh=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var l2,d2,Wc,u2=R(()=>{c2();F_();l2="AWS_AUTH_SCHEME_PREFERENCE",d2="auth_scheme_preference",Wc={environmentVariableSelector:(e,r)=>{if(r?.signingName&&Jh(r.signingName)in e)return["httpBearerAuth"];if(l2 in e)return L_(e[l2])},configFileSelector:e=>{if(d2 in e)return L_(e[d2])},default:[]}});var q_,Cse,f2=R(()=>{q_=O(oo()),Cse=e=>e[q_.SMITHY_CONTEXT_KEY]||(e[q_.SMITHY_CONTEXT_KEY]={})});var Lr=b(U_=>{"use strict";var m2=oo(),_se=e=>e[m2.SMITHY_CONTEXT_KEY]||(e[m2.SMITHY_CONTEXT_KEY]={}),wse=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r};U_.getSmithyContext=_se;U_.normalizeProvider=wse});var h2,p2=R(()=>{h2=(e,r)=>{if(!r||r.length===0)return e;let t=[];for(let n of r)for(let s of e)s.schemeId.split("#")[1]===n&&t.push(s);for(let n of e)t.find(({schemeId:s})=>s===n.schemeId)||t.push(n);return t}});function Ase(e){let r=new Map;for(let t of e)r.set(t.schemeId,t);return r}var g2,ku,Zh=R(()=>{g2=O(Lr());p2();ku=(e,r)=>(t,n)=>async s=>{let o=e.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],c=h2(o,i),l=Ase(e.httpAuthSchemes),d=(0,g2.getSmithyContext)(n),u=[];for(let f of c){let g=l.get(f.schemeId);if(!g){u.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let p=g.identityProvider(await r.identityProviderConfigProvider(e));if(!p){u.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:A={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},y),f.signingProperties=Object.assign(f.signingProperties||{},A),d.selectedHttpAuthScheme={httpAuthOption:f,identity:await p(f.identityProperties),signer:g.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(u.join(`
`));return t(s)}});var y2,Ru,S2=R(()=>{Zh();y2={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ru=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(ku(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),y2)}})});var ei=b(Xc=>{"use strict";var vse=Ye(),b2=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let i=await r(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(vse.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);i.$metadata={httpStatusCode:o.statusCode,requestId:z_(/^x-[\w-]+-request-?id$/,d),extendedRequestId:z_(/^x-[\w-]+-id-2$/,d),cfId:z_(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw i}},z_=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1],x2=(e,r)=>(t,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let c=await r(s.input,{...e,endpoint:i});return t({...s,request:c})},E2={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},C2={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Tse(e,r,t){return{applyToStack:n=>{n.add(b2(e,t),E2),n.add(x2(e,r),C2)}}}Xc.deserializerMiddleware=b2;Xc.deserializerMiddlewareOption=E2;Xc.getSerdePlugin=Tse;Xc.serializerMiddleware=x2;Xc.serializerMiddlewareOption=C2});var _2,w2,kse,A2=R(()=>{_2=O(ei());Zh();w2={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:_2.serializerMiddlewareOption.name},kse=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(ku(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),w2)}})});var v2=R(()=>{Zh();S2();A2()});var T2,k2,Rse,Ise,j_,H_=R(()=>{T2=O(Ye()),k2=O(Lr()),Rse=e=>r=>{throw r},Ise=(e,r)=>{},j_=e=>(r,t)=>async n=>{if(!T2.HttpRequest.isInstance(n.request))return r(n);let o=(0,k2.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:l}=o,d=await r({...n,request:await l.sign(n.request,c,i)}).catch((l.errorHandler||Rse)(i));return(l.successHandler||Ise)(d.response,i),d}});var R2,Iu,I2=R(()=>{H_();R2={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Iu=e=>({applyToStack:r=>{r.addRelativeTo(j_(e),R2)}})});var P2=R(()=>{H_();I2()});var ti,O2=R(()=>{ti=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});function N2(e,r,t,n,s){return async function*(i,c,...l){let d=c,u=i.startingToken??d[t],f=!0,g;for(;f;){if(d[t]=u,s&&(d[s]=d[s]??i.pageSize),i.client instanceof e)g=await Pse(r,i.client,c,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let p=u;u=Ose(g,n),f=!!(u&&(!i.stopOnSameToken||u!==p))}return void 0}}var Pse,Ose,B2=R(()=>{Pse=async(e,r,t,n=o=>o,...s)=>{let o=new e(t);return o=n(o)??o,await r.send(o,...s)};Ose=(e,r)=>{let t=e,n=r.split(".");for(let s of n){if(!t||typeof t!="object")return;t=t[s]}return t}});var ep=b(D2=>{"use strict";var Nse=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";D2.isArrayBuffer=Nse});var Qc=b(V_=>{"use strict";var Bse=ep(),$_=require("buffer"),Dse=(e,r=0,t=e.byteLength-r)=>{if(!Bse.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $_.Buffer.from(e,r,t)},Mse=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?$_.Buffer.from(e,r):$_.Buffer.from(e)};V_.fromArrayBuffer=Dse;V_.fromString=Mse});var M2=b(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.fromBase64=void 0;var Lse=Qc(),Fse=/^[A-Za-z0-9+/]*={0,2}$/,qse=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Fse.exec(e))throw new TypeError("Invalid base64 string.");let r=(0,Lse.fromString)(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};tp.fromBase64=qse});var or=b(rp=>{"use strict";var L2=Qc(),F2=e=>{let r=L2.fromString(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},Use=e=>typeof e=="string"?F2(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),zse=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return L2.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};rp.fromUtf8=F2;rp.toUint8Array=Use;rp.toUtf8=zse});var q2=b(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.toBase64=void 0;var jse=Qc(),Hse=or(),$se=e=>{let r;if(typeof e=="string"?r=(0,Hse.fromUtf8)(e):r=e,typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,jse.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString("base64")};np.toBase64=$se});var kr=b(Pu=>{"use strict";var U2=M2(),z2=q2();Object.keys(U2).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Pu,e)&&Object.defineProperty(Pu,e,{enumerable:!0,get:function(){return U2[e]}})});Object.keys(z2).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Pu,e)&&Object.defineProperty(Pu,e,{enumerable:!0,get:function(){return z2[e]}})})});var K_=b(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.ChecksumStream=void 0;var Vse=kr(),Gse=require("stream"),G_=class extends Gse.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:r,checksum:t,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??Vse.toBase64,this.expectedChecksum=r,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(r){}_write(r,t,n){try{this.checksum.update(r),this.push(r)}catch(s){return n(s)}return n()}async _final(r){try{let t=await this.checksum.digest(),n=this.base64Encoder(t);if(this.expectedChecksum!==n)return r(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(t){return r(t)}return this.push(null),r()}};sp.ChecksumStream=G_});var ri=b(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.isBlob=Yc.isReadableStream=void 0;var Kse=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Yc.isReadableStream=Kse;var Wse=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Yc.isBlob=Wse});var j2=b(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.ChecksumStream=void 0;var Xse=typeof ReadableStream=="function"?ReadableStream:function(){},W_=class extends Xse{};op.ChecksumStream=W_});var H2=b(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.createChecksumStream=void 0;var Qse=kr(),Yse=ri(),Jse=j2(),Zse=({expectedChecksum:e,checksum:r,source:t,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,Yse.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??Qse.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,d){r.update(l),d.enqueue(l)},async flush(l){let d=await r.digest(),u=o(d);if(e!==u){let f=new Error(`Checksum mismatch: expected "${e}" but received "${u}" in response header "${n}".`);l.error(f)}else l.terminate()}});t.pipeThrough(i);let c=i.readable;return Object.setPrototypeOf(c,Jse.ChecksumStream.prototype),c};ip.createChecksumStream=Zse});var $2=b(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.createChecksumStream=noe;var eoe=ri(),toe=K_(),roe=H2();function noe(e){return typeof ReadableStream=="function"&&(0,eoe.isReadableStream)(e.source)?(0,roe.createChecksumStream)(e):new toe.ChecksumStream(e)}});var Y_=b(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.ByteArrayCollector=void 0;var Q_=class{allocByteArray;byteLength=0;byteArrays=[];constructor(r){this.allocByteArray=r}push(r){this.byteArrays.push(r),this.byteLength+=r.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let r=this.allocByteArray(this.byteLength),t=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];r.set(s,t),t+=s.byteLength}return this.reset(),r}reset(){this.byteArrays=[],this.byteLength=0}};ap.ByteArrayCollector=Q_});var W2=b(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.createBufferedReadable=void 0;io.createBufferedReadableStream=V2;io.merge=G2;io.flush=cp;io.sizeOf=Jc;io.modeOf=K2;var soe=Y_();function V2(e,r,t){let n=e.getReader(),s=!1,o=0,i=["",new soe.ByteArrayCollector(d=>new Uint8Array(d))],c=-1,l=async d=>{let{value:u,done:f}=await n.read(),g=u;if(f){if(c!==-1){let p=cp(i,c);Jc(p)>0&&d.enqueue(p)}d.close()}else{let p=K2(g,!1);if(c!==p&&(c>=0&&d.enqueue(cp(i,c)),c=p),c===-1){d.enqueue(g);return}let y=Jc(g);o+=y;let A=Jc(i[c]);if(y>=r&&A===0)d.enqueue(g);else{let k=G2(i,c,g);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${r}, automatically buffering.`)),k>=r?d.enqueue(cp(i,c)):await l(d)}}};return new ReadableStream({pull:l})}io.createBufferedReadable=V2;function G2(e,r,t){switch(r){case 0:return e[0]+=t,Jc(e[0]);case 1:case 2:return e[r].push(t),Jc(e[r])}}function cp(e,r){switch(r){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[r].flush()}throw new Error(`@smithy/util-stream - invalid index ${r} given to flush()`)}function Jc(e){return e?.byteLength??e?.length??0}function K2(e,r=!0){return r&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Q2=b(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.createBufferedReadable=aoe;var ooe=require("node:stream"),X2=Y_(),ao=W2(),ioe=ri();function aoe(e,r,t){if((0,ioe.isReadableStream)(e))return(0,ao.createBufferedReadableStream)(e,r,t);let n=new ooe.Readable({read(){}}),s=!1,o=0,i=["",new X2.ByteArrayCollector(l=>new Uint8Array(l)),new X2.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let d=(0,ao.modeOf)(l,!0);if(c!==d&&(c>=0&&n.push((0,ao.flush)(i,c)),c=d),c===-1){n.push(l);return}let u=(0,ao.sizeOf)(l);o+=u;let f=(0,ao.sizeOf)(i[c]);if(u>=r&&f===0)n.push(l);else{let g=(0,ao.merge)(i,c,l);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${u} is below threshold of ${r}, automatically buffering.`)),g>=r&&n.push((0,ao.flush)(i,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,ao.flush)(i,c);(0,ao.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var Y2=b(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.getAwsChunkedEncodingStream=void 0;var coe=require("stream"),loe=(e,r)=>{let{base64Encoder:t,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=r,c=t!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,l=c?i(s,e):void 0,d=new coe.Readable({read:()=>{}});return e.on("data",u=>{let f=n(u)||0;d.push(`${f.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),c){let u=t(await l);d.push(`${o}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};lp.getAwsChunkedEncodingStream=loe});var J2=b(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.headStream=doe;async function doe(e,r){let t=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(n.push(d),t+=d?.byteLength??0),t>=r)break;o=l}s.releaseLock();let i=new Uint8Array(Math.min(r,t)),c=0;for(let l of n){if(l.byteLength>i.byteLength-c){i.set(l.subarray(0,i.byteLength-c),c);break}else i.set(l,c);c+=l.length}return i}});var Z2=b(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.headStream=void 0;var uoe=require("stream"),foe=J2(),moe=ri(),hoe=(e,r)=>(0,moe.isReadableStream)(e)?(0,foe.headStream)(e,r):new Promise((t,n)=>{let s=new ew;s.limit=r,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});dp.headStream=hoe;var ew=class extends uoe.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(r,t,n){if(this.buffers.push(r),this.bytesBuffered+=r.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var rw=b(tw=>{"use strict";var eM=e=>encodeURIComponent(e).replace(/[!'()*]/g,poe),poe=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,goe=e=>e.split("/").map(eM).join("/");tw.escapeUri=eM;tw.escapeUriPath=goe});var up=b(tM=>{"use strict";var nw=rw();function yoe(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=nw.escapeUri(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${nw.escapeUri(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${nw.escapeUri(n)}`),r.push(s)}}return r.join("&")}tM.buildQueryString=yoe});var ea=b(Ou=>{"use strict";var oM=Ye(),iM=up(),fp=require("http"),mp=require("https"),aM=require("stream"),sw=require("http2"),Soe=["ECONNRESET","EPIPE","ETIMEDOUT"],cM=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r},Zr={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e)},rM=1e3,boe=(e,r,t=0)=>{if(!t)return-1;let n=s=>{let o=Zr.setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),i=c=>{c?.connecting?c.on("connect",()=>{Zr.clearTimeout(o)}):Zr.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return t<2e3?(n(0),0):Zr.setTimeout(n.bind(null,rM),rM)},xoe=(e,r,t=0,n,s)=>t?Zr.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),r(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,Eoe=3e3,Coe=(e,{keepAlive:r,keepAliveMsecs:t},n=Eoe)=>{if(r!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(r,t||0):e.on("socket",o=>{o.setKeepAlive(r,t||0)})};return n===0?(s(),0):Zr.setTimeout(s,n)},nM=3e3,_oe=(e,r,t=0)=>{let n=s=>{let o=t-s,i=()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<t&&t<6e3?(n(0),0):Zr.setTimeout(n.bind(null,t===0?0:nM),nM)},sM=6e3;async function lM(e,r,t=sM){let n=r.headers??{},s=n.Expect||n.expect,o=-1,i=!0;s==="100-continue"&&(i=await Promise.race([new Promise(c=>{o=Number(Zr.setTimeout(()=>c(!0),Math.max(sM,t)))}),new Promise(c=>{e.on("continue",()=>{Zr.clearTimeout(o),c(!0)}),e.on("response",()=>{Zr.clearTimeout(o),c(!1)}),e.on("error",()=>{Zr.clearTimeout(o),c(!1)})})])),i&&woe(e,r.body)}function woe(e,r){if(r instanceof aM.Readable){r.pipe(e);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){e.end(r);return}let t=r;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(r));return}e.end()}var Aoe=0,ow=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(r){return typeof r?.handle=="function"?r:new e(r)}static checkSocketUsage(r,t,n=console){let{sockets:s,requests:o,maxSockets:i}=r;if(typeof i!="number"||i===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,u=o[l]?.length??0;if(d>=i&&u>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:c,throwOnRequestTimeout:l}=r||{},d=!0,u=50;return{connectionTimeout:n,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:i instanceof fp.Agent||typeof i?.destroy=="function"?i:new fp.Agent({keepAlive:d,maxSockets:u,...i}),httpsAgent:c instanceof mp.Agent||typeof c?.destroy=="function"?c:new mp.Agent({keepAlive:d,maxSockets:u,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,c,l=[],d=async ke=>{await c,l.forEach(Zr.clearTimeout),s(ke)},u=async ke=>{await c,l.forEach(Zr.clearTimeout),o(ke)};if(t?.aborted){let ke=new Error("Request aborted");ke.name="AbortError",u(ke);return}let f=r.protocol==="https:",g=r.headers??{},p=(g.Expect??g.expect)==="100-continue",y=f?i.httpsAgent:i.httpAgent;p&&(y=new(f?mp.Agent:fp.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(Zr.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let A=iM.buildQueryString(r.query||{}),k;if(r.username!=null||r.password!=null){let ke=r.username??"",je=r.password??"";k=`${ke}:${je}`}let N=r.path;A&&(N+=`?${A}`),r.fragment&&(N+=`#${r.fragment}`);let G=r.hostname??"";G[0]==="["&&G.endsWith("]")?G=r.hostname.slice(1,-1):G=r.hostname;let le={headers:r.headers,host:G,method:r.method,path:N,port:r.port,agent:y,auth:k},Ee=(f?mp.request:fp.request)(le,ke=>{let je=new oM.HttpResponse({statusCode:ke.statusCode||-1,reason:ke.statusMessage,headers:cM(ke.headers),body:ke});d({response:je})});if(Ee.on("error",ke=>{Soe.includes(ke.code)?u(Object.assign(ke,{name:"TimeoutError"})):u(ke)}),t){let ke=()=>{Ee.destroy();let je=new Error("Request aborted");je.name="AbortError",u(je)};if(typeof t.addEventListener=="function"){let je=t;je.addEventListener("abort",ke,{once:!0}),Ee.once("close",()=>je.removeEventListener("abort",ke))}else t.onabort=ke}let $e=n??i.requestTimeout;l.push(boe(Ee,u,i.connectionTimeout)),l.push(xoe(Ee,u,$e,i.throwOnRequestTimeout,i.logger??console)),l.push(_oe(Ee,u,i.socketTimeout));let Tt=le.agent;typeof Tt=="object"&&"keepAlive"in Tt&&l.push(Coe(Ee,{keepAlive:Tt.keepAlive,keepAliveMsecs:Tt.keepAliveMsecs})),c=lM(Ee,r,$e).catch(ke=>(l.forEach(Zr.clearTimeout),o(ke)))})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}},iw=class{sessions=[];constructor(r){this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}},aw=class{constructor(r){if(this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(r,t){let n=this.getUrlString(r),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=sw.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,i);let c=this.sessionCache.get(n)||new iw;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(r,t){let n=this.sessionCache.get(r);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(r,n))}release(r,t){let n=this.getUrlString(r);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(let[r,t]of this.sessionCache){for(let n of t)n.destroyed||n.destroy(),t.remove(n);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}},cw=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new aw({});static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(s||{})}).catch(n):t(r||{})})}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((c,l)=>{let d=!1,u,f=async at=>{await u,c(at)},g=async at=>{await u,l(at)};if(t?.aborted){d=!0;let at=new Error("Request aborted");at.name="AbortError",g(at);return}let{hostname:p,method:y,port:A,protocol:k,query:N}=r,G="";if(r.username!=null||r.password!=null){let at=r.username??"",Kt=r.password??"";G=`${at}:${Kt}@`}let le=`${k}//${G}${p}${A?`:${A}`:""}`,de={destination:new URL(le)},Ee=this.connectionManager.lease(de,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),$e=at=>{o&&this.destroySession(Ee),d=!0,g(at)},Tt=iM.buildQueryString(N||{}),ke=r.path;Tt&&(ke+=`?${Tt}`),r.fragment&&(ke+=`#${r.fragment}`);let je=Ee.request({...r.headers,[sw.constants.HTTP2_HEADER_PATH]:ke,[sw.constants.HTTP2_HEADER_METHOD]:y});if(Ee.ref(),je.on("response",at=>{let Kt=new oM.HttpResponse({statusCode:at[":status"]||-1,headers:cM(at),body:je});d=!0,f({response:Kt}),o&&(Ee.close(),this.connectionManager.deleteSession(le,Ee))}),i&&je.setTimeout(i,()=>{je.close();let at=new Error(`Stream timed out because of no activity for ${i} ms`);at.name="TimeoutError",$e(at)}),t){let at=()=>{je.close();let Kt=new Error("Request aborted");Kt.name="AbortError",$e(Kt)};if(typeof t.addEventListener=="function"){let Kt=t;Kt.addEventListener("abort",at,{once:!0}),je.once("close",()=>Kt.removeEventListener("abort",at))}else t.onabort=at}je.on("frameError",(at,Kt,Tc)=>{$e(new Error(`Frame type id ${at} in stream id ${Tc} has failed with code ${Kt}.`))}),je.on("error",$e),je.on("aborted",()=>{$e(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${je.rstCode}.`))}),je.on("close",()=>{Ee.unref(),o&&Ee.destroy(),d||$e(new Error("Unexpected error: http2 request did not get a response"))}),u=lM(je,r,i)})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}},lw=class extends aM.Writable{bufferedBytes=[];_write(r,t,n){this.bufferedBytes.push(r),n()}},voe=e=>Toe(e)?koe(e):new Promise((r,t)=>{let n=new lw;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})}),Toe=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function koe(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),i=0;for(let c of r)o.set(c,i),i+=c.length;return o}Ou.DEFAULT_REQUEST_TIMEOUT=Aoe;Ou.NodeHttp2Handler=cw;Ou.NodeHttpHandler=ow;Ou.streamCollector=voe});var fM=b(pp=>{"use strict";var dM=Ye(),Roe=up(),Ioe=kr();function uM(e,r){return new Request(e,r)}function Poe(e=0){return new Promise((r,t)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",t(n)},e)})}var hp={supported:void 0},dw=class e{config;configProvider;static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){typeof r=="function"?this.configProvider=r().then(t=>t||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),hp.supported===void 0&&(hp.supported=typeof Request<"u"&&"keepalive"in uM("https://[::1]"))}destroy(){}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(t?.aborted){let G=new Error("Request aborted");return G.name="AbortError",Promise.reject(G)}let c=r.path,l=Roe.buildQueryString(r.query||{});l&&(c+=`?${l}`),r.fragment&&(c+=`#${r.fragment}`);let d="";if(r.username!=null||r.password!=null){let G=r.username??"",le=r.password??"";d=`${G}:${le}@`}let{port:u,method:f}=r,g=`${r.protocol}//${d}${r.hostname}${u?`:${u}`:""}${c}`,p=f==="GET"||f==="HEAD"?void 0:r.body,y={body:p,headers:new Headers(r.headers),method:f,credentials:i};this.config?.cache&&(y.cache=this.config.cache),p&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=t),hp.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(r));let A=()=>{},k=uM(g,y),N=[fetch(k).then(G=>{let le=G.headers,de={};for(let $e of le.entries())de[$e[0]]=$e[1];return G.body!=null?{response:new dM.HttpResponse({headers:de,reason:G.statusText,statusCode:G.status,body:G.body})}:G.blob().then($e=>({response:new dM.HttpResponse({headers:de,reason:G.statusText,statusCode:G.status,body:$e})}))}),Poe(s)];return t&&N.push(new Promise((G,le)=>{let de=()=>{let Ee=new Error("Request aborted");Ee.name="AbortError",le(Ee)};if(typeof t.addEventListener=="function"){let Ee=t;Ee.addEventListener("abort",de,{once:!0}),A=()=>Ee.removeEventListener("abort",de)}else t.onabort=de})),Promise.race(N).finally(A)}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[r]=t,n))}httpHandlerConfigs(){return this.config??{}}},Ooe=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Noe(e):Boe(e);async function Noe(e){let r=await Doe(e),t=Ioe.fromBase64(r);return new Uint8Array(t)}async function Boe(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),i=0;for(let c of r)o.set(c,i),i+=c.length;return o}function Doe(e){return new Promise((r,t)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return t(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;r(s.substring(i))},n.onabort=()=>t(new Error("Read aborted")),n.onerror=()=>t(n.error),n.readAsDataURL(e)})}pp.FetchHttpHandler=dw;pp.keepAliveSupport=hp;pp.streamCollector=Ooe});var gp=b(fw=>{"use strict";var mM={},uw={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),mM[e]=r,uw[r]=e}function Moe(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in uw)r[t/2]=uw[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function Loe(e){let r="";for(let t=0;t<e.byteLength;t++)r+=mM[e[t]];return r}fw.fromHex=Moe;fw.toHex=Loe});var yM=b(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.sdkStreamMixin=void 0;var Foe=fM(),qoe=kr(),Uoe=gp(),zoe=or(),hM=ri(),pM="The stream has already been transformed.",joe=e=>{if(!gM(e)&&!(0,hM.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(pM);return r=!0,await(0,Foe.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,qoe.toBase64)(o);if(s==="hex")return(0,Uoe.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,zoe.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(pM);if(r=!0,gM(e))return n(e);if((0,hM.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};yp.sdkStreamMixin=joe;var gM=e=>typeof Blob=="function"&&e instanceof Blob});var bM=b(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.sdkStreamMixin=void 0;var Hoe=ea(),$oe=Qc(),mw=require("stream"),Voe=yM(),SM="The stream has already been transformed.",Goe=e=>{if(!(e instanceof mw.Readable))try{return(0,Voe.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(SM);return r=!0,await(0,Hoe.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async n=>{let s=await t();return n===void 0||Buffer.isEncoding(n)?(0,$oe.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(r)throw new Error(SM);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof mw.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,mw.Readable.toWeb(e)}})};Sp.sdkStreamMixin=Goe});var xM=b(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.splitStream=Koe;async function Koe(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var _M=b(pw=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});pw.splitStream=Xoe;var EM=require("stream"),Woe=xM(),CM=ri();async function Xoe(e){if((0,CM.isReadableStream)(e)||(0,CM.isBlob)(e))return(0,Woe.splitStream)(e);let r=new EM.PassThrough,t=new EM.PassThrough;return e.pipe(r),e.pipe(t),[r,t]}});var ta=b(pr=>{"use strict";var wM=kr(),AM=or(),vM=K_(),TM=$2(),kM=Q2(),RM=Y2(),IM=Z2(),PM=bM(),OM=_M(),NM=ri(),gw=class e extends Uint8Array{static fromString(r,t="utf-8"){if(typeof r=="string")return t==="base64"?e.mutate(wM.fromBase64(r)):e.mutate(AM.fromUtf8(r));throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,e.prototype),r}transformToString(r="utf-8"){return r==="base64"?wM.toBase64(this):AM.toUtf8(this)}};pr.Uint8ArrayBlobAdapter=gw;Object.keys(vM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return vM[e]}})});Object.keys(TM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return TM[e]}})});Object.keys(kM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return kM[e]}})});Object.keys(RM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return RM[e]}})});Object.keys(IM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return IM[e]}})});Object.keys(PM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return PM[e]}})});Object.keys(OM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return OM[e]}})});Object.keys(NM).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pr,e)&&Object.defineProperty(pr,e,{enumerable:!0,get:function(){return NM[e]}})})});var bp,fs,xp=R(()=>{bp=O(ta()),fs=async(e=new Uint8Array,r)=>{if(e instanceof Uint8Array)return bp.Uint8ArrayBlobAdapter.mutate(e);if(!e)return bp.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=r.streamCollector(e);return bp.Uint8ArrayBlobAdapter.mutate(await t)}});function Rs(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var Ep=R(()=>{});var ms,yw=R(()=>{ms=e=>typeof e=="function"?e():e});var Nu,Cp=R(()=>{Nu=(e,r,t,n,s)=>({name:r,namespace:e,traits:t,input:n,output:s})});var BM,DM,MM,Sw,LM=R(()=>{BM=O(Ye()),DM=O(Lr());Cp();MM=e=>(r,t)=>async n=>{let{response:s}=await r(n),{operationSchema:o}=(0,DM.getSmithyContext)(t),[,i,c,l,d,u]=o??[];try{let f=await e.protocol.deserializeResponse(Nu(i,c,l,d,u),{...e,...t},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s}),!("$metadata"in f)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+g}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(g):t.logger?.warn?.(g)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(BM.HttpResponse.isInstance(s)){let{headers:p={}}=s,y=Object.entries(p);f.$metadata={httpStatusCode:s.statusCode,requestId:Sw(/^x-[\w-]+-request-?id$/,y),extendedRequestId:Sw(/^x-[\w-]+-id-2$/,y),cfId:Sw(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw f}},Sw=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1]});var FM,qM,UM=R(()=>{FM=O(Lr());Cp();qM=e=>(r,t)=>async n=>{let{operationSchema:s}=(0,FM.getSmithyContext)(t),[,o,i,c,l,d]=s??[],u=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,f=await e.protocol.serializeRequest(Nu(o,i,c,l,d),n.input,{...e,...t,endpoint:u});return r({...n,request:f})}});function Qoe(e){return{applyToStack:r=>{r.add(qM(e),jM),r.add(MM(e),zM),e.protocol.setSerdeContext(e)}}}var zM,jM,HM=R(()=>{LM();UM();zM={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},jM={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Wt,ni=R(()=>{Wt=class{name;namespace;traits;static assign(r,t){return Object.assign(r,t)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var _p,Yoe,$M=R(()=>{ni();_p=class e extends Wt{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},Yoe=(e,r,t,n)=>Wt.assign(new _p,{name:r,namespace:e,traits:t,valueSchema:n})});var wp,Joe,VM=R(()=>{ni();wp=class e extends Wt{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},Joe=(e,r,t,n,s)=>Wt.assign(new wp,{name:r,namespace:e,traits:t,keySchema:n,valueSchema:s})});var Ap,Zoe,GM=R(()=>{ni();Ap=class e extends Wt{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},Zoe=(e,r,t,n,s)=>Wt.assign(new Ap,{name:r,namespace:e,traits:t,input:n,output:s})});var Zc,eie,bw=R(()=>{ni();Zc=class e extends Wt{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},eie=(e,r,t,n,s)=>Wt.assign(new Zc,{name:r,namespace:e,traits:t,memberNames:n,memberList:s})});var vp,tie,KM=R(()=>{ni();bw();vp=class e extends Zc{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},tie=(e,r,t,n,s,o)=>Wt.assign(new vp,{name:r,namespace:e,traits:t,memberNames:n,memberList:s,ctor:null})});function Is(e){if(typeof e=="object")return e;e=e|0;let r={},t=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(r[n]=1);return r}var xw=R(()=>{});function Bu(e,r){if(e instanceof ue)return Object.assign(e,{memberName:r,_isMemberSchema:!0});let t=ue;return new t(e,r)}var ue,Ew,WM,XM=R(()=>{yw();xw();ue=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(r,t){this.ref=r,this.memberName=t;let n=[],s=r,o=r;for(this._isMemberSchema=!1;Ew(s);)n.push(s[1]),s=s[0],o=ms(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let c=n[i];Object.assign(this.memberTraits,Is(c))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=ms(o),WM(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}static of(r){let t=ms(r);if(t instanceof e)return t;if(Ew(t)){let[n,s]=t;if(n instanceof e)return Object.assign(n.getMergedTraits(),Is(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new e(t)}getSchema(){let r=this.schema;return r[0]===0?r[4]:r}getName(r=!1){let{name:t}=this;return!r&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r[0]===1}isMapSchema(){let r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r[0]===2}isStructSchema(){let r=this.getSchema();return r[0]===3||r[0]===-3}isBlobSchema(){let r=this.getSchema();return r===21||r===42}isTimestampSchema(){let r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){let r=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:s}=this;return r(t)||r(n)||r(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Is(this.memberTraits)}getOwnTraits(){return Is(this.traits)}getKeySchema(){let[r,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=r?15:n[4]??0;return Bu([s,0],"key")}getValueSchema(){let r=this.getSchema(),[t,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof r=="number"?63&r:r&&typeof r=="object"&&(n||s)?r[3+r[0]]:t?15:void 0;if(o!=null)return Bu([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(r)){let n=t[4].indexOf(r),s=t[5][n];return Bu(Ew(s)?s:[s,0],r)}if(this.isDocumentSchema())return Bu([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){let r={};try{for(let[t,n]of this.structIterator())r[t]=n}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(let[r,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let r=this.getSchema();for(let t=0;t<r[4].length;++t)yield[r[4][t],Bu([r[5][t],0],r[4][t])]}};Ew=e=>Array.isArray(e)&&e.length===2,WM=e=>Array.isArray(e)&&e.length>=5});var Du,rie,nie,QM=R(()=>{ni();Du=class e extends Wt{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},rie=(e,r,t,n)=>Wt.assign(new Du,{name:r,namespace:e,traits:n,schemaRef:t}),nie=(e,r,t,n)=>Wt.assign(new Du,{name:r,namespace:e,traits:t,schemaRef:n})});var sie,YM=R(()=>{sie={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var ir,JM=R(()=>{ir=class e{namespace;schemas;exceptions;static registries=new Map;constructor(r,t=new Map,n=new Map){this.namespace=r,this.schemas=t,this.exceptions=n}static for(r){return e.registries.has(r)||e.registries.set(r,new e(r)),e.registries.get(r)}register(r,t){let n=this.normalizeShapeId(r);e.for(n.split("#")[0]).schemas.set(n,t)}getSchema(r){let t=this.normalizeShapeId(r);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(r,t){let n=r,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,t)}getErrorCtor(r){let t=r;return e.for(t[1]).exceptions.get(t)}getBaseException(){for(let r of this.exceptions.keys())if(Array.isArray(r)){let[,t,n]=r,s=t+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return r}}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}}});var ZM={};Cn(ZM,{ErrorSchema:()=>vp,ListSchema:()=>_p,MapSchema:()=>wp,NormalizedSchema:()=>ue,OperationSchema:()=>Ap,SCHEMA:()=>sie,Schema:()=>Wt,SimpleSchema:()=>Du,StructureSchema:()=>Zc,TypeRegistry:()=>ir,deref:()=>ms,deserializerMiddlewareOption:()=>zM,error:()=>tie,getSchemaSerdePlugin:()=>Qoe,isStaticSchema:()=>WM,list:()=>Yoe,map:()=>Joe,op:()=>Zoe,operation:()=>Nu,serializerMiddlewareOption:()=>jM,sim:()=>rie,simAdapter:()=>nie,struct:()=>eie,translateTraits:()=>Is});var jt=R(()=>{yw();HM();$M();VM();GM();Cp();KM();XM();ni();QM();bw();YM();xw();JM()});var oie,eL=R(()=>{oie=(e,r,t=n=>n)=>e});var iie,aie,Mu,cie,Tp,Lu,lie,Cw,_w,ww,Aw,die,uie,tL,fie,mie,Rp,hie,vw,pie,el,Tw,gie,yie,Sie,rL,nL,bie,xie,ra,kw,kp,Fu,Rw=R(()=>{iie=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},aie=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Fu.warn(kp(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let r=e.toLowerCase();if((r==="false"||r==="true")&&Fu.warn(kp(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Mu=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Fu.warn(kp(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},cie=Math.ceil(34028234663852886e22),Tp=e=>{let r=Mu(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>cie)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},Lu=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},lie=Lu,Cw=e=>Aw(e,32),_w=e=>Aw(e,16),ww=e=>Aw(e,8),Aw=(e,r)=>{let t=Lu(e);if(t!==void 0&&die(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},die=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},uie=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},tL=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},fie=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Fu.warn(kp(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},mie=e=>{if(e==null)return;let r=tL(e),t=Object.entries(r).filter(([,n])=>n!=null).map(([n])=>n);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return r},Rp=e=>Mu(typeof e=="string"?el(e):e),hie=Rp,vw=e=>Tp(typeof e=="string"?el(e):e),pie=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,el=e=>{let r=e.match(pie);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Tw=e=>typeof e=="string"?rL(e):Mu(e),gie=Tw,yie=Tw,Sie=e=>typeof e=="string"?rL(e):Tp(e),rL=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},nL=e=>Lu(typeof e=="string"?el(e):e),bie=nL,xie=e=>Cw(typeof e=="string"?el(e):e),ra=e=>_w(typeof e=="string"?el(e):e),kw=e=>ww(typeof e=="string"?el(e):e),kp=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Fu={warn:console.warn}});function Uu(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),c=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,u=i<10?`0${i}`:`${i}`,f=c<10?`0${c}`:`${c}`;return`${Eie[n]}, ${l} ${Pw[t]} ${r} ${d}:${u}:${f} GMT`}var Eie,Pw,Cie,_ie,wie,Ow,Aie,vie,Tie,Nw,Bw,qu,kie,Rie,Iie,Iw,Pie,Oie,Nie,Ps,Bie,Die,tl,sL=R(()=>{Rw();Eie=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Pw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Cie=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),_ie=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=Cie.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,i,c,l,d]=r,u=ra(tl(n)),f=Ps(s,"month",1,12),g=Ps(o,"day",1,31);return qu(u,f,g,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:d})},wie=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ow=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=wie.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,i,c,l,d,u]=r,f=ra(tl(n)),g=Ps(s,"month",1,12),p=Ps(o,"day",1,31),y=qu(f,g,p,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&y.setTime(y.getTime()-Die(u)),y},Aie=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),vie=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Tie=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Nw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=Aie.exec(e);if(r){let[t,n,s,o,i,c,l,d]=r;return qu(ra(tl(o)),Iw(s),Ps(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:d})}if(r=vie.exec(e),r){let[t,n,s,o,i,c,l,d]=r;return Iie(qu(kie(o),Iw(s),Ps(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:d}))}if(r=Tie.exec(e),r){let[t,n,s,o,i,c,l,d]=r;return qu(ra(tl(d)),Iw(n),Ps(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},Bw=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=Rp(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},qu=(e,r,t,n)=>{let s=r-1;return Oie(e,s,t),new Date(Date.UTC(e,s,t,Ps(n.hours,"hour",0,23),Ps(n.minutes,"minute",0,59),Ps(n.seconds,"seconds",0,60),Bie(n.fractionalMilliseconds)))},kie=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+ra(tl(e));return t<r?t+100:t},Rie=50*365*24*60*60*1e3,Iie=e=>e.getTime()-new Date().getTime()>Rie?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Iw=e=>{let r=Pw.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},Pie=[31,28,31,30,31,30,31,31,30,31,30,31],Oie=(e,r,t)=>{let n=Pie[r];if(r===1&&Nie(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${Pw[r]} in ${e}: ${t}`)},Nie=e=>e%4===0&&(e%100!==0||e%400===0),Ps=(e,r,t,n)=>{let s=kw(tl(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},Bie=e=>e==null?0:vw("0."+e)*1e3,Die=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},tl=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)}});var Os={};Cn(Os,{__addDisposableResource:()=>RL,__assign:()=>Ip,__asyncDelegator:()=>EL,__asyncGenerator:()=>xL,__asyncValues:()=>CL,__await:()=>rl,__awaiter:()=>hL,__classPrivateFieldGet:()=>vL,__classPrivateFieldIn:()=>kL,__classPrivateFieldSet:()=>TL,__createBinding:()=>Op,__decorate:()=>aL,__disposeResources:()=>IL,__esDecorate:()=>lL,__exportStar:()=>gL,__extends:()=>oL,__generator:()=>pL,__importDefault:()=>AL,__importStar:()=>wL,__makeTemplateObject:()=>_L,__metadata:()=>mL,__param:()=>cL,__propKey:()=>uL,__read:()=>Lw,__rest:()=>iL,__rewriteRelativeImportExtension:()=>PL,__runInitializers:()=>dL,__setFunctionName:()=>fL,__spread:()=>yL,__spreadArray:()=>bL,__spreadArrays:()=>SL,__values:()=>Pp,default:()=>Fie});function oL(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Dw(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function iL(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function aL(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(s<3?i(o):s>3?i(r,t,o):i(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function cL(e,r){return function(t,n){r(t,n,e)}}function lL(e,r,t,n,s,o){function i(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?n.static?e:e.prototype:null,u=r||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),f,g=!1,p=t.length-1;p>=0;p--){var y={};for(var A in n)y[A]=A==="access"?{}:n[A];for(var A in n.access)y.access[A]=n.access[A];y.addInitializer=function(N){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(N||null))};var k=(0,t[p])(c==="accessor"?{get:u.get,set:u.set}:u[l],y);if(c==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(f=i(k.get))&&(u.get=f),(f=i(k.set))&&(u.set=f),(f=i(k.init))&&s.unshift(f)}else(f=i(k))&&(c==="field"?s.unshift(f):u[l]=f)}d&&Object.defineProperty(d,n.name,u),g=!0}function dL(e,r,t){for(var n=arguments.length>2,s=0;s<r.length;s++)t=n?r[s].call(e,t):r[s].call(e);return n?t:void 0}function uL(e){return typeof e=="symbol"?e:"".concat(e)}function fL(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function mL(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function hL(e,r,t,n){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,r||[])).next())})}function pL(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(d){return function(u){return l([d,u])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(t=0)),t;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(u){d=[6,u],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function gL(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Op(r,e,t)}function Pp(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lw(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],i;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){i={error:c}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return o}function yL(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Lw(arguments[r]));return e}function SL(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],i=0,c=o.length;i<c;i++,s++)n[s]=o[i];return n}function bL(e,r,t){if(t||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function rl(e){return this instanceof rl?(this.v=e,this):new rl(e)}function xL(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(p){return function(y){return Promise.resolve(y).then(p,f)}}function c(p,y){n[p]&&(s[p]=function(A){return new Promise(function(k,N){o.push([p,A,k,N])>1||l(p,A)})},y&&(s[p]=y(s[p])))}function l(p,y){try{d(n[p](y))}catch(A){g(o[0][3],A)}}function d(p){p.value instanceof rl?Promise.resolve(p.value.v).then(u,f):g(o[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function g(p,y){p(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function EL(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(i){return(t=!t)?{value:rl(e[s](i)),done:!1}:o?o(i):i}:o}}function CL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Pp=="function"?Pp(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(i){return new Promise(function(c,l){i=e[o](i),s(c,l,i.done,i.value)})}}function s(o,i,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},i)}}function _L(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function wL(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=Mw(e),n=0;n<t.length;n++)t[n]!=="default"&&Op(r,e,t[n]);return Mie(r,e),r}function AL(e){return e&&e.__esModule?e:{default:e}}function vL(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function TL(e,r,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,t):s?s.value=t:r.set(e,t),t}function kL(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function RL(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}function IL(e){function r(o){e.error=e.hasError?new Lie(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(s,function(i){return r(i),s()})}else n|=1}catch(i){r(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function PL(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,s,o,i){return n?r?".jsx":".js":s&&(!o||!i)?t:s+o+"."+i.toLowerCase()+"js"}):e}var Dw,Ip,Op,Mie,Mw,Lie,Fie,Ns=R(()=>{Dw=function(e,r){return Dw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},Dw(e,r)};Ip=function(){return Ip=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Ip.apply(this,arguments)};Op=Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]});Mie=Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r},Mw=function(e){return Mw=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},Mw(e)};Lie=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};Fie={__extends:oL,__assign:Ip,__rest:iL,__decorate:aL,__param:cL,__esDecorate:lL,__runInitializers:dL,__propKey:uL,__setFunctionName:fL,__metadata:mL,__awaiter:hL,__generator:pL,__createBinding:Op,__exportStar:gL,__values:Pp,__read:Lw,__spread:yL,__spreadArrays:SL,__spreadArray:bL,__await:rl,__asyncGenerator:xL,__asyncDelegator:EL,__asyncValues:CL,__makeTemplateObject:_L,__importStar:wL,__importDefault:AL,__classPrivateFieldGet:vL,__classPrivateFieldSet:TL,__classPrivateFieldIn:kL,__addDisposableResource:RL,__disposeResources:IL,__rewriteRelativeImportExtension:PL}});var NL=b(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.randomUUID=void 0;var qie=(Ns(),Re(Os)),OL=qie.__importDefault(require("crypto"));Np.randomUUID=OL.default.randomUUID.bind(OL.default)});var Bp=b(DL=>{"use strict";var BL=NL(),Fr=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0")),Uie=()=>{if(BL.randomUUID)return BL.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Fr[e[0]]+Fr[e[1]]+Fr[e[2]]+Fr[e[3]]+"-"+Fr[e[4]]+Fr[e[5]]+"-"+Fr[e[6]]+Fr[e[7]]+"-"+Fr[e[8]]+Fr[e[9]]+"-"+Fr[e[10]]+Fr[e[11]]+Fr[e[12]]+Fr[e[13]]+Fr[e[14]]+Fr[e[15]]};DL.v4=Uie});var Bs,ML=R(()=>{Bs=O(Bp())});var en,LL=R(()=>{en=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};en.from=e=>e&&typeof e=="object"&&(e instanceof en||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?en(String(e)):en(JSON.stringify(e));en.fromObject=en.from});function Fw(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var FL=R(()=>{});function co(e,r,t){let n=Number(e);if(n<r||n>t)throw new Error(`Value ${n} out of range [${r}, ${t}]`)}var qw,Uw,zw,qL,UL,zie,jie,Hie,$ie,Vie,zu,jw,Hw,zL=R(()=>{qw="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Uw="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",zw="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",qL="(\\d?\\d)",UL="(\\d{4})",zie=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),jie=new RegExp(`^${qw}, ${qL} ${Uw} ${UL} ${zw} GMT$`),Hie=new RegExp(`^${qw}, ${qL}-${Uw}-(\\d\\d) ${zw} GMT$`),$ie=new RegExp(`^${qw} ${Uw} ( [1-9]|\\d\\d) ${zw} ${UL}$`),Vie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zu=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},jw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let r=zie.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,n,s,o,i,c,,l,d]=r;co(n,1,12),co(s,1,31),co(o,0,23),co(i,0,59),co(c,0,60);let u=new Date;if(u.setUTCFullYear(Number(t),Number(n)-1,Number(s)),u.setUTCHours(Number(o)),u.setUTCMinutes(Number(i)),u.setUTCSeconds(Number(c)),u.setUTCMilliseconds(Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0),d.toUpperCase()!="Z"){let[,f,g,p]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],y=f==="-"?1:-1;u.setTime(u.getTime()+y*(Number(g)*60*60*1e3+Number(p)*60*1e3))}return u},Hw=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,t,n,s,o,i,c,l;if((l=jie.exec(e))?[,r,t,n,s,o,i,c]=l:(l=Hie.exec(e))?([,r,t,n,s,o,i,c]=l,n=(Number(n)+1900).toString()):(l=$ie.exec(e))&&([,t,r,s,o,i,c,n]=l),n&&i){let d=new Date;return d.setUTCFullYear(Number(n)),d.setUTCMonth(Vie.indexOf(t)),co(r,1,31),d.setUTCDate(Number(r)),co(s,0,23),d.setUTCHours(Number(s)),co(o,0,59),d.setUTCMinutes(Number(o)),co(i,0,60),d.setUTCSeconds(Number(i)),d.setUTCMilliseconds(c?Math.round(parseFloat(`0.${c}`)*1e3):0),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function $w(e,r,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let n=e.split(r);if(t===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=r+n[i],(i+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var jL=R(()=>{});var ju,HL=R(()=>{ju=e=>{let r=e.length,t=[],n=!1,s,o=0;for(let i=0;i<r;++i){let c=e[i];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(t.push(e.slice(o,i)),o=i+1);break;default:}s=c}return t.push(e.slice(o)),t.map(i=>{i=i.trim();let c=i.length;return c<2?i:(i[0]==='"'&&i[c-1]==='"'&&(i=i.slice(1,c-1)),i.replace(/\\"/g,'"'))})}});function Vw(e){return new Bt(String(e),"bigDecimal")}var $L,Bt,VL=R(()=>{$L=/^-?\d*(\.\d+)?$/,Bt=class e{string;type;constructor(r,t){if(this.string=r,this.type=t,!$L.test(r))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](r){if(!r||typeof r!="object")return!1;let t=r;return e.prototype.isPrototypeOf(r)||t.type==="bigDecimal"&&$L.test(t.string)}}});var GL={};Cn(GL,{LazyJsonString:()=>en,NumericValue:()=>Bt,_parseEpochTimestamp:()=>zu,_parseRfc3339DateTimeWithOffset:()=>jw,_parseRfc7231DateTime:()=>Hw,copyDocumentWithTransform:()=>oie,dateToUtcString:()=>Uu,expectBoolean:()=>aie,expectByte:()=>ww,expectFloat32:()=>Tp,expectInt:()=>lie,expectInt32:()=>Cw,expectLong:()=>Lu,expectNonNull:()=>uie,expectNumber:()=>Mu,expectObject:()=>tL,expectShort:()=>_w,expectString:()=>fie,expectUnion:()=>mie,generateIdempotencyToken:()=>Bs.v4,handleFloat:()=>gie,limitedParseDouble:()=>Tw,limitedParseFloat:()=>yie,limitedParseFloat32:()=>Sie,logger:()=>Fu,nv:()=>Vw,parseBoolean:()=>iie,parseEpochTimestamp:()=>Bw,parseRfc3339DateTime:()=>_ie,parseRfc3339DateTimeWithOffset:()=>Ow,parseRfc7231DateTime:()=>Nw,quoteHeader:()=>Fw,splitEvery:()=>$w,splitHeader:()=>ju,strictParseByte:()=>kw,strictParseDouble:()=>Rp,strictParseFloat:()=>hie,strictParseFloat32:()=>vw,strictParseInt:()=>bie,strictParseInt32:()=>xie,strictParseLong:()=>nL,strictParseShort:()=>ra});var fn=R(()=>{eL();sL();ML();LL();Rw();FL();zL();jL();HL();VL()});var tn,nl=R(()=>{tn=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});var KL,Gw,WL=R(()=>{KL=O(or()),Gw=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:r,serializer:t,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=r,this.serializer=t,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){let s=this.marshaller,o=t.getEventStreamMember(),i=t.getMemberSchema(o),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(t,n);let g=c.flush();yield{[d]:!0,headers:f,body:g}}for await(let f of r)yield f}};return s.serialize(u,f=>{if(f[d])return{headers:f.headers,body:f.body};let g=Object.keys(f).find(G=>G!=="__type")??"",{additionalHeaders:p,body:y,eventType:A,explicitPayloadContentType:k}=this.writeEventBody(g,i,f);return{headers:{":event-type":{type:"string",value:A},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:k??l},...p},body:y}})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){let s=this.marshaller,o=t.getEventStreamMember(),c=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(r.body,async g=>{let p=Object.keys(g).find(y=>y!=="__type")??"";if(p==="initial-response"){let y=await this.deserializer.read(t,g[p].body);return delete y[o],{[l]:!0,...y}}else if(p in c){let y=c[p];return{[p]:await this.deserializer.read(y,g[p].body)}}else return{$unknown:g}}),u=d[Symbol.asyncIterator](),f=await u.next();if(f.done)return d;if(f.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,p]of Object.entries(f.value))n[g]=p}return{async*[Symbol.asyncIterator](){for(f?.value?.[l]||(yield f.value);;){let{done:g,value:p}=await u.next();if(g)break;yield p}}}}writeEventBody(r,t,n){let s=this.serializer,o=r,i=null,c,l=t.getSchema()[4].includes(r),d={};if(l){let g=t.getMemberSchema(r);if(g.isStructSchema()){for(let[p,y]of g.structIterator()){let{eventHeader:A,eventPayload:k}=y.getMergedTraits();if(k){i=p;break}else if(A){let N=n[r][p],G="binary";y.isNumericSchema()?(-2)**31<=N&&N<=2**31-1?G="integer":G="long":y.isTimestampSchema()?G="timestamp":y.isStringSchema()?G="string":y.isBooleanSchema()&&(G="boolean"),N!=null&&(d[p]={type:G,value:N},delete n[r][p])}}if(i!==null){let p=g.getMemberSchema(i);p.isBlobSchema()?c="application/octet-stream":p.isStringSchema()&&(c="text/plain"),s.write(p,n[r][i])}else s.write(g,n[r])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,p]=n[r];o=g,s.write(15,p)}let u=s.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??KL.fromUtf8)(u):u,eventType:o,explicitPayloadContentType:c,additionalHeaders:d}}}});var XL={};Cn(XL,{EventStreamSerde:()=>Gw});var QL=R(()=>{WL()});var Dp,na,Mp=R(()=>{jt();Dp=O(Ye());nl();na=class extends tn{options;constructor(r){super(),this.options=r}getRequestType(){return Dp.HttpRequest}getResponseType(){return Dp.HttpResponse}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,t){if("url"in t){r.protocol=t.url.protocol,r.hostname=t.url.hostname,r.port=t.url.port?Number(t.url.port):void 0,r.path=t.url.pathname,r.fragment=t.url.hash||void 0,r.username=t.url.username||void 0,r.password=t.url.password||void 0,r.query||(r.query={});for(let[n,s]of t.url.searchParams.entries())r.query[n]=s;return r}else return r.protocol=t.protocol,r.hostname=t.hostname,r.port=t.port?Number(t.port):void 0,r.path=t.path,r.query={...t.query},r}setHostPrefix(r,t,n){let s=ue.of(t.input),o=Is(t.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let d=n[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,d)}r.hostname=i+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(QL(),XL));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,t,n,s,o){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}}});var YL,JL,sa,ZL=R(()=>{jt();fn();YL=O(Ye()),JL=O(ta());xp();Ep();Mp();sa=class extends na{async serializeRequest(r,t,n){let s={...t??{}},o=this.serializer,i={},c={},l=await n.endpoint(),d=ue.of(r?.input),u=d.getSchema(),f=!1,g,p=new YL.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:c,body:void 0});if(l){this.updateServiceEndpoint(p,l),this.setHostPrefix(p,r,s);let y=Is(r.traits);if(y.http){p.method=y.http[0];let[A,k]=y.http[1].split("?");p.path=="/"?p.path=A:p.path+=A;let N=new URLSearchParams(k??"");Object.assign(i,Object.fromEntries(N))}}for(let[y,A]of d.structIterator()){let k=A.getMergedTraits()??{},N=s[y];if(N!=null)if(k.httpPayload)A.isStreaming()?A.isStructSchema()?s[y]&&(g=await this.serializeEventStream({eventStream:s[y],requestSchema:d})):g=N:(o.write(A,N),g=o.flush()),delete s[y];else if(k.httpLabel){o.write(A,N);let G=o.flush();p.path.includes(`{${y}+}`)?p.path=p.path.replace(`{${y}+}`,G.split("/").map(Rs).join("/")):p.path.includes(`{${y}}`)&&(p.path=p.path.replace(`{${y}}`,Rs(G))),delete s[y]}else if(k.httpHeader)o.write(A,N),c[k.httpHeader.toLowerCase()]=String(o.flush()),delete s[y];else if(typeof k.httpPrefixHeaders=="string"){for(let[G,le]of Object.entries(N)){let de=k.httpPrefixHeaders+G;o.write([A.getValueSchema(),{httpHeader:de}],le),c[de.toLowerCase()]=o.flush()}delete s[y]}else k.httpQuery||k.httpQueryParams?(this.serializeQuery(A,N,i),delete s[y]):f=!0}return f&&s&&(o.write(u,s),g=o.flush()),p.headers=c,p.query=i,p.body=g,p}serializeQuery(r,t,n){let s=this.serializer,o=r.getMergedTraits();if(o.httpQueryParams){for(let[i,c]of Object.entries(t))if(!(i in n)){let l=r.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(l,c,n)}return}if(r.isListSchema()){let i=!!r.getMergedTraits().sparse,c=[];for(let l of t){s.write([r.getValueSchema(),o],l);let d=s.flush();(i||d!==void 0)&&c.push(d)}n[o.httpQuery]=c}else s.write([r,o],t),n[o.httpQuery]=s.flush()}async deserializeResponse(r,t,n){let s=this.deserializer,o=ue.of(r.output),i={};if(n.statusCode>=300){let l=await fs(n.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(r,t,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=await this.deserializeHttpMessage(o,t,n,i);if(c.length){let l=await fs(n.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let u of c)i[u]=d[u]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(r,t,n,s,o){let i;s instanceof Set?i=o:i=s;let c=this.deserializer,l=ue.of(r),d=[];for(let[u,f]of l.structIterator()){let g=f.getMemberTraits();if(g.httpPayload){if(f.isStreaming())f.isStructSchema()?i[u]=await this.deserializeEventStream({response:n,responseSchema:l}):i[u]=(0,JL.sdkStreamMixin)(n.body);else if(n.body){let y=await fs(n.body,t);y.byteLength>0&&(i[u]=await c.read(f,y))}}else if(g.httpHeader){let p=String(g.httpHeader).toLowerCase(),y=n.headers[p];if(y!=null)if(f.isListSchema()){let A=f.getValueSchema();A.getMergedTraits().httpHeader=p;let k;A.isTimestampSchema()&&A.getSchema()===4?k=$w(y,",",2):k=ju(y);let N=[];for(let G of k)N.push(await c.read(A,G.trim()));i[u]=N}else i[u]=await c.read(f,y)}else if(g.httpPrefixHeaders!==void 0){i[u]={};for(let[p,y]of Object.entries(n.headers))if(p.startsWith(g.httpPrefixHeaders)){let A=f.getValueSchema();A.getMergedTraits().httpHeader=p,i[u][p.slice(g.httpPrefixHeaders.length)]=await c.read(A,y)}}else g.httpResponseCode?i[u]=n.statusCode:d.push(u)}return d}}});var eF,lo,tF=R(()=>{jt();eF=O(Ye());xp();Mp();lo=class extends na{async serializeRequest(r,t,n){let s=this.serializer,o={},i={},c=await n.endpoint(),l=ue.of(r?.input),d=l.getSchema(),u,f=new eF.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});c&&(this.updateServiceEndpoint(f,c),this.setHostPrefix(f,r,t));let g={...t};if(t){let p=l.getEventStreamMember();if(p){if(g[p]){let y={};for(let[A,k]of l.structIterator())A!==p&&g[A]&&(s.write(k,g[A]),y[A]=s.flush());u=await this.serializeEventStream({eventStream:g[p],requestSchema:l,initialRequest:y})}}else s.write(d,g),u=s.flush()}return f.headers=i,f.query=o,f.body=u,f.method="POST",f}async deserializeResponse(r,t,n){let s=this.deserializer,o=ue.of(r.output),i={};if(n.statusCode>=300){let l=await fs(n.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(r,t,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=o.getEventStreamMember();if(c)i[c]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let l=await fs(n.body,t);l.byteLength>0&&Object.assign(i,await s.read(o,l))}return i.$metadata=this.deserializeMetadata(n),i}}});var Kw,Ww=R(()=>{Ep();Kw=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?i.split("/").map(c=>Rs(c)).join("/"):Rs(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function Hu(e,r){return new Lp(e,r)}var rF,Lp,nF=R(()=>{rF=O(Ye());Ww();Lp=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(r,t){this.input=r,this.context=t}async build(){let{hostname:r,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new rF.HttpRequest({protocol:t,hostname:this.hostname||r,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+r}),this}p(r,t,n,s){return this.resolvePathStack.push(o=>{this.path=Kw(o,this.input,r,t,n,s)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}});function An(e,r){if(r.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(r.httpBindings?typeof n=="string"||s?6:o||t?5:void 0:void 0)??r.timestampFormat.default}var Fp=R(()=>{});var Xw,sF,oa,Qw=R(()=>{jt();fn();Xw=O(kr()),sF=O(or());nl();Fp();oa=class extends tn{settings;constructor(r){super(),this.settings=r}read(r,t){let n=ue.of(r);if(n.isListSchema())return ju(t).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Xw.fromBase64)(t);if(n.isTimestampSchema())switch(An(n,this.settings)){case 5:return jw(t);case 6:return Hw(t);case 7:return zu(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=t;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=en.from(o)),o}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new Bt(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(r){return(this.serdeContext?.utf8Encoder??sF.toUtf8)((this.serdeContext?.base64Decoder??Xw.fromBase64)(r))}}});var qp,ia,oF=R(()=>{jt();qp=O(or());nl();Qw();ia=class extends tn{codecDeserializer;stringDeserializer;constructor(r,t){super(),this.codecDeserializer=r,this.stringDeserializer=new oa(t)}setSerdeContext(r){this.stringDeserializer.setSerdeContext(r),this.codecDeserializer.setSerdeContext(r),this.serdeContext=r}read(r,t){let n=ue.of(r),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??qp.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??qp.fromUtf8;return typeof t=="string"?i(t):t}else if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}}});var Yw,$u,Jw=R(()=>{jt();fn();Yw=O(kr());nl();Fp();$u=class extends tn{settings;stringBuffer="";constructor(r){super(),this.settings=r}write(r,t){let n=ue.of(r);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(An(n,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Uu(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??Yw.toBase64)(t);return}if(n.isListSchema()&&Array.isArray(t)){let i="";for(let c of t){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),d=n.getValueSchema().isTimestampSchema()?l:Fw(l);i!==""&&(i+=", "),i+=d}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=en.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Yw.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let r=this.stringBuffer;return this.stringBuffer="",r}}});var aa,iF=R(()=>{jt();Jw();aa=class{codecSerializer;stringSerializer;buffer;constructor(r,t,n=new $u(t)){this.codecSerializer=r,this.stringSerializer=n}setSerdeContext(r){this.codecSerializer.setSerdeContext(r),this.stringSerializer.setSerdeContext(r)}write(r,t){let n=ue.of(r),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,t)}flush(){if(this.buffer!==void 0){let r=this.buffer;return this.buffer=void 0,r}return this.codecSerializer.flush()}}});var aF={};Cn(aF,{FromStringShapeDeserializer:()=>oa,HttpBindingProtocol:()=>sa,HttpInterceptingShapeDeserializer:()=>ia,HttpInterceptingShapeSerializer:()=>aa,HttpProtocol:()=>na,RequestBuilder:()=>Lp,RpcProtocol:()=>lo,SerdeContext:()=>tn,ToStringShapeSerializer:()=>$u,collectBody:()=>fs,determineTimestampFormat:()=>An,extendedEncodeURIComponent:()=>Rs,requestBuilder:()=>Hu,resolvedPath:()=>Kw});var mn=R(()=>{xp();Ep();ZL();Mp();tF();nF();Ww();Qw();oF();iF();Jw();Fp();nl()});var cF=R(()=>{mn()});function Gie(e,r,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[r]=t}var lF=R(()=>{});var ca,dF=R(()=>{ca=class{authSchemes=new Map;constructor(r){for(let[t,n]of Object.entries(r))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(r){return this.authSchemes.get(r)}}});var uF,Zw,eA,fF=R(()=>{uF=O(Ye()),Zw=O(oo()),eA=class{async sign(r,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=uF.HttpRequest.clone(r);if(n.in===Zw.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=t.apiKey;else if(n.in===Zw.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var mF,tA,hF=R(()=>{mF=O(Ye()),tA=class{async sign(r,t,n){let s=mF.HttpRequest.clone(r);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var uo,pF=R(()=>{uo=class{async sign(r,t,n){return r}}});var gF=R(()=>{fF();hF();pF()});var yF,Kie,rA,Up,nA,SF=R(()=>{yF=e=>function(t){return Up(t)&&t.expiration.getTime()-Date.now()<e},Kie=3e5,rA=yF(3e5),Up=e=>e.expiration!==void 0,nA=(e,r,t)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,c=!1,l=async d=>{o||(o=n(d));try{s=await o,i=!0,c=!1}finally{o=void 0}return s};return r===void 0?async d=>((!i||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!i||d?.forceRefresh)&&(s=await l(d)),c?s:t(s)?(r(s)&&await l(d),s):(c=!0,s))}});var bF=R(()=>{dF();gF();SF()});var la={};Cn(la,{DefaultIdentityProviderConfig:()=>ca,EXPIRATION_MS:()=>Kie,HttpApiKeyAuthSigner:()=>eA,HttpBearerAuthSigner:()=>tA,NoAuthSigner:()=>uo,createIsIdentityExpiredFunction:()=>yF,createPaginator:()=>N2,doesIdentityRequireRefresh:()=>Up,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ru,getHttpAuthSchemePlugin:()=>kse,getHttpSigningPlugin:()=>Iu,getSmithyContext:()=>Cse,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>y2,httpAuthSchemeMiddleware:()=>ku,httpAuthSchemeMiddlewareOptions:()=>w2,httpSigningMiddleware:()=>j_,httpSigningMiddlewareOptions:()=>R2,isIdentityExpired:()=>rA,memoizeIdentityProvider:()=>nA,normalizeProvider:()=>ti,requestBuilder:()=>Hu,setFeature:()=>Gie});var rn=R(()=>{f2();v2();P2();O2();B2();cF();lF();bF()});var nn=b(da=>{"use strict";var sl=class e extends Error{name="ProviderError";tryNextLink;constructor(r,t=!0){let n,s=!0;typeof t=="boolean"?(n=void 0,s=t):t!=null&&typeof t=="object"&&(n=t.logger,s=t.tryNextLink??!0),super(r),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${r}`)}static from(r,t=!0){return Object.assign(new this(r.message,t),r)}},sA=class e extends sl{name="CredentialsProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},oA=class e extends sl{name="TokenProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},Wie=(...e)=>async()=>{if(e.length===0)throw new sl("No providers in chain");let r;for(let t of e)try{return await t()}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},Xie=e=>()=>Promise.resolve(e),Qie=(e,r,t)=>{let n,s,o,i=!1,c=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return r===void 0?async l=>((!o||l?.forceRefresh)&&(n=await c()),n):async l=>((!o||l?.forceRefresh)&&(n=await c()),i?n:t&&!t(n)?(i=!0,n):(r(n)&&await c(),n))};da.CredentialsProviderError=sA;da.ProviderError=sl;da.TokenProviderError=oA;da.chain=Wie;da.fromStatic=Xie;da.memoize=Qie});var iA,xF,EF,CF=R(()=>{rn();iA=O(nn()),xF=e=>(e.sigv4aSigningRegionSet=ti(e.sigv4aSigningRegionSet),e),EF={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(r=>r.trim());throw new iA.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(r=>r.trim());throw new iA.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Wp=b(Ne=>{"use strict";var si=gp(),ua=or(),Yie=ep(),vF=Ye(),_F=Lr(),zp=rw(),TF="X-Amz-Algorithm",kF="X-Amz-Credential",fA="X-Amz-Date",RF="X-Amz-SignedHeaders",IF="X-Amz-Expires",mA="X-Amz-Signature",hA="X-Amz-Security-Token",Jie="X-Amz-Region-Set",pA="authorization",gA=fA.toLowerCase(),PF="date",OF=[pA,gA,PF],NF=mA.toLowerCase(),Gp="x-amz-content-sha256",BF=hA.toLowerCase(),Zie="host",DF={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},MF=/^proxy-/,LF=/^sec-/,eae=[/^proxy-/i,/^sec-/i],jp="AWS4-HMAC-SHA256",tae="AWS4-ECDSA-P256-SHA256",FF="AWS4-HMAC-SHA256-PAYLOAD",qF="UNSIGNED-PAYLOAD",UF=50,yA="aws4_request",zF=3600*24*7,ol={},Hp=[],$p=(e,r,t)=>`${e}/${r}/${t}/${yA}`,jF=async(e,r,t,n,s)=>{let o=await wF(e,r.secretAccessKey,r.accessKeyId),i=`${t}:${n}:${s}:${si.toHex(o)}:${r.sessionToken}`;if(i in ol)return ol[i];for(Hp.push(i);Hp.length>UF;)delete ol[Hp.shift()];let c=`AWS4${r.secretAccessKey}`;for(let l of[t,n,s,yA])c=await wF(e,c,l);return ol[i]=c},rae=()=>{Hp.length=0,Object.keys(ol).forEach(e=>{delete ol[e]})},wF=(e,r,t)=>{let n=new e(r);return n.update(ua.toUint8Array(t)),n.digest()},aA=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in DF||r?.has(o)||MF.test(o)||LF.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Vp=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Gp)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||Yie.isArrayBuffer(r)){let n=new t;return n.update(ua.toUint8Array(r)),si.toHex(await n.digest())}return qF},cA=class{format(r){let t=[];for(let o of Object.keys(r)){let i=ua.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(r.value,3),i;case"string":let c=ua.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(lA.fromNumber(r.value.valueOf()).bytes,1),u;case"uuid":if(!nae.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(si.fromHex(r.value.replace(/\-/g,"")),1),f}}},nae=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,lA=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&AF(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&AF(r),parseInt(si.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function AF(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var HF=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1},$F=(e,r={})=>{let{headers:t,query:n={}}=vF.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(o)||r.hoistableHeaders?.has(o))&&(n[s]=t[s],delete t[s])}return{...e,headers:t,query:n}},dA=e=>{e=vF.HttpRequest.clone(e);for(let r of Object.keys(e.headers))OF.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e},VF=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e)){if(n.toLowerCase()===NF)continue;let s=zp.escapeUri(n);r.push(s);let o=e[n];typeof o=="string"?t[s]=`${s}=${zp.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((i,c)=>i.concat([`${s}=${zp.escapeUri(c)}`]),[]).sort().join("&"))}return r.sort().map(n=>t[n]).filter(n=>n).join("&")},sae=e=>oae(e).toISOString().replace(/\.\d{3}Z$/,"Z"),oae=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Kp=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=_F.normalizeProvider(n),this.credentialProvider=_F.normalizeProvider(t)}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${VF(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n,s){let o=new this.sha256;o.update(ua.toUint8Array(n));let i=await o.digest();return`${s}
${r}
${t}
${si.toHex(i)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&r?.endsWith("/")?"/":""}`;return zp.escapeUri(n).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){let t=sae(r).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}},uA=class extends Kp{headerFormatter=new cA;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(r,t={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:c,hoistableHeaders:l,signingRegion:d,signingService:u}=t,f=await this.credentialProvider();this.validateResolvedCredentials(f);let g=d??await this.regionProvider(),{longDate:p,shortDate:y}=this.formatDate(n);if(s>zF)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let A=$p(y,g,u??this.service),k=$F(dA(r),{unhoistableHeaders:i,hoistableHeaders:l});f.sessionToken&&(k.query[hA]=f.sessionToken),k.query[TF]=jp,k.query[kF]=`${f.accessKeyId}/${A}`,k.query[fA]=p,k.query[IF]=s.toString(10);let N=aA(k,o,c);return k.query[RF]=this.getCanonicalHeaderList(N),k.query[mA]=await this.getSignature(p,A,this.getSigningKey(f,g,y,u),this.createCanonicalRequest(k,N,await Vp(r,this.sha256))),k}async sign(r,t){return typeof r=="string"?this.signString(r,t):r.headers&&r.payload?this.signEvent(r,t):r.message?this.signMessage(r,t):this.signRequest(r,t)}async signEvent({headers:r,payload:t},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let c=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(n),u=$p(l,c,i??this.service),f=await Vp({headers:{},body:t},this.sha256),g=new this.sha256;g.update(r);let p=si.toHex(await g.digest()),y=[FF,d,u,s,p,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:c,signingService:i})}async signMessage(r,{signingDate:t=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:t,signingRegion:n,signingService:s,priorSignature:r.priorSignature}).then(i=>({message:r.message,signature:i}))}async signString(r,{signingDate:t=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:c}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,i,c,s));return l.update(ua.toUint8Array(r)),si.toHex(await l.digest())}async signRequest(r,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),d=dA(r),{longDate:u,shortDate:f}=this.formatDate(t),g=$p(f,l,i??this.service);d.headers[gA]=u,c.sessionToken&&(d.headers[BF]=c.sessionToken);let p=await Vp(d,this.sha256);!HF(Gp,d.headers)&&this.applyChecksum&&(d.headers[Gp]=p);let y=aA(d,s,n),A=await this.getSignature(u,g,this.getSigningKey(c,l,f,i),this.createCanonicalRequest(d,y,p));return d.headers[pA]=`${jp} Credential=${c.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${A}`,d}async getSignature(r,t,n,s){let o=await this.createStringToSign(r,t,s,jp),i=new this.sha256(await n);return i.update(ua.toUint8Array(o)),si.toHex(await i.digest())}getSigningKey(r,t,n,s){return jF(this.sha256,r,n,t,s||this.service)}},iae={SignatureV4a:null};Ne.ALGORITHM_IDENTIFIER=jp;Ne.ALGORITHM_IDENTIFIER_V4A=tae;Ne.ALGORITHM_QUERY_PARAM=TF;Ne.ALWAYS_UNSIGNABLE_HEADERS=DF;Ne.AMZ_DATE_HEADER=gA;Ne.AMZ_DATE_QUERY_PARAM=fA;Ne.AUTH_HEADER=pA;Ne.CREDENTIAL_QUERY_PARAM=kF;Ne.DATE_HEADER=PF;Ne.EVENT_ALGORITHM_IDENTIFIER=FF;Ne.EXPIRES_QUERY_PARAM=IF;Ne.GENERATED_HEADERS=OF;Ne.HOST_HEADER=Zie;Ne.KEY_TYPE_IDENTIFIER=yA;Ne.MAX_CACHE_SIZE=UF;Ne.MAX_PRESIGNED_TTL=zF;Ne.PROXY_HEADER_PATTERN=MF;Ne.REGION_SET_PARAM=Jie;Ne.SEC_HEADER_PATTERN=LF;Ne.SHA256_HEADER=Gp;Ne.SIGNATURE_HEADER=NF;Ne.SIGNATURE_QUERY_PARAM=mA;Ne.SIGNED_HEADERS_QUERY_PARAM=RF;Ne.SignatureV4=uA;Ne.SignatureV4Base=Kp;Ne.TOKEN_HEADER=BF;Ne.TOKEN_QUERY_PARAM=hA;Ne.UNSIGNABLE_PATTERNS=eae;Ne.UNSIGNED_PAYLOAD=qF;Ne.clearCredentialCache=rae;Ne.createScope=$p;Ne.getCanonicalHeaders=aA;Ne.getCanonicalQuery=VF;Ne.getPayloadHash=Vp;Ne.getSigningKey=jF;Ne.hasHeader=HF;Ne.moveHeadersToQuery=$F;Ne.prepareRequest=dA;Ne.signatureV4aContainer=iae});function aae(e,{credentials:r,credentialDefaultProvider:t}){let n;return r?r?.memoized?n=r:n=nA(r,rA,Up):t?n=ti(t(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function cae(e,r){if(r.configBound)return r;let t=async n=>r({...n,callerClientConfig:e});return t.memoized=r.memoized,t.configBound=!0,t}var SA,fa,GF,KF=R(()=>{us();rn();SA=O(Wp()),fa=e=>{let r=e.credentials,t=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==r&&d!==n&&(t=!0),r=d;let u=aae(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),f=cae(e,u);t&&!f.attributed?(n=async g=>f(g).then(p=>Jo(p,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,c;return e.signer?c=ti(e.signer):e.regionInfoProvider?c=()=>ti(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,u])=>{let{signingRegion:f,signingService:g}=d;e.signingRegion=e.signingRegion||f||u,e.signingName=e.signingName||g||e.serviceId;let p={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},y=e.signerConstructor||SA.SignatureV4;return new y(p)}):c=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ti(e.region)(),properties:{}},d);let u=d.signingRegion,f=d.signingName;e.signingRegion=e.signingRegion||u,e.signingName=e.signingName||f||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},p=e.signerConstructor||SA.SignatureV4;return new p(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},GF=fa});var WF=R(()=>{M_();a2();u2();CF();KF()});var XF={};Cn(XF,{AWSSDKSigV4Signer:()=>D_,AwsSdkSigV4ASigner:()=>Tu,AwsSdkSigV4Signer:()=>un,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Wc,NODE_SIGV4A_CONFIG_OPTIONS:()=>EF,getBearerTokenEnvKey:()=>Jh,resolveAWSSDKSigV4Config:()=>GF,resolveAwsSdkSigV4AConfig:()=>xF,resolveAwsSdkSigV4Config:()=>fa,validateSigningProperties:()=>Kc});var bA=R(()=>{WF();F_()});function oi(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Xp(e){return e[xA]=!0,e}var xA,Qp=R(()=>{xA=Symbol("@smithy/core/cbor::tagSymbol")});function JF(e){ct=e,mo=new DataView(ct.buffer,ct.byteOffset,ct.byteLength)}function Ds(e,r){if(e>=r)throw new Error("unexpected end of (decode) payload.");let t=(ct[e]&224)>>5,n=ct[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=eq[n],c=i+1;if(o=c,r-e<c)throw new Error(`countLength ${i} greater than remaining buf len.`);let l=e+1;i===1?s=ct[l]:i===2?s=mo.getUint16(l):i===4?s=mo.getUint32(l):s=mo.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(t===0)return qe=o,EA(s);if(t===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,qe=o,EA(i)}else if(n===2||n===3){let i=Wu(e+o,r),c=BigInt(0),l=e+o+qe;for(let d=l;d<l+i;++d)c=c<<BigInt(8)|BigInt(ct[d]);return qe=o+qe+i,n===3?-c-BigInt(1):c}else if(n===4){let i=Ds(e+o,r),[c,l]=i,d=l<0?-1:1,u="0".repeat(Math.abs(c)+1)+String(BigInt(d)*BigInt(l)),f,g=l<0?"-":"";return f=c===0?u:u.slice(0,u.length+c)+"."+u.slice(c),f=f.replace(/^0+/g,""),f===""&&(f="0"),f[0]==="."&&(f="0"+f),f=g+f,qe=o+qe,Vw(f)}else{let i=Ds(e+o,r);return qe=o+qe,Xp({tag:EA(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(t){case 3:return pae(e,r);case 5:return xae(e,r);case 4:return Sae(e,r);case 2:return gae(e,r)}else switch(t){case 3:return hae(e,r);case 5:return bae(e,r);case 4:return yae(e,r);case 2:return TA(e,r)}default:return Eae(e,r)}}function ZF(e,r,t){return uae&&e.constructor?.name==="Buffer"?e.toString("utf-8",r,t):QF?QF.decode(e.subarray(r,t)):(0,YF.toUtf8)(e.subarray(r,t))}function fae(e){let r=Number(e);return(r<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<r)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${r} with loss of precision.`)),r}function mae(e,r){let t=e>>7,n=(e&124)>>2,s=(e&3)<<8|r,o=t===0?1:-1,i,c;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),c=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),c=1}return c+=s/1024,o*(i*c)}function Wu(e,r){let t=ct[e]&31;if(t<24)return qe=1,t;if(t===24||t===25||t===26||t===27){let n=eq[t];if(qe=n+1,r-e<qe)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?ct[s]:n===2?mo.getUint16(s):n===4?mo.getUint32(s):fae(mo.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function hae(e,r){let t=Wu(e,r),n=qe;if(e+=n,r-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=ZF(ct,e,e+t);return qe=n+t,s}function pae(e,r){e+=1;let t=[];for(let n=e;e<r;){if(ct[e]===255){let l=oi(t.length);return l.set(t,0),qe=e-n+2,ZF(l,0,l.length)}let s=(ct[e]&224)>>5,o=ct[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=TA(e,r);e+=qe;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function TA(e,r){let t=Wu(e,r),n=qe;if(e+=n,r-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=ct.subarray(e,e+t);return qe=n+t,s}function gae(e,r){e+=1;let t=[];for(let n=e;e<r;){if(ct[e]===255){let l=oi(t.length);return l.set(t,0),qe=e-n+2,l}let s=(ct[e]&224)>>5,o=ct[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=TA(e,r);e+=qe;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function yae(e,r){let t=Wu(e,r),n=qe;e+=n;let s=e,o=Array(t);for(let i=0;i<t;++i){let c=Ds(e,r),l=qe;o[i]=c,e+=l}return qe=n+(e-s),o}function Sae(e,r){e+=1;let t=[];for(let n=e;e<r;){if(ct[e]===255)return qe=e-n+2,t;let s=Ds(e,r);e+=qe,t.push(s)}throw new Error("expected break marker.")}function bae(e,r){let t=Wu(e,r),n=qe;e+=n;let s=e,o={};for(let i=0;i<t;++i){if(e>=r)throw new Error("unexpected end of map payload.");let c=(ct[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let l=Ds(e,r);e+=qe;let d=Ds(e,r);e+=qe,o[l]=d}return qe=n+(e-s),o}function xae(e,r){e+=1;let t=e,n={};for(;e<r;){if(e>=r)throw new Error("unexpected end of map payload.");if(ct[e]===255)return qe=e-t+2,n;let s=(ct[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Ds(e,r);e+=qe;let i=Ds(e,r);e+=qe,n[o]=i}throw new Error("expected break marker.")}function Eae(e,r){let t=ct[e]&31;switch(t){case 21:case 20:return qe=1,t===21;case 22:return qe=1,null;case 23:return qe=1,null;case 25:if(r-e<3)throw new Error("incomplete float16 at end of buf.");return qe=3,mae(ct[e+1],ct[e+2]);case 26:if(r-e<5)throw new Error("incomplete float32 at end of buf.");return qe=5,mo.getFloat32(e+1);case 27:if(r-e<9)throw new Error("incomplete float64 at end of buf.");return qe=9,mo.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function EA(e){if(typeof e=="number")return e;let r=Number(e);return Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:e}var YF,dae,uae,ct,mo,QF,qe,eq,tq=R(()=>{fn();YF=O(or());Qp();dae=typeof TextDecoder<"u",uae=typeof Buffer<"u",ct=oi(0),mo=new DataView(ct.buffer,ct.byteOffset,ct.byteLength),QF=dae?new TextDecoder:null,qe=0;eq={24:1,25:2,26:4,27:8}});function RA(e){Se.byteLength-fe<e&&(fe<16e6?Jp(Math.max(Se.byteLength*4,Se.byteLength+e)):Jp(Se.byteLength+e+16e6))}function IA(){let e=oi(fe);return e.set(Se.subarray(0,fe),0),fe=0,e}function Jp(e){let r=Se;Se=oi(e),r&&(r.copy?r.copy(Se,0,0,r.byteLength):Se.set(r,0)),go=new DataView(Se.buffer,Se.byteOffset,Se.byteLength)}function po(e,r){r<24?Se[fe++]=e<<5|r:r<256?(Se[fe++]=e<<5|24,Se[fe++]=r):r<65536?(Se[fe++]=e<<5|25,go.setUint16(fe,r),fe+=2):r<2**32?(Se[fe++]=e<<5|26,go.setUint32(fe,r),fe+=4):(Se[fe++]=e<<5|27,go.setBigUint64(fe,typeof r=="bigint"?r:BigInt(r)),fe+=8)}function sq(e){let r=[e];for(;r.length;){let t=r.pop();if(RA(typeof t=="string"?t.length*4:64),typeof t=="string"){if(rq)po(3,Buffer.byteLength(t)),fe+=Se.write(t,fe);else{let n=(0,nq.fromUtf8)(t);po(3,n.byteLength),Se.set(n,fe),fe+=n.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let n=t>=0,s=n?0:1,o=n?t:-t-1;o<24?Se[fe++]=s<<5|o:o<256?(Se[fe++]=s<<5|24,Se[fe++]=o):o<65536?(Se[fe++]=s<<5|25,Se[fe++]=o>>8,Se[fe++]=o):o<4294967296?(Se[fe++]=s<<5|26,go.setUint32(fe,o),fe+=4):(Se[fe++]=s<<5|27,go.setBigUint64(fe,BigInt(o)),fe+=8);continue}Se[fe++]=251,go.setFloat64(fe,t),fe+=8;continue}else if(typeof t=="bigint"){let n=t>=0,s=n?0:1,o=n?t:-t-BigInt(1),i=Number(o);if(i<24)Se[fe++]=s<<5|i;else if(i<256)Se[fe++]=s<<5|24,Se[fe++]=i;else if(i<65536)Se[fe++]=s<<5|25,Se[fe++]=i>>8,Se[fe++]=i&255;else if(i<4294967296)Se[fe++]=s<<5|26,go.setUint32(fe,i),fe+=4;else if(o<BigInt("18446744073709551616"))Se[fe++]=s<<5|27,go.setBigUint64(fe,o),fe+=8;else{let c=o.toString(2),l=new Uint8Array(Math.ceil(c.length/8)),d=o,u=0;for(;l.byteLength-++u>=0;)l[l.byteLength-u]=Number(d&BigInt(255)),d>>=BigInt(8);RA(l.byteLength*2),Se[fe++]=n?194:195,rq?po(2,Buffer.byteLength(l)):po(2,l.byteLength),Se.set(l,fe),fe+=l.byteLength}continue}else if(t===null){Se[fe++]=246;continue}else if(typeof t=="boolean"){Se[fe++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)r.push(t[n]);po(4,t.length);continue}else if(typeof t.byteLength=="number"){RA(t.length*2),po(2,t.length),Se.set(t,fe),fe+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof Bt){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,i=BigInt(t.string.replace(".",""));Se[fe++]=196,r.push(i),r.push(o),po(4,2);continue}if(t[xA])if("tag"in t&&"value"in t){r.push(t.value),po(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let n=Object.keys(t);for(let s=n.length-1;s>=0;--s){let o=n[s];r.push(t[o]),r.push(o)}po(5,n.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var nq,rq,Cae,Se,go,fe,oq=R(()=>{fn();nq=O(or());Qp();rq=typeof Buffer<"u",Cae=2048,Se=oi(Cae),go=new DataView(Se.buffer,Se.byteOffset,Se.byteLength),fe=0});var PA,iq=R(()=>{tq();oq();PA={deserialize(e){return JF(e),Ds(0,e.length)},serialize(e){try{return sq(e),IA()}catch(r){throw IA(),r}},resizeEncodingBuffer(e){Jp(e)}}});var Zp,eg,tg=R(()=>{Qp();Zp=e=>Xp({tag:1,value:e.getTime()/1e3}),eg=(e,r)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(r.__type!==void 0)return t(r.__type);let n=Object.keys(r).find(s=>s.toLowerCase()==="code");if(n&&r[n]!==void 0)return t(r[n])}});var BA,rg,OA,NA,DA=R(()=>{mn();jt();fn();BA=O(kr());iq();tg();rg=class extends tn{createSerializer(){let r=new OA;return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new NA;return r.setSerdeContext(this.serdeContext),r}},OA=class extends tn{value;write(r,t){this.value=this.serialize(r,t)}serialize(r,t){let n=ue.of(r);if(t==null)return n.isIdempotencyToken()?(0,Bs.v4)():t;if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??BA.fromBase64)(t):t;if(n.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?Zp(new Date(Number(t)/1e3|0)):Zp(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,c=[],l=0;for(let d of s){let u=this.serialize(n.getValueSchema(),d);(u!=null||i)&&(c[l++]=u)}return c}if(s instanceof Date)return Zp(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let c of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[c]);(l!=null||i)&&(o[c]=l)}}else if(n.isStructSchema())for(let[i,c]of n.structIterator()){let l=this.serialize(c,s[i]);l!=null&&(o[i]=l)}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return t}flush(){let r=PA.serialize(this.value);return this.value=void 0,r}},NA=class extends tn{read(r,t){let n=PA.deserialize(t);return this.readValue(r,n)}readValue(r,t){let n=ue.of(r);if(n.isTimestampSchema()&&typeof t=="number")return zu(t);if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??BA.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||n.isDocumentSchema())return t;if(n.isListSchema()){let o=[],i=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let l of t){let d=this.readValue(i,l);(d!=null||c)&&o.push(d)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let c of Object.keys(t)){let l=this.readValue(i,t[c]);(l!=null||o)&&(s[c]=l)}}else if(n.isStructSchema())for(let[o,i]of n.structIterator())s[o]=this.readValue(i,t[o]);return s}else return t}}});var aq,ng,cq=R(()=>{mn();jt();aq=O(Lr());DA();tg();ng=class extends lo{codec=new rg;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:r}){super({defaultNamespace:r})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),ms(r.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,aq.getSmithyContext)(n),c=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let i=eg(n,s)??"Unknown",c=this.options.defaultNamespace;i.includes("#")&&([c]=i.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<=500?"client":"server"},d=ir.for(c),u;try{u=d.getSchema(i)}catch{s.Message&&(s.message=s.Message);let N=ir.for("smithy.ts.sdk.synthetic."+c),G=N.getBaseException();if(G){let le=N.getErrorCtor(G);throw Object.assign(new le({name:i}),l,s)}throw Object.assign(new Error(i),l,s)}let f=ue.of(u),g=d.getErrorCtor(u),p=s.message??s.Message??"Unknown",y=new g(p),A={};for(let[k,N]of f.structIterator())A[k]=this.deserializer.readValue(N,s[k]);throw Object.assign(y,l,{$fault:f.getMergedTraits().error,message:p},A)}getDefaultContentType(){return"application/cbor"}}});var lq=R(()=>{tg();cq();DA()});var qn,al=R(()=>{jt();qn=class{resolveRestContentType(r,t){let n=t.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":r)}else if(!t.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:c,httpQueryParams:l,httpHeader:d,httpLabel:u,httpPrefixHeaders:f}=i.getMergedTraits();return!c&&!l&&!d&&!u&&f===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,t,n,s,o,i){let c=t,l=r;r.includes("#")&&([c,l]=r.split("#"));let d={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},u=ir.for(c);try{return{errorSchema:i?.(u,l)??u.getSchema(r),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let g=ir.for("smithy.ts.sdk.synthetic."+c),p=g.getBaseException();if(p){let y=g.getErrorCtor(p)??Error;throw Object.assign(new y({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(r,t){let n=t.headers?.["x-amzn-query-error"];if(r!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(r),c={Code:s,Type:o};Object.assign(r,c);for(let[l,d]of i)c[l]=d;delete c.__type,r.Error=c}}queryCompatOutput(r,t){r.Error&&(t.Error=r.Error),r.Type&&(t.Type=r.Type),r.Code&&(t.Code=r.Code)}}});var MA,dq=R(()=>{lq();jt();al();MA=class extends ng{awsQueryCompatible;mixin=new qn;constructor({defaultNamespace:r,awsQueryCompatible:t}){super({defaultNamespace:r}),this.awsQueryCompatible=!!t}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=eg(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),d=ue.of(c),u=s.message??s.Message??"Unknown",f=ir.for(c[1]).getErrorCtor(c)??Error,g=new f(u),p={};for(let[y,A]of d.structIterator())p[y]=this.deserializer.readValue(A,s[y]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),Object.assign(g,l,{$fault:d.getMergedTraits().error,message:u},p)}}});var _ae,wae,Aae,uq=R(()=>{_ae=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let r=new Error(`Received number ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}if(typeof e=="boolean"){let r=new Error(`Received boolean ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}return e},wae=e=>{if(e==null)return e;if(typeof e=="string"){let r=e.toLowerCase();if(e!==""&&r!=="false"&&r!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&r!=="false"}return e},Aae=e=>{if(e==null)return e;if(typeof e=="string"){let r=Number(e);if(r.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return r}return e}});var qr,li=R(()=>{qr=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});function fq(e,r,t){if(t?.source){let n=t.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||n!==String(r)))return n.includes(".")?new Bt(n,"bigDecimal"):BigInt(n)}return r}var mq=R(()=>{fn()});var yq=b(gq=>{"use strict";var ma=(e,r)=>{let t=[];if(e&&t.push(e),r)for(let n of r)t.push(n);return t},di=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,LA=()=>{let e=[],r=[],t=!1,n=new Set,s=f=>f.sort((g,p)=>hq[p.step]-hq[g.step]||pq[p.priority||"normal"]-pq[g.priority||"normal"]),o=f=>{let g=!1,p=y=>{let A=ma(y.name,y.aliases);if(A.includes(f)){g=!0;for(let k of A)n.delete(k);return!1}return!0};return e=e.filter(p),r=r.filter(p),g},i=f=>{let g=!1,p=y=>{if(y.middleware===f){g=!0;for(let A of ma(y.name,y.aliases))n.delete(A);return!1}return!0};return e=e.filter(p),r=r.filter(p),g},c=f=>(e.forEach(g=>{f.add(g.middleware,{...g})}),r.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),f.identifyOnResolve?.(u.identifyOnResolve()),f),l=f=>{let g=[];return f.before.forEach(p=>{p.before.length===0&&p.after.length===0?g.push(p):g.push(...l(p))}),g.push(f),f.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?g.push(p):g.push(...l(p))}),g},d=(f=!1)=>{let g=[],p=[],y={};return e.forEach(k=>{let N={...k,before:[],after:[]};for(let G of ma(N.name,N.aliases))y[G]=N;g.push(N)}),r.forEach(k=>{let N={...k,before:[],after:[]};for(let G of ma(N.name,N.aliases))y[G]=N;p.push(N)}),p.forEach(k=>{if(k.toMiddleware){let N=y[k.toMiddleware];if(N===void 0){if(f)return;throw new Error(`${k.toMiddleware} is not found when adding ${di(k.name,k.aliases)} middleware ${k.relation} ${k.toMiddleware}`)}k.relation==="after"&&N.after.push(k),k.relation==="before"&&N.before.push(k)}}),s(g).map(l).reduce((k,N)=>(k.push(...N),k),[])},u={add:(f,g={})=>{let{name:p,override:y,aliases:A}=g,k={step:"initialize",priority:"normal",middleware:f,...g},N=ma(p,A);if(N.length>0){if(N.some(G=>n.has(G))){if(!y)throw new Error(`Duplicate middleware name '${di(p,A)}'`);for(let G of N){let le=e.findIndex(Ee=>Ee.name===G||Ee.aliases?.some($e=>$e===G));if(le===-1)continue;let de=e[le];if(de.step!==k.step||k.priority!==de.priority)throw new Error(`"${di(de.name,de.aliases)}" middleware with ${de.priority} priority in ${de.step} step cannot be overridden by "${di(p,A)}" middleware with ${k.priority} priority in ${k.step} step.`);e.splice(le,1)}}for(let G of N)n.add(G)}e.push(k)},addRelativeTo:(f,g)=>{let{name:p,override:y,aliases:A}=g,k={middleware:f,...g},N=ma(p,A);if(N.length>0){if(N.some(G=>n.has(G))){if(!y)throw new Error(`Duplicate middleware name '${di(p,A)}'`);for(let G of N){let le=r.findIndex(Ee=>Ee.name===G||Ee.aliases?.some($e=>$e===G));if(le===-1)continue;let de=r[le];if(de.toMiddleware!==k.toMiddleware||de.relation!==k.relation)throw new Error(`"${di(de.name,de.aliases)}" middleware ${de.relation} "${de.toMiddleware}" middleware cannot be overridden by "${di(p,A)}" middleware ${k.relation} "${k.toMiddleware}" middleware.`);r.splice(le,1)}}for(let G of N)n.add(G)}r.push(k)},clone:()=>c(LA()),use:f=>{f.applyToStack(u)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let g=!1,p=y=>{let{tags:A,name:k,aliases:N}=y;if(A&&A.includes(f)){let G=ma(k,N);for(let le of G)n.delete(le);return g=!0,!1}return!0};return e=e.filter(p),r=r.filter(p),g},concat:f=>{let g=c(LA());return g.use(f),g.identifyOnResolve(t||g.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),g},applyToStack:c,identify:()=>d(!0).map(f=>{let g=f.step??f.relation+" "+f.toMiddleware;return di(f.name,f.aliases)+" - "+g}),identifyOnResolve(f){return typeof f=="boolean"&&(t=f),t},resolve:(f,g)=>{for(let p of d().map(y=>y.middleware).reverse())f=p(f,g);return t&&console.log(u.identify()),f}};return u},hq={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},pq={high:3,normal:2,low:1};gq.constructStack=LA});var Me=b(nt=>{"use strict";var xq=yq(),GA=(mn(),Re(aF)),qA=oo(),vae=(jt(),Re(ZM)),Sq=(fn(),Re(GL)),UA=class{config;middlewareStack=xq.constructStack();initConfig;handlers;constructor(r){this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,i=s===void 0&&this.config.cacheMiddleware===!0,c;if(i){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(r.constructor)?c=l.get(r.constructor):(c=r.resolveMiddleware(this.middlewareStack,this.config,s),l.set(r.constructor,c))}else delete this.handlers,c=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(r).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return c(r).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},FA="***SensitiveInformation***";function zA(e,r){if(r==null)return r;let t=vae.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return FA;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return FA}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return FA}else if(t.isStructSchema()&&typeof r=="object"){let n=r,s={};for(let[o,i]of t.structIterator())n[o]!=null&&(s[o]=zA(i,n[o]));return s}return r}var sg=class{middlewareStack=xq.constructStack();schema;static classBuilder(){return new jA}resolveMiddlewareWithContext(r,t,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:u,CommandCtor:f}){for(let k of s.bind(this)(f,r,t,n))this.middlewareStack.use(k);let g=r.concat(this.middlewareStack),{logger:p}=t,y={logger:p,clientName:o,commandName:i,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[qA.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:A}=t;return g.resolve(k=>A.handle(k.request,n||{}),y)}},jA=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,t,n={}){return this._smithyContext={service:r,operation:t,...n},this}c(r={}){return this._additionalContext=r,this}n(r,t){return this._clientName=r,this._commandName=t,this}f(r=n=>n,t=n=>n){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=t,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){let r=this,t;return t=class extends sg{input;static getEndpointParameterInstructions(){return r._ep}constructor(...[n]){super(),this.input=n??{},r._init(this),this.schema=r._operationSchema}resolveMiddleware(n,s,o){let i=r._operationSchema,c=i?.[4]??i?.input,l=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:t,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(i?zA.bind(null,c):d=>d),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(i?zA.bind(null,l):d=>d),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}serialize=r._serializer;deserialize=r._deserializer}}},Tae="***SensitiveInformation***",kae=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(i,c,l){let d=new n(i);if(typeof c=="function")this.send(d,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(d,c||{},l)}else return this.send(d,c)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}},HA=class e extends Error{$fault;$response;$retryable;$metadata;constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;let t=r;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;let t=r;return this===e?e.isInstance(r):e.isInstance(r)?t.name&&this.name?this.prototype.isPrototypeOf(r)||t.name===this.name:this.prototype.isPrototypeOf(r):!1}},Eq=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},Cq=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=Iae(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new t({name:r?.code||r?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw Eq(i,r)},Rae=e=>({output:r,parsedBody:t,errorCode:n})=>{Cq({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},Iae=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Pae=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},bq=!1,Oae=e=>{e&&!bq&&parseInt(e.substring(1,e.indexOf(".")))<16&&(bq=!0)},Nae=e=>{let r=[];for(let t in qA.AlgorithmId){let n=qA.AlgorithmId[t];e[n]!==void 0&&r.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},Bae=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},Dae=e=>({setRetryStrategy(r){e.retryStrategy=r},retryStrategy(){return e.retryStrategy}}),Mae=e=>{let r={};return r.retryStrategy=e.retryStrategy(),r},_q=e=>Object.assign(Nae(e),Dae(e)),Lae=_q,Fae=e=>Object.assign(Bae(e),Mae(e)),qae=e=>Array.isArray(e)?e:[e],wq=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=wq(e[t]));return e},Uae=e=>e!=null,$A=class{trace(){}debug(){}info(){}warn(){}error(){}};function Aq(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,Hae(n,s,o);o=r}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}vq(n,null,o,i)}return n}var zae=e=>{let r={};for(let[t,n]of Object.entries(e||{}))r[t]=[,n];return r},jae=(e,r)=>{let t={};for(let n in r)vq(t,e,r,n);return t},Hae=(e,r,t)=>Aq(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),vq=(e,r,t,n)=>{if(r!==null){let i=t[n];typeof i=="function"&&(i=[,i]);let[c=$ae,l=Vae,d=n]=i;(typeof c=="function"&&c(r[d])||typeof c!="function"&&c)&&(e[n]=l(r[d]));return}let[s,o]=t[n];if(typeof o=="function"){let i,c=s===void 0&&(i=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=i:l&&(e[n]=o())}else{let i=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||c)&&(e[n]=o)}},$ae=e=>e!=null,Vae=e=>e,Gae=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},Kae=e=>e.toISOString().replace(".000Z","Z"),VA=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(VA);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=VA(e[t]));return r}return e};Object.defineProperty(nt,"collectBody",{enumerable:!0,get:function(){return GA.collectBody}});Object.defineProperty(nt,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return GA.extendedEncodeURIComponent}});Object.defineProperty(nt,"resolvedPath",{enumerable:!0,get:function(){return GA.resolvedPath}});nt.Client=UA;nt.Command=sg;nt.NoOpLogger=$A;nt.SENSITIVE_STRING=Tae;nt.ServiceException=HA;nt._json=VA;nt.convertMap=zae;nt.createAggregatedClient=kae;nt.decorateServiceException=Eq;nt.emitWarningIfUnsupportedVersion=Oae;nt.getArrayIfSingleItem=qae;nt.getDefaultClientConfiguration=Lae;nt.getDefaultExtensionConfiguration=_q;nt.getValueFromTextNode=wq;nt.isSerializableHeaderValue=Uae;nt.loadConfigsForDefaultMode=Pae;nt.map=Aq;nt.resolveDefaultRuntimeConfig=Fae;nt.serializeDateTime=Kae;nt.serializeFloat=Gae;nt.take=jae;nt.throwDefaultError=Cq;nt.withBaseException=Rae;Object.keys(Sq).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nt,e)&&Object.defineProperty(nt,e,{enumerable:!0,get:function(){return Sq[e]}})})});var Tq,kq,og,KA=R(()=>{Tq=O(Me()),kq=O(or()),og=(e,r)=>(0,Tq.collectBody)(e,r).then(t=>(r?.utf8Encoder??kq.toUtf8)(t))});var cl,WA,ha,Xu=R(()=>{KA();cl=(e,r)=>og(e,r).then(t=>{if(t.length)try{return JSON.parse(t)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:t}),n}return{}}),WA=async(e,r)=>{let t=await cl(e,r);return t.message=t.message??t.Message,t},ha=(e,r)=>{let t=(o,i)=>Object.keys(o).find(c=>c.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r&&typeof r=="object"){let o=t(r,"code");if(o&&r[o]!==void 0)return n(r[o]);if(r.__type!==void 0)return n(r.__type)}}});var Rq,Qu,XA=R(()=>{mn();jt();fn();Rq=O(kr());li();mq();Xu();Qu=class extends qr{settings;constructor(r){super(),this.settings=r}async read(r,t){return this._read(r,typeof t=="string"?JSON.parse(t,fq):await cl(t,this.serdeContext))}readObject(r,t){return this._read(r,t)}_read(r,t){let n=t!==null&&typeof t=="object",s=ue.of(r);if(s.isListSchema()&&Array.isArray(t)){let i=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._read(i,d));return c}else if(s.isMapSchema()&&n){let i=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[d,u]of Object.entries(t))(l||u!=null)&&(c[d]=this._read(i,u));return c}else if(s.isStructSchema()&&n){let i={};for(let[c,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,u=this._read(l,t[d]);u!=null&&(i[c]=u)}return i}if(s.isBlobSchema()&&typeof t=="string")return(0,Rq.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return en.from(t);if(s.isTimestampSchema()&&t!=null)switch(An(s,this.settings)){case 5:return Ow(t);case 6:return Nw(t);case 7:return Bw(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof Bt)return t;let i=t;return i.type==="bigDecimal"&&"string"in i?new Bt(i.string,i.type):new Bt(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let i=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof Bt?i[c]=l:i[c]=this._read(s,l);return i}else return structuredClone(t);return t}}});var Iq,ig,Pq=R(()=>{fn();Iq="\u039D",ig=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,t)=>{if(t instanceof Bt){let n=`${Iq+"nv"+this.counter++}_`+t.string;return this.values.set(`"${n}"`,t.string),n}if(typeof t=="bigint"){let n=t.toString(),s=`${Iq+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return t}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(let[t,n]of this.values)r=r.replace(t,n);return r}}});var Oq,Yu,QA=R(()=>{mn();jt();fn();Oq=O(kr());li();Pq();Yu=class extends qr{settings;buffer;rootSchema;constructor(r){super(),this.settings=r}write(r,t){this.rootSchema=ue.of(r),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(r,t){this.write(r,t),typeof this.buffer=="object"&&(this.buffer.__type=ue.of(r).getName(!0))}flush(){let{rootSchema:r}=this;if(this.rootSchema=void 0,r?.isStructSchema()||r?.isDocumentSchema()){let t=new ig;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(r,t,n){let s=t!==null&&typeof t=="object",o=ue.of(r);if(o.isListSchema()&&Array.isArray(t)){let i=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._write(i,d));return c}else if(o.isMapSchema()&&s){let i=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[d,u]of Object.entries(t))(l||u!=null)&&(c[d]=this._write(i,u));return c}else if(o.isStructSchema()&&s){let i={};for(let[c,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,u=this._write(l,t[c],o);u!==void 0&&(i[d]=u)}return i}if(!(t===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,Oq.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(An(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return Uu(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,Bs.v4)();let i=o.getMergedTraits().mediaType;if(t!=null&&i&&(i==="application/json"||i.endsWith("+json")))return en.from(t)}if(o.isDocumentSchema())if(s){let i=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof Bt?i[c]=l:i[c]=this._write(o,l);return i}else return structuredClone(t);return t}}}});var pa,ag=R(()=>{li();XA();QA();pa=class extends qr{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new Yu(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new Qu(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var ga,cg=R(()=>{mn();jt();al();ag();Xu();ga=class extends lo{serializer;deserializer;serviceTarget;codec;mixin=new qn;awsQueryCompatible;constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r}),this.serviceTarget=t,this.codec=new pa({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${r.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(ms(r.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=ha(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),d=ue.of(c),u=s.message??s.Message??"Unknown",f=ir.for(c[1]).getErrorCtor(c)??Error,g=new f(u),p={};for(let[y,A]of d.structIterator()){let k=A.getMergedTraits().jsonName??y;p[y]=this.codec.createDeserializer().readObject(A,s[k])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,p),Object.assign(g,l,{$fault:d.getMergedTraits().error,message:u},p)}}});var YA,Nq=R(()=>{cg();YA=class extends ga{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var JA,Bq=R(()=>{cg();JA=class extends ga{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var ZA,Dq=R(()=>{mn();jt();al();ag();Xu();ZA=class extends sa{serializer;deserializer;codec;mixin=new qn;constructor({defaultNamespace:r}){super({defaultNamespace:r});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new pa(t),this.serializer=new aa(this.codec.createSerializer(),t),this.deserializer=new ia(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ue.of(r.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(r,t,n,s,o){let i=ha(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),d=ue.of(c),u=s.message??s.Message??"Unknown",f=ir.for(c[1]).getErrorCtor(c)??Error,g=new f(u);await this.deserializeHttpMessage(c,t,n,s);let p={};for(let[y,A]of d.structIterator()){let k=A.getMergedTraits().jsonName??y;p[y]=this.codec.createDeserializer().readObject(A,s[k])}throw Object.assign(g,l,{$fault:d.getMergedTraits().error,message:u},p)}getDefaultContentType(){return"application/json"}}});var Mq,Wae,Lq=R(()=>{Mq=O(Me()),Wae=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Mq.expectUnion)(e)}});var qq=b((Lqe,Fq)=>{(()=>{"use strict";var e={d:(m,h)=>{for(var C in h)e.o(h,C)&&!e.o(m,C)&&Object.defineProperty(m,C,{enumerable:!0,get:h[C]})},o:(m,h)=>Object.prototype.hasOwnProperty.call(m,h),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{XMLBuilder:()=>Mo,XMLParser:()=>AK,XMLValidator:()=>NK});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(m,h){let C=[],T=h.exec(m);for(;T;){let w=[];w.startIndex=h.lastIndex-T[0].length;let v=T.length;for(let L=0;L<v;L++)w.push(T[L]);C.push(w),T=h.exec(m)}return C}let o=function(m){return n.exec(m)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function c(m,h){h=Object.assign({},i,h);let C=[],T=!1,w=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let v=0;v<m.length;v++)if(m[v]==="<"&&m[v+1]==="?"){if(v+=2,v=d(m,v),v.err)return v}else{if(m[v]!=="<"){if(l(m[v]))continue;return N("InvalidChar","char '"+m[v]+"' is not expected.",le(m,v))}{let L=v;if(v++,m[v]==="!"){v=u(m,v);continue}{let B=!1;m[v]==="/"&&(B=!0,v++);let U="";for(;v<m.length&&m[v]!==">"&&m[v]!==" "&&m[v]!=="	"&&m[v]!==`
`&&m[v]!=="\r";v++)U+=m[v];if(U=U.trim(),U[U.length-1]==="/"&&(U=U.substring(0,U.length-1),v--),!o(U)){let me;return me=U.trim().length===0?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",N("InvalidTag",me,le(m,v))}let Y=p(m,v);if(Y===!1)return N("InvalidAttr","Attributes for '"+U+"' have open quote.",le(m,v));let be=Y.value;if(v=Y.index,be[be.length-1]==="/"){let me=v-be.length;be=be.substring(0,be.length-1);let Ke=A(be,h);if(Ke!==!0)return N(Ke.err.code,Ke.err.msg,le(m,me+Ke.err.line));T=!0}else if(B){if(!Y.tagClosed)return N("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",le(m,v));if(be.trim().length>0)return N("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",le(m,L));if(C.length===0)return N("InvalidTag","Closing tag '"+U+"' has not been opened.",le(m,L));{let me=C.pop();if(U!==me.tagName){let Ke=le(m,me.tagStartPos);return N("InvalidTag","Expected closing tag '"+me.tagName+"' (opened in line "+Ke.line+", col "+Ke.col+") instead of closing tag '"+U+"'.",le(m,L))}C.length==0&&(w=!0)}}else{let me=A(be,h);if(me!==!0)return N(me.err.code,me.err.msg,le(m,v-be.length+me.err.line));if(w===!0)return N("InvalidXml","Multiple possible root nodes found.",le(m,v));h.unpairedTags.indexOf(U)!==-1||C.push({tagName:U,tagStartPos:L}),T=!0}for(v++;v<m.length;v++)if(m[v]==="<"){if(m[v+1]==="!"){v++,v=u(m,v);continue}if(m[v+1]!=="?")break;if(v=d(m,++v),v.err)return v}else if(m[v]==="&"){let me=k(m,v);if(me==-1)return N("InvalidChar","char '&' is not expected.",le(m,v));v=me}else if(w===!0&&!l(m[v]))return N("InvalidXml","Extra text at the end",le(m,v));m[v]==="<"&&v--}}}return T?C.length==1?N("InvalidTag","Unclosed tag '"+C[0].tagName+"'.",le(m,C[0].tagStartPos)):!(C.length>0)||N("InvalidXml","Invalid '"+JSON.stringify(C.map((v=>v.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):N("InvalidXml","Start tag expected.",1)}function l(m){return m===" "||m==="	"||m===`
`||m==="\r"}function d(m,h){let C=h;for(;h<m.length;h++)if(!(m[h]!="?"&&m[h]!=" ")){let T=m.substr(C,h-C);if(h>5&&T==="xml")return N("InvalidXml","XML declaration allowed only at the start of the document.",le(m,h));if(m[h]=="?"&&m[h+1]==">"){h++;break}}return h}function u(m,h){if(m.length>h+5&&m[h+1]==="-"&&m[h+2]==="-"){for(h+=3;h<m.length;h++)if(m[h]==="-"&&m[h+1]==="-"&&m[h+2]===">"){h+=2;break}}else if(m.length>h+8&&m[h+1]==="D"&&m[h+2]==="O"&&m[h+3]==="C"&&m[h+4]==="T"&&m[h+5]==="Y"&&m[h+6]==="P"&&m[h+7]==="E"){let C=1;for(h+=8;h<m.length;h++)if(m[h]==="<")C++;else if(m[h]===">"&&(C--,C===0))break}else if(m.length>h+9&&m[h+1]==="["&&m[h+2]==="C"&&m[h+3]==="D"&&m[h+4]==="A"&&m[h+5]==="T"&&m[h+6]==="A"&&m[h+7]==="["){for(h+=8;h<m.length;h++)if(m[h]==="]"&&m[h+1]==="]"&&m[h+2]===">"){h+=2;break}}return h}let f='"',g="'";function p(m,h){let C="",T="",w=!1;for(;h<m.length;h++){if(m[h]===f||m[h]===g)T===""?T=m[h]:T!==m[h]||(T="");else if(m[h]===">"&&T===""){w=!0;break}C+=m[h]}return T===""&&{value:C,index:h,tagClosed:w}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function A(m,h){let C=s(m,y),T={};for(let w=0;w<C.length;w++){if(C[w][1].length===0)return N("InvalidAttr","Attribute '"+C[w][2]+"' has no space in starting.",de(C[w]));if(C[w][3]!==void 0&&C[w][4]===void 0)return N("InvalidAttr","Attribute '"+C[w][2]+"' is without value.",de(C[w]));if(C[w][3]===void 0&&!h.allowBooleanAttributes)return N("InvalidAttr","boolean attribute '"+C[w][2]+"' is not allowed.",de(C[w]));let v=C[w][2];if(!G(v))return N("InvalidAttr","Attribute '"+v+"' is an invalid name.",de(C[w]));if(T.hasOwnProperty(v))return N("InvalidAttr","Attribute '"+v+"' is repeated.",de(C[w]));T[v]=1}return!0}function k(m,h){if(m[++h]===";")return-1;if(m[h]==="#")return(function(T,w){let v=/\d/;for(T[w]==="x"&&(w++,v=/[\da-fA-F]/);w<T.length;w++){if(T[w]===";")return w;if(!T[w].match(v))break}return-1})(m,++h);let C=0;for(;h<m.length;h++,C++)if(!(m[h].match(/\w/)&&C<20)){if(m[h]===";")break;return-1}return h}function N(m,h,C){return{err:{code:m,msg:h,line:C.line||C,col:C.col}}}function G(m){return o(m)}function le(m,h){let C=m.substring(0,h).split(/\r?\n/);return{line:C.length,col:C[C.length-1].length+1}}function de(m){return m.startIndex+m[1].length}let Ee={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,h){return h},attributeValueProcessor:function(m,h){return h},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,h,C){return m},captureMetaData:!1},$e;$e=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Tt{constructor(h){this.tagname=h,this.child=[],this[":@"]={}}add(h,C){h==="__proto__"&&(h="#__proto__"),this.child.push({[h]:C})}addChild(h,C){h.tagname==="__proto__"&&(h.tagname="#__proto__"),h[":@"]&&Object.keys(h[":@"]).length>0?this.child.push({[h.tagname]:h.child,":@":h[":@"]}):this.child.push({[h.tagname]:h.child}),C!==void 0&&(this.child[this.child.length-1][$e]={startIndex:C})}static getMetaDataSymbol(){return $e}}function ke(m,h){let C={};if(m[h+3]!=="O"||m[h+4]!=="C"||m[h+5]!=="T"||m[h+6]!=="Y"||m[h+7]!=="P"||m[h+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{h+=9;let T=1,w=!1,v=!1,L="";for(;h<m.length;h++)if(m[h]!=="<"||v)if(m[h]===">"){if(v?m[h-1]==="-"&&m[h-2]==="-"&&(v=!1,T--):T--,T===0)break}else m[h]==="["?w=!0:L+=m[h];else{if(w&&Vi(m,"!ENTITY",h)){let B,U;h+=7,[B,U,h]=at(m,h+1),U.indexOf("&")===-1&&(C[B]={regx:RegExp(`&${B};`,"g"),val:U})}else if(w&&Vi(m,"!ELEMENT",h)){h+=8;let{index:B}=sK(m,h+1);h=B}else if(w&&Vi(m,"!ATTLIST",h))h+=8;else if(w&&Vi(m,"!NOTATION",h)){h+=9;let{index:B}=Kt(m,h+1);h=B}else{if(!Vi(m,"!--",h))throw new Error("Invalid DOCTYPE");v=!0}T++,L=""}if(T!==0)throw new Error("Unclosed DOCTYPE")}return{entities:C,i:h}}let je=(m,h)=>{for(;h<m.length&&/\s/.test(m[h]);)h++;return h};function at(m,h){h=je(m,h);let C="";for(;h<m.length&&!/\s/.test(m[h])&&m[h]!=='"'&&m[h]!=="'";)C+=m[h],h++;if(jx(C),h=je(m,h),m.substring(h,h+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(m[h]==="%")throw new Error("Parameter entities are not supported");let T="";return[h,T]=Tc(m,h,"entity"),[C,T,--h]}function Kt(m,h){h=je(m,h);let C="";for(;h<m.length&&!/\s/.test(m[h]);)C+=m[h],h++;jx(C),h=je(m,h);let T=m.substring(h,h+6).toUpperCase();if(T!=="SYSTEM"&&T!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${T}"`);h+=T.length,h=je(m,h);let w=null,v=null;if(T==="PUBLIC")[h,w]=Tc(m,h,"publicIdentifier"),m[h=je(m,h)]!=='"'&&m[h]!=="'"||([h,v]=Tc(m,h,"systemIdentifier"));else if(T==="SYSTEM"&&([h,v]=Tc(m,h,"systemIdentifier"),!v))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:C,publicIdentifier:w,systemIdentifier:v,index:--h}}function Tc(m,h,C){let T="",w=m[h];if(w!=='"'&&w!=="'")throw new Error(`Expected quoted string, found "${w}"`);for(h++;h<m.length&&m[h]!==w;)T+=m[h],h++;if(m[h]!==w)throw new Error(`Unterminated ${C} value`);return[++h,T]}function sK(m,h){h=je(m,h);let C="";for(;h<m.length&&!/\s/.test(m[h]);)C+=m[h],h++;if(!jx(C))throw new Error(`Invalid element name: "${C}"`);let T="";if(m[h=je(m,h)]==="E"&&Vi(m,"MPTY",h))h+=4;else if(m[h]==="A"&&Vi(m,"NY",h))h+=2;else{if(m[h]!=="(")throw new Error(`Invalid Element Expression, found "${m[h]}"`);for(h++;h<m.length&&m[h]!==")";)T+=m[h],h++;if(m[h]!==")")throw new Error("Unterminated content model")}return{elementName:C,contentModel:T.trim(),index:h}}function Vi(m,h,C){for(let T=0;T<h.length;T++)if(h[T]!==m[C+T+1])return!1;return!0}function jx(m){if(o(m))return m;throw new Error(`Invalid entity name ${m}`)}let oK=/^[-+]?0x[a-fA-F0-9]+$/,iK=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,aK={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},cK=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function E1(m){return typeof m=="function"?m:Array.isArray(m)?h=>{for(let C of m)if(typeof C=="string"&&h===C||C instanceof RegExp&&C.test(h))return!0}:()=>!1}class lK{constructor(h){this.options=h,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(C,T)=>String.fromCodePoint(Number.parseInt(T,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(C,T)=>String.fromCodePoint(Number.parseInt(T,16))}},this.addExternalEntities=dK,this.parseXml=pK,this.parseTextData=uK,this.resolveNameSpace=fK,this.buildAttributesMap=hK,this.isItStopNode=bK,this.replaceEntitiesValue=yK,this.readStopNodeData=xK,this.saveTextToParentTag=SK,this.addChild=gK,this.ignoreAttributesFn=E1(this.options.ignoreAttributes)}}function dK(m){let h=Object.keys(m);for(let C=0;C<h.length;C++){let T=h[C];this.lastEntities[T]={regex:new RegExp("&"+T+";","g"),val:m[T]}}}function uK(m,h,C,T,w,v,L){if(m!==void 0&&(this.options.trimValues&&!T&&(m=m.trim()),m.length>0)){L||(m=this.replaceEntitiesValue(m));let B=this.options.tagValueProcessor(h,m,C,w,v);return B==null?m:typeof B!=typeof m||B!==m?B:this.options.trimValues||m.trim()===m?C1(m,this.options.parseTagValue,this.options.numberParseOptions):m}}function fK(m){if(this.options.removeNSPrefix){let h=m.split(":"),C=m.charAt(0)==="/"?"/":"";if(h[0]==="xmlns")return"";h.length===2&&(m=C+h[1])}return m}let mK=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function hK(m,h,C){if(this.options.ignoreAttributes!==!0&&typeof m=="string"){let T=s(m,mK),w=T.length,v={};for(let L=0;L<w;L++){let B=this.resolveNameSpace(T[L][1]);if(this.ignoreAttributesFn(B,h))continue;let U=T[L][4],Y=this.options.attributeNamePrefix+B;if(B.length)if(this.options.transformAttributeName&&(Y=this.options.transformAttributeName(Y)),Y==="__proto__"&&(Y="#__proto__"),U!==void 0){this.options.trimValues&&(U=U.trim()),U=this.replaceEntitiesValue(U);let be=this.options.attributeValueProcessor(B,U,h);v[Y]=be==null?U:typeof be!=typeof U||be!==U?be:C1(U,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(v[Y]=!0)}if(!Object.keys(v).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=v,L}return v}}let pK=function(m){m=m.replace(/\r\n?/g,`
`);let h=new Tt("!xml"),C=h,T="",w="";for(let v=0;v<m.length;v++)if(m[v]==="<")if(m[v+1]==="/"){let L=Gi(m,">",v,"Closing Tag is not closed."),B=m.substring(v+2,L).trim();if(this.options.removeNSPrefix){let be=B.indexOf(":");be!==-1&&(B=B.substr(be+1))}this.options.transformTagName&&(B=this.options.transformTagName(B)),C&&(T=this.saveTextToParentTag(T,C,w));let U=w.substring(w.lastIndexOf(".")+1);if(B&&this.options.unpairedTags.indexOf(B)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${B}>`);let Y=0;U&&this.options.unpairedTags.indexOf(U)!==-1?(Y=w.lastIndexOf(".",w.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Y=w.lastIndexOf("."),w=w.substring(0,Y),C=this.tagsNodeStack.pop(),T="",v=L}else if(m[v+1]==="?"){let L=Hx(m,v,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(T=this.saveTextToParentTag(T,C,w),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let B=new Tt(L.tagName);B.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(B[":@"]=this.buildAttributesMap(L.tagExp,w,L.tagName)),this.addChild(C,B,w,v)}v=L.closeIndex+1}else if(m.substr(v+1,3)==="!--"){let L=Gi(m,"-->",v+4,"Comment is not closed.");if(this.options.commentPropName){let B=m.substring(v+4,L-2);T=this.saveTextToParentTag(T,C,w),C.add(this.options.commentPropName,[{[this.options.textNodeName]:B}])}v=L}else if(m.substr(v+1,2)==="!D"){let L=ke(m,v);this.docTypeEntities=L.entities,v=L.i}else if(m.substr(v+1,2)==="!["){let L=Gi(m,"]]>",v,"CDATA is not closed.")-2,B=m.substring(v+9,L);T=this.saveTextToParentTag(T,C,w);let U=this.parseTextData(B,C.tagname,w,!0,!1,!0,!0);U==null&&(U=""),this.options.cdataPropName?C.add(this.options.cdataPropName,[{[this.options.textNodeName]:B}]):C.add(this.options.textNodeName,U),v=L+2}else{let L=Hx(m,v,this.options.removeNSPrefix),B=L.tagName,U=L.rawTagName,Y=L.tagExp,be=L.attrExpPresent,me=L.closeIndex;this.options.transformTagName&&(B=this.options.transformTagName(B)),C&&T&&C.tagname!=="!xml"&&(T=this.saveTextToParentTag(T,C,w,!1));let Ke=C;Ke&&this.options.unpairedTags.indexOf(Ke.tagname)!==-1&&(C=this.tagsNodeStack.pop(),w=w.substring(0,w.lastIndexOf("."))),B!==h.tagname&&(w+=w?"."+B:B);let rt=v;if(this.isItStopNode(this.options.stopNodes,w,B)){let Qe="";if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1)B[B.length-1]==="/"?(B=B.substr(0,B.length-1),w=w.substr(0,w.length-1),Y=B):Y=Y.substr(0,Y.length-1),v=L.closeIndex;else if(this.options.unpairedTags.indexOf(B)!==-1)v=L.closeIndex;else{let _s=this.readStopNodeData(m,U,me+1);if(!_s)throw new Error(`Unexpected end of ${U}`);v=_s.i,Qe=_s.tagContent}let tr=new Tt(B);B!==Y&&be&&(tr[":@"]=this.buildAttributesMap(Y,w,B)),Qe&&(Qe=this.parseTextData(Qe,B,w,!0,be,!0,!0)),w=w.substr(0,w.lastIndexOf(".")),tr.add(this.options.textNodeName,Qe),this.addChild(C,tr,w,rt)}else{if(Y.length>0&&Y.lastIndexOf("/")===Y.length-1){B[B.length-1]==="/"?(B=B.substr(0,B.length-1),w=w.substr(0,w.length-1),Y=B):Y=Y.substr(0,Y.length-1),this.options.transformTagName&&(B=this.options.transformTagName(B));let Qe=new Tt(B);B!==Y&&be&&(Qe[":@"]=this.buildAttributesMap(Y,w,B)),this.addChild(C,Qe,w,rt),w=w.substr(0,w.lastIndexOf("."))}else{let Qe=new Tt(B);this.tagsNodeStack.push(C),B!==Y&&be&&(Qe[":@"]=this.buildAttributesMap(Y,w,B)),this.addChild(C,Qe,w,rt),C=Qe}T="",v=me}}else T+=m[v];return h.child};function gK(m,h,C,T){this.options.captureMetaData||(T=void 0);let w=this.options.updateTag(h.tagname,C,h[":@"]);w===!1||(typeof w=="string"&&(h.tagname=w),m.addChild(h,T))}let yK=function(m){if(this.options.processEntities){for(let h in this.docTypeEntities){let C=this.docTypeEntities[h];m=m.replace(C.regx,C.val)}for(let h in this.lastEntities){let C=this.lastEntities[h];m=m.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let h in this.htmlEntities){let C=this.htmlEntities[h];m=m.replace(C.regex,C.val)}m=m.replace(this.ampEntity.regex,this.ampEntity.val)}return m};function SK(m,h,C,T){return m&&(T===void 0&&(T=h.child.length===0),(m=this.parseTextData(m,h.tagname,C,!1,!!h[":@"]&&Object.keys(h[":@"]).length!==0,T))!==void 0&&m!==""&&h.add(this.options.textNodeName,m),m=""),m}function bK(m,h,C){let T="*."+C;for(let w in m){let v=m[w];if(T===v||h===v)return!0}return!1}function Gi(m,h,C,T){let w=m.indexOf(h,C);if(w===-1)throw new Error(T);return w+h.length-1}function Hx(m,h,C,T=">"){let w=(function(me,Ke,rt=">"){let Qe,tr="";for(let _s=Ke;_s<me.length;_s++){let Lo=me[_s];if(Qe)Lo===Qe&&(Qe="");else if(Lo==='"'||Lo==="'")Qe=Lo;else if(Lo===rt[0]){if(!rt[1])return{data:tr,index:_s};if(me[_s+1]===rt[1])return{data:tr,index:_s}}else Lo==="	"&&(Lo=" ");tr+=Lo}})(m,h+1,T);if(!w)return;let v=w.data,L=w.index,B=v.search(/\s/),U=v,Y=!0;B!==-1&&(U=v.substring(0,B),v=v.substring(B+1).trimStart());let be=U;if(C){let me=U.indexOf(":");me!==-1&&(U=U.substr(me+1),Y=U!==w.data.substr(me+1))}return{tagName:U,tagExp:v,closeIndex:L,attrExpPresent:Y,rawTagName:be}}function xK(m,h,C){let T=C,w=1;for(;C<m.length;C++)if(m[C]==="<")if(m[C+1]==="/"){let v=Gi(m,">",C,`${h} is not closed`);if(m.substring(C+2,v).trim()===h&&(w--,w===0))return{tagContent:m.substring(T,C),i:v};C=v}else if(m[C+1]==="?")C=Gi(m,"?>",C+1,"StopNode is not closed.");else if(m.substr(C+1,3)==="!--")C=Gi(m,"-->",C+3,"StopNode is not closed.");else if(m.substr(C+1,2)==="![")C=Gi(m,"]]>",C,"StopNode is not closed.")-2;else{let v=Hx(m,C,">");v&&((v&&v.tagName)===h&&v.tagExp[v.tagExp.length-1]!=="/"&&w++,C=v.closeIndex)}}function C1(m,h,C){if(h&&typeof m=="string"){let T=m.trim();return T==="true"||T!=="false"&&(function(w,v={}){if(v=Object.assign({},aK,v),!w||typeof w!="string")return w;let L=w.trim();if(v.skipLike!==void 0&&v.skipLike.test(L))return w;if(w==="0")return 0;if(v.hex&&oK.test(L))return(function(U){if(parseInt)return parseInt(U,16);if(Number.parseInt)return Number.parseInt(U,16);if(window&&window.parseInt)return window.parseInt(U,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(L);if(L.search(/.+[eE].+/)!==-1)return(function(U,Y,be){if(!be.eNotation)return U;let me=Y.match(cK);if(me){let Ke=me[1]||"",rt=me[3].indexOf("e")===-1?"E":"e",Qe=me[2],tr=Ke?U[Qe.length+1]===rt:U[Qe.length]===rt;return Qe.length>1&&tr?U:Qe.length!==1||!me[3].startsWith(`.${rt}`)&&me[3][0]!==rt?be.leadingZeros&&!tr?(Y=(me[1]||"")+me[3],Number(Y)):U:Number(Y)}return U})(w,L,v);{let U=iK.exec(L);if(U){let Y=U[1]||"",be=U[2],me=((B=U[3])&&B.indexOf(".")!==-1&&((B=B.replace(/0+$/,""))==="."?B="0":B[0]==="."?B="0"+B:B[B.length-1]==="."&&(B=B.substring(0,B.length-1))),B),Ke=Y?w[be.length+1]===".":w[be.length]===".";if(!v.leadingZeros&&(be.length>1||be.length===1&&!Ke))return w;{let rt=Number(L),Qe=String(rt);if(rt===0||rt===-0)return rt;if(Qe.search(/[eE]/)!==-1)return v.eNotation?rt:w;if(L.indexOf(".")!==-1)return Qe==="0"||Qe===me||Qe===`${Y}${me}`?rt:w;let tr=be?me:L;return be?tr===Qe||Y+tr===Qe?rt:w:tr===Qe||tr===Y+Qe?rt:w}}return w}var B})(m,C)}return m!==void 0?m:""}let $x=Tt.getMetaDataSymbol();function EK(m,h){return _1(m,h)}function _1(m,h,C){let T,w={};for(let v=0;v<m.length;v++){let L=m[v],B=CK(L),U="";if(U=C===void 0?B:C+"."+B,B===h.textNodeName)T===void 0?T=L[B]:T+=""+L[B];else{if(B===void 0)continue;if(L[B]){let Y=_1(L[B],h,U),be=wK(Y,h);L[$x]!==void 0&&(Y[$x]=L[$x]),L[":@"]?_K(Y,L[":@"],U,h):Object.keys(Y).length!==1||Y[h.textNodeName]===void 0||h.alwaysCreateTextNode?Object.keys(Y).length===0&&(h.alwaysCreateTextNode?Y[h.textNodeName]="":Y=""):Y=Y[h.textNodeName],w[B]!==void 0&&w.hasOwnProperty(B)?(Array.isArray(w[B])||(w[B]=[w[B]]),w[B].push(Y)):h.isArray(B,U,be)?w[B]=[Y]:w[B]=Y}}}return typeof T=="string"?T.length>0&&(w[h.textNodeName]=T):T!==void 0&&(w[h.textNodeName]=T),w}function CK(m){let h=Object.keys(m);for(let C=0;C<h.length;C++){let T=h[C];if(T!==":@")return T}}function _K(m,h,C,T){if(h){let w=Object.keys(h),v=w.length;for(let L=0;L<v;L++){let B=w[L];T.isArray(B,C+"."+B,!0,!0)?m[B]=[h[B]]:m[B]=h[B]}}}function wK(m,h){let{textNodeName:C}=h,T=Object.keys(m).length;return T===0||!(T!==1||!m[C]&&typeof m[C]!="boolean"&&m[C]!==0)}class AK{constructor(h){this.externalEntities={},this.options=(function(C){return Object.assign({},Ee,C)})(h)}parse(h,C){if(typeof h!="string"){if(!h.toString)throw new Error("XML data is accepted in String or Bytes[] form.");h=h.toString()}if(C){C===!0&&(C={});let v=c(h,C);if(v!==!0)throw Error(`${v.err.msg}:${v.err.line}:${v.err.col}`)}let T=new lK(this.options);T.addExternalEntities(this.externalEntities);let w=T.parseXml(h);return this.options.preserveOrder||w===void 0?w:EK(w,this.options)}addEntity(h,C){if(C.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(h.indexOf("&")!==-1||h.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(C==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[h]=C}static getMetaDataSymbol(){return Tt.getMetaDataSymbol()}}function vK(m,h){let C="";return h.format&&h.indentBy.length>0&&(C=`
`),w1(m,h,"",C)}function w1(m,h,C,T){let w="",v=!1;for(let L=0;L<m.length;L++){let B=m[L],U=TK(B);if(U===void 0)continue;let Y="";if(Y=C.length===0?U:`${C}.${U}`,U===h.textNodeName){let rt=B[U];kK(Y,h)||(rt=h.tagValueProcessor(U,rt),rt=v1(rt,h)),v&&(w+=T),w+=rt,v=!1;continue}if(U===h.cdataPropName){v&&(w+=T),w+=`<![CDATA[${B[U][0][h.textNodeName]}]]>`,v=!1;continue}if(U===h.commentPropName){w+=T+`<!--${B[U][0][h.textNodeName]}-->`,v=!0;continue}if(U[0]==="?"){let rt=A1(B[":@"],h),Qe=U==="?xml"?"":T,tr=B[U][0][h.textNodeName];tr=tr.length!==0?" "+tr:"",w+=Qe+`<${U}${tr}${rt}?>`,v=!0;continue}let be=T;be!==""&&(be+=h.indentBy);let me=T+`<${U}${A1(B[":@"],h)}`,Ke=w1(B[U],h,Y,be);h.unpairedTags.indexOf(U)!==-1?h.suppressUnpairedNode?w+=me+">":w+=me+"/>":Ke&&Ke.length!==0||!h.suppressEmptyNode?Ke&&Ke.endsWith(">")?w+=me+`>${Ke}${T}</${U}>`:(w+=me+">",Ke&&T!==""&&(Ke.includes("/>")||Ke.includes("</"))?w+=T+h.indentBy+Ke+T:w+=Ke,w+=`</${U}>`):w+=me+"/>",v=!0}return w}function TK(m){let h=Object.keys(m);for(let C=0;C<h.length;C++){let T=h[C];if(m.hasOwnProperty(T)&&T!==":@")return T}}function A1(m,h){let C="";if(m&&!h.ignoreAttributes)for(let T in m){if(!m.hasOwnProperty(T))continue;let w=h.attributeValueProcessor(T,m[T]);w=v1(w,h),w===!0&&h.suppressBooleanAttributes?C+=` ${T.substr(h.attributeNamePrefix.length)}`:C+=` ${T.substr(h.attributeNamePrefix.length)}="${w}"`}return C}function kK(m,h){let C=(m=m.substr(0,m.length-h.textNodeName.length-1)).substr(m.lastIndexOf(".")+1);for(let T in h.stopNodes)if(h.stopNodes[T]===m||h.stopNodes[T]==="*."+C)return!0;return!1}function v1(m,h){if(m&&m.length>0&&h.processEntities)for(let C=0;C<h.entities.length;C++){let T=h.entities[C];m=m.replace(T.regex,T.val)}return m}let RK={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(m,h){return h},attributeValueProcessor:function(m,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Mo(m){this.options=Object.assign({},RK,m),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=E1(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=OK),this.processTextOrObjNode=IK,this.options.format?(this.indentate=PK,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function IK(m,h,C,T){let w=this.j2x(m,C+1,T.concat(h));return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextValNode(m[this.options.textNodeName],h,w.attrStr,C):this.buildObjectNode(w.val,h,w.attrStr,C)}function PK(m){return this.options.indentBy.repeat(m)}function OK(m){return!(!m.startsWith(this.options.attributeNamePrefix)||m===this.options.textNodeName)&&m.substr(this.attrPrefixLen)}Mo.prototype.build=function(m){return this.options.preserveOrder?vK(m,this.options):(Array.isArray(m)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(m={[this.options.arrayNodeName]:m}),this.j2x(m,0,[]).val)},Mo.prototype.j2x=function(m,h,C){let T="",w="",v=C.join(".");for(let L in m)if(Object.prototype.hasOwnProperty.call(m,L))if(m[L]===void 0)this.isAttribute(L)&&(w+="");else if(m[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?w+="":L[0]==="?"?w+=this.indentate(h)+"<"+L+"?"+this.tagEndChar:w+=this.indentate(h)+"<"+L+"/"+this.tagEndChar;else if(m[L]instanceof Date)w+=this.buildTextValNode(m[L],L,"",h);else if(typeof m[L]!="object"){let B=this.isAttribute(L);if(B&&!this.ignoreAttributesFn(B,v))T+=this.buildAttrPairStr(B,""+m[L]);else if(!B)if(L===this.options.textNodeName){let U=this.options.tagValueProcessor(L,""+m[L]);w+=this.replaceEntitiesValue(U)}else w+=this.buildTextValNode(m[L],L,"",h)}else if(Array.isArray(m[L])){let B=m[L].length,U="",Y="";for(let be=0;be<B;be++){let me=m[L][be];if(me!==void 0)if(me===null)L[0]==="?"?w+=this.indentate(h)+"<"+L+"?"+this.tagEndChar:w+=this.indentate(h)+"<"+L+"/"+this.tagEndChar;else if(typeof me=="object")if(this.options.oneListGroup){let Ke=this.j2x(me,h+1,C.concat(L));U+=Ke.val,this.options.attributesGroupName&&me.hasOwnProperty(this.options.attributesGroupName)&&(Y+=Ke.attrStr)}else U+=this.processTextOrObjNode(me,L,h,C);else if(this.options.oneListGroup){let Ke=this.options.tagValueProcessor(L,me);Ke=this.replaceEntitiesValue(Ke),U+=Ke}else U+=this.buildTextValNode(me,L,"",h)}this.options.oneListGroup&&(U=this.buildObjectNode(U,L,Y,h)),w+=U}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let B=Object.keys(m[L]),U=B.length;for(let Y=0;Y<U;Y++)T+=this.buildAttrPairStr(B[Y],""+m[L][B[Y]])}else w+=this.processTextOrObjNode(m[L],L,h,C);return{attrStr:T,val:w}},Mo.prototype.buildAttrPairStr=function(m,h){return h=this.options.attributeValueProcessor(m,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+m:" "+m+'="'+h+'"'},Mo.prototype.buildObjectNode=function(m,h,C,T){if(m==="")return h[0]==="?"?this.indentate(T)+"<"+h+C+"?"+this.tagEndChar:this.indentate(T)+"<"+h+C+this.closeTag(h)+this.tagEndChar;{let w="</"+h+this.tagEndChar,v="";return h[0]==="?"&&(v="?",w=""),!C&&C!==""||m.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&v.length===0?this.indentate(T)+`<!--${m}-->`+this.newLine:this.indentate(T)+"<"+h+C+v+this.tagEndChar+m+this.indentate(T)+w:this.indentate(T)+"<"+h+C+v+">"+m+w}},Mo.prototype.closeTag=function(m){let h="";return this.options.unpairedTags.indexOf(m)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${m}`,h},Mo.prototype.buildTextValNode=function(m,h,C,T){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(T)+`<![CDATA[${m}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(T)+`<!--${m}-->`+this.newLine;if(h[0]==="?")return this.indentate(T)+"<"+h+C+"?"+this.tagEndChar;{let w=this.options.tagValueProcessor(h,m);return w=this.replaceEntitiesValue(w),w===""?this.indentate(T)+"<"+h+C+this.closeTag(h)+this.tagEndChar:this.indentate(T)+"<"+h+C+">"+w+"</"+h+this.tagEndChar}},Mo.prototype.replaceEntitiesValue=function(m){if(m&&m.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){let C=this.options.entities[h];m=m.replace(C.regex,C.val)}return m};let NK={validate:c};Fq.exports=r})()});var Uq=b(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0});tv.parseXML=Qae;var Xae=qq(),ev=new Xae.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,r)=>r.trim()===""&&r.includes(`
`)?"":void 0});ev.addEntity("#xD","\r");ev.addEntity("#10",`
`);function Qae(e){return ev.parse(e,!0)}});var Ju=b(dg=>{"use strict";var Yae=Uq();function Jae(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Zae(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var lg=class{value;constructor(r){this.value=r}toString(){return Zae(""+this.value)}},rv=class e{name;children;attributes={};static of(r,t,n){let s=new e(r);return t!==void 0&&s.addChildNode(new lg(t)),n!==void 0&&s.withName(n),s}constructor(r,t=[]){this.name=r,this.children=t}withName(r){return this.name=r,this}addAttribute(r,t){return this.attributes[r]=t,this}addChildNode(r){return this.children.push(r),this}removeAttribute(r){return delete this.attributes[r],this}n(r){return this.name=r,this}c(r){return this.children.push(r),this}a(r,t){return t!=null&&(this.attributes[r]=t),this}cc(r,t,n=t){if(r[t]!=null){let s=e.of(t,r[t]).withName(n);this.c(s)}}l(r,t,n,s){r[t]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(r,t,n,s){if(r[t]!=null){let o=s(),i=new e(n);o.map(c=>{i.c(c)}),this.c(i)}}toString(){let r=!!this.children.length,t=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(t+=` ${s}="${Jae(""+o)}"`)}return t+=r?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(dg,"parseXML",{enumerable:!0,get:function(){return Yae.parseXML}});dg.XmlNode=rv;dg.XmlText=lg});var zq,jq,Hq,ya,ug=R(()=>{zq=O(Ju());mn();jt();jq=O(Me()),Hq=O(or());li();ya=class extends qr{settings;stringDeserializer;constructor(r){super(),this.settings=r,this.stringDeserializer=new oa(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,t,n){let s=ue.of(r),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},u=Object.keys(o)[0];return o[u].isBlobSchema()?d[u]=t:d[u]=this.read(o[u],t),d}let c=(this.serdeContext?.utf8Encoder??Hq.toUtf8)(t),l=this.parseXml(c);return this.readSchema(r,n?l[n]:l)}readSchema(r,t){let n=ue.of(r);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],u=l.getMergedTraits().xmlName??"member",f=i?t:(t[0]??t)[u],g=Array.isArray(f)?f:[f];for(let p of g)(p!=null||o)&&d.push(this.readSchema(l,p));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),u;i?u=Array.isArray(t)?t:[t]:u=Array.isArray(t.entry)?t.entry:[t.entry];let f=l.getMergedTraits().xmlName??"key",g=d.getMergedTraits().xmlName??"value";for(let p of u){let y=p[f],A=p[g];(A!=null||o)&&(c[y]=this.readSchema(d,A))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let u=d.getMergedTraits(),f=u.httpPayload?u.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[f]!=null&&(c[l]=this.readSchema(d,t[f]))}return c}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(r){if(r.length){let t;try{t=(0,zq.parseXML)(r)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:r}),i}let n="#text",s=Object.keys(t)[0],o=t[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,jq.getValueFromTextNode)(o)}return{}}}});var $q,Vq,fg,Gq=R(()=>{mn();jt();fn();$q=O(Me()),Vq=O(kr());li();fg=class extends qr{settings;buffer;constructor(r){super(),this.settings=r}write(r,t,n=""){this.buffer===void 0&&(this.buffer="");let s=ue.of(r);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Vq.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(n),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Bs.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof Bt?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),An(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,$q.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),u=i?`${n}${c}`:`${n}${d}.${c}`;this.write(o,l,u),++c}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,l=1;for(let[d,u]of Object.entries(t)){if(u==null)continue;let f=this.getKey("key",o.getMergedTraits().xmlName),g=c?`${n}${l}.${f}`:`${n}entry.${l}.${f}`,p=this.getKey("value",i.getMergedTraits().xmlName),y=c?`${n}${l}.${p}`:`${n}entry.${l}.${p}`;this.write(o,d,g),this.write(i,u,y),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,i]of s.structIterator()){if(t[o]==null&&!i.isIdempotencyToken())continue;let c=this.getKey(o,i.getMergedTraits().xmlName),l=`${n}${c}`;this.write(i,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,t){let n=t??r;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${Rs(r)}=`}writeValue(r){this.buffer+=Rs(r)}}});var Zu,nv=R(()=>{mn();jt();al();ug();Gq();Zu=class extends lo{options;serializer;deserializer;mixin=new qn;constructor(r){super({defaultNamespace:r.defaultNamespace}),this.options=r;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new fg(t),this.deserializer=new ya(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(ms(r.input)==="unit"||!s.body)&&(s.body="");let o=r.name.split("#")[1]??r.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(r,t,n){let s=this.deserializer,o=ue.of(r.output),i={};if(n.statusCode>=300){let f=await fs(n.body,t);f.byteLength>0&&Object.assign(i,await s.read(15,f)),await this.handleError(r,t,n,i,this.deserializeMetadata(n))}for(let f in n.headers){let g=n.headers[f];delete n.headers[f],n.headers[f.toLowerCase()]=g}let c=r.name.split("#")[1]??r.name,l=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await fs(n.body,t);return d.byteLength>0&&Object.assign(i,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(r,t,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",c=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);c.message=l,c.Error={Type:c.Type,Code:c.Code,Message:l};let{errorSchema:d,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,c,o,(A,k)=>A.find(N=>ue.of(N).getMergedTraits().awsQueryError?.[0]===k)),f=ue.of(d),g=ir.for(d[1]).getErrorCtor(d)??Error,p=new g(l),y={Error:c.Error};for(let[A,k]of f.structIterator()){let N=k.getMergedTraits().xmlName??A,G=c[N]??s[N];y[A]=this.deserializer.readSchema(k,G)}throw Object.assign(p,u,{$fault:f.getMergedTraits().error,message:l},y)}loadQueryErrorCode(r,t){let n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(n!==void 0)return n;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let t=this.loadQueryError(r);return t?.message??t?.Message??r.message??r.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var sv,Kq=R(()=>{nv();sv=class extends Zu{options;constructor(r){super(r),this.options=r;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var Wq,Xq,ef,ov,iv,av=R(()=>{Wq=O(Ju()),Xq=O(Me());KA();ef=(e,r)=>og(e,r).then(t=>{if(t.length){let n;try{n=(0,Wq.parseXML)(t)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Xq.getValueFromTextNode)(i)}return{}}),ov=async(e,r)=>{let t=await ef(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},iv=(e,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(e.statusCode==404)return"NotFound"}});var Un,cv,mg,tf,lv=R(()=>{Un=O(Ju());mn();jt();fn();cv=O(Me()),mg=O(kr());li();tf=class extends qr{settings;stringBuffer;byteBuffer;buffer;constructor(r){super(),this.settings=r}write(r,t){let n=ue.of(r);if(n.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(n.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??mg.fromBase64)(t);else{this.buffer=this.writeStruct(n,t,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,t,n){let s=r.getMergedTraits(),o=r.isMemberSchema()&&!s.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():s.xmlName??r.getName();if(!o||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let i=Un.XmlNode.of(o),[c,l]=this.getXmlnsAttribute(r,n);for(let[d,u]of r.structIterator()){let f=t[d];if(f!=null||u.isIdempotencyToken()){if(u.getMergedTraits().xmlAttribute){i.addAttribute(u.getMergedTraits().xmlName??d,this.writeSimple(u,f));continue}if(u.isListSchema())this.writeList(u,f,i,l);else if(u.isMapSchema())this.writeMap(u,f,i,l);else if(u.isStructSchema())i.addChildNode(this.writeStruct(u,f,l));else{let g=Un.XmlNode.of(u.getMergedTraits().xmlName??u.getMemberName());this.writeSimpleInto(u,f,g,l),i.addChildNode(g)}}}return l&&i.addAttribute(c,l),i}writeList(r,t,n,s){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let o=r.getMergedTraits(),i=r.getValueSchema(),c=i.getMergedTraits(),l=!!c.sparse,d=!!o.xmlFlattened,[u,f]=this.getXmlnsAttribute(r,s),g=(p,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],p,f);else if(i.isMapSchema())this.writeMap(i,y,p,f);else if(i.isStructSchema()){let A=this.writeStruct(i,y,f);p.addChildNode(A.withName(d?o.xmlName??r.getMemberName():c.xmlName??"member"))}else{let A=Un.XmlNode.of(d?o.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(i,y,A,f),p.addChildNode(A)}};if(d)for(let p of t)(l||p!=null)&&g(n,p);else{let p=Un.XmlNode.of(o.xmlName??r.getMemberName());f&&p.addAttribute(u,f);for(let y of t)(l||y!=null)&&g(p,y);n.addChildNode(p)}}writeMap(r,t,n,s,o=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let i=r.getMergedTraits(),c=r.getKeySchema(),d=c.getMergedTraits().xmlName??"key",u=r.getValueSchema(),f=u.getMergedTraits(),g=f.xmlName??"value",p=!!f.sparse,y=!!i.xmlFlattened,[A,k]=this.getXmlnsAttribute(r,s),N=(G,le,de)=>{let Ee=Un.XmlNode.of(d,le),[$e,Tt]=this.getXmlnsAttribute(c,k);Tt&&Ee.addAttribute($e,Tt),G.addChildNode(Ee);let ke=Un.XmlNode.of(g);u.isListSchema()?this.writeList(u,de,ke,k):u.isMapSchema()?this.writeMap(u,de,ke,k,!0):u.isStructSchema()?ke=this.writeStruct(u,de,k):this.writeSimpleInto(u,de,ke,k),G.addChildNode(ke)};if(y){for(let[G,le]of Object.entries(t))if(p||le!=null){let de=Un.XmlNode.of(i.xmlName??r.getMemberName());N(de,G,le),n.addChildNode(de)}}else{let G;o||(G=Un.XmlNode.of(i.xmlName??r.getMemberName()),k&&G.addAttribute(A,k),n.addChildNode(G));for(let[le,de]of Object.entries(t))if(p||de!=null){let Ee=Un.XmlNode.of("entry");N(Ee,le,de),(o?n:G).addChildNode(Ee)}}}writeSimple(r,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=ue.of(r),s=null;if(t&&typeof t=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??mg.toBase64)(t);else if(n.isTimestampSchema()&&t instanceof Date)switch(An(n,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,cv.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,cv.dateToUtcString)(t);break}else{if(n.isBigDecimalSchema()&&t)return t instanceof Bt?t.string:String(t);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(t)),n.isStringSchema()&&(t===void 0&&n.isIdempotencyToken()?s=(0,Bs.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${t}`);return s}writeSimpleInto(r,t,n,s){let o=this.writeSimple(r,t),i=ue.of(r),c=new Un.XmlText(o),[l,d]=this.getXmlnsAttribute(i,s);d&&n.addAttribute(l,d),n.addChildNode(c)}getXmlnsAttribute(r,t){let n=r.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var rf,dv=R(()=>{li();ug();lv();rf=class extends qr{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new tf(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new ya(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var uv,Qq=R(()=>{mn();jt();al();av();dv();uv=class extends sa{codec;serializer;deserializer;mixin=new qn;constructor(r){super(r);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new rf(t),this.serializer=new aa(this.codec.createSerializer(),t),this.deserializer=new ia(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ue.of(r.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let i=iv(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),d=ue.of(c),u=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=ir.for(c[1]).getErrorCtor(c)??Error,g=new f(u);await this.deserializeHttpMessage(c,t,n,s);let p={};for(let[y,A]of d.structIterator()){let k=A.getMergedTraits().xmlName??y,N=s.Error?.[k]??s[k];p[y]=this.codec.createDeserializer().readSchema(A,N)}throw Object.assign(g,l,{$fault:d.getMergedTraits().error,message:u},p)}getDefaultContentType(){return"application/xml"}}});var Yq=R(()=>{dq();uq();Nq();Bq();cg();Dq();ag();XA();QA();Lq();Xu();Kq();nv();Qq();dv();ug();lv();av()});var zn={};Cn(zn,{AWSSDKSigV4Signer:()=>D_,AwsEc2QueryProtocol:()=>sv,AwsJson1_0Protocol:()=>YA,AwsJson1_1Protocol:()=>JA,AwsJsonRpcProtocol:()=>ga,AwsQueryProtocol:()=>Zu,AwsRestJsonProtocol:()=>ZA,AwsRestXmlProtocol:()=>uv,AwsSdkSigV4ASigner:()=>Tu,AwsSdkSigV4Signer:()=>un,AwsSmithyRpcV2CborProtocol:()=>MA,JsonCodec:()=>pa,JsonShapeDeserializer:()=>Qu,JsonShapeSerializer:()=>Yu,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Wc,NODE_SIGV4A_CONFIG_OPTIONS:()=>EF,XmlCodec:()=>rf,XmlShapeDeserializer:()=>ya,XmlShapeSerializer:()=>tf,_toBool:()=>wae,_toNum:()=>Aae,_toStr:()=>_ae,awsExpectUnion:()=>Wae,emitWarningIfUnsupportedVersion:()=>Vc,getBearerTokenEnvKey:()=>Jh,loadRestJsonErrorCode:()=>ha,loadRestXmlErrorCode:()=>iv,parseJsonBody:()=>cl,parseJsonErrorBody:()=>WA,parseXmlBody:()=>ef,parseXmlErrorBody:()=>ov,resolveAWSSDKSigV4Config:()=>GF,resolveAwsSdkSigV4AConfig:()=>xF,resolveAwsSdkSigV4Config:()=>fa,setCredentialFeature:()=>Jo,setFeature:()=>QD,setTokenFeature:()=>JD,state:()=>Yh,validateSigningProperties:()=>Kc});var rr=R(()=>{us();bA();Yq()});var e4=b((j4e,Zq)=>{var hg=Object.defineProperty,ece=Object.getOwnPropertyDescriptor,tce=Object.getOwnPropertyNames,rce=Object.prototype.hasOwnProperty,nce=(e,r)=>hg(e,"name",{value:r,configurable:!0}),sce=(e,r)=>{for(var t in r)hg(e,t,{get:r[t],enumerable:!0})},oce=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of tce(r))!rce.call(e,s)&&s!==t&&hg(e,s,{get:()=>r[s],enumerable:!(n=ece(r,s))||n.enumerable});return e},ice=e=>oce(hg({},"__esModule",{value:!0}),e),Jq={};sce(Jq,{isArrayBuffer:()=>ace});Zq.exports=ice(Jq);var ace=nce(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var s4=b((H4e,n4)=>{var pg=Object.defineProperty,cce=Object.getOwnPropertyDescriptor,lce=Object.getOwnPropertyNames,dce=Object.prototype.hasOwnProperty,t4=(e,r)=>pg(e,"name",{value:r,configurable:!0}),uce=(e,r)=>{for(var t in r)pg(e,t,{get:r[t],enumerable:!0})},fce=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of lce(r))!dce.call(e,s)&&s!==t&&pg(e,s,{get:()=>r[s],enumerable:!(n=cce(r,s))||n.enumerable});return e},mce=e=>fce(pg({},"__esModule",{value:!0}),e),r4={};uce(r4,{fromArrayBuffer:()=>pce,fromString:()=>gce});n4.exports=mce(r4);var hce=e4(),fv=require("buffer"),pce=t4((e,r=0,t=e.byteLength-r)=>{if(!(0,hce.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return fv.Buffer.from(e,r,t)},"fromArrayBuffer"),gce=t4((e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?fv.Buffer.from(e,r):fv.Buffer.from(e)},"fromString")});var l4=b(($4e,c4)=>{var gg=Object.defineProperty,yce=Object.getOwnPropertyDescriptor,Sce=Object.getOwnPropertyNames,bce=Object.prototype.hasOwnProperty,mv=(e,r)=>gg(e,"name",{value:r,configurable:!0}),xce=(e,r)=>{for(var t in r)gg(e,t,{get:r[t],enumerable:!0})},Ece=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Sce(r))!bce.call(e,s)&&s!==t&&gg(e,s,{get:()=>r[s],enumerable:!(n=yce(r,s))||n.enumerable});return e},Cce=e=>Ece(gg({},"__esModule",{value:!0}),e),o4={};xce(o4,{fromUtf8:()=>a4,toUint8Array:()=>_ce,toUtf8:()=>wce});c4.exports=Cce(o4);var i4=s4(),a4=mv(e=>{let r=(0,i4.fromString)(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),_ce=mv(e=>typeof e=="string"?a4(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),wce=mv(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,i4.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var d4=b(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});yg.convertToBuffer=void 0;var Ace=l4(),vce=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Ace.fromUtf8;function Tce(e){return e instanceof Uint8Array?e:typeof e=="string"?vce(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}yg.convertToBuffer=Tce});var u4=b(Sg=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.isEmptyData=void 0;function kce(e){return typeof e=="string"?e.length===0:e.byteLength===0}Sg.isEmptyData=kce});var f4=b(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});bg.numToUint8=void 0;function Rce(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}bg.numToUint8=Rce});var m4=b(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.uint32ArrayFrom=void 0;function Ice(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),t=0;t<e.length;)r[t]=e[t],t+=1;return r}return Uint32Array.from(e)}xg.uint32ArrayFrom=Ice});var ll=b(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.uint32ArrayFrom=Ms.numToUint8=Ms.isEmptyData=Ms.convertToBuffer=void 0;var Pce=d4();Object.defineProperty(Ms,"convertToBuffer",{enumerable:!0,get:function(){return Pce.convertToBuffer}});var Oce=u4();Object.defineProperty(Ms,"isEmptyData",{enumerable:!0,get:function(){return Oce.isEmptyData}});var Nce=f4();Object.defineProperty(Ms,"numToUint8",{enumerable:!0,get:function(){return Nce.numToUint8}});var Bce=m4();Object.defineProperty(Ms,"uint32ArrayFrom",{enumerable:!0,get:function(){return Bce.uint32ArrayFrom}})});var g4=b(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.AwsCrc32c=void 0;var h4=(Ns(),Re(Os)),hv=ll(),p4=pv(),Dce=(function(){function e(){this.crc32c=new p4.Crc32c}return e.prototype.update=function(r){(0,hv.isEmptyData)(r)||this.crc32c.update((0,hv.convertToBuffer)(r))},e.prototype.digest=function(){return h4.__awaiter(this,void 0,void 0,function(){return h4.__generator(this,function(r){return[2,(0,hv.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new p4.Crc32c},e})();Eg.AwsCrc32c=Dce});var pv=b(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.AwsCrc32c=ui.Crc32c=ui.crc32c=void 0;var Mce=(Ns(),Re(Os)),Lce=ll();function Fce(e){return new y4().update(e).digest()}ui.crc32c=Fce;var y4=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=Mce.__values(r),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^Uce[(this.checksum^i)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();ui.Crc32c=y4;var qce=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Uce=(0,Lce.uint32ArrayFrom)(qce),zce=g4();Object.defineProperty(ui,"AwsCrc32c",{enumerable:!0,get:function(){return zce.AwsCrc32c}})});var x4=b(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.AwsCrc32=void 0;var S4=(Ns(),Re(Os)),gv=ll(),b4=_g(),jce=(function(){function e(){this.crc32=new b4.Crc32}return e.prototype.update=function(r){(0,gv.isEmptyData)(r)||this.crc32.update((0,gv.convertToBuffer)(r))},e.prototype.digest=function(){return S4.__awaiter(this,void 0,void 0,function(){return S4.__generator(this,function(r){return[2,(0,gv.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new b4.Crc32},e})();Cg.AwsCrc32=jce});var _g=b(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.AwsCrc32=fi.Crc32=fi.crc32=void 0;var Hce=(Ns(),Re(Os)),$ce=ll();function Vce(e){return new E4().update(e).digest()}fi.crc32=Vce;var E4=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=Hce.__values(r),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^Kce[(this.checksum^i)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();fi.Crc32=E4;var Gce=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Kce=(0,$ce.uint32ArrayFrom)(Gce),Wce=x4();Object.defineProperty(fi,"AwsCrc32",{enumerable:!0,get:function(){return Wce.AwsCrc32}})});var _4=b(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.getCrc32ChecksumAlgorithmFunction=void 0;var Xce=(Ns(),Re(Os)),Qce=_g(),Yce=ll(),C4=Xce.__importStar(require("zlib")),yv=class{checksum=0;update(r){this.checksum=C4.crc32(r,this.checksum)}async digest(){return(0,Yce.numToUint8)(this.checksum)}reset(){this.checksum=0}},Jce=()=>typeof C4.crc32>"u"?Qce.AwsCrc32:yv;wg.getCrc32ChecksumAlgorithmFunction=Jce});var _v=b(ye=>{"use strict";var yo=(rr(),Re(zn)),A4=Ye(),v4=ta(),Zce=ep(),ele=pv(),tle=_4(),rle=or(),w4=Lr(),So={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},xv=So.WHEN_SUPPORTED,dl={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Ev=So.WHEN_SUPPORTED;ye.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(ye.ChecksumAlgorithm||(ye.ChecksumAlgorithm={}));ye.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ye.ChecksumLocation||(ye.ChecksumLocation={}));var Ag=ye.ChecksumAlgorithm.CRC32,ul;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ul||(ul={}));var vg=(e,r,t,n)=>{if(!(r in e))return;let s=e[r].toUpperCase();if(!Object.values(t).includes(s))throw new TypeError(`Cannot load ${n} '${r}'. Expected one of ${Object.values(t)}, got '${e[r]}'.`);return s},T4="AWS_REQUEST_CHECKSUM_CALCULATION",k4="request_checksum_calculation",nle={environmentVariableSelector:e=>vg(e,T4,So,ul.ENV),configFileSelector:e=>vg(e,k4,So,ul.CONFIG),default:xv},R4="AWS_RESPONSE_CHECKSUM_VALIDATION",I4="response_checksum_validation",sle={environmentVariableSelector:e=>vg(e,R4,dl,ul.ENV),configFileSelector:e=>vg(e,I4,dl,ul.CONFIG),default:Ev},Sv={CrtCrc64Nvme:null},bv=[ye.ChecksumAlgorithm.CRC32,ye.ChecksumAlgorithm.CRC32C,ye.ChecksumAlgorithm.CRC64NVME,ye.ChecksumAlgorithm.SHA1,ye.ChecksumAlgorithm.SHA256],ole=[ye.ChecksumAlgorithm.SHA256,ye.ChecksumAlgorithm.SHA1,ye.ChecksumAlgorithm.CRC32,ye.ChecksumAlgorithm.CRC32C,ye.ChecksumAlgorithm.CRC64NVME],ile=(e,{requestChecksumRequired:r,requestAlgorithmMember:t,requestChecksumCalculation:n})=>{if(!t)return n===So.WHEN_SUPPORTED||r?Ag:void 0;if(!e[t])return;let s=e[t];if(!bv.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${bv}.`);return s},Cv=e=>e===ye.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,ale=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(t===n.toLowerCase())return!0;return!1},cle=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase().startsWith(t))return!0;return!1},P4=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Zce.isArrayBuffer(e),O4=(e,r)=>{switch(e){case ye.ChecksumAlgorithm.MD5:return r.md5;case ye.ChecksumAlgorithm.CRC32:return tle.getCrc32ChecksumAlgorithmFunction();case ye.ChecksumAlgorithm.CRC32C:return ele.AwsCrc32c;case ye.ChecksumAlgorithm.CRC64NVME:if(typeof Sv.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return Sv.CrtCrc64Nvme;case ye.ChecksumAlgorithm.SHA1:return r.sha1;case ye.ChecksumAlgorithm.SHA256:return r.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},N4=(e,r)=>{let t=new e;return t.update(rle.toUint8Array(r||"")),t.digest()},B4={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},D4=(e,r)=>(t,n)=>async s=>{if(!A4.HttpRequest.isInstance(s.request)||cle("x-amz-checksum-",s.request.headers))return t(s);let{request:o,input:i}=s,{body:c,headers:l}=o,{base64Encoder:d,streamHasher:u}=e,{requestChecksumRequired:f,requestAlgorithmMember:g}=r,p=await e.requestChecksumCalculation(),y=g?.name,A=g?.httpHeader;y&&!i[y]&&(p===So.WHEN_SUPPORTED||f)&&(i[y]=Ag,A&&(l[A]=Ag));let k=ile(i,{requestChecksumRequired:f,requestAlgorithmMember:g?.name,requestChecksumCalculation:p}),N=c,G=l;if(k){switch(k){case ye.ChecksumAlgorithm.CRC32:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ye.ChecksumAlgorithm.CRC32C:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ye.ChecksumAlgorithm.CRC64NVME:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ye.ChecksumAlgorithm.SHA1:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ye.ChecksumAlgorithm.SHA256:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let de=Cv(k),Ee=O4(k,e);if(P4(c)){let{getAwsChunkedEncodingStream:$e,bodyLengthChecker:Tt}=e;N=$e(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?v4.createBufferedReadable(c,e.requestStreamBufferSize,n.logger):c,{base64Encoder:d,bodyLengthChecker:Tt,checksumLocationName:de,checksumAlgorithmFn:Ee,streamHasher:u}),G={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":de},delete G["content-length"]}else if(!ale(de,l)){let $e=await N4(Ee,c);G={...l,[de]:d($e)}}}return await t({...s,request:{...o,headers:G,body:N}})},lle={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},dle=(e,r)=>(t,n)=>async s=>{let o=s.input,{requestValidationModeMember:i}=r,c=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(c){case So.WHEN_REQUIRED:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case So.WHEN_SUPPORTED:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case dl.WHEN_REQUIRED:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case dl.WHEN_SUPPORTED:yo.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!o[i]&&l===dl.WHEN_SUPPORTED&&(o[i]="ENABLED"),t(s)},M4=(e=[])=>{let r=[];for(let t of ole)!e.includes(t)||!bv.includes(t)||r.push(t);return r},ule=e=>{let r=e.lastIndexOf("-");if(r!==-1){let t=e.slice(r+1);if(!t.startsWith("0")){let n=parseInt(t,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},fle=async(e,{checksumAlgorithmFn:r,base64Encoder:t})=>t(await N4(r,e)),mle=async(e,{config:r,responseAlgorithms:t,logger:n})=>{let s=M4(t),{body:o,headers:i}=e;for(let c of s){let l=Cv(c),d=i[l];if(d){let u;try{u=O4(c,r)}catch(p){if(c===ye.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${ye.ChecksumAlgorithm.CRC64NVME} checksum validation: ${p.message}`);continue}throw p}let{base64Encoder:f}=r;if(P4(o)){e.body=v4.createChecksumStream({expectedChecksum:d,checksumSourceLocation:l,checksum:new u,source:o,base64Encoder:f});return}let g=await fle(o,{checksumAlgorithmFn:u,base64Encoder:f});if(g===d)break;throw new Error(`Checksum mismatch: expected "${g}" but received "${d}" in response header "${l}".`)}}},hle={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},ple=(e,r)=>(t,n)=>async s=>{if(!A4.HttpRequest.isInstance(s.request))return t(s);let o=s.input,i=await t(s),c=i.response,{requestValidationModeMember:l,responseAlgorithms:d}=r;if(l&&o[l]==="ENABLED"){let{clientName:u,commandName:f}=n;if(u==="S3Client"&&f==="GetObjectCommand"&&M4(d).every(p=>{let y=Cv(p),A=c.headers[y];return!A||ule(A)}))return i;await mle(c,{config:e,responseAlgorithms:d,logger:n.logger})}return i},gle=(e,r)=>({applyToStack:t=>{t.add(D4(e,r),B4),t.addRelativeTo(dle(e,r),lle),t.addRelativeTo(ple(e,r),hle)}}),yle=e=>{let{requestChecksumCalculation:r,responseChecksumValidation:t,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:w4.normalizeProvider(r??xv),responseChecksumValidation:w4.normalizeProvider(t??Ev),requestStreamBufferSize:Number(n??0)})};ye.CONFIG_REQUEST_CHECKSUM_CALCULATION=k4;ye.CONFIG_RESPONSE_CHECKSUM_VALIDATION=I4;ye.DEFAULT_CHECKSUM_ALGORITHM=Ag;ye.DEFAULT_REQUEST_CHECKSUM_CALCULATION=xv;ye.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=Ev;ye.ENV_REQUEST_CHECKSUM_CALCULATION=T4;ye.ENV_RESPONSE_CHECKSUM_VALIDATION=R4;ye.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=nle;ye.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=sle;ye.RequestChecksumCalculation=So;ye.ResponseChecksumValidation=dl;ye.crc64NvmeCrtContainer=Sv;ye.flexibleChecksumsMiddleware=D4;ye.flexibleChecksumsMiddlewareOptions=B4;ye.getFlexibleChecksumsPlugin=gle;ye.resolveFlexibleChecksumsConfig=yle});var sf=b(nf=>{"use strict";var Sle=Ye();function ble(e){return e}var L4=e=>r=>async t=>{if(!Sle.HttpRequest.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},F4={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},xle=e=>({applyToStack:r=>{r.add(L4(e),F4)}});nf.getHostHeaderPlugin=xle;nf.hostHeaderMiddleware=L4;nf.hostHeaderMiddlewareOptions=F4;nf.resolveHostHeaderConfig=ble});var of=b(Tg=>{"use strict";var q4=()=>(e,r)=>async t=>{try{let n=await e(t),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,u=l??r.inputFilterSensitiveLog,f=d??r.outputFilterSensitiveLog,{$metadata:g,...p}=n.output;return i?.info?.({clientName:s,commandName:o,input:u(t.input),output:f(p),metadata:g}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l}=c,d=l??r.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:d(t.input),error:n,metadata:n.$metadata}),n}},U4={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ele=e=>({applyToStack:r=>{r.add(q4(),U4)}});Tg.getLoggerPlugin=Ele;Tg.loggerMiddleware=q4;Tg.loggerMiddlewareOptions=U4});var j4={};Cn(j4,{InvokeStore:()=>_le});var z4,wv,Cle,Av,kg,_le,H4=R(()=>{z4=require("async_hooks"),wv=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";wv||(globalThis.awslambda=globalThis.awslambda||{});Cle={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},Av=class{static storage=new z4.AsyncLocalStorage;static PROTECTED_KEYS=Cle;static run(r,t){return this.storage.run({...r},t)}static getContext(){return this.storage.getStore()}static get(r){return this.storage.getStore()?.[r]}static set(r,t){if(this.isProtectedKey(r))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[r]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(r){return r===this.PROTECTED_KEYS.REQUEST_ID||r===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!wv&&globalThis.awslambda?.InvokeStore?kg=globalThis.awslambda.InvokeStore:(kg=Av,!wv&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=kg));_le=kg});var $4=b(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.recursionDetectionMiddleware=void 0;var wle=(H4(),Re(j4)),Ale=Ye(),vv="X-Amzn-Trace-Id",vle="AWS_LAMBDA_FUNCTION_NAME",Tle="_X_AMZN_TRACE_ID",kle=()=>e=>async r=>{let{request:t}=r;if(!Ale.HttpRequest.isInstance(t))return e(r);let n=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===vv.toLowerCase())??vv;if(t.headers.hasOwnProperty(n))return e(r);let s=process.env[vle],o=process.env[Tle],c=wle.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(c)&&(t.headers[vv]=c),e({...r,request:t})};Rg.recursionDetectionMiddleware=kle});var af=b(Ig=>{"use strict";var Tv=$4(),Rle={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ile=e=>({applyToStack:r=>{r.add(Tv.recursionDetectionMiddleware(),Rle)}});Ig.getRecursionDetectionPlugin=Ile;Object.keys(Tv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ig,e)&&Object.defineProperty(Ig,e,{enumerable:!0,get:function(){return Tv[e]}})})});var Pg=b(fl=>{"use strict";var Ple=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}},Ole=(e,r,t)=>{if(!(r in e))return;let n=parseInt(e[r],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${t} '${r}'. Expected number, got '${e[r]}'.`);return n};fl.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(fl.SelectorType||(fl.SelectorType={}));fl.booleanSelector=Ple;fl.numberSelector=Ole});var Rv=b((a6e,G4)=>{"use strict";var Og=Object.defineProperty,Nle=Object.getOwnPropertyDescriptor,Ble=Object.getOwnPropertyNames,Dle=Object.prototype.hasOwnProperty,kv=(e,r)=>Og(e,"name",{value:r,configurable:!0}),Mle=(e,r)=>{for(var t in r)Og(e,t,{get:r[t],enumerable:!0})},Lle=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Ble(r))!Dle.call(e,s)&&s!==t&&Og(e,s,{get:()=>r[s],enumerable:!(n=Nle(r,s))||n.enumerable});return e},Fle=e=>Lle(Og({},"__esModule",{value:!0}),e),V4={};Mle(V4,{build:()=>zle,parse:()=>Ule,validate:()=>qle});G4.exports=Fle(V4);var qle=kv(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),Ule=kv(e=>{let r=e.split(":");if(r.length<6||r[0]!=="arn")throw new Error("Malformed ARN");let[,t,n,s,o,...i]=r;return{partition:t,service:n,region:s,accountId:o,resource:i.join(":")}},"parse"),zle=kv(e=>{let{partition:r="aws",service:t,region:n,accountId:s,resource:o}=e;if([t,n,s,o].some(i=>typeof i!="string"))throw new Error("Input ARN object is invalid");return`arn:${r}:${t}:${n}:${s}:${o}`},"build")});var Mg=b(et=>{"use strict";var cf=Ye(),Q4=Me(),jle=Wp(),Ng=Pg(),Hle=(rr(),Re(zn)),Y4=(rn(),Re(la));oo();var $le=Lr(),K4=ta(),Vle=Rv(),Gle="content-length",Kle="x-amz-decoded-content-length";function J4(){return(e,r)=>async t=>{let{request:n}=t;if(cf.HttpRequest.isInstance(n)&&!(Gle in n.headers)&&!(Kle in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof r?.logger?.warn=="function"&&!(r.logger instanceof Q4.NoOpLogger)?r.logger.warn(s):console.warn(s)}return e({...t})}}var Z4={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Wle=e=>({applyToStack:r=>{r.add(J4(),Z4)}}),e6=e=>(r,t)=>async n=>{let s=await e.region(),o=e.region,i=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),i=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{let c=await r(n);if(t.__s3RegionRedirect){i();let l=await e.region();if(s!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw i(),c}},t6={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function r6(e){return(r,t)=>async n=>{try{return await r(n)}catch(s){if(e.followRegionRedirects){let o=s?.$metadata?.httpStatusCode,i=t.commandName==="HeadBucketCommand",c=s?.$response?.headers?.["x-amz-bucket-region"];if(c&&(o===301||o===400&&(s?.name==="IllegalLocationConstraintException"||i))){try{let l=c;t.logger?.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return r(n)}}throw s}}}var n6={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Xle=e=>({applyToStack:r=>{r.add(r6(e),n6),r.addRelativeTo(e6(e),t6)}}),s6=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(cf.HttpResponse.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{Q4.parseRfc7231DateTime(o.headers.expires)}catch(i){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${i}`),delete o.headers.expires}}return s},o6={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},Qle=e=>({applyToStack:r=>{r.addRelativeTo(s6(),o6)}}),Bg=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(r={}){this.data=r}get(r){let t=this.data[r];if(t)return t}set(r,t){return this.data[r]=t,t}delete(r){delete this.data[r]}async purgeExpired(){let r=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(let t in this.data){let n=this.data[t];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<r&&delete this.data[t]}}}},ml=class{_identity;isRefreshing;accessed;constructor(r,t=!1,n=Date.now()){this._identity=r,this.isRefreshing=t,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},Dg=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(r,t=new Bg){this.createSessionFn=r,this.cache=t}async getS3ExpressIdentity(r,t){let n=t.Bucket,{cache:s}=this,o=s.get(n);return o?o.identity.then(i=>(i.expiration?.getTime()??0)<Date.now()?s.set(n,new ml(this.getIdentity(n))).identity:((i.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(n).then(d=>{s.set(n,new ml(Promise.resolve(d)))})),i)):s.set(n,new ml(this.getIdentity(n))).identity}async getIdentity(r){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let t=await this.createSessionFn(r);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}},Yle="Directory",Jle="S3Express",Zle="sigv4-s3express",Iv="X-Amz-S3session-Token",Pv=Iv.toLowerCase(),ede="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",tde="s3_disable_express_session_auth",rde={environmentVariableSelector:e=>Ng.booleanSelector(e,ede,Ng.SelectorType.ENV),configFileSelector:e=>Ng.booleanSelector(e,tde,Ng.SelectorType.CONFIG),default:!1},Ov=class extends jle.SignatureV4{async signWithCredentials(r,t,n){let s=W4(t);r.headers[Pv]=t.sessionToken;let o=this;return X4(o,s),o.signRequest(r,n??{})}async presignWithCredentials(r,t,n){let s=W4(t);return delete r.headers[Pv],r.headers[Iv]=t.sessionToken,r.query=r.query??{},r.query[Iv]=t.sessionToken,X4(this,s),this.presign(r,n)}};function W4(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function X4(e,r){let t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(t),e.credentialProvider=n,Promise.resolve(r));e.credentialProvider=s}var i6=e=>(r,t)=>async n=>{if(t.endpointV2){let s=t.endpointV2,o=s.properties?.authSchemes?.[0]?.name===Zle;if((s.properties?.backend===Jle||s.properties?.bucketType===Yle)&&(Hle.setFeature(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),o){let c=n.input.Bucket;if(c){let l=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:c});t.s3ExpressIdentity=l,cf.HttpRequest.isInstance(n.request)&&l.sessionToken&&(n.request.headers[Pv]=l.sessionToken)}}}return r(n)},a6={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},nde=e=>({applyToStack:r=>{r.add(i6(e),a6)}}),sde=async(e,r,t,n)=>{let s=await n.signWithCredentials(t,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},ode=e=>r=>{throw r},ide=(e,r)=>{},ade=Y4.httpSigningMiddlewareOptions,c6=e=>(r,t)=>async n=>{if(!cf.HttpRequest.isInstance(n.request))return r(n);let o=$le.getSmithyContext(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:l}=o,d;t.s3ExpressIdentity?d=await sde(t.s3ExpressIdentity,i,n.request,await e.signer()):d=await l.sign(n.request,c,i);let u=await r({...n,request:d}).catch((l.errorHandler||ode)(i));return(l.successHandler||ide)(u.response,i),u},cde=e=>({applyToStack:r=>{r.addRelativeTo(c6(e),Y4.httpSigningMiddlewareOptions)}}),lde=(e,{session:r})=>{let[t,n]=r,{forcePathStyle:s,useAccelerateEndpoint:o,disableMultiregionAccessPoints:i,followRegionRedirects:c,s3ExpressIdentityProvider:l,bucketEndpoint:d,expectContinueHeader:u}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:l??new Dg(async f=>t().send(new n({Bucket:f}))),bucketEndpoint:d??!1,expectContinueHeader:u??2097152})},dde={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ude=3e3,l6=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(!cf.HttpResponse.isInstance(o))return s;let{statusCode:i,body:c}=o;if(i<200||i>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return s;let d=c,u=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([d,u]=await K4.splitStream(c)),o.body=u;let f=await fde(d,{streamCollector:async p=>K4.headStream(p,ude)});typeof d?.destroy=="function"&&d.destroy();let g=e.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&dde[t.commandName]){let p=new Error("S3 aborted request");throw p.name="InternalError",p}return g&&g.endsWith("</Error>")&&(o.statusCode=400),s},fde=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),d6={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},mde=e=>({applyToStack:r=>{r.addRelativeTo(l6(e),d6)}});function hde(e){return(r,t)=>async n=>{if(e.bucketEndpoint){let s=t.endpointV2;if(s){let o=n.input.Bucket;if(typeof o=="string")try{let i=new URL(o);t.endpointV2={...s,url:i}}catch(i){let c=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c),i}}}return r(n)}}var pde={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function u6({bucketEndpoint:e}){return r=>async t=>{let{input:{Bucket:n}}=t;if(!e&&typeof n=="string"&&!Vle.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return r({...t})}}var f6={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},gde=e=>({applyToStack:r=>{r.add(u6(e),f6),r.addRelativeTo(hde(e),pde)}});et.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=rde;et.S3ExpressIdentityCache=Bg;et.S3ExpressIdentityCacheEntry=ml;et.S3ExpressIdentityProviderImpl=Dg;et.SignatureV4S3Express=Ov;et.checkContentLengthHeader=J4;et.checkContentLengthHeaderMiddlewareOptions=Z4;et.getCheckContentLengthHeaderPlugin=Wle;et.getRegionRedirectMiddlewarePlugin=Xle;et.getS3ExpiresMiddlewarePlugin=Qle;et.getS3ExpressHttpSigningPlugin=cde;et.getS3ExpressPlugin=nde;et.getThrow200ExceptionsPlugin=mde;et.getValidateBucketNamePlugin=gde;et.regionRedirectEndpointMiddleware=e6;et.regionRedirectEndpointMiddlewareOptions=t6;et.regionRedirectMiddleware=r6;et.regionRedirectMiddlewareOptions=n6;et.resolveS3Config=lde;et.s3ExpiresMiddleware=s6;et.s3ExpiresMiddlewareOptions=o6;et.s3ExpressHttpSigningMiddleware=c6;et.s3ExpressHttpSigningMiddlewareOptions=ade;et.s3ExpressMiddleware=i6;et.s3ExpressMiddlewareOptions=a6;et.throw200ExceptionsMiddleware=l6;et.throw200ExceptionsMiddlewareOptions=d6;et.validateBucketNameMiddleware=u6;et.validateBucketNameMiddlewareOptions=f6});var ba=b(Sa=>{"use strict";var Bv=oo(),Dv=class{capacity;data=new Map;parameters=[];constructor({size:r,params:t}){this.capacity=r??50,t&&(this.parameters=t)}get(r,t){let n=this.hash(r);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:c}=s.next();if(this.data.delete(i),c||++o>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(r){let t="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(r[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},yde=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),m6=e=>yde.test(e)||e.startsWith("[")&&e.endsWith("]"),Sde=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Lv=(e,r=!1)=>{if(!r)return Sde.test(e);let t=e.split(".");for(let n of t)if(!Lv(n))return!1;return!0},Mv={},lf="endpoints";function mi(e){return typeof e!="object"||e==null?e:"ref"in e?`$${mi(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(mi).join(", ")})`:JSON.stringify(e,null,2)}var Ur=class extends Error{constructor(r){super(r),this.name="EndpointError"}},bde=(e,r)=>e===r,xde=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ur(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ur(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t},h6=(e,r)=>xde(r).reduce((t,n)=>{if(typeof t!="object")throw new Ur(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e),Ede=e=>e!=null,Cde=e=>!e,Nv={[Bv.EndpointURLScheme.HTTP]:80,[Bv.EndpointURLScheme.HTTPS]:443},_de=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:p,protocol:y="",path:A="",query:k={}}=e,N=new URL(`${y}//${g}${p?`:${p}`:""}${A}`);return N.search=Object.entries(k).map(([G,le])=>`${G}=${le}`).join("&"),N}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:i,search:c}=r;if(c)return null;let l=i.slice(0,-1);if(!Object.values(Bv.EndpointURLScheme).includes(l))return null;let d=m6(s),u=t.includes(`${n}:${Nv[l]}`)||typeof e=="string"&&e.includes(`${n}:${Nv[l]}`),f=`${n}${u?`:${Nv[l]}`:""}`;return{scheme:l,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},wde=(e,r)=>e===r,Ade=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t),vde=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),Tde={booleanEquals:bde,getAttr:h6,isSet:Ede,isValidHostLabel:Lv,not:Cde,parseURL:_de,stringEquals:wde,substring:Ade,uriEncode:vde},p6=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),s=i+2);let c=e.substring(o+1,i);if(c.includes("#")){let[l,d]=c.split("#");t.push(h6(n[l],d))}else t.push(n[c]);s=i+1}return t.join("")},kde=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e],Lg=(e,r,t)=>{if(typeof e=="string")return p6(e,t);if(e.fn)return y6.callFunction(e,t);if(e.ref)return kde(e,t);throw new Ur(`'${r}': ${String(e)} is not a string, function or reference.`)},g6=({fn:e,argv:r},t)=>{let n=r.map(o=>["boolean","number"].includes(typeof o)?o:y6.evaluateExpression(o,"arg",t)),s=e.split(".");return s[0]in Mv&&s[1]!=null?Mv[s[0]][s[1]](...n):Tde[e](...n)},y6={evaluateExpression:Lg,callFunction:g6},Rde=({assign:e,...r},t)=>{if(e&&e in t.referenceRecord)throw new Ur(`'${e}' is already defined in Reference Record.`);let n=g6(r,t);return t.logger?.debug?.(`${lf} evaluateCondition: ${mi(r)} = ${mi(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Fv=(e=[],r)=>{let t={};for(let n of e){let{result:s,toAssign:o}=Rde(n,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,r.logger?.debug?.(`${lf} assign: ${o.name} := ${mi(o.value)}`))}return{result:!0,referenceRecord:t}},Ide=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let i=Lg(o,"Header value entry",r);if(typeof i!="string")throw new Ur(`Header '${n}' value '${i}' is not a string`);return i})}),{}),S6=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:x6.getEndpointProperty(s,r)}),{}),b6=(e,r)=>{if(Array.isArray(e))return e.map(t=>b6(t,r));switch(typeof e){case"string":return p6(e,r);case"object":if(e===null)throw new Ur(`Unexpected endpoint property: ${e}`);return x6.getEndpointProperties(e,r);case"boolean":return e;default:throw new Ur(`Unexpected endpoint property type: ${typeof e}`)}},x6={getEndpointProperty:b6,getEndpointProperties:S6},Pde=(e,r)=>{let t=Lg(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new Ur(`Endpoint URL must be a string, got ${typeof t}`)},Ode=(e,r)=>{let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=Fv(t,r);if(!s)return;let i={...r,referenceRecord:{...r.referenceRecord,...o}},{url:c,properties:l,headers:d}=n;return r.logger?.debug?.(`${lf} Resolving endpoint from template: ${mi(n)}`),{...d!=null&&{headers:Ide(d,i)},...l!=null&&{properties:S6(l,i)},url:Pde(c,i)}},Nde=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=Fv(t,r);if(s)throw new Ur(Lg(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))},E6=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=Ode(t,r);if(n)return n}else if(t.type==="error")Nde(t,r);else if(t.type==="tree"){let n=C6.evaluateTreeRule(t,r);if(n)return n}else throw new Ur(`Unknown endpoint rule: ${t}`);throw new Ur("Rules evaluation failed")},Bde=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=Fv(t,r);if(s)return C6.evaluateRules(n,{...r,referenceRecord:{...r.referenceRecord,...o}})},C6={evaluateRules:E6,evaluateTreeRule:Bde},Dde=(e,r)=>{let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;r.logger?.debug?.(`${lf} Initial EndpointParams: ${mi(t)}`);let i=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,u])=>[d,u.default]);if(i.length>0)for(let[d,u]of i)t[d]=t[d]??u;let c=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of c)if(t[d]==null)throw new Ur(`Missing required parameter: '${d}'`);let l=E6(o,{endpointParams:t,logger:n,referenceRecord:{}});return r.logger?.debug?.(`${lf} Resolved endpoint: ${mi(l)}`),l};Sa.EndpointCache=Dv;Sa.EndpointError=Ur;Sa.customEndpointFunctions=Mv;Sa.isIpAddress=m6;Sa.isValidHostLabel=Lv;Sa.resolveEndpoint=Dde});var w6=b(_6=>{"use strict";function Mde(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}_6.parseQueryString=Mde});var hi=b(v6=>{"use strict";var Lde=w6(),A6=e=>{if(typeof e=="string")return A6(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,i;return o&&(i=Lde.parseQueryString(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:i}};v6.parseUrl=A6});var pl=b(hs=>{"use strict";var hl=ba(),Fde=hi(),k6=(e,r=!1)=>{if(r){for(let t of e.split("."))if(!k6(t))return!1;return!0}return!(!hl.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hl.isIpAddress(e))},T6=":",qde="/",Ude=e=>{let r=e.split(T6);if(r.length<6)return null;let[t,n,s,o,i,...c]=r;if(t!=="arn"||n===""||s===""||c.join(T6)==="")return null;let l=c.map(d=>d.split(qde)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:l}},zde=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],jde="1.1",R6={partitions:zde,version:jde},I6=R6,P6="",O6=e=>{let{partitions:r}=I6;for(let n of r){let{regions:s,outputs:o}=n;for(let[i,c]of Object.entries(s))if(i===e)return{...o,...c}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},N6=(e,r="")=>{I6=e,P6=r},Hde=()=>{N6(R6,"")},$de=()=>P6,B6={isVirtualHostableS3Bucket:k6,parseArn:Ude,partition:O6};hl.customEndpointFunctions.aws=B6;var Vde=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>D6(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},D6=e=>Fde.parseUrl(e.url);Object.defineProperty(hs,"EndpointError",{enumerable:!0,get:function(){return hl.EndpointError}});Object.defineProperty(hs,"isIpAddress",{enumerable:!0,get:function(){return hl.isIpAddress}});Object.defineProperty(hs,"resolveEndpoint",{enumerable:!0,get:function(){return hl.resolveEndpoint}});hs.awsEndpointFunctions=B6;hs.getUserAgentPrefix=$de;hs.partition=O6;hs.resolveDefaultAwsRegionalEndpointsConfig=Vde;hs.setPartitionInfo=N6;hs.toEndpointV1=D6;hs.useDefaultPartitionInfo=Hde});var yl=b(gl=>{"use strict";var Gde=(rn(),Re(la)),Kde=pl(),Wde=Ye(),Ls=(rr(),Re(zn)),q6=void 0;function Xde(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Qde(e){let r=Gde.normalizeProvider(e.userAgentAppId??q6),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let n=await r();if(!Xde(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var Yde=/\d{12}\.ddb/;async function Jde(e,r,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Ls.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){let o=await r.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Ls.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Ls.setFeature(e,"RETRY_MODE_STANDARD","E"):Ls.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(Yde)&&Ls.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":Ls.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Ls.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Ls.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Ls.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,c]of Object.entries(o.$source??{}))Ls.setFeature(e,i,c)}}var M6="user-agent",qv="x-amz-user-agent",L6=" ",Uv="/",Zde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,eue=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,F6="-",tue=1024;function rue(e){let r="";for(let t in e){let n=e[t];if(r.length+n.length+1<=tue){r.length?r+=","+n:r+=n;continue}break}return r}var U6=e=>(r,t)=>async n=>{let{request:s}=n;if(!Wde.HttpRequest.isInstance(s))return r(n);let{headers:o}=s,i=t?.userAgent?.map(Fg)||[],c=(await e.defaultUserAgentProvider()).map(Fg);await Jde(t,e,n);let l=t;c.push(`m/${rue(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(Fg)||[],u=await e.userAgentAppId();u&&c.push(Fg([`app/${u}`]));let f=Kde.getUserAgentPrefix(),g=(f?[f]:[]).concat([...c,...i,...d]).join(L6),p=[...c.filter(y=>y.startsWith("aws-sdk-")),...d].join(L6);return e.runtime!=="browser"?(p&&(o[qv]=o[qv]?`${o[M6]} ${p}`:p),o[M6]=g):o[qv]=g,r({...n,request:s})},Fg=e=>{let r=e[0].split(Uv).map(i=>i.replace(Zde,F6)).join(Uv),t=e[1]?.replace(eue,F6),n=r.indexOf(Uv),s=r.substring(0,n),o=r.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(i=>i&&i.length>0).reduce((i,c,l)=>{switch(l){case 0:return c;case 1:return`${i}/${c}`;default:return`${i}#${c}`}},"")},z6={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},nue=e=>({applyToStack:r=>{r.add(U6(e),z6)}});gl.DEFAULT_UA_APP_ID=q6;gl.getUserAgentMiddlewareOptions=z6;gl.getUserAgentPlugin=nue;gl.resolveUserAgentConfig=Qde;gl.userAgentMiddleware=U6});var jn=b(Rr=>{"use strict";var pi=Pg(),qg=Lr(),sue=ba(),$6="AWS_USE_DUALSTACK_ENDPOINT",V6="use_dualstack_endpoint",oue=!1,iue={environmentVariableSelector:e=>pi.booleanSelector(e,$6,pi.SelectorType.ENV),configFileSelector:e=>pi.booleanSelector(e,V6,pi.SelectorType.CONFIG),default:!1},G6="AWS_USE_FIPS_ENDPOINT",K6="use_fips_endpoint",aue=!1,cue={environmentVariableSelector:e=>pi.booleanSelector(e,G6,pi.SelectorType.ENV),configFileSelector:e=>pi.booleanSelector(e,K6,pi.SelectorType.CONFIG),default:!1},lue=e=>{let{tls:r,endpoint:t,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:r??!0,endpoint:qg.normalizeProvider(typeof t=="string"?n(t):t),isCustomEndpoint:!0,useDualstackEndpoint:qg.normalizeProvider(s??!1)})},due=async e=>{let{tls:r=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${i}`)},uue=e=>{let r=qg.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?qg.normalizeProvider(typeof t=="string"?s(t):t):()=>due({...e,useDualstackEndpoint:r,useFipsEndpoint:n}),isCustomEndpoint:!!t,useDualstackEndpoint:r})},W6="AWS_REGION",X6="region",fue={environmentVariableSelector:e=>e[W6],configFileSelector:e=>e[X6],default:()=>{throw new Error("Region is missing")}},mue={preferredFile:"credentials"},j6=new Set,hue=(e,r=sue.isValidHostLabel)=>{if(!j6.has(e)&&!r(e))throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);j6.add(e)},Q6=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),pue=e=>Q6(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,gue=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof r=="function"?await r():r,s=pue(n);return hue(s),s},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return Q6(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},H6=(e=[],{useFipsEndpoint:r,useDualstackEndpoint:t})=>e.find(({tags:n})=>r===n.includes("fips")&&t===n.includes("dualstack"))?.hostname,yue=(e,{regionHostname:r,partitionHostname:t})=>r||(t?t.replace("{region}",e):void 0),Sue=(e,{partitionHash:r})=>Object.keys(r||{}).find(t=>r[t].regions.includes(e))??"aws",bue=(e,{signingRegion:r,regionRegex:t,useFipsEndpoint:n})=>{if(r)return r;if(n){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},xue=(e,{useFipsEndpoint:r=!1,useDualstackEndpoint:t=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=Sue(e,{partitionHash:o}),c=e in s?e:o[i]?.endpoint??e,l={useFipsEndpoint:r,useDualstackEndpoint:t},d=H6(s[c]?.variants,l),u=H6(o[i]?.variants,l),f=yue(c,{regionHostname:d,partitionHostname:u});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:r,useDualstackEndpoint:t}}`);let g=bue(f,{signingRegion:s[c]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:r});return{partition:i,signingService:n,hostname:f,...g&&{signingRegion:g},...s[c]?.signingService&&{signingService:s[c].signingService}}};Rr.CONFIG_USE_DUALSTACK_ENDPOINT=V6;Rr.CONFIG_USE_FIPS_ENDPOINT=K6;Rr.DEFAULT_USE_DUALSTACK_ENDPOINT=oue;Rr.DEFAULT_USE_FIPS_ENDPOINT=aue;Rr.ENV_USE_DUALSTACK_ENDPOINT=$6;Rr.ENV_USE_FIPS_ENDPOINT=G6;Rr.NODE_REGION_CONFIG_FILE_OPTIONS=mue;Rr.NODE_REGION_CONFIG_OPTIONS=fue;Rr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=iue;Rr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=cue;Rr.REGION_ENV_NAME=W6;Rr.REGION_INI_NAME=X6;Rr.getRegionInfo=xue;Rr.resolveCustomEndpointsConfig=lue;Rr.resolveEndpointsConfig=uue;Rr.resolveRegionConfig=gue});var J6=b(Y6=>{"use strict";var Eue=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});Y6.resolveEventStreamSerdeConfig=Eue});var df=b(Ug=>{"use strict";var Cue=Ye(),Z6="content-length";function eU(e){return r=>async t=>{let n=t.request;if(Cue.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Z6)===-1)try{let i=e(s);n.headers={...n.headers,[Z6]:String(i)}}catch{}}return r({...t,request:n})}}var tU={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},_ue=e=>({applyToStack:r=>{r.add(eU(e.bodyLengthChecker),tU)}});Ug.contentLengthMiddleware=eU;Ug.contentLengthMiddlewareOptions=tU;Ug.getContentLengthPlugin=_ue});var jv=b(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.getHomeDir=void 0;var wue=require("os"),Aue=require("path"),zv={},vue=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Tue=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${Aue.sep}`}=process.env;if(e)return e;if(r)return r;if(t)return`${n}${t}`;let s=vue();return zv[s]||(zv[s]=(0,wue.homedir)()),zv[s]};zg.getHomeDir=Tue});var Hv=b(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.getSSOTokenFilepath=void 0;var kue=require("crypto"),Rue=require("path"),Iue=jv(),Pue=e=>{let t=(0,kue.createHash)("sha1").update(e).digest("hex");return(0,Rue.join)((0,Iue.getHomeDir)(),".aws","sso","cache",`${t}.json`)};jg.getSSOTokenFilepath=Pue});var rU=b(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.getSSOTokenFromFile=gi.tokenIntercept=void 0;var Oue=require("fs"),Nue=Hv(),{readFile:Bue}=Oue.promises;gi.tokenIntercept={};var Due=async e=>{if(gi.tokenIntercept[e])return gi.tokenIntercept[e];let r=(0,Nue.getSSOTokenFilepath)(e),t=await Bue(r,"utf8");return JSON.parse(t)};gi.getSSOTokenFromFile=Due});var nU=b(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.slurpFile=vn.fileIntercept=vn.filePromisesHash=void 0;var Mue=require("fs"),{readFile:Lue}=Mue.promises;vn.filePromisesHash={};vn.fileIntercept={};var Fue=(e,r)=>vn.fileIntercept[e]!==void 0?vn.fileIntercept[e]:((!vn.filePromisesHash[e]||r?.ignoreCache)&&(vn.filePromisesHash[e]=Lue(e,"utf8")),vn.filePromisesHash[e]);vn.slurpFile=Fue});var bo=b(hn=>{"use strict";var uf=jv(),sU=Hv(),$v=rU(),Hg=require("path"),$g=oo(),ff=nU(),iU="AWS_PROFILE",aU="default",que=e=>e.profile||process.env[iU]||aU,xa=".",Uue=e=>Object.entries(e).filter(([r])=>{let t=r.indexOf(xa);return t===-1?!1:Object.values($g.IniSectionType).includes(r.substring(0,t))}).reduce((r,[t,n])=>{let s=t.indexOf(xa),o=t.substring(0,s)===$g.IniSectionType.PROFILE?t.substring(s+1):t;return r[o]=n,r},{...e.default&&{default:e.default}}),zue="AWS_CONFIG_FILE",cU=()=>process.env[zue]||Hg.join(uf.getHomeDir(),".aws","config"),jue="AWS_SHARED_CREDENTIALS_FILE",Hue=()=>process.env[jue]||Hg.join(uf.getHomeDir(),".aws","credentials"),$ue=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Vue=["__proto__","profile __proto__"],Vv=e=>{let r={},t,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,n=void 0;let c=o.substring(1,o.length-1),l=$ue.exec(c);if(l){let[,d,,u]=l;Object.values($g.IniSectionType).includes(d)&&(t=[d,u].join(xa))}else t=c;if(Vue.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(t){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,d]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(d==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),r[t]=r[t]||{};let u=n?[n,l].join(xa):l;r[t][u]=d}}}}return r},oU=()=>({}),lU=async(e={})=>{let{filepath:r=Hue(),configFilepath:t=cU()}=e,n=uf.getHomeDir(),s="~/",o=r;r.startsWith(s)&&(o=Hg.join(n,r.slice(2)));let i=t;t.startsWith(s)&&(i=Hg.join(n,t.slice(2)));let c=await Promise.all([ff.slurpFile(i,{ignoreCache:e.ignoreCache}).then(Vv).then(Uue).catch(oU),ff.slurpFile(o,{ignoreCache:e.ignoreCache}).then(Vv).catch(oU)]);return{configFile:c[0],credentialsFile:c[1]}},Gue=e=>Object.entries(e).filter(([r])=>r.startsWith($g.IniSectionType.SSO_SESSION+xa)).reduce((r,[t,n])=>({...r,[t.substring(t.indexOf(xa)+1)]:n}),{}),Kue=()=>({}),Wue=async(e={})=>ff.slurpFile(e.configFilepath??cU()).then(Vv).then(Gue).catch(Kue),Xue=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r},Que=async e=>{let r=await lU(e);return Xue(r.configFile,r.credentialsFile)},Yue={getFileRecord(){return ff.fileIntercept},interceptFile(e,r){ff.fileIntercept[e]=Promise.resolve(r)},getTokenRecord(){return $v.tokenIntercept},interceptToken(e,r){$v.tokenIntercept[e]=r}};Object.defineProperty(hn,"getSSOTokenFromFile",{enumerable:!0,get:function(){return $v.getSSOTokenFromFile}});hn.CONFIG_PREFIX_SEPARATOR=xa;hn.DEFAULT_PROFILE=aU;hn.ENV_PROFILE=iU;hn.externalDataInterceptor=Yue;hn.getProfileName=que;hn.loadSharedConfigFiles=lU;hn.loadSsoSessionData=Wue;hn.parseKnownFiles=Que;Object.keys(uf).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(hn,e)&&Object.defineProperty(hn,e,{enumerable:!0,get:function(){return uf[e]}})});Object.keys(sU).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(hn,e)&&Object.defineProperty(hn,e,{enumerable:!0,get:function(){return sU[e]}})})});var xo=b(fU=>{"use strict";var mf=nn(),dU=bo();function uU(e){try{let r=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return e}}var Jue=(e,r)=>async()=>{try{let t=e(process.env,r);if(t===void 0)throw new Error;return t}catch(t){throw new mf.CredentialsProviderError(t.message||`Not found in ENV: ${uU(e.toString())}`,{logger:r?.logger})}},Zue=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=dU.getProfileName(t),{configFile:s,credentialsFile:o}=await dU.loadSharedConfigFiles(t),i=o[n]||{},c=s[n]||{},l=r==="config"?{...i,...c}:{...c,...i};try{let u=e(l,r==="config"?s:o);if(u===void 0)throw new Error;return u}catch(d){throw new mf.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${uU(e.toString())}`,{logger:t.logger})}},efe=e=>typeof e=="function",tfe=e=>efe(e)?async()=>await e():mf.fromStatic(e),rfe=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return mf.memoize(mf.chain(Jue(e,i),Zue(r,n),tfe(t)))};fU.loadConfig=rfe});var gU=b(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.getEndpointUrlConfig=void 0;var mU=bo(),hU="AWS_ENDPOINT_URL",pU="endpoint_url",nfe=e=>({environmentVariableSelector:r=>{let t=e.split(" ").map(o=>o.toUpperCase()),n=r[[hU,...t].join("_")];if(n)return n;let s=r[hU];if(s)return s},configFileSelector:(r,t)=>{if(t&&r.services){let s=t[["services",r.services].join(mU.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),i=s[[o.join("_"),pU].join(mU.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=r[pU];if(n)return n},default:void 0});Vg.getEndpointUrlConfig=nfe});var yU=b(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.getEndpointFromConfig=void 0;var sfe=xo(),ofe=gU(),ife=async e=>(0,sfe.loadConfig)((0,ofe.getEndpointUrlConfig)(e??""))();Gg.getEndpointFromConfig=ife});var Fs=b(Eo=>{"use strict";var bU=yU(),SU=hi(),afe=(rn(),Re(la)),Kg=Lr(),cfe=ei(),lfe=async e=>{let r=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),hfe(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!mfe(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},dfe=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ufe=/(\d+\.){3}\d+/,ffe=/\.\./,mfe=e=>dfe.test(e)&&!ufe.test(e)&&!ffe.test(e),hfe=e=>{let[r,t,n,,,s]=e.split(":"),o=r==="arn"&&e.split(":").length>=6,i=!!(o&&t&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},pfe=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="credentialScope"||r==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||r==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||r==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:c,path:l}=s;return`${o}//${i}${c?":"+c:""}${l}`}}return s}:n},Gv=e=>typeof e=="object"?"url"in e?SU.parseUrl(e.url):e:SU.parseUrl(e),xU=async(e,r,t,n)=>{if(!t.isCustomEndpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await bU.getEndpointFromConfig(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(Gv(i)),t.isCustomEndpoint=!0)}let s=await EU(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},EU=async(e,r,t)=>{let n={},s=r?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await pfe(i.name,o,t)();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await lfe(n),n},CU=({config:e,instructions:r})=>(t,n)=>async s=>{e.isCustomEndpoint&&afe.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await xU(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=Kg.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...s})},_U={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cfe.serializerMiddlewareOption.name},gfe=(e,r)=>({applyToStack:t=>{t.addRelativeTo(CU({config:e,instructions:r}),_U)}}),yfe=e=>{let r=e.tls??!0,{endpoint:t,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=t!=null?async()=>Gv(await Kg.normalizeProvider(t)()):void 0,c=Object.assign(e,{endpoint:o,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:Kg.normalizeProvider(n??!1),useFipsEndpoint:Kg.normalizeProvider(s??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=bU.getEndpointFromConfig(e.serviceId)),l),c},Sfe=e=>{let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Eo.endpointMiddleware=CU;Eo.endpointMiddlewareOptions=_U;Eo.getEndpointFromInstructions=xU;Eo.getEndpointPlugin=gfe;Eo.resolveEndpointConfig=yfe;Eo.resolveEndpointRequiredConfig=Sfe;Eo.resolveParams=EU;Eo.toEndpointV1=Gv});var Wv=b(yi=>{"use strict";var bfe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],xfe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Efe=["TimeoutError","RequestTimeout","RequestTimeoutException"],Cfe=[500,502,503,504],_fe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],wfe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],wU=e=>e?.$retryable!==void 0,Afe=e=>bfe.includes(e.name),AU=e=>e.$metadata?.clockSkewCorrected,vU=e=>{let r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?r.has(e.message):!1},vfe=e=>e.$metadata?.httpStatusCode===429||xfe.includes(e.name)||e.$retryable?.throttling==!0,Kv=(e,r=0)=>wU(e)||AU(e)||Efe.includes(e.name)||_fe.includes(e?.code||"")||wfe.includes(e?.code||"")||Cfe.includes(e.$metadata?.httpStatusCode||0)||vU(e)||e.cause!==void 0&&r<=10&&Kv(e.cause,r+1),Tfe=e=>{if(e.$metadata?.httpStatusCode!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Kv(e)}return!1};yi.isBrowserNetworkError=vU;yi.isClockSkewCorrectedError=AU;yi.isClockSkewError=Afe;yi.isRetryableByTrait=wU;yi.isServerError=Tfe;yi.isThrottlingError=vfe;yi.isTransientError=Kv});var Sl=b(Ht=>{"use strict";var kfe=Wv();Ht.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ht.RETRY_MODES||(Ht.RETRY_MODES={}));var Xv=3,Rfe=Ht.RETRY_MODES.STANDARD,Wg=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(r){this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),kfe.isThrottlingError(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}},hf=100,Zv=20*1e3,kU=500,Qv=500,RU=5,IU=10,PU=1,Ife="amz-sdk-invocation-id",Pfe="amz-sdk-request",Ofe=()=>{let e=hf;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Zv,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},TU=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(Zv,e),getRetryCost:()=>t}),pf=class{maxAttempts;mode=Ht.RETRY_MODES.STANDARD;capacity=Qv;retryBackoffStrategy=Ofe();maxAttemptsProvider;constructor(r){this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return TU({retryDelay:hf,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?kU:hf);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,TU({retryDelay:i,retryCount:r.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(Qv,this.capacity+(r.getRetryCost()??PU))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Xv}`),Xv}}shouldRetry(r,t,n){return r.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?IU:RU}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}},Yv=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ht.RETRY_MODES.ADAPTIVE;constructor(r,t){this.maxAttemptsProvider=r;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Wg,this.standardRetryStrategy=new pf(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}},Jv=class extends pf{computeNextBackoffDelay;constructor(r,t=hf){super(typeof r=="function"?r:async()=>r),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(r,t){let n=await super.refreshRetryTokenForRetry(r,t);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ht.AdaptiveRetryStrategy=Yv;Ht.ConfiguredRetryStrategy=Jv;Ht.DEFAULT_MAX_ATTEMPTS=Xv;Ht.DEFAULT_RETRY_DELAY_BASE=hf;Ht.DEFAULT_RETRY_MODE=Rfe;Ht.DefaultRateLimiter=Wg;Ht.INITIAL_RETRY_TOKENS=Qv;Ht.INVOCATION_ID_HEADER=Ife;Ht.MAXIMUM_RETRY_DELAY=Zv;Ht.NO_RETRY_INCREMENT=PU;Ht.REQUEST_HEADER=Pfe;Ht.RETRY_COST=RU;Ht.StandardRetryStrategy=pf;Ht.THROTTLING_RETRY_DELAY_BASE=kU;Ht.TIMEOUT_RETRY_COST=IU});var OU=b(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.isStreamingPayload=void 0;var Nfe=require("stream"),Bfe=e=>e?.body instanceof Nfe.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Xg.isStreamingPayload=Bfe});var Co=b(ar=>{"use strict";var Dt=Sl(),bl=Ye(),Si=Wv(),BU=Bp(),NU=Lr(),Dfe=Me(),Mfe=OU(),Lfe=(e,r)=>{let t=e,n=Dt.NO_RETRY_INCREMENT,s=Dt.RETRY_COST,o=Dt.TIMEOUT_RETRY_COST,i=e,c=f=>f.name==="TimeoutError"?o:s,l=f=>c(f)<=i;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:f=>{if(!l(f))throw new Error("No retry token available");let g=c(f);return i-=g,g},releaseRetryTokens:f=>{i+=f??n,i=Math.min(i,t)}})},DU=(e,r)=>Math.floor(Math.min(Dt.MAXIMUM_RETRY_DELAY,Math.random()*2**r*e)),MU=e=>e?Si.isRetryableByTrait(e)||Si.isClockSkewError(e)||Si.isThrottlingError(e)||Si.isTransientError(e):!1,LU=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Qg=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Dt.RETRY_MODES.STANDARD;constructor(r,t){this.maxAttemptsProvider=r,this.retryDecider=t?.retryDecider??MU,this.delayDecider=t?.delayDecider??DU,this.retryQuota=t?.retryQuota??Lfe(Dt.INITIAL_RETRY_TOKENS)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=Dt.DEFAULT_MAX_ATTEMPTS}return r}async retry(r,t,n){let s,o=0,i=0,c=await this.getMaxAttempts(),{request:l}=t;for(bl.HttpRequest.isInstance(l)&&(l.headers[Dt.INVOCATION_ID_HEADER]=BU.v4());;)try{bl.HttpRequest.isInstance(l)&&(l.headers[Dt.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await r(t);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),u.$metadata.attempts=o+1,u.$metadata.totalRetryDelay=i,{response:d,output:u}}catch(d){let u=LU(d);if(o++,this.shouldRetry(u,o,c)){s=this.retryQuota.retrieveRetryTokens(u);let f=this.delayDecider(Si.isThrottlingError(u)?Dt.THROTTLING_RETRY_DELAY_BASE:Dt.DEFAULT_RETRY_DELAY_BASE,o),g=Ffe(u.$response),p=Math.max(g||0,f);i+=p,await new Promise(y=>setTimeout(y,p));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=o,u.$metadata.totalRetryDelay=i,u}}},Ffe=e=>{if(!bl.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3},eT=class extends Qg{rateLimiter;constructor(r,t){let{rateLimiter:n,...s}=t??{};super(r,s),this.rateLimiter=n??new Dt.DefaultRateLimiter,this.mode=Dt.RETRY_MODES.ADAPTIVE}async retry(r,t){return super.retry(r,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},tT="AWS_MAX_ATTEMPTS",rT="max_attempts",qfe={environmentVariableSelector:e=>{let r=e[tT];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${tT} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[rT];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${rT} mast be a number, got "${r}"`);return t},default:Dt.DEFAULT_MAX_ATTEMPTS},Ufe=e=>{let{retryStrategy:r,retryMode:t,maxAttempts:n}=e,s=NU.normalizeProvider(n??Dt.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>r||(await NU.normalizeProvider(t)()===Dt.RETRY_MODES.ADAPTIVE?new Dt.AdaptiveRetryStrategy(s):new Dt.StandardRetryStrategy(s))})},FU="AWS_RETRY_MODE",qU="retry_mode",zfe={environmentVariableSelector:e=>e[FU],configFileSelector:e=>e[qU],default:Dt.DEFAULT_RETRY_MODE},UU=()=>e=>async r=>{let{request:t}=r;return bl.HttpRequest.isInstance(t)&&(delete t.headers[Dt.INVOCATION_ID_HEADER],delete t.headers[Dt.REQUEST_HEADER]),e(r)},zU={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},jfe=e=>({applyToStack:r=>{r.addRelativeTo(UU(),zU)}}),jU=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(Hfe(s)){s=s;let i=await s.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0,{request:u}=n,f=bl.HttpRequest.isInstance(u);for(f&&(u.headers[Dt.INVOCATION_ID_HEADER]=BU.v4());;)try{f&&(u.headers[Dt.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:g,output:p}=await r(n);return s.recordSuccess(i),p.$metadata.attempts=l+1,p.$metadata.totalRetryDelay=d,{response:g,output:p}}catch(g){let p=$fe(g);if(c=LU(g),f&&Mfe.isStreamingPayload(u))throw(t.logger instanceof Dfe.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{i=await s.refreshRetryTokenForRetry(i,p)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=i.getRetryCount();let y=i.getRetryDelay();d+=y,await new Promise(A=>setTimeout(A,y))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},Hfe=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",$fe=e=>{let r={error:e,errorType:Vfe(e)},t=$U(e.$response);return t&&(r.retryAfterHint=t),r},Vfe=e=>Si.isThrottlingError(e)?"THROTTLING":Si.isTransientError(e)?"TRANSIENT":Si.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",HU={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Gfe=e=>({applyToStack:r=>{r.add(jU(e),HU)}}),$U=e=>{if(!bl.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};ar.AdaptiveRetryStrategy=eT;ar.CONFIG_MAX_ATTEMPTS=rT;ar.CONFIG_RETRY_MODE=qU;ar.ENV_MAX_ATTEMPTS=tT;ar.ENV_RETRY_MODE=FU;ar.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=qfe;ar.NODE_RETRY_MODE_CONFIG_OPTIONS=zfe;ar.StandardRetryStrategy=Qg;ar.defaultDelayDecider=DU;ar.defaultRetryDecider=MU;ar.getOmitRetryHeadersPlugin=jfe;ar.getRetryAfterHint=$U;ar.getRetryPlugin=Gfe;ar.omitRetryHeadersMiddleware=UU;ar.omitRetryHeadersMiddlewareOptions=zU;ar.resolveRetryConfig=Ufe;ar.retryMiddleware=jU;ar.retryMiddlewareOptions=HU});var Yg=b(sT=>{"use strict";var Kfe=Mg(),VU=Wp(),gf={CrtSignerV4:null},nT=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof gf.CrtSignerV4=="function"?"crt":typeof VU.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(r){this.sigv4Signer=new Kfe.SignatureV4S3Express(r),this.signerOptions=r}async sign(r,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(r,t):this.sigv4Signer.sign(r,t)}async signWithCredentials(r,t,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),o=gf.CrtSignerV4;if(o&&s instanceof o)return s.signWithCredentials(r,t,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(r,t,n)}async presign(r,t={}){if(t.signingRegion==="*"){let n=this.getSigv4aSigner(),s=gf.CrtSignerV4;if(s&&n instanceof s)return n.presign(r,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(r,t)}async presignWithCredentials(r,t,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(r,t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let r=gf.CrtSignerV4,t=VU.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!r&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}};sT.SignatureV4MultiRegion=nT;sT.signatureV4CrtContainer=gf});var bj=b(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.ruleSet=void 0;var kT="required",S="type",D="rules",_="conditions",I="fn",P="argv",ce="ref",ve="assign",te="url",re="properties",Ca="backend",zr="authSchemes",br="disableDoubleEncoding",xr="signingName",on="signingRegion",ne="headers",RT="signingRegionSet",Wfe=6,Xfe=!1,qs=!0,Tn="isSet",Yt="booleanEquals",Z="error",ry="aws.partition",We="stringEquals",Mt="getAttr",Qt="name",mt="substring",GU="bucketSuffix",IT="parseURL",V="endpoint",M="tree",ny="aws.isVirtualHostableS3Bucket",sy="{url#scheme}://{Bucket}.{url#authority}{url#path}",js="not",KU="accessPointSuffix",ty="{url#scheme}://{url#authority}{url#path}",nj="hardwareType",sj="regionPrefix",WU="bucketAliasSuffix",vT="outpostId",_a="isValidHostLabel",PT="sigv4a",xf="s3-outposts",wl="s3",oj="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",ij="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",XU="https://{Bucket}.s3.{partitionResult#dnsSuffix}",aj="aws.parseArn",cj="bucketArn",lj="arnType",oy="",OT="s3-object-lambda",dj="accesspoint",NT="accessPointName",QU="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",YU="mrapPartition",JU="outpostType",ZU="arnPrefix",uj="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",ez="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",tz="https://s3.{partitionResult#dnsSuffix}",xl={[kT]:!1,[S]:"string"},El={[kT]:!0,default:!1,[S]:"boolean"},yf={[kT]:!1,[S]:"boolean"},$n={[I]:Yt,[P]:[{[ce]:"Accelerate"},!0]},_t={[I]:Yt,[P]:[{[ce]:"UseFIPS"},!0]},ft={[I]:Yt,[P]:[{[ce]:"UseDualStack"},!0]},Xt={[I]:Tn,[P]:[{[ce]:"Endpoint"}]},fj={[I]:ry,[P]:[{[ce]:"Region"}],[ve]:"partitionResult"},rz={[I]:We,[P]:[{[I]:Mt,[P]:[{[ce]:"partitionResult"},Qt]},"aws-cn"]},bf={[I]:Tn,[P]:[{[ce]:"Bucket"}]},Ge={[ce]:"Bucket"},nz={[_]:[ft],[Z]:"S3Express does not support Dual-stack.",[S]:Z},sz={[_]:[$n],[Z]:"S3Express does not support S3 Accelerate.",[S]:Z},oz={[_]:[Xt,{[I]:IT,[P]:[{[ce]:"Endpoint"}],[ve]:"url"}],[D]:[{[_]:[{[I]:Tn,[P]:[{[ce]:"DisableS3ExpressSessionAuth"}]},{[I]:Yt,[P]:[{[ce]:"DisableS3ExpressSessionAuth"},!0]}],[D]:[{[_]:[{[I]:Yt,[P]:[{[I]:Mt,[P]:[{[ce]:"url"},"isIp"]},!0]}],[D]:[{[_]:[{[I]:"uriEncode",[P]:[Ge],[ve]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V}],[S]:M}],[S]:M},{[_]:[{[I]:ny,[P]:[Ge,!1]}],[D]:[{[V]:{[te]:sy,[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V}],[S]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[S]:Z}],[S]:M},{[_]:[{[I]:Yt,[P]:[{[I]:Mt,[P]:[{[ce]:"url"},"isIp"]},!0]}],[D]:[{[_]:[{[I]:"uriEncode",[P]:[Ge],[ve]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4-s3express",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V}],[S]:M}],[S]:M},{[_]:[{[I]:ny,[P]:[Ge,!1]}],[D]:[{[V]:{[te]:sy,[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4-s3express",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V}],[S]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[S]:Z}],[S]:M},sn={[I]:IT,[P]:[{[ce]:"Endpoint"}],[ve]:"url"},oT={[I]:Yt,[P]:[{[I]:Mt,[P]:[{[ce]:"url"},"isIp"]},!0]},mj={[ce]:"url"},hj={[I]:"uriEncode",[P]:[Ge],[ve]:"uri_encoded_bucket"},Ea={[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:"s3express",[on]:"{Region}"}]},Ce={},pj={[I]:ny,[P]:[Ge,!1]},iz={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[S]:Z},az={[I]:Tn,[P]:[{[ce]:"UseS3ExpressControlEndpoint"}]},cz={[I]:Yt,[P]:[{[ce]:"UseS3ExpressControlEndpoint"},!0]},_e={[I]:js,[P]:[Xt]},Jg={[Z]:"Unrecognized S3Express bucket name format.",[S]:Z},lz={[I]:js,[P]:[bf]},dz={[ce]:nj},uz={[_]:[_e],[Z]:"Expected a endpoint to be specified but no endpoint was found",[S]:Z},Zg={[zr]:[{[br]:!0,[Qt]:PT,[xr]:xf,[RT]:["*"]},{[br]:!0,[Qt]:"sigv4",[xr]:xf,[on]:"{Region}"}]},iT={[I]:Yt,[P]:[{[ce]:"ForcePathStyle"},!1]},Qfe={[ce]:"ForcePathStyle"},nr={[I]:Yt,[P]:[{[ce]:"Accelerate"},!1]},cr={[I]:We,[P]:[{[ce]:"Region"},"aws-global"]},gr={[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:wl,[on]:"us-east-1"}]},He={[I]:js,[P]:[cr]},yr={[I]:Yt,[P]:[{[ce]:"UseGlobalEndpoint"},!0]},fz={[te]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:{[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:wl,[on]:"{Region}"}]},[ne]:{}},sr={[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:wl,[on]:"{Region}"}]},Sr={[I]:Yt,[P]:[{[ce]:"UseGlobalEndpoint"},!1]},Ue={[I]:Yt,[P]:[{[ce]:"UseDualStack"},!1]},mz={[te]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},Be={[I]:Yt,[P]:[{[ce]:"UseFIPS"},!1]},hz={[te]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},pz={[te]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},aT={[I]:Yt,[P]:[{[I]:Mt,[P]:[mj,"isIp"]},!1]},cT={[te]:oj,[re]:sr,[ne]:{}},TT={[te]:sy,[re]:sr,[ne]:{}},gz={[V]:TT,[S]:V},lT={[te]:ij,[re]:sr,[ne]:{}},yz={[te]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},ey={[Z]:"Invalid region: region was not a valid DNS name.",[S]:Z},pn={[ce]:cj},gj={[ce]:lj},dT={[I]:Mt,[P]:[pn,"service"]},BT={[ce]:NT},Sz={[_]:[ft],[Z]:"S3 Object Lambda does not support Dual-stack",[S]:Z},bz={[_]:[$n],[Z]:"S3 Object Lambda does not support S3 Accelerate",[S]:Z},xz={[_]:[{[I]:Tn,[P]:[{[ce]:"DisableAccessPoints"}]},{[I]:Yt,[P]:[{[ce]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[S]:Z},uT={[_]:[{[I]:Tn,[P]:[{[ce]:"UseArnRegion"}]},{[I]:Yt,[P]:[{[ce]:"UseArnRegion"},!1]},{[I]:js,[P]:[{[I]:We,[P]:[{[I]:Mt,[P]:[pn,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[S]:Z},yj={[I]:Mt,[P]:[{[ce]:"bucketPartition"},Qt]},Sj={[I]:Mt,[P]:[pn,"accountId"]},fT={[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:OT,[on]:"{bucketArn#region}"}]},Ez={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[S]:Z},mT={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[S]:Z},hT={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[S]:Z},pT={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[S]:Z},Cz={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[S]:Z},_z={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[S]:Z},Sf={[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:wl,[on]:"{bucketArn#region}"}]},wz={[zr]:[{[br]:!0,[Qt]:PT,[xr]:xf,[RT]:["*"]},{[br]:!0,[Qt]:"sigv4",[xr]:xf,[on]:"{bucketArn#region}"}]},Az={[I]:aj,[P]:[Ge]},vz={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:{}},Tz={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:{}},kz={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:{}},gT={[te]:uj,[re]:sr,[ne]:{}},Rz={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:{}},Iz={[ce]:"UseObjectLambdaEndpoint"},yT={[zr]:[{[br]:!0,[Qt]:"sigv4",[xr]:OT,[on]:"{Region}"}]},Pz={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},Oz={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},Nz={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},ST={[te]:ty,[re]:sr,[ne]:{}},Bz={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[re]:sr,[ne]:{}},bT=[{[ce]:"Region"}],Yfe=[{[ce]:"Endpoint"}],Jfe=[Ge],Dz=[ft],xT=[$n],Cl=[Xt,sn],Mz=[{[I]:Tn,[P]:[{[ce]:"DisableS3ExpressSessionAuth"}]},{[I]:Yt,[P]:[{[ce]:"DisableS3ExpressSessionAuth"},!0]}],Zfe=[hj],Lz=[pj],Hn=[fj],_l=[_t],Fz=[{[I]:mt,[P]:[Ge,6,14,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,14,16,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Us=[{[_]:[_t],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ea,[ne]:{}},[S]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ea,[ne]:{}},[S]:V}],qz=[{[I]:mt,[P]:[Ge,6,15,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,15,17,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Uz=[{[I]:mt,[P]:[Ge,6,19,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,19,21,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],zz=[{[I]:mt,[P]:[Ge,6,20,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,20,22,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],jz=[{[I]:mt,[P]:[Ge,6,26,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,26,28,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],zs=[{[_]:[_t],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4-s3express",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[Ca]:"S3Express",[zr]:[{[br]:!0,[Qt]:"sigv4-s3express",[xr]:"s3express",[on]:"{Region}"}]},[ne]:{}},[S]:V}],Hz=[Ge,0,7,!0],$z=[{[I]:mt,[P]:[Ge,7,15,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,15,17,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Vz=[{[I]:mt,[P]:[Ge,7,16,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,16,18,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Gz=[{[I]:mt,[P]:[Ge,7,20,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,20,22,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Kz=[{[I]:mt,[P]:[Ge,7,21,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,21,23,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],Wz=[{[I]:mt,[P]:[Ge,7,27,!0],[ve]:"s3expressAvailabilityZoneId"},{[I]:mt,[P]:[Ge,27,29,!0],[ve]:"s3expressAvailabilityZoneDelim"},{[I]:We,[P]:[{[ce]:"s3expressAvailabilityZoneDelim"},"--"]}],eme=[bf],Xz=[{[I]:_a,[P]:[{[ce]:vT},!1]}],Qz=[{[I]:We,[P]:[{[ce]:sj},"beta"]}],tme=["*"],Yz=[{[I]:_a,[P]:[{[ce]:"Region"},!1]}],bi=[{[I]:We,[P]:[{[ce]:"Region"},"us-east-1"]}],ET=[{[I]:We,[P]:[gj,dj]}],Jz=[{[I]:Mt,[P]:[pn,"resourceId[1]"],[ve]:NT},{[I]:js,[P]:[{[I]:We,[P]:[BT,oy]}]}],rme=[pn,"resourceId[1]"],CT=[{[I]:js,[P]:[{[I]:We,[P]:[{[I]:Mt,[P]:[pn,"region"]},oy]}]}],Zz=[{[I]:js,[P]:[{[I]:Tn,[P]:[{[I]:Mt,[P]:[pn,"resourceId[2]"]}]}]}],nme=[pn,"resourceId[2]"],_T=[{[I]:ry,[P]:[{[I]:Mt,[P]:[pn,"region"]}],[ve]:"bucketPartition"}],ej=[{[I]:We,[P]:[yj,{[I]:Mt,[P]:[{[ce]:"partitionResult"},Qt]}]}],wT=[{[I]:_a,[P]:[{[I]:Mt,[P]:[pn,"region"]},!0]}],AT=[{[I]:_a,[P]:[Sj,!1]}],tj=[{[I]:_a,[P]:[BT,!1]}],rj=[{[I]:_a,[P]:[{[ce]:"Region"},!0]}],sme={version:"1.0",parameters:{Bucket:xl,Region:xl,UseFIPS:El,UseDualStack:El,Endpoint:xl,ForcePathStyle:El,Accelerate:El,UseGlobalEndpoint:El,UseObjectLambdaEndpoint:yf,Key:xl,Prefix:xl,CopySource:xl,DisableAccessPoints:yf,DisableMultiRegionAccessPoints:El,UseArnRegion:yf,UseS3ExpressControlEndpoint:yf,DisableS3ExpressSessionAuth:yf},[D]:[{[_]:[{[I]:Tn,[P]:bT}],[D]:[{[_]:[$n,_t],error:"Accelerate cannot be used with FIPS",[S]:Z},{[_]:[ft,Xt],error:"Cannot set dual-stack in combination with a custom endpoint.",[S]:Z},{[_]:[Xt,_t],error:"A custom endpoint cannot be combined with FIPS",[S]:Z},{[_]:[Xt,$n],error:"A custom endpoint cannot be combined with S3 Accelerate",[S]:Z},{[_]:[_t,fj,rz],error:"Partition does not support FIPS",[S]:Z},{[_]:[bf,{[I]:mt,[P]:[Ge,0,Wfe,qs],[ve]:GU},{[I]:We,[P]:[{[ce]:GU},"--x-s3"]}],[D]:[nz,sz,oz,{[_]:[az,cz],[D]:[{[_]:Hn,[D]:[{[_]:[hj,_e],[D]:[{[_]:_l,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ea,[ne]:Ce},[S]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ea,[ne]:Ce},[S]:V}],[S]:M}],[S]:M}],[S]:M},{[_]:Lz,[D]:[{[_]:Hn,[D]:[{[_]:Mz,[D]:[{[_]:Fz,[D]:Us,[S]:M},{[_]:qz,[D]:Us,[S]:M},{[_]:Uz,[D]:Us,[S]:M},{[_]:zz,[D]:Us,[S]:M},{[_]:jz,[D]:Us,[S]:M},Jg],[S]:M},{[_]:Fz,[D]:zs,[S]:M},{[_]:qz,[D]:zs,[S]:M},{[_]:Uz,[D]:zs,[S]:M},{[_]:zz,[D]:zs,[S]:M},{[_]:jz,[D]:zs,[S]:M},Jg],[S]:M}],[S]:M},iz],[S]:M},{[_]:[bf,{[I]:mt,[P]:Hz,[ve]:KU},{[I]:We,[P]:[{[ce]:KU},"--xa-s3"]}],[D]:[nz,sz,oz,{[_]:Lz,[D]:[{[_]:Hn,[D]:[{[_]:Mz,[D]:[{[_]:$z,[D]:Us,[S]:M},{[_]:Vz,[D]:Us,[S]:M},{[_]:Gz,[D]:Us,[S]:M},{[_]:Kz,[D]:Us,[S]:M},{[_]:Wz,[D]:Us,[S]:M},Jg],[S]:M},{[_]:$z,[D]:zs,[S]:M},{[_]:Vz,[D]:zs,[S]:M},{[_]:Gz,[D]:zs,[S]:M},{[_]:Kz,[D]:zs,[S]:M},{[_]:Wz,[D]:zs,[S]:M},Jg],[S]:M}],[S]:M},iz],[S]:M},{[_]:[lz,az,cz],[D]:[{[_]:Hn,[D]:[{[_]:Cl,endpoint:{[te]:ty,[re]:Ea,[ne]:Ce},[S]:V},{[_]:_l,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Ea,[ne]:Ce},[S]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[re]:Ea,[ne]:Ce},[S]:V}],[S]:M}],[S]:M},{[_]:[bf,{[I]:mt,[P]:[Ge,49,50,qs],[ve]:nj},{[I]:mt,[P]:[Ge,8,12,qs],[ve]:sj},{[I]:mt,[P]:Hz,[ve]:WU},{[I]:mt,[P]:[Ge,32,49,qs],[ve]:vT},{[I]:ry,[P]:bT,[ve]:"regionPartition"},{[I]:We,[P]:[{[ce]:WU},"--op-s3"]}],[D]:[{[_]:Xz,[D]:[{[_]:[{[I]:We,[P]:[dz,"e"]}],[D]:[{[_]:Qz,[D]:[uz,{[_]:Cl,endpoint:{[te]:"https://{Bucket}.ec2.{url#authority}",[re]:Zg,[ne]:Ce},[S]:V}],[S]:M},{endpoint:{[te]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Zg,[ne]:Ce},[S]:V}],[S]:M},{[_]:[{[I]:We,[P]:[dz,"o"]}],[D]:[{[_]:Qz,[D]:[uz,{[_]:Cl,endpoint:{[te]:"https://{Bucket}.op-{outpostId}.{url#authority}",[re]:Zg,[ne]:Ce},[S]:V}],[S]:M},{endpoint:{[te]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Zg,[ne]:Ce},[S]:V}],[S]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[S]:Z}],[S]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[S]:Z}],[S]:M},{[_]:eme,[D]:[{[_]:[Xt,{[I]:js,[P]:[{[I]:Tn,[P]:[{[I]:IT,[P]:Yfe}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[S]:Z},{[_]:[iT,pj],[D]:[{[_]:Hn,[D]:[{[_]:Yz,[D]:[{[_]:[$n,rz],error:"S3 Accelerate cannot be used in this region",[S]:Z},{[_]:[ft,_t,nr,_e,cr],endpoint:{[te]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[ft,_t,nr,_e,He,yr],[D]:[{endpoint:fz,[S]:V}],[S]:M},{[_]:[ft,_t,nr,_e,He,Sr],endpoint:fz,[S]:V},{[_]:[Ue,_t,nr,_e,cr],endpoint:{[te]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,_t,nr,_e,He,yr],[D]:[{endpoint:mz,[S]:V}],[S]:M},{[_]:[Ue,_t,nr,_e,He,Sr],endpoint:mz,[S]:V},{[_]:[ft,Be,$n,_e,cr],endpoint:{[te]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[ft,Be,$n,_e,He,yr],[D]:[{endpoint:hz,[S]:V}],[S]:M},{[_]:[ft,Be,$n,_e,He,Sr],endpoint:hz,[S]:V},{[_]:[ft,Be,nr,_e,cr],endpoint:{[te]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[ft,Be,nr,_e,He,yr],[D]:[{endpoint:pz,[S]:V}],[S]:M},{[_]:[ft,Be,nr,_e,He,Sr],endpoint:pz,[S]:V},{[_]:[Ue,Be,nr,Xt,sn,oT,cr],endpoint:{[te]:oj,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,Be,nr,Xt,sn,aT,cr],endpoint:{[te]:sy,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,Be,nr,Xt,sn,oT,He,yr],[D]:[{[_]:bi,endpoint:cT,[S]:V},{endpoint:cT,[S]:V}],[S]:M},{[_]:[Ue,Be,nr,Xt,sn,aT,He,yr],[D]:[{[_]:bi,endpoint:TT,[S]:V},gz],[S]:M},{[_]:[Ue,Be,nr,Xt,sn,oT,He,Sr],endpoint:cT,[S]:V},{[_]:[Ue,Be,nr,Xt,sn,aT,He,Sr],endpoint:TT,[S]:V},{[_]:[Ue,Be,$n,_e,cr],endpoint:{[te]:ij,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,Be,$n,_e,He,yr],[D]:[{[_]:bi,endpoint:lT,[S]:V},{endpoint:lT,[S]:V}],[S]:M},{[_]:[Ue,Be,$n,_e,He,Sr],endpoint:lT,[S]:V},{[_]:[Ue,Be,nr,_e,cr],endpoint:{[te]:XU,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,Be,nr,_e,He,yr],[D]:[{[_]:bi,endpoint:{[te]:XU,[re]:sr,[ne]:Ce},[S]:V},{endpoint:yz,[S]:V}],[S]:M},{[_]:[Ue,Be,nr,_e,He,Sr],endpoint:yz,[S]:V}],[S]:M},ey],[S]:M}],[S]:M},{[_]:[Xt,sn,{[I]:We,[P]:[{[I]:Mt,[P]:[mj,"scheme"]},"http"]},{[I]:ny,[P]:[Ge,qs]},iT,Be,Ue,nr],[D]:[{[_]:Hn,[D]:[{[_]:Yz,[D]:[gz],[S]:M},ey],[S]:M}],[S]:M},{[_]:[iT,{[I]:aj,[P]:Jfe,[ve]:cj}],[D]:[{[_]:[{[I]:Mt,[P]:[pn,"resourceId[0]"],[ve]:lj},{[I]:js,[P]:[{[I]:We,[P]:[gj,oy]}]}],[D]:[{[_]:[{[I]:We,[P]:[dT,OT]}],[D]:[{[_]:ET,[D]:[{[_]:Jz,[D]:[Sz,bz,{[_]:CT,[D]:[xz,{[_]:Zz,[D]:[uT,{[_]:_T,[D]:[{[_]:Hn,[D]:[{[_]:ej,[D]:[{[_]:wT,[D]:[{[_]:[{[I]:We,[P]:[Sj,oy]}],error:"Invalid ARN: Missing account id",[S]:Z},{[_]:AT,[D]:[{[_]:tj,[D]:[{[_]:Cl,endpoint:{[te]:QU,[re]:fT,[ne]:Ce},[S]:V},{[_]:_l,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:fT,[ne]:Ce},[S]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:fT,[ne]:Ce},[S]:V}],[S]:M},Ez],[S]:M},mT],[S]:M},hT],[S]:M},pT],[S]:M}],[S]:M}],[S]:M},Cz],[S]:M},{error:"Invalid ARN: bucket ARN is missing a region",[S]:Z}],[S]:M},_z],[S]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[S]:Z}],[S]:M},{[_]:ET,[D]:[{[_]:Jz,[D]:[{[_]:CT,[D]:[{[_]:ET,[D]:[{[_]:CT,[D]:[xz,{[_]:Zz,[D]:[uT,{[_]:_T,[D]:[{[_]:Hn,[D]:[{[_]:[{[I]:We,[P]:[yj,"{partitionResult#name}"]}],[D]:[{[_]:wT,[D]:[{[_]:[{[I]:We,[P]:[dT,wl]}],[D]:[{[_]:AT,[D]:[{[_]:tj,[D]:[{[_]:xT,error:"Access Points do not support S3 Accelerate",[S]:Z},{[_]:[_t,ft],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Sf,[ne]:Ce},[S]:V},{[_]:[_t,Ue],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Sf,[ne]:Ce},[S]:V},{[_]:[Be,ft],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Sf,[ne]:Ce},[S]:V},{[_]:[Be,Ue,Xt,sn],endpoint:{[te]:QU,[re]:Sf,[ne]:Ce},[S]:V},{[_]:[Be,Ue],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Sf,[ne]:Ce},[S]:V}],[S]:M},Ez],[S]:M},mT],[S]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[S]:Z}],[S]:M},hT],[S]:M},pT],[S]:M}],[S]:M}],[S]:M},Cz],[S]:M}],[S]:M}],[S]:M},{[_]:[{[I]:_a,[P]:[BT,qs]}],[D]:[{[_]:Dz,error:"S3 MRAP does not support dual-stack",[S]:Z},{[_]:_l,error:"S3 MRAP does not support FIPS",[S]:Z},{[_]:xT,error:"S3 MRAP does not support S3 Accelerate",[S]:Z},{[_]:[{[I]:Yt,[P]:[{[ce]:"DisableMultiRegionAccessPoints"},qs]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[S]:Z},{[_]:[{[I]:ry,[P]:bT,[ve]:YU}],[D]:[{[_]:[{[I]:We,[P]:[{[I]:Mt,[P]:[{[ce]:YU},Qt]},{[I]:Mt,[P]:[pn,"partition"]}]}],[D]:[{endpoint:{[te]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[re]:{[zr]:[{[br]:qs,name:PT,[xr]:wl,[RT]:tme}]},[ne]:Ce},[S]:V}],[S]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[S]:Z}],[S]:M}],[S]:M},{error:"Invalid Access Point Name",[S]:Z}],[S]:M},_z],[S]:M},{[_]:[{[I]:We,[P]:[dT,xf]}],[D]:[{[_]:Dz,error:"S3 Outposts does not support Dual-stack",[S]:Z},{[_]:_l,error:"S3 Outposts does not support FIPS",[S]:Z},{[_]:xT,error:"S3 Outposts does not support S3 Accelerate",[S]:Z},{[_]:[{[I]:Tn,[P]:[{[I]:Mt,[P]:[pn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[S]:Z},{[_]:[{[I]:Mt,[P]:rme,[ve]:vT}],[D]:[{[_]:Xz,[D]:[uT,{[_]:_T,[D]:[{[_]:Hn,[D]:[{[_]:ej,[D]:[{[_]:wT,[D]:[{[_]:AT,[D]:[{[_]:[{[I]:Mt,[P]:nme,[ve]:JU}],[D]:[{[_]:[{[I]:Mt,[P]:[pn,"resourceId[3]"],[ve]:NT}],[D]:[{[_]:[{[I]:We,[P]:[{[ce]:JU},dj]}],[D]:[{[_]:Cl,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[re]:wz,[ne]:Ce},[S]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:wz,[ne]:Ce},[S]:V}],[S]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[S]:Z}],[S]:M},{error:"Invalid ARN: expected an access point name",[S]:Z}],[S]:M},{error:"Invalid ARN: Expected a 4-component resource",[S]:Z}],[S]:M},mT],[S]:M},hT],[S]:M},pT],[S]:M}],[S]:M}],[S]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[S]:Z}],[S]:M},{error:"Invalid ARN: The Outpost Id was not set",[S]:Z}],[S]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[S]:Z}],[S]:M},{error:"Invalid ARN: No ARN type specified",[S]:Z}],[S]:M},{[_]:[{[I]:mt,[P]:[Ge,0,4,Xfe],[ve]:ZU},{[I]:We,[P]:[{[ce]:ZU},"arn:"]},{[I]:js,[P]:[{[I]:Tn,[P]:[Az]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[S]:Z},{[_]:[{[I]:Yt,[P]:[Qfe,qs]},Az],error:"Path-style addressing cannot be used with ARN buckets",[S]:Z},{[_]:Zfe,[D]:[{[_]:Hn,[D]:[{[_]:[nr],[D]:[{[_]:[ft,_e,_t,cr],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[ft,_e,_t,He,yr],[D]:[{endpoint:vz,[S]:V}],[S]:M},{[_]:[ft,_e,_t,He,Sr],endpoint:vz,[S]:V},{[_]:[Ue,_e,_t,cr],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,_e,_t,He,yr],[D]:[{endpoint:Tz,[S]:V}],[S]:M},{[_]:[Ue,_e,_t,He,Sr],endpoint:Tz,[S]:V},{[_]:[ft,_e,Be,cr],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[ft,_e,Be,He,yr],[D]:[{endpoint:kz,[S]:V}],[S]:M},{[_]:[ft,_e,Be,He,Sr],endpoint:kz,[S]:V},{[_]:[Ue,Xt,sn,Be,cr],endpoint:{[te]:uj,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,Xt,sn,Be,He,yr],[D]:[{[_]:bi,endpoint:gT,[S]:V},{endpoint:gT,[S]:V}],[S]:M},{[_]:[Ue,Xt,sn,Be,He,Sr],endpoint:gT,[S]:V},{[_]:[Ue,_e,Be,cr],endpoint:{[te]:ez,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Ue,_e,Be,He,yr],[D]:[{[_]:bi,endpoint:{[te]:ez,[re]:sr,[ne]:Ce},[S]:V},{endpoint:Rz,[S]:V}],[S]:M},{[_]:[Ue,_e,Be,He,Sr],endpoint:Rz,[S]:V}],[S]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[S]:Z}],[S]:M}],[S]:M}],[S]:M},{[_]:[{[I]:Tn,[P]:[Iz]},{[I]:Yt,[P]:[Iz,qs]}],[D]:[{[_]:Hn,[D]:[{[_]:rj,[D]:[Sz,bz,{[_]:Cl,endpoint:{[te]:ty,[re]:yT,[ne]:Ce},[S]:V},{[_]:_l,endpoint:{[te]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[re]:yT,[ne]:Ce},[S]:V},{endpoint:{[te]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[re]:yT,[ne]:Ce},[S]:V}],[S]:M},ey],[S]:M}],[S]:M},{[_]:[lz],[D]:[{[_]:Hn,[D]:[{[_]:rj,[D]:[{[_]:[_t,ft,_e,cr],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[_t,ft,_e,He,yr],[D]:[{endpoint:Pz,[S]:V}],[S]:M},{[_]:[_t,ft,_e,He,Sr],endpoint:Pz,[S]:V},{[_]:[_t,Ue,_e,cr],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[_t,Ue,_e,He,yr],[D]:[{endpoint:Oz,[S]:V}],[S]:M},{[_]:[_t,Ue,_e,He,Sr],endpoint:Oz,[S]:V},{[_]:[Be,ft,_e,cr],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:gr,[ne]:Ce},[S]:V},{[_]:[Be,ft,_e,He,yr],[D]:[{endpoint:Nz,[S]:V}],[S]:M},{[_]:[Be,ft,_e,He,Sr],endpoint:Nz,[S]:V},{[_]:[Be,Ue,Xt,sn,cr],endpoint:{[te]:ty,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Be,Ue,Xt,sn,He,yr],[D]:[{[_]:bi,endpoint:ST,[S]:V},{endpoint:ST,[S]:V}],[S]:M},{[_]:[Be,Ue,Xt,sn,He,Sr],endpoint:ST,[S]:V},{[_]:[Be,Ue,_e,cr],endpoint:{[te]:tz,[re]:gr,[ne]:Ce},[S]:V},{[_]:[Be,Ue,_e,He,yr],[D]:[{[_]:bi,endpoint:{[te]:tz,[re]:sr,[ne]:Ce},[S]:V},{endpoint:Bz,[S]:V}],[S]:M},{[_]:[Be,Ue,_e,He,Sr],endpoint:Bz,[S]:V}],[S]:M},ey],[S]:M}],[S]:M}],[S]:M},{error:"A region must be set when sending requests to S3.",[S]:Z}]};iy.ruleSet=sme});var MT=b(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.defaultEndpointResolver=void 0;var ome=pl(),DT=ba(),ime=bj(),ame=new DT.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),cme=(e,r={})=>ame.get(e,()=>(0,DT.resolveEndpoint)(ime.ruleSet,{endpointParams:e,logger:r.logger}));ay.defaultEndpointResolver=cme;DT.customEndpointFunctions.aws=ome.awsEndpointFunctions});var LT=b(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.resolveHttpAuthSchemeConfig=xi.defaultS3HttpAuthSchemeProvider=xi.defaultS3HttpAuthSchemeParametersProvider=void 0;var xj=(rr(),Re(zn)),lme=Yg(),dme=Fs(),cy=Lr(),ume=MT(),fme=e=>async(r,t,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(r,t,n),o=(0,cy.getSmithyContext)(t)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);let i=await(0,dme.resolveParams)(n,{getEndpointParameterInstructions:o},r);return Object.assign(s,i)},mme=async(e,r,t)=>({operation:(0,cy.getSmithyContext)(r).operation,region:await(0,cy.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});xi.defaultS3HttpAuthSchemeParametersProvider=fme(mme);function Ej(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function Cj(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}var hme=(e,r,t)=>s=>{let i=e(s).properties?.authSchemes;if(!i)return r(s);let c=[];for(let l of i){let{name:d,properties:u={},...f}=l,g=d.toLowerCase();d!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${g}\``);let p;if(g==="sigv4a"){p="aws.auth#sigv4a";let k=i.find(N=>{let G=N.name.toLowerCase();return G!=="sigv4a"&&G.startsWith("sigv4")});if(lme.SignatureV4MultiRegion.sigv4aDependency()==="none"&&k)continue}else if(g.startsWith("sigv4"))p="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);let y=t[p];if(!y)throw new Error(`Could not find HttpAuthOption create function for \`${p}\``);let A=y(s);A.schemeId=p,A.signingProperties={...A.signingProperties||{},...f,...u},c.push(A)}return c},pme=e=>{let r=[];switch(e.operation){default:r.push(Ej(e)),r.push(Cj(e))}return r};xi.defaultS3HttpAuthSchemeProvider=hme(ume.defaultEndpointResolver,pme,{"aws.auth#sigv4":Ej,"aws.auth#sigv4a":Cj});var gme=e=>{let r=(0,xj.resolveAwsSdkSigV4Config)(e),t=(0,xj.resolveAwsSdkSigV4AConfig)(r);return Object.assign(t,{authSchemePreference:(0,cy.normalizeProvider)(e.authSchemePreference??[])})};xi.resolveHttpAuthSchemeConfig=gme});var _j=b((B6e,yme)=>{yme.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.920.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/credential-provider-node":"3.920.0","@aws-sdk/middleware-bucket-endpoint":"3.920.0","@aws-sdk/middleware-expect-continue":"3.920.0","@aws-sdk/middleware-flexible-checksums":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-location-constraint":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-sdk-s3":"3.920.0","@aws-sdk/middleware-ssec":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/signature-v4-multi-region":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@aws-sdk/xml-builder":"3.914.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/eventstream-serde-browser":"^4.2.3","@smithy/eventstream-serde-config-resolver":"^4.3.3","@smithy/eventstream-serde-node":"^4.2.3","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-blob-browser":"^4.2.4","@smithy/hash-node":"^4.2.3","@smithy/hash-stream-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/md5-js":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-stream":"^4.5.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.3","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.920.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var FT=b(Ei=>{"use strict";var Sme=(us(),Re(Zo)),bme=nn(),wj="AWS_ACCESS_KEY_ID",Aj="AWS_SECRET_ACCESS_KEY",vj="AWS_SESSION_TOKEN",Tj="AWS_CREDENTIAL_EXPIRATION",kj="AWS_CREDENTIAL_SCOPE",Rj="AWS_ACCOUNT_ID",xme=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[wj],t=process.env[Aj],n=process.env[vj],s=process.env[Tj],o=process.env[kj],i=process.env[Rj];if(r&&t){let c={accessKeyId:r,secretAccessKey:t,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return Sme.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new bme.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Ei.ENV_ACCOUNT_ID=Rj;Ei.ENV_CREDENTIAL_SCOPE=kj;Ei.ENV_EXPIRATION=Tj;Ei.ENV_KEY=wj;Ei.ENV_SECRET=Aj;Ei.ENV_SESSION=vj;Ei.fromEnv=xme});var Cf=b(jr=>{"use strict";var Hs=nn(),Eme=require("url"),Cme=require("buffer"),_me=require("http"),HT=xo(),wme=hi();function Ef(e){return new Promise((r,t)=>{let n=_me.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{t(Object.assign(new Hs.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{t(new Hs.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new Hs.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",c=>{i.push(c)}),s.on("end",()=>{r(Cme.Buffer.concat(i)),n.destroy()})}),n.end()})}var Nj=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Bj=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),Dj=1e3,Mj=0,$T=({maxRetries:e=Mj,timeout:r=Dj})=>({maxRetries:e,timeout:r}),UT=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t},ly="AWS_CONTAINER_CREDENTIALS_FULL_URI",dy="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zT="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ame=(e={})=>{let{timeout:r,maxRetries:t}=$T(e);return()=>UT(async()=>{let n=await Ime({logger:e.logger}),s=JSON.parse(await vme(r,n));if(!Nj(s))throw new Hs.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Bj(s)},t)},vme=async(e,r)=>(process.env[zT]&&(r.headers={...r.headers,Authorization:process.env[zT]}),(await Ef({...r,timeout:e})).toString()),Tme="169.254.170.2",kme={localhost:!0,"127.0.0.1":!0},Rme={"http:":!0,"https:":!0},Ime=async({logger:e})=>{if(process.env[dy])return{hostname:Tme,path:process.env[dy]};if(process.env[ly]){let r=Eme.parse(process.env[ly]);if(!r.hostname||!(r.hostname in kme))throw new Hs.CredentialsProviderError(`${r.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!r.protocol||!(r.protocol in Rme))throw new Hs.CredentialsProviderError(`${r.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...r,port:r.port?parseInt(r.port,10):void 0}}throw new Hs.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${dy} or ${ly} environment variable is set`,{tryNextLink:!1,logger:e})},jT=class e extends Hs.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(r,t=!0){super(r,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};jr.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(jr.Endpoint||(jr.Endpoint={}));var Pme="AWS_EC2_METADATA_SERVICE_ENDPOINT",Ome="ec2_metadata_service_endpoint",Nme={environmentVariableSelector:e=>e[Pme],configFileSelector:e=>e[Ome],default:void 0},Al;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Al||(Al={}));var Bme="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Dme="ec2_metadata_service_endpoint_mode",Mme={environmentVariableSelector:e=>e[Bme],configFileSelector:e=>e[Dme],default:Al.IPv4},Lj=async()=>wme.parseUrl(await Lme()||await Fme()),Lme=async()=>HT.loadConfig(Nme)(),Fme=async()=>{let e=await HT.loadConfig(Mme)();switch(e){case Al.IPv4:return jr.Endpoint.IPv4;case Al.IPv6:return jr.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Al)}`)}},qme=300,Ume=300,zme="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Ij=(e,r)=>{let t=qme+Math.floor(Math.random()*Ume),n=new Date(Date.now()+t*1e3);r.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+zme);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},jme=(e,r={})=>{let t=r?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Ij(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=Ij(n,t);else throw o}return n=s,s}},Fj="/latest/meta-data/iam/security-credentials/",Hme="/latest/api/token",qT="AWS_EC2_METADATA_V1_DISABLED",Pj="ec2_metadata_v1_disabled",Oj="x-aws-ec2-metadata-token",$me=(e={})=>jme(Vme(e),{logger:e.logger}),Vme=(e={})=>{let r=!1,{logger:t,profile:n}=e,{timeout:s,maxRetries:o}=$T(e),i=async(c,l)=>{if(r||l.headers?.[Oj]==null){let f=!1,g=!1,p=await HT.loadConfig({environmentVariableSelector:y=>{let A=y[qT];if(g=!!A&&A!=="false",A===void 0)throw new Hs.CredentialsProviderError(`${qT} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:y=>{let A=y[Pj];return f=!!A&&A!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||p){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&y.push(`config file profile (${Pj})`),g&&y.push(`process environment variable (${qT})`),new jT(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let u=(await UT(async()=>{let f;try{f=await Kme(l)}catch(g){throw g.statusCode===401&&(r=!1),g}return f},c)).trim();return UT(async()=>{let f;try{f=await Wme(u,l,e)}catch(g){throw g.statusCode===401&&(r=!1),g}return f},c)};return async()=>{let c=await Lj();if(r)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...c,timeout:s});{let l;try{l=(await Gme({...c,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(r=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...c,timeout:s})}return i(o,{...c,headers:{[Oj]:l},timeout:s})}}},Gme=async e=>Ef({...e,path:Hme,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Kme=async e=>(await Ef({...e,path:Fj})).toString(),Wme=async(e,r,t)=>{let n=JSON.parse((await Ef({...r,path:Fj+e})).toString());if(!Nj(n))throw new Hs.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return Bj(n)};jr.DEFAULT_MAX_RETRIES=Mj;jr.DEFAULT_TIMEOUT=Dj;jr.ENV_CMDS_AUTH_TOKEN=zT;jr.ENV_CMDS_FULL_URI=ly;jr.ENV_CMDS_RELATIVE_URI=dy;jr.fromContainerMetadata=Ame;jr.fromInstanceMetadata=$me;jr.getInstanceMetadataEndpoint=Lj;jr.httpRequest=Ef;jr.providerConfigFromInit=$T});var qj=b(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.checkUrl=void 0;var Xme=nn(),Qme="169.254.170.2",Yme="169.254.170.23",Jme="[fd00:ec2::23]",Zme=(e,r)=>{if(e.protocol!=="https:"&&!(e.hostname===Qme||e.hostname===Yme||e.hostname===Jme)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&n(t[1])&&n(t[2])&&n(t[3])&&t.length===4)return}throw new Xme.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}};uy.checkUrl=Zme});var Uj=b(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});fy.createGetRequest=nhe;fy.getCredentials=she;var VT=nn(),ehe=Ye(),the=Me(),rhe=ta();function nhe(e){return new ehe.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((r,[t,n])=>(r[t]=n,r),{}),fragment:e.hash})}async function she(e,r){let n=await(0,rhe.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new VT.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,the.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new VT.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:s.Code,Message:s.Message})}throw new VT.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}});var zj=b(my=>{"use strict";Object.defineProperty(my,"__esModule",{value:!0});my.retryWrapper=void 0;var ohe=(e,r,t)=>async()=>{for(let n=0;n<r;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};my.retryWrapper=ohe});var $j=b(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.fromHttp=void 0;var ihe=(Ns(),Re(Os)),ahe=(us(),Re(Zo)),che=ea(),jj=nn(),lhe=ihe.__importDefault(require("fs/promises")),dhe=qj(),Hj=Uj(),uhe=zj(),fhe="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",mhe="http://169.254.170.2",hhe="AWS_CONTAINER_CREDENTIALS_FULL_URI",phe="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",ghe="AWS_CONTAINER_AUTHORIZATION_TOKEN",yhe=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r,t=e.awsContainerCredentialsRelativeUri??process.env[fhe],n=e.awsContainerCredentialsFullUri??process.env[hhe],s=e.awsContainerAuthorizationToken??process.env[ghe],o=e.awsContainerAuthorizationTokenFile??process.env[phe],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)r=n;else if(t)r=`${mhe}${t}`;else throw new jj.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(r);(0,dhe.checkUrl)(c,e.logger);let l=che.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,uhe.retryWrapper)(async()=>{let d=(0,Hj.createGetRequest)(c);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await lhe.default.readFile(o)).toString());try{let u=await l.handle(d);return(0,Hj.getCredentials)(u.response).then(f=>(0,ahe.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(u){throw new jj.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};hy.fromHttp=yhe});var GT=b(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.fromHttp=void 0;var She=$j();Object.defineProperty(py,"fromHttp",{enumerable:!0,get:function(){return She.fromHttp}})});function bhe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function xhe(e){return{schemeId:"smithy.api#noAuth"}}var _f,Vj,Gj,Kj,KT=R(()=>{rr();_f=O(Lr()),Vj=async(e,r,t)=>({operation:(0,_f.getSmithyContext)(r).operation,region:await(0,_f.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Gj=e=>{let r=[];switch(e.operation){case"CreateToken":{r.push(xhe(e));break}default:r.push(bhe(e))}return r},Kj=e=>{let r=fa(e);return Object.assign(r,{authSchemePreference:(0,_f.normalizeProvider)(e.authSchemePreference??[])})}});var Wj,Xj,WT=R(()=>{Wj=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Xj={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var gy,XT=R(()=>{gy={name:"@aws-sdk/nested-clients",version:"3.920.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var wf=b(wa=>{"use strict";var Qj=require("os"),QT=require("process"),Che=yl(),Yj={isCrtAvailable:!1},_he=()=>Yj.isCrtAvailable?["md/crt-avail"]:null,Jj=({serviceId:e,clientVersion:r})=>async t=>{let n=[["aws-sdk-js",r],["ua","2.1"],[`os/${Qj.platform()}`,Qj.release()],["lang/js"],["md/nodejs",`${QT.versions.node}`]],s=_he();s&&n.push(s),e&&n.push([`api/${e}`,r]),QT.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${QT.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},whe=Jj,Zj="AWS_SDK_UA_APP_ID",e5="sdk_ua_app_id",Ahe="sdk-ua-app-id",vhe={environmentVariableSelector:e=>e[Zj],configFileSelector:e=>e[e5]??e[Ahe],default:Che.DEFAULT_UA_APP_ID};wa.NODE_APP_ID_CONFIG_OPTIONS=vhe;wa.UA_APP_ID_ENV_NAME=Zj;wa.UA_APP_ID_INI_NAME=e5;wa.createDefaultUserAgentProvider=Jj;wa.crtAvailability=Yj;wa.defaultUserAgent=whe});var Af=b(n5=>{"use strict";var YT=Qc(),The=or(),khe=require("buffer"),t5=require("crypto"),JT=class{algorithmIdentifier;secret;hash;constructor(r,t){this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(The.toUint8Array(r5(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?t5.createHmac(this.algorithmIdentifier,r5(this.secret)):t5.createHash(this.algorithmIdentifier)}};function r5(e,r){return khe.Buffer.isBuffer(e)?e:typeof e=="string"?YT.fromString(e,r):ArrayBuffer.isView(e)?YT.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):YT.fromArrayBuffer(e)}n5.Hash=JT});var vf=b(s5=>{"use strict";var ZT=require("node:fs"),Rhe=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof ZT.ReadStream){if(e.path!=null)return ZT.lstatSync(e.path).size;if(typeof e.fd=="number")return ZT.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};s5.calculateBodyLength=Rhe});var h5,Gn,o5,Tf,vl,Tl,_o,ek,tk,i5,a5,c5,p5,g5,Vn,l5,y5,d5,u5,f5,m5,Ihe,S5,b5=R(()=>{h5="required",Gn="argv",o5="isSet",Tf="booleanEquals",vl="error",Tl="endpoint",_o="tree",ek="PartitionResult",tk="getAttr",i5={[h5]:!1,type:"String"},a5={[h5]:!0,default:!1,type:"Boolean"},c5={ref:"Endpoint"},p5={fn:Tf,[Gn]:[{ref:"UseFIPS"},!0]},g5={fn:Tf,[Gn]:[{ref:"UseDualStack"},!0]},Vn={},l5={fn:tk,[Gn]:[{ref:ek},"supportsFIPS"]},y5={ref:ek},d5={fn:Tf,[Gn]:[!0,{fn:tk,[Gn]:[y5,"supportsDualStack"]}]},u5=[p5],f5=[g5],m5=[{ref:"Region"}],Ihe={version:"1.0",parameters:{Region:i5,UseDualStack:a5,UseFIPS:a5,Endpoint:i5},rules:[{conditions:[{fn:o5,[Gn]:[c5]}],rules:[{conditions:u5,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:vl},{conditions:f5,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:vl},{endpoint:{url:c5,properties:Vn,headers:Vn},type:Tl}],type:_o},{conditions:[{fn:o5,[Gn]:m5}],rules:[{conditions:[{fn:"aws.partition",[Gn]:m5,assign:ek}],rules:[{conditions:[p5,g5],rules:[{conditions:[{fn:Tf,[Gn]:[!0,l5]},d5],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vn,headers:Vn},type:Tl}],type:_o},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:vl}],type:_o},{conditions:u5,rules:[{conditions:[{fn:Tf,[Gn]:[l5,!0]}],rules:[{conditions:[{fn:"stringEquals",[Gn]:[{fn:tk,[Gn]:[y5,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Vn,headers:Vn},type:Tl},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Vn,headers:Vn},type:Tl}],type:_o},{error:"FIPS is enabled but this partition does not support FIPS",type:vl}],type:_o},{conditions:f5,rules:[{conditions:[d5],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Vn,headers:Vn},type:Tl}],type:_o},{error:"DualStack is enabled but this partition does not support DualStack",type:vl}],type:_o},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Vn,headers:Vn},type:Tl}],type:_o}],type:_o},{error:"Invalid Configuration: Missing Region",type:vl}]},S5=Ihe});var x5,kl,Phe,E5,C5=R(()=>{x5=O(pl()),kl=O(ba());b5();Phe=new kl.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),E5=(e,r={})=>Phe.get(e,()=>(0,kl.resolveEndpoint)(S5,{endpointParams:e,logger:r.logger}));kl.customEndpointFunctions.aws=x5.awsEndpointFunctions});var _5,w5,yy,Sy,A5,v5=R(()=>{rr();rn();_5=O(Me()),w5=O(hi()),yy=O(kr()),Sy=O(or());KT();C5();A5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??yy.fromBase64,base64Encoder:e?.base64Encoder??yy.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??E5,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Gj,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new un},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new uo}],logger:e?.logger??new _5.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??w5.parseUrl,utf8Decoder:e?.utf8Decoder??Sy.fromUtf8,utf8Encoder:e?.utf8Encoder??Sy.toUtf8})});var kf=b(I5=>{"use strict";var Ohe=jn(),T5=xo(),Nhe=nn(),Bhe="AWS_EXECUTION_ENV",k5="AWS_REGION",R5="AWS_DEFAULT_REGION",Dhe="AWS_EC2_METADATA_DISABLED",Mhe=["in-region","cross-region","mobile","standard","legacy"],Lhe="/latest/meta-data/placement/region",Fhe="AWS_DEFAULTS_MODE",qhe="defaults_mode",Uhe={environmentVariableSelector:e=>e[Fhe],configFileSelector:e=>e[qhe],default:"legacy"},zhe=({region:e=T5.loadConfig(Ohe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:r=T5.loadConfig(Uhe)}={})=>Nhe.memoize(async()=>{let t=typeof r=="function"?await r():r;switch(t?.toLowerCase()){case"auto":return jhe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Mhe.join(", ")}, got ${t}`)}}),jhe=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await Hhe();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},Hhe=async()=>{if(process.env[Bhe]&&(process.env[k5]||process.env[R5]))return process.env[k5]??process.env[R5];if(!process.env[Dhe])try{let{getInstanceMetadataEndpoint:e,httpRequest:r}=await Promise.resolve().then(()=>O(Cf())),t=await e();return(await r({...t,path:Lhe})).toString()}catch{}};I5.resolveDefaultsModeConfig=zhe});var by,_i,P5,xy,Ci,Ey,O5,N5,B5,D5,M5,L5,F5=R(()=>{XT();rr();by=O(wf()),_i=O(jn()),P5=O(Af()),xy=O(Co()),Ci=O(xo()),Ey=O(ea()),O5=O(vf()),N5=O(Sl());v5();B5=O(Me()),D5=O(kf()),M5=O(Me()),L5=e=>{(0,M5.emitWarningIfUnsupportedVersion)(process.version);let r=(0,D5.resolveDefaultsModeConfig)(e),t=()=>r().then(B5.loadConfigsForDefaultMode),n=A5(e);Vc(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ci.loadConfig)(Wc,s),bodyLengthChecker:e?.bodyLengthChecker??O5.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,by.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:gy.version}),maxAttempts:e?.maxAttempts??(0,Ci.loadConfig)(xy.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ci.loadConfig)(_i.NODE_REGION_CONFIG_OPTIONS,{..._i.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ey.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ci.loadConfig)({...xy.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||N5.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??P5.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ey.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ci.loadConfig)(_i.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ci.loadConfig)(_i.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ci.loadConfig)(by.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var U5=b(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.warning=void 0;Rl.stsRegionDefaultResolver=Vhe;var q5=jn(),$he=xo();function Vhe(e={}){return(0,$he.loadConfig)({...q5.NODE_REGION_CONFIG_OPTIONS,async default(){return Rl.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...q5.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Rl.warning={silence:!1}});var Il=b($s=>{"use strict";var Rf=jn(),z5=U5(),Ghe=e=>({setRegion(r){e.region=r},region(){return e.region}}),Khe=e=>({region:e.region()});Object.defineProperty($s,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Rf.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty($s,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Rf.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty($s,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Rf.REGION_ENV_NAME}});Object.defineProperty($s,"REGION_INI_NAME",{enumerable:!0,get:function(){return Rf.REGION_INI_NAME}});Object.defineProperty($s,"resolveRegionConfig",{enumerable:!0,get:function(){return Rf.resolveRegionConfig}});$s.getAwsRegionExtensionConfiguration=Ghe;$s.resolveAwsRegionExtensionConfiguration=Khe;Object.keys(z5).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call($s,e)&&Object.defineProperty($s,e,{enumerable:!0,get:function(){return z5[e]}})})});var j5,H5,$5=R(()=>{j5=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},H5=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Cy,_y,wy,V5,G5=R(()=>{Cy=O(Il()),_y=O(Ye()),wy=O(Me());$5();V5=(e,r)=>{let t=Object.assign((0,Cy.getAwsRegionExtensionConfiguration)(e),(0,wy.getDefaultExtensionConfiguration)(e),(0,_y.getHttpHandlerExtensionConfiguration)(e),j5(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,Cy.resolveAwsRegionExtensionConfiguration)(t),(0,wy.resolveDefaultRuntimeConfig)(t),(0,_y.resolveHttpHandlerRuntimeConfig)(t),H5(t))}});var Ay,K5,W5,vy,X5,Q5,Y5,Ty,rk,If,nk=R(()=>{Ay=O(sf()),K5=O(of()),W5=O(af()),vy=O(yl()),X5=O(jn());rn();Q5=O(df()),Y5=O(Fs()),Ty=O(Co()),rk=O(Me());KT();WT();F5();G5();If=class extends rk.Client{config;constructor(...[r]){let t=L5(r||{});super(t),this.initConfig=t;let n=Wj(t),s=(0,vy.resolveUserAgentConfig)(n),o=(0,Ty.resolveRetryConfig)(s),i=(0,X5.resolveRegionConfig)(o),c=(0,Ay.resolveHostHeaderConfig)(i),l=(0,Y5.resolveEndpointConfig)(c),d=Kj(l),u=V5(d,r?.extensions||[]);this.config=u,this.middlewareStack.use((0,vy.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ty.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Q5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ay.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,K5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,W5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ru(this.config,{httpAuthSchemeParametersProvider:Vj,identityProviderConfigProvider:async f=>new ca({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Iu(this.config))}destroy(){super.destroy()}}});var J5,Er,ky=R(()=>{J5=O(Me()),Er=class e extends J5.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var Aa,Whe,Pf,Of,sk,ok,Nf,Bf,Df,Mf,Xhe,Lf,Ff,qf,Uf,zf,Ry=R(()=>{Aa=O(Me());ky();Whe={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Pf=class e extends Er{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(r){super({name:"AccessDeniedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Of=class e extends Er{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},sk=e=>({...e,...e.clientSecret&&{clientSecret:Aa.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Aa.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Aa.SENSITIVE_STRING}}),ok=e=>({...e,...e.accessToken&&{accessToken:Aa.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Aa.SENSITIVE_STRING},...e.idToken&&{idToken:Aa.SENSITIVE_STRING}}),Nf=class e extends Er{name="ExpiredTokenException";$fault="client";error;error_description;constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Bf=class e extends Er{name="InternalServerException";$fault="server";error;error_description;constructor(r){super({name:"InternalServerException",$fault:"server",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Df=class e extends Er{name="InvalidClientException";$fault="client";error;error_description;constructor(r){super({name:"InvalidClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Mf=class e extends Er{name="InvalidGrantException";$fault="client";error;error_description;constructor(r){super({name:"InvalidGrantException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Xhe={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Lf=class e extends Er{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Ff=class e extends Er{name="InvalidScopeException";$fault="client";error;error_description;constructor(r){super({name:"InvalidScopeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},qf=class e extends Er{name="SlowDownException";$fault="client";error;error_description;constructor(r){super({name:"SlowDownException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Uf=class e extends Er{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},zf=class e extends Er{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}}});var Q,Z5,eH,Qhe,Yhe,Jhe,Zhe,epe,tpe,rpe,npe,spe,ope,ipe,ape,cpe,Kn,tH=R(()=>{rr();rn();Q=O(Me());Ry();ky();Z5=async(e,r)=>{let t=Hu(e,r),n={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,Q.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,Q._json)(o)})),t.m("POST").h(n).b(s),t.build()},eH=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qhe(e,r);let t=(0,Q.map)({$metadata:Kn(e)}),n=(0,Q.expectNonNull)((0,Q.expectObject)(await cl(e.body,r)),"body"),s=(0,Q.take)(n,{accessToken:Q.expectString,expiresIn:Q.expectInt32,idToken:Q.expectString,refreshToken:Q.expectString,tokenType:Q.expectString});return Object.assign(t,s),t},Qhe=async(e,r)=>{let t={...e,body:await WA(e.body,r)},n=ha(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Jhe(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Zhe(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await epe(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await tpe(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await rpe(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await npe(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await spe(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ope(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await ipe(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ape(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await cpe(t,r);default:let s=t.body;return Yhe({output:e,parsedBody:s,errorCode:n})}},Yhe=(0,Q.withBaseException)(Er),Jhe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString,reason:Q.expectString});Object.assign(t,s);let o=new Pf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},Zhe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Of({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},epe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Nf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},tpe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Bf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},rpe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Df({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},npe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Mf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},spe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString,reason:Q.expectString});Object.assign(t,s);let o=new Lf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},ope=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Ff({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},ipe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new qf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},ape=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new Uf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},cpe=async(e,r)=>{let t=(0,Q.map)({}),n=e.body,s=(0,Q.take)(n,{error:Q.expectString,error_description:Q.expectString});Object.assign(t,s);let o=new zf({$metadata:Kn(e),...t});return(0,Q.decorateServiceException)(o,e.body)},Kn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var rH,nH,ik,jf,ak=R(()=>{rH=O(Fs()),nH=O(ei()),ik=O(Me());WT();Ry();tH();jf=class extends ik.Command.classBuilder().ep(Xj).m(function(r,t,n,s){return[(0,nH.getSerdePlugin)(n,this.serialize,this.deserialize),(0,rH.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(sk,ok).ser(Z5).de(eH).build(){}});var sH,lpe,Iy,oH=R(()=>{sH=O(Me());ak();nk();lpe={CreateTokenCommand:jf},Iy=class extends If{};(0,sH.createAggregatedClient)(lpe,Iy)});var iH=R(()=>{ak()});var aH=R(()=>{Ry()});var ck={};Cn(ck,{$Command:()=>ik.Command,AccessDeniedException:()=>Pf,AccessDeniedExceptionReason:()=>Whe,AuthorizationPendingException:()=>Of,CreateTokenCommand:()=>jf,CreateTokenRequestFilterSensitiveLog:()=>sk,CreateTokenResponseFilterSensitiveLog:()=>ok,ExpiredTokenException:()=>Nf,InternalServerException:()=>Bf,InvalidClientException:()=>Df,InvalidGrantException:()=>Mf,InvalidRequestException:()=>Lf,InvalidRequestExceptionReason:()=>Xhe,InvalidScopeException:()=>Ff,SSOOIDC:()=>Iy,SSOOIDCClient:()=>If,SSOOIDCServiceException:()=>Er,SlowDownException:()=>qf,UnauthorizedClientException:()=>Uf,UnsupportedGrantTypeException:()=>zf,__Client:()=>rk.Client});var lk=R(()=>{nk();oH();iH();aH();ky()});var uH=b($f=>{"use strict";var dpe=(us(),Re(Zo)),upe=(bA(),Re(XF)),kn=nn(),Hf=bo(),fpe=require("fs"),mpe=({logger:e,signingName:r}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!r)throw new kn.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=upe.getBearerTokenEnvKey(r);if(!(t in process.env))throw new kn.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let n={token:process.env[t]};return dpe.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},hpe=300*1e3,dk="To refresh this SSO session run 'aws sso login' with the corresponding profile.",ppe=async(e,r={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(lk(),ck));return new t(Object.assign({},r.clientConfig??{},{region:e??r.clientConfig?.region,logger:r.clientConfig?.logger??r.parentClientConfig?.logger}))},gpe=async(e,r,t={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(lk(),ck));return(await ppe(r,t)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},cH=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new kn.TokenProviderError(`Token is expired. ${dk}`,!1)},va=(e,r,t=!1)=>{if(typeof r>"u")throw new kn.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${dk}`,!1)},{writeFile:ype}=fpe.promises,Spe=(e,r)=>{let t=Hf.getSSOTokenFilepath(e),n=JSON.stringify(r,null,2);return ype(t,n)},lH=new Date(0),dH=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Hf.parseKnownFiles(t),s=Hf.getProfileName({profile:t.profile??r?.profile}),o=n[s];if(o){if(!o.sso_session)throw new kn.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new kn.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,l=(await Hf.loadSsoSessionData(t))[i];if(!l)throw new kn.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!l[y])throw new kn.TokenProviderError(`Sso session '${i}' is missing required property '${y}'.`,!1);l.sso_start_url;let d=l.sso_region,u;try{u=await Hf.getSSOTokenFromFile(i)}catch{throw new kn.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${dk}`,!1)}va("accessToken",u.accessToken),va("expiresAt",u.expiresAt);let{accessToken:f,expiresAt:g}=u,p={token:f,expiration:new Date(g)};if(p.expiration.getTime()-Date.now()>hpe)return p;if(Date.now()-lH.getTime()<30*1e3)return cH(p),p;va("clientId",u.clientId,!0),va("clientSecret",u.clientSecret,!0),va("refreshToken",u.refreshToken,!0);try{lH.setTime(Date.now());let y=await gpe(u,d,t);va("accessToken",y.accessToken),va("expiresIn",y.expiresIn);let A=new Date(Date.now()+y.expiresIn*1e3);try{await Spe(i,{...u,accessToken:y.accessToken,expiresAt:A.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:A}}catch{return cH(p),p}},bpe=({token:e,logger:r})=>async()=>{if(r?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new kn.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},xpe=(e={})=>kn.memoize(kn.chain(dH(e),async()=>{throw new kn.TokenProviderError("Could not load token from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);$f.fromEnvSigningName=mpe;$f.fromSso=dH;$f.fromStatic=bpe;$f.nodeProvider=xpe});var fk=b(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.resolveHttpAuthSchemeConfig=wi.defaultSSOHttpAuthSchemeProvider=wi.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Epe=(rr(),Re(zn)),uk=Lr(),Cpe=async(e,r,t)=>({operation:(0,uk.getSmithyContext)(r).operation,region:await(0,uk.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wi.defaultSSOHttpAuthSchemeParametersProvider=Cpe;function _pe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function Py(e){return{schemeId:"smithy.api#noAuth"}}var wpe=e=>{let r=[];switch(e.operation){case"GetRoleCredentials":{r.push(Py(e));break}case"ListAccountRoles":{r.push(Py(e));break}case"ListAccounts":{r.push(Py(e));break}case"Logout":{r.push(Py(e));break}default:r.push(_pe(e))}return r};wi.defaultSSOHttpAuthSchemeProvider=wpe;var Ape=e=>{let r=(0,Epe.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,uk.normalizeProvider)(e.authSchemePreference??[])})};wi.resolveHttpAuthSchemeConfig=Ape});var fH=b((VUe,vpe)=>{vpe.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.920.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.920.0","@aws-sdk/middleware-host-header":"3.920.0","@aws-sdk/middleware-logger":"3.920.0","@aws-sdk/middleware-recursion-detection":"3.920.0","@aws-sdk/middleware-user-agent":"3.920.0","@aws-sdk/region-config-resolver":"3.920.0","@aws-sdk/types":"3.920.0","@aws-sdk/util-endpoints":"3.920.0","@aws-sdk/util-user-agent-browser":"3.920.0","@aws-sdk/util-user-agent-node":"3.920.0","@smithy/config-resolver":"^4.4.0","@smithy/core":"^3.17.1","@smithy/fetch-http-handler":"^5.3.4","@smithy/hash-node":"^4.2.3","@smithy/invalid-dependency":"^4.2.3","@smithy/middleware-content-length":"^4.2.3","@smithy/middleware-endpoint":"^4.3.5","@smithy/middleware-retry":"^4.4.5","@smithy/middleware-serde":"^4.2.3","@smithy/middleware-stack":"^4.2.3","@smithy/node-config-provider":"^4.3.3","@smithy/node-http-handler":"^4.4.3","@smithy/protocol-http":"^5.3.3","@smithy/smithy-client":"^4.9.1","@smithy/types":"^4.8.0","@smithy/url-parser":"^4.2.3","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.4","@smithy/util-defaults-mode-node":"^4.2.6","@smithy/util-endpoints":"^3.2.3","@smithy/util-middleware":"^4.2.3","@smithy/util-retry":"^4.2.3","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var TH=b(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0});Oy.ruleSet=void 0;var _H="required",Xn="fn",Qn="argv",Nl="ref",mH=!0,hH="isSet",Vf="booleanEquals",Pl="error",Ol="endpoint",wo="tree",mk="PartitionResult",hk="getAttr",pH={[_H]:!1,type:"String"},gH={[_H]:!0,default:!1,type:"Boolean"},yH={[Nl]:"Endpoint"},wH={[Xn]:Vf,[Qn]:[{[Nl]:"UseFIPS"},!0]},AH={[Xn]:Vf,[Qn]:[{[Nl]:"UseDualStack"},!0]},Wn={},SH={[Xn]:hk,[Qn]:[{[Nl]:mk},"supportsFIPS"]},vH={[Nl]:mk},bH={[Xn]:Vf,[Qn]:[!0,{[Xn]:hk,[Qn]:[vH,"supportsDualStack"]}]},xH=[wH],EH=[AH],CH=[{[Nl]:"Region"}],Tpe={version:"1.0",parameters:{Region:pH,UseDualStack:gH,UseFIPS:gH,Endpoint:pH},rules:[{conditions:[{[Xn]:hH,[Qn]:[yH]}],rules:[{conditions:xH,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Pl},{conditions:EH,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Pl},{endpoint:{url:yH,properties:Wn,headers:Wn},type:Ol}],type:wo},{conditions:[{[Xn]:hH,[Qn]:CH}],rules:[{conditions:[{[Xn]:"aws.partition",[Qn]:CH,assign:mk}],rules:[{conditions:[wH,AH],rules:[{conditions:[{[Xn]:Vf,[Qn]:[mH,SH]},bH],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Ol}],type:wo},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Pl}],type:wo},{conditions:xH,rules:[{conditions:[{[Xn]:Vf,[Qn]:[SH,mH]}],rules:[{conditions:[{[Xn]:"stringEquals",[Qn]:[{[Xn]:hk,[Qn]:[vH,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Wn,headers:Wn},type:Ol},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Ol}],type:wo},{error:"FIPS is enabled but this partition does not support FIPS",type:Pl}],type:wo},{conditions:EH,rules:[{conditions:[bH],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wn,headers:Wn},type:Ol}],type:wo},{error:"DualStack is enabled but this partition does not support DualStack",type:Pl}],type:wo},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Wn,headers:Wn},type:Ol}],type:wo}],type:wo},{error:"Invalid Configuration: Missing Region",type:Pl}]};Oy.ruleSet=Tpe});var kH=b(Ny=>{"use strict";Object.defineProperty(Ny,"__esModule",{value:!0});Ny.defaultEndpointResolver=void 0;var kpe=pl(),pk=ba(),Rpe=TH(),Ipe=new pk.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ppe=(e,r={})=>Ipe.get(e,()=>(0,pk.resolveEndpoint)(Rpe.ruleSet,{endpointParams:e,logger:r.logger}));Ny.defaultEndpointResolver=Ppe;pk.customEndpointFunctions.aws=kpe.awsEndpointFunctions});var PH=b(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0});By.getRuntimeConfig=void 0;var Ope=(rr(),Re(zn)),Npe=(rn(),Re(la)),Bpe=Me(),Dpe=hi(),RH=kr(),IH=or(),Mpe=fk(),Lpe=kH(),Fpe=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??RH.fromBase64,base64Encoder:e?.base64Encoder??RH.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Lpe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Mpe.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new Ope.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Npe.NoAuthSigner}],logger:e?.logger??new Bpe.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Dpe.parseUrl,utf8Decoder:e?.utf8Decoder??IH.fromUtf8,utf8Encoder:e?.utf8Encoder??IH.toUtf8});By.getRuntimeConfig=Fpe});var MH=b(My=>{"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.getRuntimeConfig=void 0;var qpe=(Ns(),Re(Os)),Upe=qpe.__importDefault(fH()),OH=(rr(),Re(zn)),NH=wf(),Dy=jn(),zpe=Af(),BH=Co(),Ta=xo(),DH=ea(),jpe=vf(),Hpe=Sl(),$pe=PH(),Vpe=Me(),Gpe=kf(),Kpe=Me(),Wpe=e=>{(0,Kpe.emitWarningIfUnsupportedVersion)(process.version);let r=(0,Gpe.resolveDefaultsModeConfig)(e),t=()=>r().then(Vpe.loadConfigsForDefaultMode),n=(0,$pe.getRuntimeConfig)(e);(0,OH.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ta.loadConfig)(OH.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??jpe.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,NH.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Upe.default.version}),maxAttempts:e?.maxAttempts??(0,Ta.loadConfig)(BH.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ta.loadConfig)(Dy.NODE_REGION_CONFIG_OPTIONS,{...Dy.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:DH.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ta.loadConfig)({...BH.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||Hpe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??zpe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??DH.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ta.loadConfig)(Dy.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ta.loadConfig)(Dy.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ta.loadConfig)(NH.NODE_APP_ID_CONFIG_OPTIONS,s)}};My.getRuntimeConfig=Wpe});var t8=b($t=>{"use strict";var LH=sf(),Xpe=of(),Qpe=af(),FH=yl(),Ype=jn(),Ao=(rn(),Re(la)),Jpe=df(),Xf=Fs(),qH=Co(),ie=Me(),UH=fk(),Zpe=MH(),zH=Il(),jH=Ye(),$y=ei(),Gf=(rr(),Re(zn)),ege=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Vy={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},tge=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},rge=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),nge=(e,r)=>{let t=Object.assign(zH.getAwsRegionExtensionConfiguration(e),ie.getDefaultExtensionConfiguration(e),jH.getHttpHandlerExtensionConfiguration(e),tge(e));return r.forEach(n=>n.configure(t)),Object.assign(e,zH.resolveAwsRegionExtensionConfiguration(t),ie.resolveDefaultRuntimeConfig(t),jH.resolveHttpHandlerRuntimeConfig(t),rge(t))},Bl=class extends ie.Client{config;constructor(...[r]){let t=Zpe.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=ege(t),s=FH.resolveUserAgentConfig(n),o=qH.resolveRetryConfig(s),i=Ype.resolveRegionConfig(o),c=LH.resolveHostHeaderConfig(i),l=Xf.resolveEndpointConfig(c),d=UH.resolveHttpAuthSchemeConfig(l),u=nge(d,r?.extensions||[]);this.config=u,this.middlewareStack.use(FH.getUserAgentPlugin(this.config)),this.middlewareStack.use(qH.getRetryPlugin(this.config)),this.middlewareStack.use(Jpe.getContentLengthPlugin(this.config)),this.middlewareStack.use(LH.getHostHeaderPlugin(this.config)),this.middlewareStack.use(Xpe.getLoggerPlugin(this.config)),this.middlewareStack.use(Qpe.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ao.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:UH.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new Ao.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ao.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ai=class e extends ie.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},Ly=class e extends Ai{name="InvalidRequestException";$fault="client";constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Fy=class e extends Ai{name="ResourceNotFoundException";$fault="client";constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},qy=class e extends Ai{name="TooManyRequestsException";$fault="client";constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Uy=class e extends Ai{name="UnauthorizedException";$fault="client";constructor(r){super({name:"UnauthorizedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},HH=e=>({...e,...e.accessToken&&{accessToken:ie.SENSITIVE_STRING}}),$H=e=>({...e,...e.secretAccessKey&&{secretAccessKey:ie.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:ie.SENSITIVE_STRING}}),VH=e=>({...e,...e.roleCredentials&&{roleCredentials:$H(e.roleCredentials)}}),GH=e=>({...e,...e.accessToken&&{accessToken:ie.SENSITIVE_STRING}}),KH=e=>({...e,...e.accessToken&&{accessToken:ie.SENSITIVE_STRING}}),WH=e=>({...e,...e.accessToken&&{accessToken:ie.SENSITIVE_STRING}}),sge=async(e,r)=>{let t=Ao.requestBuilder(e,r),n=ie.map({},ie.isSerializableHeaderValue,{[Wy]:e[Ky]});t.bp("/federation/credentials");let s=ie.map({[Sge]:[,ie.expectNonNull(e[yge],"roleName")],[QH]:[,ie.expectNonNull(e[XH],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},oge=async(e,r)=>{let t=Ao.requestBuilder(e,r),n=ie.map({},ie.isSerializableHeaderValue,{[Wy]:e[Ky]});t.bp("/assignment/roles");let s=ie.map({[e8]:[,e[ZH]],[JH]:[()=>e.maxResults!==void 0,()=>e[YH].toString()],[QH]:[,ie.expectNonNull(e[XH],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ige=async(e,r)=>{let t=Ao.requestBuilder(e,r),n=ie.map({},ie.isSerializableHeaderValue,{[Wy]:e[Ky]});t.bp("/assignment/accounts");let s=ie.map({[e8]:[,e[ZH]],[JH]:[()=>e.maxResults!==void 0,()=>e[YH].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},age=async(e,r)=>{let t=Ao.requestBuilder(e,r),n=ie.map({},ie.isSerializableHeaderValue,{[Wy]:e[Ky]});return t.bp("/logout"),t.m("POST").h(n).b(void 0),t.build()},cge=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gy(e,r);let t=ie.map({$metadata:vi(e)}),n=ie.expectNonNull(ie.expectObject(await Gf.parseJsonBody(e.body,r)),"body"),s=ie.take(n,{roleCredentials:ie._json});return Object.assign(t,s),t},lge=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gy(e,r);let t=ie.map({$metadata:vi(e)}),n=ie.expectNonNull(ie.expectObject(await Gf.parseJsonBody(e.body,r)),"body"),s=ie.take(n,{nextToken:ie.expectString,roleList:ie._json});return Object.assign(t,s),t},dge=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gy(e,r);let t=ie.map({$metadata:vi(e)}),n=ie.expectNonNull(ie.expectObject(await Gf.parseJsonBody(e.body,r)),"body"),s=ie.take(n,{accountList:ie._json,nextToken:ie.expectString});return Object.assign(t,s),t},uge=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return Gy(e,r);let t=ie.map({$metadata:vi(e)});return await ie.collectBody(e.body,r),t},Gy=async(e,r)=>{let t={...e,body:await Gf.parseJsonErrorBody(e.body,r)},n=Gf.loadRestJsonErrorCode(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await mge(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await hge(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await pge(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await gge(t);default:let s=t.body;return fge({output:e,parsedBody:s,errorCode:n})}},fge=ie.withBaseException(Ai),mge=async(e,r)=>{let t=ie.map({}),n=e.body,s=ie.take(n,{message:ie.expectString});Object.assign(t,s);let o=new Ly({$metadata:vi(e),...t});return ie.decorateServiceException(o,e.body)},hge=async(e,r)=>{let t=ie.map({}),n=e.body,s=ie.take(n,{message:ie.expectString});Object.assign(t,s);let o=new Fy({$metadata:vi(e),...t});return ie.decorateServiceException(o,e.body)},pge=async(e,r)=>{let t=ie.map({}),n=e.body,s=ie.take(n,{message:ie.expectString});Object.assign(t,s);let o=new qy({$metadata:vi(e),...t});return ie.decorateServiceException(o,e.body)},gge=async(e,r)=>{let t=ie.map({}),n=e.body,s=ie.take(n,{message:ie.expectString});Object.assign(t,s);let o=new Uy({$metadata:vi(e),...t});return ie.decorateServiceException(o,e.body)},vi=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),XH="accountId",Ky="accessToken",QH="account_id",YH="maxResults",JH="max_result",ZH="nextToken",e8="next_token",yge="roleName",Sge="role_name",Wy="x-amz-sso_bearer_token",zy=class extends ie.Command.classBuilder().ep(Vy).m(function(r,t,n,s){return[$y.getSerdePlugin(n,this.serialize,this.deserialize),Xf.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(HH,VH).ser(sge).de(cge).build(){},Kf=class extends ie.Command.classBuilder().ep(Vy).m(function(r,t,n,s){return[$y.getSerdePlugin(n,this.serialize,this.deserialize),Xf.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(GH,void 0).ser(oge).de(lge).build(){},Wf=class extends ie.Command.classBuilder().ep(Vy).m(function(r,t,n,s){return[$y.getSerdePlugin(n,this.serialize,this.deserialize),Xf.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(KH,void 0).ser(ige).de(dge).build(){},jy=class extends ie.Command.classBuilder().ep(Vy).m(function(r,t,n,s){return[$y.getSerdePlugin(n,this.serialize,this.deserialize),Xf.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(WH,void 0).ser(age).de(uge).build(){},bge={GetRoleCredentialsCommand:zy,ListAccountRolesCommand:Kf,ListAccountsCommand:Wf,LogoutCommand:jy},Hy=class extends Bl{};ie.createAggregatedClient(bge,Hy);var xge=Ao.createPaginator(Bl,Kf,"nextToken","nextToken","maxResults"),Ege=Ao.createPaginator(Bl,Wf,"nextToken","nextToken","maxResults");Object.defineProperty($t,"$Command",{enumerable:!0,get:function(){return ie.Command}});Object.defineProperty($t,"__Client",{enumerable:!0,get:function(){return ie.Client}});$t.GetRoleCredentialsCommand=zy;$t.GetRoleCredentialsRequestFilterSensitiveLog=HH;$t.GetRoleCredentialsResponseFilterSensitiveLog=VH;$t.InvalidRequestException=Ly;$t.ListAccountRolesCommand=Kf;$t.ListAccountRolesRequestFilterSensitiveLog=GH;$t.ListAccountsCommand=Wf;$t.ListAccountsRequestFilterSensitiveLog=KH;$t.LogoutCommand=jy;$t.LogoutRequestFilterSensitiveLog=WH;$t.ResourceNotFoundException=Fy;$t.RoleCredentialsFilterSensitiveLog=$H;$t.SSO=Hy;$t.SSOClient=Bl;$t.SSOServiceException=Ai;$t.TooManyRequestsException=qy;$t.UnauthorizedException=Uy;$t.paginateListAccountRoles=xge;$t.paginateListAccounts=Ege});var n8=b(gk=>{"use strict";var r8=t8();Object.defineProperty(gk,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return r8.GetRoleCredentialsCommand}});Object.defineProperty(gk,"SSOClient",{enumerable:!0,get:function(){return r8.SSOClient}})});var yk=b(Qy=>{"use strict";var ps=nn(),Xy=bo(),s8=(us(),Re(Zo)),Cge=uH(),i8=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Qf=!1,o8=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:c,profile:l,filepath:d,configFilepath:u,ignoreCache:f,logger:g})=>{let p,y="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let Kt=await Cge.fromSso({profile:l,filepath:d,configFilepath:u,ignoreCache:f})();p={accessToken:Kt.token,expiresAt:new Date(Kt.expiration).toISOString()}}catch(Kt){throw new ps.CredentialsProviderError(Kt.message,{tryNextLink:Qf,logger:g})}else try{p=await Xy.getSSOTokenFromFile(e)}catch{throw new ps.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${y}`,{tryNextLink:Qf,logger:g})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new ps.CredentialsProviderError(`The SSO session associated with this profile has expired. ${y}`,{tryNextLink:Qf,logger:g});let{accessToken:A}=p,{SSOClient:k,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return n8()}),G=o||new k(Object.assign({},i??{},{logger:i?.logger??c?.logger,region:i?.region??n})),le;try{le=await G.send(new N({accountId:t,roleName:s,accessToken:A}))}catch(Kt){throw new ps.CredentialsProviderError(Kt,{tryNextLink:Qf,logger:g})}let{roleCredentials:{accessKeyId:de,secretAccessKey:Ee,sessionToken:$e,expiration:Tt,credentialScope:ke,accountId:je}={}}=le;if(!de||!Ee||!$e||!Tt)throw new ps.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Qf,logger:g});let at={accessKeyId:de,secretAccessKey:Ee,sessionToken:$e,expiration:new Date(Tt),...ke&&{credentialScope:ke},...je&&{accountId:je}};return r?s8.setCredentialFeature(at,"CREDENTIALS_SSO","s"):s8.setCredentialFeature(at,"CREDENTIALS_SSO_LEGACY","u"),at},a8=(e,r)=>{let{sso_start_url:t,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!t||!n||!s||!o)throw new ps.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:r});return e},_ge=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:c}=e,l=Xy.getProfileName({profile:e.profile??r?.profile});if(!t&&!n&&!s&&!o&&!i){let u=(await Xy.parseKnownFiles(e))[l];if(!u)throw new ps.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!i8(u))throw new ps.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let N=(await Xy.loadSsoSessionData(e))[u.sso_session],G=` configurations in profile ${l} and sso-session ${u.sso_session}`;if(s&&s!==N.sso_region)throw new ps.CredentialsProviderError("Conflicting SSO region"+G,{tryNextLink:!1,logger:e.logger});if(t&&t!==N.sso_start_url)throw new ps.CredentialsProviderError("Conflicting SSO start_url"+G,{tryNextLink:!1,logger:e.logger});u.sso_region=N.sso_region,u.sso_start_url=N.sso_start_url}let{sso_start_url:f,sso_account_id:g,sso_region:p,sso_role_name:y,sso_session:A}=a8(u,e.logger);return o8({ssoStartUrl:f,ssoSession:A,ssoAccountId:g,ssoRegion:p,ssoRoleName:y,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!n||!s||!o)throw new ps.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return o8({ssoStartUrl:t,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Qy.fromSSO=_ge;Qy.isSsoProfile=i8;Qy.validateSsoProfile=a8});function wge(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function Age(e){return{schemeId:"smithy.api#noAuth"}}var Yf,c8,l8,vge,d8,Sk=R(()=>{rr();Yf=O(Lr());Jf();c8=async(e,r,t)=>({operation:(0,Yf.getSmithyContext)(r).operation,region:await(0,Yf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});l8=e=>{let r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(Age(e));break}default:r.push(wge(e))}return r},vge=e=>Object.assign(e,{stsClientCtor:Vs}),d8=e=>{let r=vge(e),t=fa(r);return Object.assign(t,{authSchemePreference:(0,Yf.normalizeProvider)(e.authSchemePreference??[])})}});var u8,Yy,Jy=R(()=>{u8=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Yy={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var C8,Ie,Je,Ti,Ir,_8,w8,It,f8,Gs,Dl,xk,m8,bk,A8,h8,Pr,p8,v8,T8,Hr,Rn,g8,k8,R8,y8,I8,S8,b8,x8,E8,Tge,P8,O8=R(()=>{C8="required",Ie="type",Je="argv",Ti="booleanEquals",Ir="stringEquals",_8="sigv4",w8="us-east-1",It="endpoint",f8="https://sts.{Region}.{PartitionResult#dnsSuffix}",Gs="tree",Dl="error",xk="getAttr",m8={[C8]:!1,[Ie]:"String"},bk={[C8]:!0,default:!1,[Ie]:"Boolean"},A8={ref:"Endpoint"},h8={fn:"isSet",[Je]:[{ref:"Region"}]},Pr={ref:"Region"},p8={fn:"aws.partition",[Je]:[Pr],assign:"PartitionResult"},v8={ref:"UseFIPS"},T8={ref:"UseDualStack"},Hr={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:_8,signingName:"sts",signingRegion:w8}]},headers:{}},Rn={},g8={conditions:[{fn:Ir,[Je]:[Pr,"aws-global"]}],[It]:Hr,[Ie]:It},k8={fn:Ti,[Je]:[v8,!0]},R8={fn:Ti,[Je]:[T8,!0]},y8={fn:xk,[Je]:[{ref:"PartitionResult"},"supportsFIPS"]},I8={ref:"PartitionResult"},S8={fn:Ti,[Je]:[!0,{fn:xk,[Je]:[I8,"supportsDualStack"]}]},b8=[{fn:"isSet",[Je]:[A8]}],x8=[k8],E8=[R8],Tge={version:"1.0",parameters:{Region:m8,UseDualStack:bk,UseFIPS:bk,Endpoint:m8,UseGlobalEndpoint:bk},rules:[{conditions:[{fn:Ti,[Je]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Je]:b8},h8,p8,{fn:Ti,[Je]:[v8,!1]},{fn:Ti,[Je]:[T8,!1]}],rules:[{conditions:[{fn:Ir,[Je]:[Pr,"ap-northeast-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"ap-south-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"ap-southeast-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"ap-southeast-2"]}],endpoint:Hr,[Ie]:It},g8,{conditions:[{fn:Ir,[Je]:[Pr,"ca-central-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"eu-central-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"eu-north-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"eu-west-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"eu-west-2"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"eu-west-3"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"sa-east-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,w8]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"us-east-2"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"us-west-1"]}],endpoint:Hr,[Ie]:It},{conditions:[{fn:Ir,[Je]:[Pr,"us-west-2"]}],endpoint:Hr,[Ie]:It},{endpoint:{url:f8,properties:{authSchemes:[{name:_8,signingName:"sts",signingRegion:"{Region}"}]},headers:Rn},[Ie]:It}],[Ie]:Gs},{conditions:b8,rules:[{conditions:x8,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Ie]:Dl},{conditions:E8,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Ie]:Dl},{endpoint:{url:A8,properties:Rn,headers:Rn},[Ie]:It}],[Ie]:Gs},{conditions:[h8],rules:[{conditions:[p8],rules:[{conditions:[k8,R8],rules:[{conditions:[{fn:Ti,[Je]:[!0,y8]},S8],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rn,headers:Rn},[Ie]:It}],[Ie]:Gs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Ie]:Dl}],[Ie]:Gs},{conditions:x8,rules:[{conditions:[{fn:Ti,[Je]:[y8,!0]}],rules:[{conditions:[{fn:Ir,[Je]:[{fn:xk,[Je]:[I8,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Rn,headers:Rn},[Ie]:It},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Rn,headers:Rn},[Ie]:It}],[Ie]:Gs},{error:"FIPS is enabled but this partition does not support FIPS",[Ie]:Dl}],[Ie]:Gs},{conditions:E8,rules:[{conditions:[S8],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Rn,headers:Rn},[Ie]:It}],[Ie]:Gs},{error:"DualStack is enabled but this partition does not support DualStack",[Ie]:Dl}],[Ie]:Gs},g8,{endpoint:{url:f8,properties:Rn,headers:Rn},[Ie]:It}],[Ie]:Gs}],[Ie]:Gs},{error:"Invalid Configuration: Missing Region",[Ie]:Dl}]},P8=Tge});var N8,Ml,kge,B8,D8=R(()=>{N8=O(pl()),Ml=O(ba());O8();kge=new Ml.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),B8=(e,r={})=>kge.get(e,()=>(0,Ml.resolveEndpoint)(P8,{endpointParams:e,logger:r.logger}));Ml.customEndpointFunctions.aws=N8.awsEndpointFunctions});var M8,L8,Zy,e0,F8,q8=R(()=>{rr();rn();M8=O(Me()),L8=O(hi()),Zy=O(kr()),e0=O(or());Sk();D8();F8=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Zy.fromBase64,base64Encoder:e?.base64Encoder??Zy.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??B8,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??l8,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new un},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new uo}],logger:e?.logger??new M8.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??L8.parseUrl,utf8Decoder:e?.utf8Decoder??e0.fromUtf8,utf8Encoder:e?.utf8Encoder??e0.toUtf8})});var t0,Ri,U8,r0,ki,n0,z8,j8,H8,$8,V8,G8,K8=R(()=>{XT();rr();t0=O(wf()),Ri=O(jn());rn();U8=O(Af()),r0=O(Co()),ki=O(xo()),n0=O(ea()),z8=O(vf()),j8=O(Sl());q8();H8=O(Me()),$8=O(kf()),V8=O(Me()),G8=e=>{(0,V8.emitWarningIfUnsupportedVersion)(process.version);let r=(0,$8.resolveDefaultsModeConfig)(e),t=()=>r().then(H8.loadConfigsForDefaultMode),n=F8(e);Vc(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,ki.loadConfig)(Wc,s),bodyLengthChecker:e?.bodyLengthChecker??z8.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,t0.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:gy.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new un},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new uo}],maxAttempts:e?.maxAttempts??(0,ki.loadConfig)(r0.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ki.loadConfig)(Ri.NODE_REGION_CONFIG_OPTIONS,{...Ri.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:n0.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,ki.loadConfig)({...r0.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||j8.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??U8.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??n0.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ki.loadConfig)(Ri.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ki.loadConfig)(Ri.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ki.loadConfig)(t0.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var W8,X8,Q8=R(()=>{W8=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},X8=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var s0,o0,i0,Y8,J8=R(()=>{s0=O(Il()),o0=O(Ye()),i0=O(Me());Q8();Y8=(e,r)=>{let t=Object.assign((0,s0.getAwsRegionExtensionConfiguration)(e),(0,i0.getDefaultExtensionConfiguration)(e),(0,o0.getHttpHandlerExtensionConfiguration)(e),W8(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,s0.resolveAwsRegionExtensionConfiguration)(t),(0,i0.resolveDefaultRuntimeConfig)(t),(0,o0.resolveHttpHandlerRuntimeConfig)(t),X8(t))}});var a0,Z8,e$,c0,t$,r$,n$,l0,Ek,Vs,Jf=R(()=>{a0=O(sf()),Z8=O(of()),e$=O(af()),c0=O(yl()),t$=O(jn());rn();r$=O(df()),n$=O(Fs()),l0=O(Co()),Ek=O(Me());Sk();Jy();K8();J8();Vs=class extends Ek.Client{config;constructor(...[r]){let t=G8(r||{});super(t),this.initConfig=t;let n=u8(t),s=(0,c0.resolveUserAgentConfig)(n),o=(0,l0.resolveRetryConfig)(s),i=(0,t$.resolveRegionConfig)(o),c=(0,a0.resolveHostHeaderConfig)(i),l=(0,n$.resolveEndpointConfig)(c),d=d8(l),u=Y8(d,r?.extensions||[]);this.config=u,this.middlewareStack.use((0,c0.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,l0.getRetryPlugin)(this.config)),this.middlewareStack.use((0,r$.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,a0.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Z8.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,e$.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ru(this.config,{httpAuthSchemeParametersProvider:c8,identityProviderConfigProvider:async f=>new ca({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Iu(this.config))}destroy(){super.destroy()}}});var s$,gn,d0=R(()=>{s$=O(Me()),gn=class e extends s$.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var Ck,_k,wk,Zf,em,tm,rm,nm,sm,Ak,vk,om,im=R(()=>{Ck=O(Me());d0();_k=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ck.SENSITIVE_STRING}}),wk=e=>({...e,...e.Credentials&&{Credentials:_k(e.Credentials)}}),Zf=class e extends gn{name="ExpiredTokenException";$fault="client";constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},em=class e extends gn{name="MalformedPolicyDocumentException";$fault="client";constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},tm=class e extends gn{name="PackedPolicyTooLargeException";$fault="client";constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},rm=class e extends gn{name="RegionDisabledException";$fault="client";constructor(r){super({name:"RegionDisabledException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},nm=class e extends gn{name="IDPRejectedClaimException";$fault="client";constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},sm=class e extends gn{name="InvalidIdentityTokenException";$fault="client";constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ak=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Ck.SENSITIVE_STRING}}),vk=e=>({...e,...e.Credentials&&{Credentials:_k(e.Credentials)}}),om=class e extends gn{name="IDPCommunicationErrorException";$fault="client";constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}}});var o$,Le,i$,a$,c$,l$,d$,Rge,Ige,Pge,Oge,Nge,Bge,Dge,Mge,Lge,u$,Fge,qge,Uge,zge,jge,Hge,f$,$ge,Vge,m$,Gge,Kge,Wge,Xge,Qge,Yge,Jge,To,Zge,h$,p$,g$,y$,Tk,eye,kk,Ll,tye,Rk,Ik,Fl,Pk,ql,Ok,Nk,Bk,Ul,zl,Dk,Mk,Lk,jl,Fk,Hl,$l,qk,Uk,vo,zk,jk,Hk,$k,Vk,S$,Gk,Kk,Wk,Jt,b$,rye,Xk=R(()=>{rr();o$=O(Ye()),Le=O(Me());im();d0();i$=async(e,r)=>{let t=p$,n;return n=b$({...Mge(e,r),[y$]:eye,[S$]:g$}),h$(r,t,"/",void 0,n)},a$=async(e,r)=>{let t=p$,n;return n=b$({...Lge(e,r),[y$]:tye,[S$]:g$}),h$(r,t,"/",void 0,n)},c$=async(e,r)=>{if(e.statusCode>=300)return d$(e,r);let t=await ef(e.body,r),n={};return n=$ge(t.AssumeRoleResult,r),{$metadata:To(e),...n}},l$=async(e,r)=>{if(e.statusCode>=300)return d$(e,r);let t=await ef(e.body,r),n={};return n=Vge(t.AssumeRoleWithWebIdentityResult,r),{$metadata:To(e),...n}},d$=async(e,r)=>{let t={...e,body:await ov(e.body,r)},n=rye(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Rge(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Nge(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bge(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Dge(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Ige(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Pge(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Oge(t,r);default:let s=t.body;return Zge({output:e,parsedBody:s.Error,errorCode:n})}},Rge=async(e,r)=>{let t=e.body,n=Gge(t.Error,r),s=new Zf({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Ige=async(e,r)=>{let t=e.body,n=Kge(t.Error,r),s=new om({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Pge=async(e,r)=>{let t=e.body,n=Wge(t.Error,r),s=new nm({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Oge=async(e,r)=>{let t=e.body,n=Xge(t.Error,r),s=new sm({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Nge=async(e,r)=>{let t=e.body,n=Qge(t.Error,r),s=new em({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Bge=async(e,r)=>{let t=e.body,n=Yge(t.Error,r),s=new tm({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Dge=async(e,r)=>{let t=e.body,n=Jge(t.Error,r),s=new rm({$metadata:To(e),...n});return(0,Le.decorateServiceException)(s,t)},Mge=(e,r)=>{let t={};if(e[Hl]!=null&&(t[Hl]=e[Hl]),e[$l]!=null&&(t[$l]=e[$l]),e[zl]!=null){let n=u$(e[zl],r);e[zl]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}if(e[Ul]!=null&&(t[Ul]=e[Ul]),e[ql]!=null&&(t[ql]=e[ql]),e[Hk]!=null){let n=Hge(e[Hk],r);e[Hk]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}if(e[Vk]!=null){let n=jge(e[Vk],r);e[Vk]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;t[i]=o})}if(e[Nk]!=null&&(t[Nk]=e[Nk]),e[zk]!=null&&(t[zk]=e[zk]),e[$k]!=null&&(t[$k]=e[$k]),e[vo]!=null&&(t[vo]=e[vo]),e[Mk]!=null){let n=Uge(e[Mk],r);e[Mk]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;t[i]=o})}return t},Lge=(e,r)=>{let t={};if(e[Hl]!=null&&(t[Hl]=e[Hl]),e[$l]!=null&&(t[$l]=e[$l]),e[Kk]!=null&&(t[Kk]=e[Kk]),e[Lk]!=null&&(t[Lk]=e[Lk]),e[zl]!=null){let n=u$(e[zl],r);e[zl]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}return e[Ul]!=null&&(t[Ul]=e[Ul]),e[ql]!=null&&(t[ql]=e[ql]),t},u$=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=Fge(s,r);Object.entries(o).forEach(([i,c])=>{t[`member.${n}.${i}`]=c}),n++}return t},Fge=(e,r)=>{let t={};return e[Wk]!=null&&(t[Wk]=e[Wk]),t},qge=(e,r)=>{let t={};return e[Dk]!=null&&(t[Dk]=e[Dk]),e[Pk]!=null&&(t[Pk]=e[Pk]),t},Uge=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=qge(s,r);Object.entries(o).forEach(([i,c])=>{t[`member.${n}.${i}`]=c}),n++}return t},zge=(e,r)=>{let t={};return e[Bk]!=null&&(t[Bk]=e[Bk]),e[Gk]!=null&&(t[Gk]=e[Gk]),t},jge=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},Hge=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=zge(s,r);Object.entries(o).forEach(([i,c])=>{t[`member.${n}.${i}`]=c}),n++}return t},f$=(e,r)=>{let t={};return e[kk]!=null&&(t[kk]=(0,Le.expectString)(e[kk])),e[Rk]!=null&&(t[Rk]=(0,Le.expectString)(e[Rk])),t},$ge=(e,r)=>{let t={};return e[Fl]!=null&&(t[Fl]=m$(e[Fl],r)),e[Ll]!=null&&(t[Ll]=f$(e[Ll],r)),e[jl]!=null&&(t[jl]=(0,Le.strictParseInt32)(e[jl])),e[vo]!=null&&(t[vo]=(0,Le.expectString)(e[vo])),t},Vge=(e,r)=>{let t={};return e[Fl]!=null&&(t[Fl]=m$(e[Fl],r)),e[Uk]!=null&&(t[Uk]=(0,Le.expectString)(e[Uk])),e[Ll]!=null&&(t[Ll]=f$(e[Ll],r)),e[jl]!=null&&(t[jl]=(0,Le.strictParseInt32)(e[jl])),e[Fk]!=null&&(t[Fk]=(0,Le.expectString)(e[Fk])),e[Ik]!=null&&(t[Ik]=(0,Le.expectString)(e[Ik])),e[vo]!=null&&(t[vo]=(0,Le.expectString)(e[vo])),t},m$=(e,r)=>{let t={};return e[Tk]!=null&&(t[Tk]=(0,Le.expectString)(e[Tk])),e[qk]!=null&&(t[qk]=(0,Le.expectString)(e[qk])),e[jk]!=null&&(t[jk]=(0,Le.expectString)(e[jk])),e[Ok]!=null&&(t[Ok]=(0,Le.expectNonNull)((0,Le.parseRfc3339DateTimeWithOffset)(e[Ok]))),t},Gge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Kge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Wge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Xge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Qge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Yge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},Jge=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=(0,Le.expectString)(e[Jt])),t},To=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zge=(0,Le.withBaseException)(gn),h$=async(e,r,t,n,s)=>{let{hostname:o,protocol:i="https",port:c,path:l}=await e.endpoint(),d={protocol:i,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new o$.HttpRequest(d)},p$={"content-type":"application/x-www-form-urlencoded"},g$="2011-06-15",y$="Action",Tk="AccessKeyId",eye="AssumeRole",kk="AssumedRoleId",Ll="AssumedRoleUser",tye="AssumeRoleWithWebIdentity",Rk="Arn",Ik="Audience",Fl="Credentials",Pk="ContextAssertion",ql="DurationSeconds",Ok="Expiration",Nk="ExternalId",Bk="Key",Ul="Policy",zl="PolicyArns",Dk="ProviderArn",Mk="ProvidedContexts",Lk="ProviderId",jl="PackedPolicySize",Fk="Provider",Hl="RoleArn",$l="RoleSessionName",qk="SecretAccessKey",Uk="SubjectFromWebIdentityToken",vo="SourceIdentity",zk="SerialNumber",jk="SessionToken",Hk="Tags",$k="TokenCode",Vk="TransitiveTagKeys",S$="Version",Gk="Value",Kk="WebIdentityToken",Wk="arn",Jt="message",b$=e=>Object.entries(e).map(([r,t])=>(0,Le.extendedEncodeURIComponent)(r)+"="+(0,Le.extendedEncodeURIComponent)(t)).join("&"),rye=(e,r)=>{if(r.Error?.Code!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"}});var x$,E$,C$,ka,u0=R(()=>{x$=O(Fs()),E$=O(ei()),C$=O(Me());Jy();im();Xk();ka=class extends C$.Command.classBuilder().ep(Yy).m(function(r,t,n,s){return[(0,E$.getSerdePlugin)(n,this.serialize,this.deserialize),(0,x$.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,wk).ser(i$).de(c$).build(){}});var _$,w$,A$,Ra,f0=R(()=>{_$=O(Fs()),w$=O(ei()),A$=O(Me());Jy();im();Xk();Ra=class extends A$.Command.classBuilder().ep(Yy).m(function(r,t,n,s){return[(0,w$.getSerdePlugin)(n,this.serialize,this.deserialize),(0,_$.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Ak,vk).ser(a$).de(l$).build(){}});var v$,nye,m0,T$=R(()=>{v$=O(Me());u0();f0();Jf();nye={AssumeRoleCommand:ka,AssumeRoleWithWebIdentityCommand:Ra},m0=class extends Vs{};(0,v$.createAggregatedClient)(nye,m0)});var k$=R(()=>{u0();f0()});var R$=R(()=>{im()});var I$,P$,O$,N$,B$,D$,M$=R(()=>{us();I$=O(Il());u0();f0();P$=e=>{if(typeof e?.Arn=="string"){let r=e.Arn.split(":");if(r.length>4&&r[4]!=="")return r[4]}},O$=async(e,r,t,n={})=>{let s=typeof e=="function"?await e():e,o=typeof r=="function"?await r():r,i=await(0,I$.stsRegionDefaultResolver)(n)();return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),s??o??i},N$=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:u=e?.parentClientConfig?.logger,profile:f=e?.parentClientConfig?.profile,region:g,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y}=e,A=await O$(g,e?.parentClientConfig?.region,y,{logger:u,profile:f}),k=!D$(p);t=new r({...e,profile:f,credentialDefaultProvider:()=>async()=>n,region:A,requestHandler:k?p:void 0,logger:u})}let{Credentials:i,AssumedRoleUser:c}=await t.send(new ka(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=P$(c),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return Jo(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},B$=(e,r)=>{let t;return async n=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:u,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,p=await O$(u,e?.parentClientConfig?.region,g,{logger:l,profile:d}),y=!D$(f);t=new r({...e,profile:d,region:p,requestHandler:y?f:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new Ra(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=P$(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&Jo(c,"RESOLVED_ACCOUNT_ID","T"),Jo(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},D$=e=>e?.metadata?.handlerProtocol==="h2"});var L$,F$,q$,sye,U$=R(()=>{M$();Jf();L$=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,F$=(e={},r)=>N$(e,L$(Vs,r)),q$=(e={},r)=>B$(e,L$(Vs,r)),sye=e=>r=>e({roleAssumer:F$(r),roleAssumerWithWebIdentity:q$(r),...r})});var Qk={};Cn(Qk,{AssumeRoleCommand:()=>ka,AssumeRoleResponseFilterSensitiveLog:()=>wk,AssumeRoleWithWebIdentityCommand:()=>Ra,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Ak,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>vk,CredentialsFilterSensitiveLog:()=>_k,ExpiredTokenException:()=>Zf,IDPCommunicationErrorException:()=>om,IDPRejectedClaimException:()=>nm,InvalidIdentityTokenException:()=>sm,MalformedPolicyDocumentException:()=>em,PackedPolicyTooLargeException:()=>tm,RegionDisabledException:()=>rm,STS:()=>m0,STSClient:()=>Vs,STSServiceException:()=>gn,__Client:()=>Ek.Client,decorateDefaultCredentialProvider:()=>sye,getDefaultRoleAssumer:()=>F$,getDefaultRoleAssumerWithWebIdentity:()=>q$});var Yk=R(()=>{Jf();T$();k$();R$();U$();d0()});var eR=b(z$=>{"use strict";var Zk=bo(),Jk=nn(),oye=require("child_process"),iye=require("util"),aye=(us(),Re(Zo)),cye=(e,r,t)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let o=new Date;if(new Date(r.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=r.AccountId;!n&&t?.[e]?.aws_account_id&&(n=t[e].aws_account_id);let s={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...n&&{accountId:n}};return aye.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},lye=async(e,r,t)=>{let n=r[e];if(r[e]){let s=n.credential_process;if(s!==void 0){let o=iye.promisify(Zk.externalDataInterceptor?.getTokenRecord?.().exec??oye.exec);try{let{stdout:i}=await o(s),c;try{c=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return cye(e,c,r)}catch(i){throw new Jk.CredentialsProviderError(i.message,{logger:t})}}else throw new Jk.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new Jk.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},dye=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await Zk.parseKnownFiles(e);return lye(Zk.getProfileName({profile:e.profile??r?.profile}),t,e.logger)};z$.fromProcess=dye});var tR=b(Ks=>{"use strict";var uye=Ks&&Ks.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),fye=Ks&&Ks.__setModuleDefault||(Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r}),mye=Ks&&Ks.__importStar||(function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=e(r),s=0;s<n.length;s++)n[s]!=="default"&&uye(t,r,n[s]);return fye(t,r),t}})();Object.defineProperty(Ks,"__esModule",{value:!0});Ks.fromWebToken=void 0;var hye=e=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>mye((Yk(),Re(Qk))));d=u({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...r?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:c,DurationSeconds:l})};Ks.fromWebToken=hye});var H$=b(h0=>{"use strict";Object.defineProperty(h0,"__esModule",{value:!0});h0.fromTokenFile=void 0;var pye=(us(),Re(Zo)),gye=nn(),yye=bo(),Sye=require("fs"),bye=tR(),j$="AWS_WEB_IDENTITY_TOKEN_FILE",xye="AWS_ROLE_ARN",Eye="AWS_ROLE_SESSION_NAME",Cye=(e={})=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[j$],n=e?.roleArn??process.env[xye],s=e?.roleSessionName??process.env[Eye];if(!t||!n)throw new gye.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,bye.fromWebToken)({...e,webIdentityToken:yye.externalDataInterceptor?.getTokenRecord?.()[t]??(0,Sye.readFileSync)(t,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(r);return t===process.env[j$]&&(0,pye.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};h0.fromTokenFile=Cye});var rR=b(am=>{"use strict";var $$=H$(),V$=tR();Object.keys($$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(am,e)&&Object.defineProperty(am,e,{enumerable:!0,get:function(){return $$[e]}})});Object.keys(V$).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(am,e)&&Object.defineProperty(am,e,{enumerable:!0,get:function(){return V$[e]}})})});var Y$=b(Q$=>{"use strict";var sR=bo(),cm=nn(),Ii=(us(),Re(Zo)),_ye=(e,r,t)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>O(GT())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>O(Cf()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>cm.chain(o(s??{}),i(s))().then(nR)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>O(Cf()));return async()=>o(s)().then(nR)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>O(FT()));return async()=>o(s)().then(nR)}};if(e in n)return n[e];throw new cm.CredentialsProviderError(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},nR=e=>Ii.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),wye=(e,{profile:r="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Aye(e,{profile:r,logger:t})||vye(e,{profile:r,logger:t})),Aye=(e,{profile:r,logger:t})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&t?.debug?.(`    ${r} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},vye=(e,{profile:r,logger:t})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&t?.debug?.(`    ${r} isCredentialSourceProfile credential_source=${e.credential_source}`),n},Tye=async(e,r,t,n={},s)=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=r[e],{source_profile:i,region:c}=o;if(!t.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(Yk(),Qk));t.roleAssumer=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:c??t?.parentClientConfig?.region}},t.clientPlugins)}if(i&&i in n)throw new cm.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${sR.getProfileName(t)}. Profiles visited: `+Object.keys(n).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let l=i?s(i,r,t,{...n,[i]:!0},G$(r[i]??{})):(await _ye(o.credential_source,e,t.logger)(t))();if(G$(o))return l.then(d=>Ii.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:u}=o;if(u){if(!t.mfaCodeProvider)throw new cm.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await t.mfaCodeProvider(u)}let f=await l;return t.roleAssumer(f,d).then(g=>Ii.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},G$=e=>!e.role_arn&&!!e.credential_source,kye=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",Rye=async(e,r)=>Promise.resolve().then(()=>O(eR())).then(({fromProcess:t})=>t({...e,profile:r})().then(n=>Ii.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),Iye=async(e,r,t={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>O(yk()));return n({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>r.sso_session?Ii.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Ii.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},Pye=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),K$=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,W$=async(e,r)=>{r?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Ii.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},Oye=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,Nye=async(e,r)=>Promise.resolve().then(()=>O(rR())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity,logger:r.logger,parentClientConfig:r.parentClientConfig})().then(n=>Ii.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),X$=async(e,r,t,n={},s=!1)=>{let o=r[e];if(Object.keys(n).length>0&&K$(o))return W$(o,t);if(s||wye(o,{profile:e,logger:t.logger}))return Tye(e,r,t,n,X$);if(K$(o))return W$(o,t);if(Oye(o))return Nye(o,t);if(kye(o))return Rye(t,e);if(Pye(o))return await Iye(e,o,t);throw new cm.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},Bye=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await sR.parseKnownFiles(t);return X$(sR.getProfileName({profile:e.profile??r?.profile}),n,t)};Q$.fromIni=Bye});var t9=b(p0=>{"use strict";var oR=FT(),lm=nn(),Dye=bo(),J$="AWS_EC2_METADATA_DISABLED",Mye=async e=>{let{ENV_CMDS_FULL_URI:r,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>O(Cf()));if(process.env[t]||process.env[r]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>O(GT()));return lm.chain(o(e),n(e))}return process.env[J$]&&process.env[J$]!=="false"?async()=>{throw new lm.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function Lye(e,r){let t=Fye(e),n,s,o,i=async c=>{if(c?.forceRefresh)return await t(c);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||r?.(o))if(o)s||(s=t(c).then(l=>{o=l,s=void 0}));else return n=t(c).then(l=>{o=l,n=void 0}),i(c);return o};return i}var Fye=e=>async r=>{let t;for(let n of e)try{return await n(r)}catch(s){if(t=s,s?.tryNextLink)continue;throw s}throw t},Z$=!1,qye=(e={})=>Lye([async()=>{if(e.profile??process.env[Dye.ENV_PROFILE])throw process.env[oR.ENV_KEY]&&process.env[oR.ENV_SECRET]&&(Z$||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),Z$=!0)),new lm.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),oR.fromEnv(e)()},async r=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e;if(!t&&!n&&!s&&!o&&!i)throw new lm.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:c}=await Promise.resolve().then(()=>O(yk()));return c(e)(r)},async r=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>O(Y$()));return t(e)(r)},async r=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>O(eR()));return t(e)(r)},async r=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>O(rR()));return t(e)(r)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Mye(e))()),async()=>{throw new lm.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],e9),Uye=e=>e?.expiration!==void 0,e9=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;p0.credentialsTreatedAsExpired=e9;p0.credentialsWillNeedRefresh=Uye;p0.defaultProvider=qye});var S9=b(Zt=>{"use strict";var Pi=Pg(),r9=Rv(),zye=Ye(),n9="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",s9="s3_disable_multiregion_access_points",jye={environmentVariableSelector:e=>Pi.booleanSelector(e,n9,Pi.SelectorType.ENV),configFileSelector:e=>Pi.booleanSelector(e,s9,Pi.SelectorType.CONFIG),default:!1},o9="AWS_S3_USE_ARN_REGION",i9="s3_use_arn_region",Hye={environmentVariableSelector:e=>Pi.booleanSelector(e,o9,Pi.SelectorType.ENV),configFileSelector:e=>Pi.booleanSelector(e,i9,Pi.SelectorType.CONFIG),default:void 0},$ye=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Vye=/(\d+\.){3}\d+/,Gye=/\.\./,a9=/\./,Kye=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,c9=/^s3(-external-1)?\.amazonaws\.com$/,iR="amazonaws.com",Wye=e=>typeof e.bucketName=="string",Xye=e=>$ye.test(e)&&!Vye.test(e)&&!Gye.test(e),l9=e=>{let r=e.match(Kye);return[r[4],e.replace(new RegExp(`^${r[0]}`),"")]},Qye=e=>c9.test(e)?["us-east-1",iR]:l9(e),d9=e=>c9.test(e)?[e.replace(`.${iR}`,""),iR]:l9(e),Yye=e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},Jye=e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},Zye=e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},u9=e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},f9=(e,r)=>{if(e!==r.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${r.clientPartition}"`)},e0e=(e,r)=>{},cR=e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},m9=e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Vl=(e,r={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||r?.tlsCompatible&&a9.test(e))throw new Error(`Invalid DNS label ${e}`)},t0e=e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},h9=e=>{let r=e.includes(":")?":":"/",[t,...n]=e.split(r);if(t==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${r}{accesspointname}`);return{accesspointName:n[0]}}else if(t==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${r}{outpostId}${r}accesspoint${r}{accesspointName}`);let[s,o,i]=n;return{outpostId:s,accesspointName:i}}else throw new Error(`ARN resource should begin with 'accesspoint${r}' or 'outpost${r}'`)},r0e=e=>{},p9=e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},n0e=e=>{try{e.split(".").forEach(r=>{Vl(r)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},aR=e=>(t0e(e),Wye(e)?s0e(e):o0e(e)),s0e=({accelerateEndpoint:e=!1,clientRegion:r,baseHostname:t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,pathStyleEndpoint:i=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[d,u]=l?[r,t]:Qye(t);return i||!Xye(n)||c&&a9.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${u}`:t}:(e?t=`s3-accelerate${s?".dualstack":""}.${u}`:s&&(t=`s3.dualstack.${d}.${u}`),{bucketEndpoint:!0,hostname:`${n}.${t}`})},o0e=e=>{let{isCustomEndpoint:r,baseHostname:t,clientRegion:n}=e,s=r?t:d9(t)[1],{pathStyleEndpoint:o,accelerateEndpoint:i=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:d,clientPartition:u="aws"}=e;Yye({pathStyleEndpoint:o,accelerateEndpoint:i,tlsCompatible:l});let{service:f,partition:g,accountId:p,region:y,resource:A}=d;Jye(f),f9(g,{clientPartition:u}),m9(p);let{accesspointName:k,outpostId:N}=h9(A);return f==="s3-object-lambda"?i0e({...e,tlsCompatible:l,bucketName:d,accesspointName:k,hostnameSuffix:s}):y===""?a0e({...e,mrapAlias:k,hostnameSuffix:s}):N?c0e({...e,clientRegion:n,outpostId:N,accesspointName:k,hostnameSuffix:s}):l0e({...e,clientRegion:n,accesspointName:k,hostnameSuffix:s})},i0e=({dualstackEndpoint:e=!1,fipsEndpoint:r=!1,tlsCompatible:t=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:o=s,accesspointName:i,bucketName:c,hostnameSuffix:l})=>{let{accountId:d,region:u,service:f}=c;cR(s);let g=`${i}-${d}`;Vl(g,{tlsCompatible:t});let p=n?u:s,y=n?u:o;return{bucketEndpoint:!0,hostname:`${g}.${f}${r?"-fips":""}.${p}.${l}`,signingRegion:y,signingService:f}},a0e=({disableMultiregionAccessPoints:e,dualstackEndpoint:r=!1,isCustomEndpoint:t,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return n0e(n),{bucketEndpoint:!0,hostname:`${n}${t?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},c0e=({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,outpostId:s,dualstackEndpoint:o=!1,fipsEndpoint:i=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:d,hostnameSuffix:u})=>{cR(r);let f=`${l}-${n.accountId}`;Vl(f,{tlsCompatible:c});let g=e?n.region:r,p=e?n.region:t;return u9(n.service),Vl(s,{tlsCompatible:c}),p9(i),{bucketEndpoint:!0,hostname:`${`${f}.${s}`}${d?"":`.s3-outposts.${g}`}.${u}`,signingRegion:p,signingService:"s3-outposts"}},l0e=({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,tlsCompatible:i=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{cR(r);let u=`${c}-${n.accountId}`;Vl(u,{tlsCompatible:i});let f=e?n.region:r,g=e?n.region:t;return Zye(n.service),{bucketEndpoint:!0,hostname:`${u}${l?"":`.s3-accesspoint${o?"-fips":""}${s?".dualstack":""}.${f}`}.${d}`,signingRegion:g}},g9=e=>(r,t)=>async n=>{let{Bucket:s}=n.input,o=e.bucketEndpoint,i=n.request;if(zye.HttpRequest.isInstance(i)){if(e.bucketEndpoint)i.hostname=s;else if(r9.validate(s)){let c=r9.parse(s),l=await e.region(),d=await e.useDualstackEndpoint(),u=await e.useFipsEndpoint(),{partition:f,signingRegion:g=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:d,useFipsEndpoint:u})||{},p=await e.useArnRegion(),{hostname:y,bucketEndpoint:A,signingRegion:k,signingService:N}=aR({bucketName:c,baseHostname:i.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:u,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:i.protocol==="https:",useArnRegion:p,clientPartition:f,clientSigningRegion:g,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});k&&k!==g&&(t.signing_region=k),N&&N!=="s3"&&(t.signing_service=N),i.hostname=y,o=A}else{let c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:u,bucketEndpoint:f}=aR({bucketName:s,clientRegion:c,baseHostname:i.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:i.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});i.hostname=u,o=f}o&&(i.path=i.path.replace(/^(\/)?[^\/]+/,""),i.path===""&&(i.path="/"))}return r({...n,request:i})},y9={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},d0e=e=>({applyToStack:r=>{r.addRelativeTo(g9(e),y9)}});function u0e(e){let{bucketEndpoint:r=!1,forcePathStyle:t=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:o=!1}=e;return Object.assign(e,{bucketEndpoint:r,forcePathStyle:t,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)})}Zt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS=jye;Zt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME=n9;Zt.NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME=s9;Zt.NODE_USE_ARN_REGION_CONFIG_OPTIONS=Hye;Zt.NODE_USE_ARN_REGION_ENV_NAME=o9;Zt.NODE_USE_ARN_REGION_INI_NAME=i9;Zt.bucketEndpointMiddleware=g9;Zt.bucketEndpointMiddlewareOptions=y9;Zt.bucketHostname=aR;Zt.getArnResources=h9;Zt.getBucketEndpointPlugin=d0e;Zt.getSuffixForArnEndpoint=d9;Zt.resolveBucketEndpointConfig=u0e;Zt.validateAccountId=m9;Zt.validateDNSHostLabel=Vl;Zt.validateNoDualstack=r0e;Zt.validateNoFIPS=p9;Zt.validateOutpostService=u9;Zt.validatePartition=f9;Zt.validateRegion=e0e});var _9=b(Ni=>{"use strict";var E9=_g(),Ia=gp(),Gl=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&b9(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&b9(r),parseInt(Ia.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function b9(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var g0=class{toUtf8;fromUtf8;constructor(r,t){this.toUtf8=r,this.fromUtf8=t}format(r){let t=[];for(let o of Object.keys(r)){let i=this.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(r.value,3),i;case"string":let c=this.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(Gl.fromNumber(r.value.valueOf()).bytes,1),u;case"uuid":if(!x0e.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Ia.fromHex(r.value.replace(/\-/g,"")),1),f}}parse(r){let t={},n=0;for(;n<r.byteLength;){let s=r.getUint8(n++),o=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,s));switch(n+=s,r.getUint8(n++)){case 0:t[o]={type:x9,value:!0};break;case 1:t[o]={type:x9,value:!1};break;case 2:t[o]={type:f0e,value:r.getInt8(n++)};break;case 3:t[o]={type:m0e,value:r.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:h0e,value:r.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:p0e,value:new Gl(new Uint8Array(r.buffer,r.byteOffset+n,8))},n+=8;break;case 6:let i=r.getUint16(n,!1);n+=2,t[o]={type:g0e,value:new Uint8Array(r.buffer,r.byteOffset+n,i)},n+=i;break;case 7:let c=r.getUint16(n,!1);n+=2,t[o]={type:y0e,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,c))},n+=c;break;case 8:t[o]={type:S0e,value:new Date(new Gl(new Uint8Array(r.buffer,r.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let l=new Uint8Array(r.buffer,r.byteOffset+n,16);n+=16,t[o]={type:b0e,value:`${Ia.toHex(l.subarray(0,4))}-${Ia.toHex(l.subarray(4,6))}-${Ia.toHex(l.subarray(6,8))}-${Ia.toHex(l.subarray(8,10))}-${Ia.toHex(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},x9="boolean",f0e="byte",m0e="short",h0e="integer",p0e="long",g0e="binary",y0e="string",S0e="timestamp",b0e="uuid",x0e=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,C9=4,Oi=C9*2,Pa=4,E0e=Oi+Pa*2;function C0e({byteLength:e,byteOffset:r,buffer:t}){if(e<E0e)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(t,r,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(C9,!1),i=n.getUint32(Oi,!1),c=n.getUint32(e-Pa,!1),l=new E9.Crc32().update(new Uint8Array(t,r,Oi));if(i!==l.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,r+Oi,e-(Oi+Pa))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,r+Oi+Pa,o),body:new Uint8Array(t,r+Oi+Pa+o,s-o-(Oi+Pa+Pa))}}var lR=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(r,t){this.headerMarshaller=new g0(r,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){let r=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return t}}}getAvailableMessages(){let r=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return t}}}encode({headers:r,body:t}){let n=this.headerMarshaller.format(r),s=n.byteLength+t.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new E9.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),i.setUint32(s-4,c.update(o.subarray(8,s-4)).digest(),!1),o}decode(r){let{headers:t,body:n}=C0e(r);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(r){return this.headerMarshaller.format(r)}},dR=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.decoder.decode(r)}},uR=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}},fR=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream){let t=await this.options.deserializer(r);t!==void 0&&(yield t)}}},mR=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.serializer(r)}};Ni.EventStreamCodec=lR;Ni.HeaderMarshaller=g0;Ni.Int64=Gl;Ni.MessageDecoderStream=dR;Ni.MessageEncoderStream=uR;Ni.SmithyMessageDecoderStream=fR;Ni.SmithyMessageEncoderStream=mR});var w9=b(hR=>{"use strict";var dm=_9();function _0e(e){let r=0,t=0,n=null,s=null,o=c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,t=4,n=new Uint8Array(c),new DataView(n.buffer).setUint32(0,c,!1)},i=async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await c.next();if(d){if(r)if(r===t)yield n;else throw new Error("Truncated event message received.");else return;return}let u=l.length,f=0;for(;f<u;){if(!n){let p=u-f;s||(s=new Uint8Array(4));let y=Math.min(4-t,p);if(s.set(l.slice(f,f+y),t),t+=y,f+=y,t<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let g=Math.min(r-t,u-f);n.set(l.slice(f,f+g),t),t+=g,f+=g,r&&r===t&&(yield n,n=null,r=0,t=0)}}};return{[Symbol.asyncIterator]:i}}function w0e(e,r){return async function(t){let{value:n}=t.headers[":message-type"];if(n==="error"){let s=new Error(t.headers[":error-message"].value||"UnknownError");throw s.name=t.headers[":error-code"].value,s}else if(n==="exception"){let s=t.headers[":exception-type"].value,o={[s]:t},i=await e(o);if(i.$unknown){let c=new Error(r(t.body));throw c.name=s,c}throw i[s]}else if(n==="event"){let s={[t.headers[":event-type"].value]:t},o=await e(s);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}var y0=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:r,utf8Decoder:t}){this.eventStreamCodec=new dm.EventStreamCodec(r,t),this.utfEncoder=r}deserialize(r,t){let n=_0e(r);return new dm.SmithyMessageDecoderStream({messageStream:new dm.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:w0e(t,this.utfEncoder)})}serialize(r,t){return new dm.MessageEncoderStream({messageStream:new dm.SmithyMessageEncoderStream({inputStream:r,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},A0e=e=>new y0(e);hR.EventStreamMarshaller=y0;hR.eventStreamSerdeProvider=A0e});var A9=b(pR=>{"use strict";var v0e=w9(),T0e=require("stream");async function*k0e(e){let r=!1,t=!1,n=new Array;for(e.on("error",s=>{if(r||(r=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{r=!0});!t;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),t=r&&n.length===0}}var S0=class{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:t}){this.universalMarshaller=new v0e.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:r})}deserialize(r,t){let n=typeof r[Symbol.asyncIterator]=="function"?r:k0e(r);return this.universalMarshaller.deserialize(n,t)}serialize(r,t){return T0e.Readable.from(this.universalMarshaller.serialize(r,t))}},R0e=e=>new S0(e);pR.EventStreamMarshaller=S0;pR.eventStreamSerdeProvider=R0e});var v9=b(gR=>{"use strict";var I0e=require("fs"),P0e=or(),O0e=require("stream"),b0=class extends O0e.Writable{hash;constructor(r,t){super(t),this.hash=r}_write(r,t,n){try{this.hash.update(P0e.toUint8Array(r))}catch(s){return n(s)}n()}},N0e=(e,r)=>new Promise((t,n)=>{if(!B0e(r)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=I0e.createReadStream(r.path,{start:r.start,end:r.end}),o=new e,i=new b0(o);s.pipe(i),s.on("error",c=>{i.end(),n(c)}),i.on("error",n),i.on("finish",function(){o.digest().then(t).catch(n)})}),B0e=e=>typeof e.path=="string",D0e=(e,r)=>{if(r.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let t=new e,n=new b0(t);return r.pipe(n),new Promise((s,o)=>{r.on("error",i=>{n.end(),o(i)}),n.on("error",o),n.on("finish",()=>{t.digest().then(s).catch(o)})})};gR.fileStreamHasher=N0e;gR.readableStreamHasher=D0e});var P9=b(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});x0.getRuntimeConfig=void 0;var T9=(rr(),Re(zn)),M0e=Yg(),L0e=Me(),F0e=hi(),k9=kr(),R9=ta(),I9=or(),q0e=LT(),U0e=MT(),z0e=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??k9.fromBase64,base64Encoder:e?.base64Encoder??k9.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??U0e.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??R9.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??q0e.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new T9.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4a"),signer:new T9.AwsSdkSigV4ASigner}],logger:e?.logger??new L0e.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??R9.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??M0e.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??F0e.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??I9.fromUtf8,utf8Encoder:e?.utf8Encoder??I9.toUtf8});x0.getRuntimeConfig=z0e});var M9=b(C0=>{"use strict";Object.defineProperty(C0,"__esModule",{value:!0});C0.getRuntimeConfig=void 0;var j0e=(Ns(),Re(Os)),H0e=j0e.__importDefault(_j()),yR=(rr(),Re(zn)),$0e=t9(),V0e=S9(),O9=_v(),G0e=Mg(),N9=wf(),E0=jn(),K0e=A9(),SR=Af(),W0e=v9(),B9=Co(),Yn=xo(),D9=ea(),X0e=vf(),Q0e=Sl(),Y0e=P9(),J0e=Me(),Z0e=kf(),eSe=Me(),tSe=e=>{(0,eSe.emitWarningIfUnsupportedVersion)(process.version);let r=(0,Z0e.resolveDefaultsModeConfig)(e),t=()=>r().then(J0e.loadConfigsForDefaultMode),n=(0,Y0e.getRuntimeConfig)(e);(0,yR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Yn.loadConfig)(yR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??X0e.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??$0e.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,N9.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:H0e.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,Yn.loadConfig)(G0e.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??K0e.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Yn.loadConfig)(B9.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??SR.Hash.bind(null,"md5"),region:e?.region??(0,Yn.loadConfig)(E0.NODE_REGION_CONFIG_OPTIONS,{...E0.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,Yn.loadConfig)(O9.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:D9.NodeHttpHandler.create(e?.requestHandler??t),responseChecksumValidation:e?.responseChecksumValidation??(0,Yn.loadConfig)(O9.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,Yn.loadConfig)({...B9.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||Q0e.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??SR.Hash.bind(null,"sha1"),sha256:e?.sha256??SR.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,Yn.loadConfig)(yR.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??D9.streamCollector,streamHasher:e?.streamHasher??W0e.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,Yn.loadConfig)(V0e.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,Yn.loadConfig)(E0.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Yn.loadConfig)(E0.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Yn.loadConfig)(N9.NODE_APP_ID_CONFIG_OPTIONS,s)}};C0.getRuntimeConfig=tSe});var U9=b(um=>{"use strict";function L9(e){return r=>async t=>{let n={...t.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let i=n[o.target];if(i){let c;typeof i=="string"?q9(i,e)?c=e.base64Decoder(i):(c=e.utf8Decoder(i),n[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),n[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),n[o.hash]=e.base64Encoder(await l.digest())}}return r({...t,input:n})}}var F9={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},rSe=e=>({applyToStack:r=>{r.add(L9(e),F9)}});function q9(e,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return r.base64Decoder(e).length===32}catch{return!1}}um.getSsecPlugin=rSe;um.isValidBase64EncodedSSECustomerKey=q9;um.ssecMiddleware=L9;um.ssecMiddlewareOptions=F9});var H9=b(_0=>{"use strict";function z9(e){return r=>async t=>{let{CreateBucketConfiguration:n}=t.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&s!=="us-east-1"&&(t.input.CreateBucketConfiguration=t.input.CreateBucketConfiguration??{},t.input.CreateBucketConfiguration.LocationConstraint=s),r(t)}}var j9={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},nSe=e=>({applyToStack:r=>{r.add(z9(e),j9)}});_0.getLocationConstraintPlugin=nSe;_0.locationConstraintMiddleware=z9;_0.locationConstraintMiddlewareOptions=j9});var K9=b(an=>{"use strict";var sSe=e=>new Promise(r=>setTimeout(r,e*1e3)),G9={minDelay:2,maxDelay:120};an.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(an.WaiterState||(an.WaiterState={}));var oSe=e=>{if(e.state===an.WaiterState.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===an.WaiterState.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==an.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},iSe=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return aSe(e,s)},aSe=(e,r)=>e+Math.random()*(r-e),cSe=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},i,c)=>{let l={},{state:d,reason:u}=await c(s,i);if(u){let y=$9(u);l[y]|=0,l[y]+=1}if(d!==an.WaiterState.RETRY)return{state:d,reason:u,observedResponses:l};let f=1,g=Date.now()+t*1e3,p=Math.log(r/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let N="AbortController signal aborted.";return l[N]|=0,l[N]+=1,{state:an.WaiterState.ABORTED,observedResponses:l}}let y=iSe(e,r,p,f);if(Date.now()+y*1e3>g)return{state:an.WaiterState.TIMEOUT,observedResponses:l};await sSe(y);let{state:A,reason:k}=await c(s,i);if(k){let N=$9(k);l[N]|=0,l[N]+=1}if(A!==an.WaiterState.RETRY)return{state:A,reason:k,observedResponses:l};f+=1}},$9=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),lSe=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},V9=e=>{let r,t=new Promise(n=>{r=()=>n({state:an.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",r)},aborted:t}},dSe=async(e,r,t)=>{let n={...G9,...e};lSe(n);let s=[cSe(n,r,t)],o=[];if(e.abortSignal){let{aborted:i,clearListener:c}=V9(e.abortSignal);o.push(c),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:c}=V9(e.abortController.signal);o.push(c),s.push(i)}return Promise.race(s).then(i=>{for(let c of o)c();return i})};an.checkExceptions=oSe;an.createWaiter=dSe;an.waiterServiceDefaults=G9});var ZG=b(x=>{"use strict";var uSe=KD(),st=_v(),W9=sf(),fSe=of(),mSe=af(),ee=Mg(),X9=yl(),hSe=jn(),q=(rn(),Re(la)),pSe=J6(),gSe=df(),z=Fs(),Q9=Co(),a=Me(),Y9=LT(),j=ei(),ge=(rr(),Re(zn)),E=Ju(),JR=Ye(),ySe=Bp(),SSe=M9(),J9=Il(),xs=U9(),bSe=H9(),Vt=K9(),xSe=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),H={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Cr=class e extends a.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},ESe={requester:"requester"},CSe={requester:"requester"},uS=class e extends Cr{name="NoSuchUpload";$fault="client";constructor(r){super({name:"NoSuchUpload",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},_Se={Enabled:"Enabled",Suspended:"Suspended"},wSe={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},ASe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},vSe={Destination:"Destination"},TSe={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},kSe={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},RSe={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},ISe={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},PSe={COPY:"COPY",REPLACE:"REPLACE"},OSe={OFF:"OFF",ON:"ON"},NSe={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},BSe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},DSe={COPY:"COPY",REPLACE:"REPLACE"},fS=class e extends Cr{name="ObjectNotInActiveTierError";$fault="client";constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},mS=class e extends Cr{name="BucketAlreadyExists";$fault="client";constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},hS=class e extends Cr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},MSe={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},LSe={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},FSe={Directory:"Directory"},qSe={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},USe={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},zSe={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},jSe={DISABLED:"DISABLED",ENABLED:"ENABLED"},HSe={AES256:"AES256",aws_kms:"aws:kms"},$Se={DISABLED:"DISABLED",ENABLED:"ENABLED"},VSe={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},pS=class e extends Cr{name="NoSuchBucket";$fault="client";constructor(r){super({name:"NoSuchBucket",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}};x.AnalyticsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(x.AnalyticsFilter||(x.AnalyticsFilter={}));var GSe={CSV:"CSV"},KSe={V_1:"V_1"},WSe={Disabled:"Disabled",Enabled:"Enabled"},XSe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},QSe={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},YSe={All:"All",Current:"Current"},JSe={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},ZSe={Daily:"Daily",Weekly:"Weekly"},ebe={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},tbe={Disabled:"Disabled",Enabled:"Enabled"},rbe={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},nbe={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},sbe={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},obe={aws:"aws",customer:"customer"};x.MetricsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.AccessPointArn!==void 0?t.AccessPointArn(r.AccessPointArn):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(x.MetricsFilter||(x.MetricsFilter={}));var ibe={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},abe={prefix:"prefix",suffix:"suffix"},cbe={Disabled:"Disabled",Enabled:"Enabled"},lbe={Disabled:"Disabled",Enabled:"Enabled"},dbe={Disabled:"Disabled",Enabled:"Enabled"},ube={Disabled:"Disabled",Enabled:"Enabled"},fbe={Disabled:"Disabled",Enabled:"Enabled"},mbe={Disabled:"Disabled",Enabled:"Enabled"},hbe={Disabled:"Disabled",Enabled:"Enabled"},pbe={BucketOwner:"BucketOwner",Requester:"Requester"},gbe={Disabled:"Disabled",Enabled:"Enabled"},ybe={Enabled:"Enabled",Suspended:"Suspended"},Sbe={http:"http",https:"https"},bbe={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},xbe={ENABLED:"ENABLED"},gS=class e extends Cr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(r){super({name:"InvalidObjectState",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}},yS=class e extends Cr{name="NoSuchKey";$fault="client";constructor(r){super({name:"NoSuchKey",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ebe={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},Cbe={Enabled:"Enabled"},_be={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},SS=class e extends Cr{name="NotFound";$fault="client";constructor(r){super({name:"NotFound",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wbe={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},Abe={url:"url"},TV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),kV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),RV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),IV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:a.SENSITIVE_STRING}}),PV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),OV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),NV=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:a.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:a.SENSITIVE_STRING}}),BV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING},...e.Credentials&&{Credentials:NV(e.Credentials)}}),DV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),MV=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:a.SENSITIVE_STRING}}),LV=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:MV(e.ApplyServerSideEncryptionByDefault)}}),BI=e=>({...e,...e.Rules&&{Rules:e.Rules.map(r=>LV(r))}}),FV=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:BI(e.ServerSideEncryptionConfiguration)}}),qV=e=>({...e,...e.KeyId&&{KeyId:a.SENSITIVE_STRING}}),UV=e=>({...e,...e.SSEKMS&&{SSEKMS:qV(e.SSEKMS)}}),zV=e=>({...e,...e.Encryption&&{Encryption:UV(e.Encryption)}}),jV=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:zV(e.S3BucketDestination)}}),Rx=e=>({...e,...e.Destination&&{Destination:jV(e.Destination)}}),HV=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Rx(e.InventoryConfiguration)}}),$V=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),VV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),GV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),KV=e=>({...e}),WV=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),XV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),QV=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(r=>Rx(r))}}),vbe={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},Tbe={RESTORE_STATUS:"RestoreStatus"},kbe={STANDARD:"STANDARD"},Rbe={Disabled:"Disabled",Enabled:"Enabled"},bS=class e extends Cr{name="EncryptionTypeMismatch";$fault="client";constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},xS=class e extends Cr{name="InvalidRequest";$fault="client";constructor(r){super({name:"InvalidRequest",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},ES=class e extends Cr{name="InvalidWriteOffset";$fault="client";constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},CS=class e extends Cr{name="TooManyParts";$fault="client";constructor(r){super({name:"TooManyParts",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},_S=class e extends Cr{name="IdempotencyParameterMismatch";$fault="client";constructor(r){super({name:"IdempotencyParameterMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wS=class e extends Cr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ibe={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},Pbe={SQL:"SQL"},Obe={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},Nbe={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},Bbe={DOCUMENT:"DOCUMENT",LINES:"LINES"},Dbe={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},Mbe={SELECT:"SELECT"};x.SelectObjectContentEventStream=void 0;(function(e){e.visit=(r,t)=>r.Records!==void 0?t.Records(r.Records):r.Stats!==void 0?t.Stats(r.Stats):r.Progress!==void 0?t.Progress(r.Progress):r.Cont!==void 0?t.Cont(r.Cont):r.End!==void 0?t.End(r.End):t._(r.$unknown[0],r.$unknown[1])})(x.SelectObjectContentEventStream||(x.SelectObjectContentEventStream={}));var YV=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),JV=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:BI(e.ServerSideEncryptionConfiguration)}}),ZV=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Rx(e.InventoryConfiguration)}}),e7=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),t7=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:a.SENSITIVE_STRING}}),r7=e=>({...e,...e.KMSKeyId&&{KMSKeyId:a.SENSITIVE_STRING}}),n7=e=>({...e,...e.Encryption&&{Encryption:r7(e.Encryption)}}),s7=e=>({...e,...e.S3&&{S3:n7(e.S3)}}),o7=e=>({...e,...e.OutputLocation&&{OutputLocation:s7(e.OutputLocation)}}),i7=e=>({...e,...e.RestoreRequest&&{RestoreRequest:o7(e.RestoreRequest)}}),Lbe=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},a7=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),c7=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),l7=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),d7=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING}}),u7=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),f7=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:a.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:a.SENSITIVE_STRING}}),m7=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:a.SENSITIVE_STRING}}),Fbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K],[FPe]:[()=>a.isSerializableHeaderValue(e[aV]),()=>a.dateToUtcString(e[aV]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"AbortMultipartUpload"],[Im]:[,a.expectNonNull(e[xn],"UploadId")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},qbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ec]:e[ht],[Cc]:e[pt],[_c]:e[gt],[wc]:e[yt],[Ac]:e[St],[Yd]:e[bt],[jPe]:[()=>a.isSerializableHeaderValue(e[fV]),()=>e[fV].toString()],[it]:e[ot],[W]:e[K],[xc]:e[Gd],[Wd]:e[Cm],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Im]:[,a.expectNonNull(e[xn],"UploadId")]}),o,i;return e.MultipartUpload!==void 0&&(i=uwe(e.MultipartUpload),i=i.n("CompleteMultipartUpload"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(n).q(s).b(o),t.build()},Ube=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,c)=>(i[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],i),{}),[Qd]:e[Md],[wm]:e[Ld],[f1]:e[we],[Am]:e[Fd],[vm]:e[qd],[Tm]:e[Ud],[km]:e[zd],[LG]:e[M7],[FG]:e[L7],[qG]:[()=>a.isSerializableHeaderValue(e[AS]),()=>a.dateToUtcString(e[AS]).toString()],[UG]:e[F7],[zG]:[()=>a.isSerializableHeaderValue(e[vS]),()=>a.dateToUtcString(e[vS]).toString()],[hc]:[()=>a.isSerializableHeaderValue(e[Js]),()=>a.dateToUtcString(e[Js]).toString()],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[tu]:e[Vd],[xc]:e[Gd],[Wd]:e[Cm],[zPe]:e[pIe],[rOe]:e[g1e],[On]:e[Xr],[Bm]:e[Pe],[Dm]:e[_m],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[Nn]:e[Nr],[$i]:e[Hi],[Gt]:[()=>a.isSerializableHeaderValue(e[wt]),()=>e[wt].toString()],[jG]:e[q7],[HG]:e[U7],[$G]:e[z7],[it]:e[ot],[g1]:e[dc],[Nm]:e[Kd],[pc]:[()=>a.isSerializableHeaderValue(e[Zs]),()=>a.serializeDateTime(e[Zs]).toString()],[Om]:e[Sc],[W]:e[K],[WG]:e[$7]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"CopyObject"]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},zbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Qd]:e[Md],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[m1]:e[$I],[tu]:e[Vd],[Q1e]:[()=>a.isSerializableHeaderValue(e[hV]),()=>e[hV].toString()],[VPe]:e[hm]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,o;return e.CreateBucketConfiguration!==void 0&&(o=Swe(e.CreateBucketConfiguration),s=Ze,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),t.m("PUT").h(n).b(s),t.build()},jbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[n1]:[,""]}),o,i;return e.MetadataConfiguration!==void 0&&(i=aAe(e.MetadataConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(n).q(s).b(o),t.build()},Hbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[s1]:[,""]}),o,i;return e.MetadataTableConfiguration!==void 0&&(i=lAe(e.MetadataTableConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(n).q(s).b(o),t.build()},$be=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,c)=>(i[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],i),{}),[Qd]:e[Md],[wm]:e[Ld],[Am]:e[Fd],[vm]:e[qd],[Tm]:e[Ud],[km]:e[zd],[hc]:[()=>a.isSerializableHeaderValue(e[Js]),()=>a.dateToUtcString(e[Js]).toString()],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[tu]:e[Vd],[On]:e[Xr],[Bm]:e[Pe],[Dm]:e[_m],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[Nn]:e[Nr],[$i]:e[Hi],[Gt]:[()=>a.isSerializableHeaderValue(e[wt]),()=>e[wt].toString()],[it]:e[ot],[g1]:e[dc],[Nm]:e[Kd],[pc]:[()=>a.isSerializableHeaderValue(e[Zs]),()=>a.serializeDateTime(e[Zs]).toString()],[Om]:e[Sc],[W]:e[K],[f1]:e[we],[Yd]:e[bt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[PG]:[,""]});return t.m("POST").h(n).q(s).b(void 0),t.build()},Vbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[Z1e]:e[l1e],[On]:e[Xr],[Nn]:e[Nr],[$i]:e[Hi],[Gt]:[()=>a.isSerializableHeaderValue(e[wt]),()=>e[wt].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[q1e]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Gbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(n).b(void 0),t.build()},Kbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Ox]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Wbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[JI]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Xbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[ZI]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Qbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Fx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Ybe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Lx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Jbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[r1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},Zbe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[n1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},exe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[s1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},txe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[qx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},rxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[i1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},nxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[a1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},sxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[l1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},oxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Xd]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ixe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[d1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},axe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[h1]:e[VI],[it]:e[ot],[u1]:[()=>a.isSerializableHeaderValue(e[kd]),()=>e[kd].toString()],[W]:e[K],[xc]:e[Gd],[qPe]:[()=>a.isSerializableHeaderValue(e[cV]),()=>a.dateToUtcString(e[cV]).toString()],[UPe]:[()=>a.isSerializableHeaderValue(e[lV]),()=>e[lV].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"DeleteObject"],[En]:[,e[De]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},cxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[h1]:e[VI],[it]:e[ot],[u1]:[()=>a.isSerializableHeaderValue(e[kd]),()=>e[kd].toString()],[W]:e[K],[xt]:e[we]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[A1e]:[,""]}),o,i;return e.Delete!==void 0&&(i=Cwe(e.Delete),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(n).q(s).b(o),t.build()},lxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Xd]:[,""],[En]:[,e[De]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},dxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[c1]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},uxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K],[it]:e[ot]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[fG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},fxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Nx]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},mxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Ox]:[,""],[Ar]:[,"GetBucketAnalyticsConfiguration"],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},hxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[JI]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},pxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[ZI]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},gxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Fx]:[,""],[Ar]:[,"GetBucketIntelligentTieringConfiguration"],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},yxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Lx]:[,""],[Ar]:[,"GetBucketInventoryConfiguration"],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Sxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[r1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},bxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[SG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},xxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[bG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Exe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[n1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Cxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[s1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},_xe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[qx]:[,""],[Ar]:[,"GetBucketMetricsConfiguration"],[cs]:[,a.expectNonNull(e[pe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},wxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[xG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Axe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[i1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},vxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[a1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Txe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[D1e]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},kxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[l1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Rxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[CG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Ixe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Xd]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Pxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[OG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Oxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[d1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Nxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[xc]:e[Gd],[e1]:[()=>a.isSerializableHeaderValue(e[TS]),()=>a.dateToUtcString(e[TS]).toString()],[Wd]:e[Cm],[t1]:[()=>a.isSerializableHeaderValue(e[kS]),()=>a.dateToUtcString(e[kS]).toString()],[_G]:e[tG],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[it]:e[ot],[W]:e[K],[MG]:e[D7]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"GetObject"],[wG]:[,e[rG]],[AG]:[,e[nG]],[vG]:[,e[sG]],[TG]:[,e[oG]],[kG]:[,e[iG]],[RG]:[()=>e.ResponseExpires!==void 0,()=>a.dateToUtcString(e[aG]).toString()],[En]:[,e[De]],[Ux]:[()=>e.PartNumber!==void 0,()=>e[yn].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Bxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Nx]:[,""],[En]:[,e[De]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Dxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[HPe]:[()=>a.isSerializableHeaderValue(e[Po]),()=>e[Po].toString()],[GPe]:e[Li],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[it]:e[ot],[W]:e[K],[$Pe]:[()=>a.isSerializableHeaderValue(e[mV]),()=>(e[mV]||[]).map(a.quoteHeader).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[_1e]:[,""],[En]:[,e[De]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Mxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[yG]:[,""],[En]:[,e[De]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Lxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[EG]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Fxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[IG]:[,""],[En]:[,e[De]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},qxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K],[it]:e[ot]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Xd]:[,""],[En]:[,e[De]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Uxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[H1e]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},zxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[c1]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},jxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(n).b(void 0),t.build()},Hxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[xc]:e[Gd],[e1]:[()=>a.isSerializableHeaderValue(e[TS]),()=>a.dateToUtcString(e[TS]).toString()],[Wd]:e[Cm],[t1]:[()=>a.isSerializableHeaderValue(e[kS]),()=>a.dateToUtcString(e[kS]).toString()],[_G]:e[tG],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[it]:e[ot],[W]:e[K],[MG]:e[D7]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[wG]:[,e[rG]],[AG]:[,e[nG]],[vG]:[,e[sG]],[TG]:[,e[oG]],[kG]:[,e[iG]],[RG]:[()=>e.ResponseExpires!==void 0,()=>a.dateToUtcString(e[aG]).toString()],[En]:[,e[De]],[Ux]:[()=>e.PartNumber!==void 0,()=>e[yn].toString()]});return t.m("HEAD").h(n).q(s).b(void 0),t.build()},$xe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Ox]:[,""],[Ar]:[,"ListBucketAnalyticsConfigurations"],[bc]:[,e[lt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Vxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Fx]:[,""],[Ar]:[,"ListBucketIntelligentTieringConfigurations"],[bc]:[,e[lt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Gxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Lx]:[,""],[Ar]:[,"ListBucketInventoryConfigurations"],[bc]:[,e[lt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Kxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[qx]:[,""],[Ar]:[,"ListBucketMetricsConfigurations"],[bc]:[,e[lt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Wxe=async(e,r)=>{let t=q.requestBuilder(e,r),n={};t.bp("/");let s=a.map({[Ar]:[,"ListBuckets"],[P1e]:[()=>e.MaxBuckets!==void 0,()=>e[mIe].toString()],[bc]:[,e[lt]],[Rm]:[,e[X]],[w1e]:[,e[mm]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Xxe=async(e,r)=>{let t=q.requestBuilder(e,r),n={};t.bp("/");let s=a.map({[Ar]:[,"ListDirectoryBuckets"],[bc]:[,e[lt]],[O1e]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[gIe].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Qxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K],[it]:e[ot]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[PG]:[,""],[Bx]:[,e[Vr]],[Dx]:[,e[Kr]],[gG]:[,e[Mi]],[B1e]:[()=>e.MaxUploads!==void 0,()=>e[H0].toString()],[Rm]:[,e[X]],[$1e]:[,e[cS]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Yxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K],[p1]:[()=>a.isSerializableHeaderValue(e[Rd]),()=>(e[Rd]||[]).map(a.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Bx]:[,e[Vr]],[Dx]:[,e[Kr]],[I1e]:[,e[z0]],[o1]:[()=>e.MaxKeys!==void 0,()=>e[Zn].toString()],[Rm]:[,e[X]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Jxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K],[p1]:[()=>a.isSerializableHeaderValue(e[Rd]),()=>(e[Rd]||[]).map(a.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[T1e]:[,"2"],[Bx]:[,e[Vr]],[Dx]:[,e[Kr]],[o1]:[()=>e.MaxKeys!==void 0,()=>e[Zn].toString()],[Rm]:[,e[X]],[bc]:[,e[lt]],[v1e]:[()=>e.FetchOwner!==void 0,()=>e[PRe].toString()],[U1e]:[,e[eS]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Zxe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[W]:e[K],[it]:e[ot],[p1]:[()=>a.isSerializableHeaderValue(e[Rd]),()=>(e[Rd]||[]).map(a.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[V1e]:[,""],[Bx]:[,e[Vr]],[Dx]:[,e[Kr]],[gG]:[,e[Mi]],[o1]:[()=>e.MaxKeys!==void 0,()=>e[Zn].toString()],[Rm]:[,e[X]],[G1e]:[,e[dS]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},eEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[it]:e[ot],[W]:e[K],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"ListParts"],[N1e]:[()=>e.MaxParts!==void 0,()=>e[Po].toString()],[M1e]:[,e[Li]],[Im]:[,a.expectNonNull(e[xn],"UploadId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},tEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K],[xt]:e[we]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[fG]:[,""]}),o,i;return e.AccelerateConfiguration!==void 0&&(i=J_e(e.AccelerateConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},rEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Qd]:e[Md],[Ut]:e[qt],[xt]:e[we],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[m1]:e[$I],[tu]:e[Vd],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Nx]:[,""]}),o,i;return e.AccessControlPolicy!==void 0&&(i=h7(e.AccessControlPolicy),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},nEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Ox]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]}),o,i;return e.AnalyticsConfiguration!==void 0&&(i=swe(e.AnalyticsConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},sEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[JI]:[,""]}),o,i;return e.CORSConfiguration!==void 0&&(i=pwe(e.CORSConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},oEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[ZI]:[,""]}),o,i;return e.ServerSideEncryptionConfiguration!==void 0&&(i=eve(e.ServerSideEncryptionConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},iEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Fx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]}),o,i;return e.IntelligentTieringConfiguration!==void 0&&(i=Lwe(e.IntelligentTieringConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},aEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Lx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]}),o,i;return e.InventoryConfiguration!==void 0&&(i=qwe(e.InventoryConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},cEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[xt]:e[we],[W]:e[K],[y1]:e[YI]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[r1]:[,""]}),o,i;return e.LifecycleConfiguration!==void 0&&(i=lwe(e.LifecycleConfiguration),i=i.n("LifecycleConfiguration"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},lEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[bG]:[,""]}),o,i;return e.BucketLoggingStatus!==void 0&&(i=dwe(e.BucketLoggingStatus),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},dEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[qx]:[,""],[cs]:[,a.expectNonNull(e[pe],"Id")]}),o,i;return e.MetricsConfiguration!==void 0&&(i=fAe(e.MetricsConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},uEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[W]:e[K],[tOe]:[()=>a.isSerializableHeaderValue(e[gV]),()=>e[gV].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[xG]:[,""]}),o,i;return e.NotificationConfiguration!==void 0&&(i=yAe(e.NotificationConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},fEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[W]:e[K],[xt]:e[we]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[i1]:[,""]}),o,i;return e.OwnershipControls!==void 0&&(i=vAe(e.OwnershipControls),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},mEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"text/plain",[Ut]:e[qt],[xt]:e[we],[J1e]:[()=>a.isSerializableHeaderValue(e[tV]),()=>e[tV].toString()],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[a1]:[,""]}),o,i;return e.Policy!==void 0&&(i=e.Policy,o=i),t.m("PUT").h(n).q(s).b(o),t.build()},hEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[DG]:e[dG],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[l1]:[,""]}),o,i;return e.ReplicationConfiguration!==void 0&&(i=LAe(e.ReplicationConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},pEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[CG]:[,""]}),o,i;return e.RequestPaymentConfiguration!==void 0&&(i=HAe(e.RequestPaymentConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},gEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[Xd]:[,""]}),o,i;return e.Tagging!==void 0&&(i=FI(e.Tagging),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},yEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[h1]:e[VI],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[OG]:[,""]}),o,i;return e.VersioningConfiguration!==void 0&&(i=xve(e.VersioningConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},SEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[d1]:[,""]}),o,i;return e.WebsiteConfiguration!==void 0&&(i=Eve(e.WebsiteConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},bEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),[km]:e[zd]||"application/octet-stream",[Qd]:e[Md],[wm]:e[Ld],[Am]:e[Fd],[vm]:e[qd],[Tm]:e[Ud],[mc]:[()=>a.isSerializableHeaderValue(e[qi]),()=>e[qi].toString()],[Ut]:e[qt],[xt]:e[we],[Ec]:e[ht],[Cc]:e[pt],[_c]:e[gt],[wc]:e[yt],[Ac]:e[St],[hc]:[()=>a.isSerializableHeaderValue(e[Js]),()=>a.dateToUtcString(e[Js]).toString()],[xc]:e[Gd],[Wd]:e[Cm],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[tu]:e[Vd],[nOe]:[()=>a.isSerializableHeaderValue(e[_V]),()=>e[_V].toString()],[On]:e[Xr],[Bm]:e[Pe],[Dm]:e[_m],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[Nn]:e[Nr],[$i]:e[Hi],[Gt]:[()=>a.isSerializableHeaderValue(e[wt]),()=>e[wt].toString()],[it]:e[ot],[g1]:e[dc],[Nm]:e[Kd],[pc]:[()=>a.isSerializableHeaderValue(e[Zs]),()=>a.serializeDateTime(e[Zs]).toString()],[Om]:e[Sc],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"PutObject"]}),o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(n).q(s).b(o),t.build()},xEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Qd]:e[Md],[Ut]:e[qt],[xt]:e[we],[Jd]:e[jd],[Zd]:e[Hd],[eu]:e[$d],[m1]:e[$I],[tu]:e[Vd],[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Nx]:[,""],[En]:[,e[De]]}),o,i;return e.AccessControlPolicy!==void 0&&(i=h7(e.AccessControlPolicy),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},EEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[it]:e[ot],[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[yG]:[,""],[En]:[,e[De]]}),o,i;return e.LegalHold!==void 0&&(i=EAe(e.LegalHold),i=i.n("LegalHold"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},CEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[it]:e[ot],[DG]:e[dG],[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[EG]:[,""]}),o,i;return e.ObjectLockConfiguration!==void 0&&(i=xAe(e.ObjectLockConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},_Ee=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[it]:e[ot],[u1]:[()=>a.isSerializableHeaderValue(e[kd]),()=>e[kd].toString()],[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[IG]:[,""],[En]:[,e[De]]}),o,i;return e.Retention!==void 0&&(i=CAe(e.Retention),i=i.n("Retention"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},wEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K],[it]:e[ot]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Xd]:[,""],[En]:[,e[De]]}),o,i;return e.Tagging!==void 0&&(i=FI(e.Tagging),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},AEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[c1]:[,""]}),o,i;return e.PublicAccessBlockConfiguration!==void 0&&(i=PAe(e.PublicAccessBlockConfiguration),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},vEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[XPe]:e[JIe],[xc]:e[xRe],[Wd]:e[ERe],[e1]:[()=>a.isSerializableHeaderValue(e[rV]),()=>a.dateToUtcString(e[rV]).toString()],[t1]:[()=>a.isSerializableHeaderValue(e[nV]),()=>a.dateToUtcString(e[nV]).toString()],[QPe]:e[s1e],[JPe]:e[o1e],[YPe]:[()=>a.isSerializableHeaderValue(e[yV]),()=>a.dateToUtcString(e[yV]).toString()],[ZPe]:[()=>a.isSerializableHeaderValue(e[SV]),()=>a.dateToUtcString(e[SV]).toString()],[tPe]:e[yRe]??ySe.v4()});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[L1e]:[,""]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},TEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[it]:e[ot],[xt]:e[we],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[F1e]:[,""],[En]:[,e[De]]}),o,i;return e.RestoreRequest!==void 0&&(i=VAe(e.RestoreRequest),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(n).q(s).b(o),t.build()},kEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[z1e]:[,""],[j1e]:[,"2"]}),o;o=Ze;let i=new E.XmlNode(d1e);return i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i.cc(e,G7),i.cc(e,V7),e[Xa]!=null&&i.c(y7(e[Xa]).n(Xa)),e[ec]!=null&&i.c(S7(e[ec]).n(ec)),e[J0]!=null&&i.c($Ae(e[J0]).n(J0)),e[rS]!=null&&i.c(YAe(e[rS]).n(rS)),o+=i.toString(),t.m("POST").h(n).q(s).b(o),t.build()},REe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[k1e]:[,""]}),o,i;return e.InventoryTableConfiguration!==void 0&&(i=Kwe(e.InventoryTableConfiguration),i=i.n("InventoryTableConfiguration"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},IEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/xml",[Ut]:e[qt],[xt]:e[we],[W]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=a.map({[R1e]:[,""]}),o,i;return e.JournalTableConfiguration!==void 0&&(i=Xwe(e.JournalTableConfiguration),i=i.n("JournalTableConfiguration"),o=Ze,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},PEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"content-type":"application/octet-stream",[mc]:[()=>a.isSerializableHeaderValue(e[qi]),()=>e[qi].toString()],[Ut]:e[qt],[xt]:e[we],[Ec]:e[ht],[Cc]:e[pt],[_c]:e[gt],[wc]:e[yt],[Ac]:e[St],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[it]:e[ot],[W]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"UploadPart"],[Ux]:[a.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[yn].toString()],[Im]:[,a.expectNonNull(e[xn],"UploadId")]}),o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(n).q(s).b(o),t.build()},OEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{[LG]:e[M7],[FG]:e[L7],[qG]:[()=>a.isSerializableHeaderValue(e[AS]),()=>a.dateToUtcString(e[AS]).toString()],[UG]:e[F7],[zG]:[()=>a.isSerializableHeaderValue(e[vS]),()=>a.dateToUtcString(e[vS]).toString()],[ePe]:e[hRe],[_r]:e[dr],[Cs]:e[Es],[wr]:e[ur],[jG]:e[q7],[HG]:e[U7],[$G]:e[z7],[it]:e[ot],[W]:e[K],[WG]:e[$7]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=a.map({[Ar]:[,"UploadPartCopy"],[Ux]:[a.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[yn].toString()],[Im]:[,a.expectNonNull(e[xn],"UploadId")]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},NEe=async(e,r)=>{let t=q.requestBuilder(e,r),n=a.map({},a.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),"content-type":"application/octet-stream",[WPe]:e[VIe],[eOe]:e[ZIe],[LPe]:[()=>a.isSerializableHeaderValue(e[pV]),()=>e[pV].toString()],[rPe]:e[O0],[nPe]:e[N0],[sPe]:e[jI],[oPe]:e[Ld],[iPe]:e[Fd],[aPe]:e[qd],[cPe]:e[Ud],[mc]:[()=>a.isSerializableHeaderValue(e[qi]),()=>e[qi].toString()],[lPe]:e[HI],[dPe]:e[zd],[hPe]:e[ht],[pPe]:e[pt],[gPe]:e[gt],[yPe]:e[yt],[SPe]:e[St],[bPe]:[()=>a.isSerializableHeaderValue(e[ys]),()=>e[ys].toString()],[uPe]:e[dt],[fPe]:[()=>a.isSerializableHeaderValue(e[Js]),()=>a.dateToUtcString(e[Js]).toString()],[xPe]:e[er],[mPe]:[()=>a.isSerializableHeaderValue(e[Ft]),()=>a.dateToUtcString(e[Ft]).toString()],[EPe]:[()=>a.isSerializableHeaderValue(e[RS]),()=>e[RS].toString()],[wPe]:e[Kd],[_Pe]:e[Sc],[APe]:[()=>a.isSerializableHeaderValue(e[Zs]),()=>a.serializeDateTime(e[Zs]).toString()],[CPe]:[()=>a.isSerializableHeaderValue(e[Id]),()=>e[Id].toString()],[kPe]:e[XI],[TPe]:e[vt],[vPe]:e[QI],[IPe]:e[Xr],[NPe]:e[dr],[PPe]:e[Nr],[BPe]:e[ur],[RPe]:e[Pe],[DPe]:[()=>a.isSerializableHeaderValue(e[BS]),()=>e[BS].toString()],[MPe]:e[De],[OPe]:[()=>a.isSerializableHeaderValue(e[wt]),()=>e[wt].toString()]});t.bp("/WriteGetObjectResponse");let s,o;e.Body!==void 0&&(o=e.Body,s=o);let{hostname:i}=await r.endpoint();if(r.disableHostPrefix!==!0){if(i="{RequestRoute}."+i,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(i=i.replace("{RequestRoute}",e.RequestRoute),!JR.isValidHostname(i))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(i),t.m("POST").h(n).b(s),t.build()},BEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},DEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[er]:[,e.headers[Pm]],[Xr]:[,e.headers[On]],[De]:[,e.headers[eo]],[Nr]:[,e.headers[Nn]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[ze]!=null&&(t[ze]=a.expectString(n[ze])),n[ht]!=null&&(t[ht]=a.expectString(n[ht])),n[pt]!=null&&(t[pt]=a.expectString(n[pt])),n[gt]!=null&&(t[gt]=a.expectString(n[gt])),n[yt]!=null&&(t[yt]=a.expectString(n[yt])),n[St]!=null&&(t[St]=a.expectString(n[St])),n[bt]!=null&&(t[bt]=a.expectString(n[bt])),n[dt]!=null&&(t[dt]=a.expectString(n[dt])),n[xe]!=null&&(t[xe]=a.expectString(n[xe])),n[Qa]!=null&&(t[Qa]=a.expectString(n[Qa])),t},MEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[er]:[,e.headers[Pm]],[j7]:[,e.headers[VG]],[De]:[,e.headers[eo]],[Xr]:[,e.headers[On]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[Hi]:[,e.headers[$i]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[vt]:[,e.headers[Rt]]}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.CopyObjectResult=Lve(n),t},LEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[Qa]:[,e.headers[SG]],[fm]:[,e.headers[BG]]});return await a.collectBody(e.body,r),t},FEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},qEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},UEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[N7]:[()=>e.headers[DS]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[DS]))],[B7]:[,e.headers[NG]],[Xr]:[,e.headers[On]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[Hi]:[,e.headers[$i]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[vt]:[,e.headers[Rt]],[we]:[,e.headers[f1]],[bt]:[,e.headers[Yd]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[ze]!=null&&(t[ze]=a.expectString(n[ze])),n[xe]!=null&&(t[xe]=a.expectString(n[xe])),n[xn]!=null&&(t[xn]=a.expectString(n[xn])),t},zEe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[Xr]:[,e.headers[On]],[Nr]:[,e.headers[Nn]],[Hi]:[,e.headers[$i]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[xR]!=null&&(t[xR]=Ake(n[xR])),t},jEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},HEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},$Ee=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},VEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},GEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},KEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},WEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},XEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},QEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},YEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},JEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},ZEe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},eCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},tCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},rCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},nCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[ys]:[()=>e.headers[Ui]!==void 0,()=>a.parseBoolean(e.headers[Ui])],[De]:[,e.headers[eo]],[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},sCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Deleted).trim()===""?t[A0]=[]:n[A0]!=null&&(t[A0]=Hve(a.getArrayIfSingleItem(n[A0]))),String(n.Error).trim()===""?t[oV]=[]:n[bs]!=null&&(t[oV]=Zve(a.getArrayIfSingleItem(n[bs]))),t},oCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[De]:[,e.headers[eo]]});return await a.collectBody(e.body,r),t},iCe=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},aCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[J]!=null&&(t[J]=a.expectString(n[J])),t},cCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[pm]=[]:n[qa]!=null&&n[qa][Do]!=null&&(t[pm]=A7(a.getArrayIfSingleItem(n[qa][Do]))),n[Xe]!=null&&(t[Xe]=ji(n[Xe])),t},lCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.AnalyticsConfiguration=E7(n),t},dCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CORSRule).trim()===""?t[cI]=[]:n[aI]!=null&&(t[cI]=Uve(a.getArrayIfSingleItem(n[aI]))),t},uCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.ServerSideEncryptionConfiguration=Cke(n),t},fCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.IntelligentTieringConfiguration=T7(n),t},mCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.InventoryConfiguration=k7(n),t},hCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[YI]:[,e.headers[y1]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Rule).trim()===""?t[as]=[]:n[Sn]!=null&&(t[as]=kTe(a.getArrayIfSingleItem(n[Sn]))),t},pCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[gd]!=null&&(t[gd]=a.expectString(n[gd])),t},gCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Ya]!=null&&(t[Ya]=RTe(n[Ya])),t},yCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.GetBucketMetadataConfigurationResult=oTe(n),t},SCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.GetBucketMetadataTableConfigurationResult=iTe(n),t},bCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.MetricsConfiguration=R7(n),t},xCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Va]!=null&&(t[Va]=eTe(n[Va])),String(n.CloudFunctionConfiguration).trim()===""?t[gI]=[]:n[eV]!=null&&(t[gI]=_Te(a.getArrayIfSingleItem(n[eV]))),String(n.QueueConfiguration).trim()===""?t[CI]=[]:n[EI]!=null&&(t[CI]=ike(a.getArrayIfSingleItem(n[EI]))),String(n.TopicConfiguration).trim()===""?t[kI]=[]:n[TI]!=null&&(t[kI]=Uke(a.getArrayIfSingleItem(n[TI]))),t},ECe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.OwnershipControls=XTe(n),t},CCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=await Hke(e.body,r);return t.Policy=a.expectString(n),t},_Ce=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.PolicyStatus=rke(n),t},wCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.ReplicationConfiguration=uke(n),t},ACe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[K0]!=null&&(t[K0]=a.expectString(n[K0])),t},vCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[gs]=[]:n[gs]!=null&&n[gs][Te]!=null&&(t[gs]=yc(a.getArrayIfSingleItem(n[gs][Te]))),t},TCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[SI]!=null&&(t[j0]=a.expectString(n[SI])),n[J]!=null&&(t[J]=a.expectString(n[J])),t},kCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Ga]!=null&&(t[Ga]=Jve(n[Ga])),n[Wa]!=null&&(t[Wa]=lTe(n[Wa])),n[rc]!=null&&(t[rc]=lke(n[rc])),String(n.RoutingRules).trim()===""?t[Wl]=[]:n[Wl]!=null&&n[Wl][PS]!=null&&(t[Wl]=Ske(a.getArrayIfSingleItem(n[Wl][PS]))),t},RCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[ys]:[()=>e.headers[Ui]!==void 0,()=>a.parseBoolean(e.headers[Ui])],[jI]:[,e.headers[mG]],[er]:[,e.headers[Pm]],[QI]:[,e.headers[GG]],[Ft]:[()=>e.headers[Pd]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[Pd]))],[qi]:[()=>e.headers[mc]!==void 0,()=>a.strictParseLong(e.headers[mc])],[dt]:[,e.headers[Mx]],[ht]:[,e.headers[Ec]],[pt]:[,e.headers[Cc]],[gt]:[,e.headers[_c]],[yt]:[,e.headers[wc]],[St]:[,e.headers[Ac]],[bt]:[,e.headers[Yd]],[RS]:[()=>e.headers[MS]!==void 0,()=>a.strictParseInt32(e.headers[MS])],[De]:[,e.headers[eo]],[Ld]:[,e.headers[wm]],[Fd]:[,e.headers[Am]],[qd]:[,e.headers[vm]],[Ud]:[,e.headers[Tm]],[HI]:[,e.headers[hG]],[zd]:[,e.headers[km]],[Js]:[()=>e.headers[hc]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[hc]))],[H7]:[,e.headers[pG]],[_m]:[,e.headers[Dm]],[Xr]:[,e.headers[On]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[Pe]:[,e.headers[Bm]],[vt]:[,e.headers[Rt]],[XI]:[,e.headers[KG]],[Id]:[()=>e.headers[LS]!==void 0,()=>a.strictParseInt32(e.headers[LS])],[BS]:[()=>e.headers[FS]!==void 0,()=>a.strictParseInt32(e.headers[FS])],[Kd]:[,e.headers[Nm]],[Zs]:[()=>e.headers[pc]!==void 0,()=>a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e.headers[pc]))],[Sc]:[,e.headers[Om]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},ICe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[pm]=[]:n[qa]!=null&&n[qa][Do]!=null&&(t[pm]=A7(a.getArrayIfSingleItem(n[qa][Do]))),n[Xe]!=null&&(t[Xe]=ji(n[Xe])),t},PCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[ys]:[()=>e.headers[Ui]!==void 0,()=>a.parseBoolean(e.headers[Ui])],[Ft]:[()=>e.headers[Pd]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[Pd]))],[De]:[,e.headers[eo]],[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[_R]!=null&&(t[_R]=Nve(n[_R])),n[dt]!=null&&(t[dt]=a.expectString(n[dt])),n[jR]!=null&&(t[jR]=aTe(n[jR])),n[HR]!=null&&(t[HR]=a.strictParseLong(n[HR])),n[Pe]!=null&&(t[Pe]=a.expectString(n[Pe])),t},OCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.LegalHold=HTe(n),t},NCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.ObjectLockConfiguration=jTe(n),t},BCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.Retention=$Te(n),t},DCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[De]:[,e.headers[eo]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[gs]=[]:n[gs]!=null&&n[gs][Te]!=null&&(t[gs]=yc(a.getArrayIfSingleItem(n[gs][Te]))),t},MCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},LCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.PublicAccessBlockConfiguration=ske(n),t},FCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[fm]:[,e.headers[BG]],[aRe]:[,e.headers[X1e]],[sRe]:[,e.headers[W1e]],[mm]:[,e.headers[Y1e]],[Qke]:[()=>e.headers[AV]!==void 0,()=>a.parseBoolean(e.headers[AV])]});return await a.collectBody(e.body,r),t},qCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[ys]:[()=>e.headers[Ui]!==void 0,()=>a.parseBoolean(e.headers[Ui])],[jI]:[,e.headers[mG]],[er]:[,e.headers[Pm]],[QI]:[,e.headers[GG]],[Yke]:[,e.headers[K1e]],[Ft]:[()=>e.headers[Pd]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[Pd]))],[qi]:[()=>e.headers[mc]!==void 0,()=>a.strictParseLong(e.headers[mc])],[ht]:[,e.headers[Ec]],[pt]:[,e.headers[Cc]],[gt]:[,e.headers[_c]],[yt]:[,e.headers[wc]],[St]:[,e.headers[Ac]],[bt]:[,e.headers[Yd]],[dt]:[,e.headers[Mx]],[RS]:[()=>e.headers[MS]!==void 0,()=>a.strictParseInt32(e.headers[MS])],[De]:[,e.headers[eo]],[Ld]:[,e.headers[wm]],[Fd]:[,e.headers[Am]],[qd]:[,e.headers[vm]],[Ud]:[,e.headers[Tm]],[zd]:[,e.headers[km]],[HI]:[,e.headers[hG]],[Js]:[()=>e.headers[hc]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[hc]))],[H7]:[,e.headers[pG]],[_m]:[,e.headers[Dm]],[Xr]:[,e.headers[On]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[Pe]:[,e.headers[Bm]],[vt]:[,e.headers[Rt]],[XI]:[,e.headers[KG]],[Id]:[()=>e.headers[LS]!==void 0,()=>a.strictParseInt32(e.headers[LS])],[BS]:[()=>e.headers[FS]!==void 0,()=>a.strictParseInt32(e.headers[FS])],[Kd]:[,e.headers[Nm]],[Zs]:[()=>e.headers[pc]!==void 0,()=>a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e.headers[pc]))],[Sc]:[,e.headers[Om]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await a.collectBody(e.body,r),t},UCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AnalyticsConfiguration).trim()===""?t[Z9]=[]:n[ZR]!=null&&(t[Z9]=kve(a.getArrayIfSingleItem(n[ZR]))),n[lt]!=null&&(t[lt]=a.expectString(n[lt])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[ln]!=null&&(t[ln]=a.expectString(n[ln])),t},zCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[lt]!=null&&(t[lt]=a.expectString(n[lt])),String(n.IntelligentTieringConfiguration).trim()===""?t[dV]=[]:n[pI]!=null&&(t[dV]=uTe(a.getArrayIfSingleItem(n[pI]))),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[ln]!=null&&(t[ln]=a.expectString(n[ln])),t},jCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[lt]!=null&&(t[lt]=a.expectString(n[lt])),String(n.InventoryConfiguration).trim()===""?t[iV]=[]:n[hI]!=null&&(t[iV]=mTe(a.getArrayIfSingleItem(n[hI]))),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[ln]!=null&&(t[ln]=a.expectString(n[ln])),t},HCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[lt]!=null&&(t[lt]=a.expectString(n[lt])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),String(n.MetricsConfiguration).trim()===""?t[uV]=[]:n[yI]!=null&&(t[uV]=BTe(a.getArrayIfSingleItem(n[yI]))),n[ln]!=null&&(t[ln]=a.expectString(n[ln])),t},$Ce=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[Ws]=[]:n[Ws]!=null&&n[Ws][ze]!=null&&(t[Ws]=C7(a.getArrayIfSingleItem(n[Ws][ze]))),n[lt]!=null&&(t[lt]=a.expectString(n[lt])),n[Xe]!=null&&(t[Xe]=ji(n[Xe])),n[X]!=null&&(t[X]=a.expectString(n[X])),t},VCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[Ws]=[]:n[Ws]!=null&&n[Ws][ze]!=null&&(t[Ws]=C7(a.getArrayIfSingleItem(n[Ws][ze]))),n[lt]!=null&&(t[lt]=a.expectString(n[lt])),t},GCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[ze]!=null&&(t[ze]=a.expectString(n[ze])),String(n.CommonPrefixes).trim()===""?t[$r]=[]:n[$r]!=null&&(t[$r]=Ix(a.getArrayIfSingleItem(n[$r]))),n[Vr]!=null&&(t[Vr]=a.expectString(n[Vr])),n[Kr]!=null&&(t[Kr]=a.expectString(n[Kr])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[Mi]!=null&&(t[Mi]=a.expectString(n[Mi])),n[H0]!=null&&(t[H0]=a.strictParseInt32(n[H0])),n[yd]!=null&&(t[yd]=a.expectString(n[yd])),n[UR]!=null&&(t[UR]=a.expectString(n[UR])),n[X]!=null&&(t[X]=a.expectString(n[X])),n[cS]!=null&&(t[cS]=a.expectString(n[cS])),String(n.Upload).trim()===""?t[xV]=[]:n[bV]!=null&&(t[xV]=LTe(a.getArrayIfSingleItem(n[bV]))),t},KCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[$r]=[]:n[$r]!=null&&(t[$r]=Ix(a.getArrayIfSingleItem(n[$r]))),String(n.Contents).trim()===""?t[Bi]=[]:n[Bi]!=null&&(t[Bi]=I7(a.getArrayIfSingleItem(n[Bi]))),n[Vr]!=null&&(t[Vr]=a.expectString(n[Vr])),n[Kr]!=null&&(t[Kr]=a.expectString(n[Kr])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[z0]!=null&&(t[z0]=a.expectString(n[z0])),n[Zn]!=null&&(t[Zn]=a.strictParseInt32(n[Zn])),n[Pt]!=null&&(t[Pt]=a.expectString(n[Pt])),n[qR]!=null&&(t[qR]=a.expectString(n[qR])),n[X]!=null&&(t[X]=a.expectString(n[X])),t},WCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[$r]=[]:n[$r]!=null&&(t[$r]=Ix(a.getArrayIfSingleItem(n[$r]))),String(n.Contents).trim()===""?t[Bi]=[]:n[Bi]!=null&&(t[Bi]=I7(a.getArrayIfSingleItem(n[Bi]))),n[lt]!=null&&(t[lt]=a.expectString(n[lt])),n[Vr]!=null&&(t[Vr]=a.expectString(n[Vr])),n[Kr]!=null&&(t[Kr]=a.expectString(n[Kr])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[BR]!=null&&(t[BR]=a.strictParseInt32(n[BR])),n[Zn]!=null&&(t[Zn]=a.strictParseInt32(n[Zn])),n[Pt]!=null&&(t[Pt]=a.expectString(n[Pt])),n[ln]!=null&&(t[ln]=a.expectString(n[ln])),n[X]!=null&&(t[X]=a.expectString(n[X])),n[eS]!=null&&(t[eS]=a.expectString(n[eS])),t},XCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[$r]=[]:n[$r]!=null&&(t[$r]=Ix(a.getArrayIfSingleItem(n[$r]))),String(n.DeleteMarker).trim()===""?t[sV]=[]:n[ys]!=null&&(t[sV]=Gve(a.getArrayIfSingleItem(n[ys]))),n[Vr]!=null&&(t[Vr]=a.expectString(n[Vr])),n[Kr]!=null&&(t[Kr]=a.expectString(n[Kr])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[Mi]!=null&&(t[Mi]=a.expectString(n[Mi])),n[Zn]!=null&&(t[Zn]=a.strictParseInt32(n[Zn])),n[Pt]!=null&&(t[Pt]=a.expectString(n[Pt])),n[yd]!=null&&(t[yd]=a.expectString(n[yd])),n[zR]!=null&&(t[zR]=a.expectString(n[zR])),n[X]!=null&&(t[X]=a.expectString(n[X])),n[dS]!=null&&(t[dS]=a.expectString(n[dS])),String(n.Version).trim()===""?t[CV]=[]:n[EV]!=null&&(t[CV]=WTe(a.getArrayIfSingleItem(n[EV]))),t},QCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[N7]:[()=>e.headers[DS]!==void 0,()=>a.expectNonNull(a.parseRfc7231DateTime(e.headers[DS]))],[B7]:[,e.headers[NG]],[vt]:[,e.headers[Rt]]}),n=a.expectNonNull(a.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[ze]!=null&&(t[ze]=a.expectString(n[ze])),n[we]!=null&&(t[we]=a.expectString(n[we])),n[bt]!=null&&(t[bt]=a.expectString(n[bt])),n[fd]!=null&&(t[fd]=v7(n[fd])),n[tt]!=null&&(t[tt]=a.parseBoolean(n[tt])),n[xe]!=null&&(t[xe]=a.expectString(n[xe])),n[Po]!=null&&(t[Po]=a.strictParseInt32(n[Po])),n[Sd]!=null&&(t[Sd]=a.expectString(n[Sd])),n[Xe]!=null&&(t[Xe]=ji(n[Xe])),n[Li]!=null&&(t[Li]=a.expectString(n[Li])),String(n.Part).trim()===""?t[gm]=[]:n[IS]!=null&&(t[gm]=eke(a.getArrayIfSingleItem(n[IS]))),n[Pe]!=null&&(t[Pe]=a.expectString(n[Pe])),n[xn]!=null&&(t[xn]=a.expectString(n[xn])),t},YCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},JCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},ZCe=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},e_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},t_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},r_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},n_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},s_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[YI]:[,e.headers[y1]]});return await a.collectBody(e.body,r),t},o_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},i_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},a_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},c_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},l_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},d_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},u_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},f_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},m_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},h_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},p_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[er]:[,e.headers[Pm]],[dt]:[,e.headers[Mx]],[ht]:[,e.headers[Ec]],[pt]:[,e.headers[Cc]],[gt]:[,e.headers[_c]],[yt]:[,e.headers[wc]],[St]:[,e.headers[Ac]],[bt]:[,e.headers[Yd]],[Xr]:[,e.headers[On]],[De]:[,e.headers[eo]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[Hi]:[,e.headers[$i]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[Or]:[()=>e.headers[vV]!==void 0,()=>a.strictParseLong(e.headers[vV])],[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},g_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},y_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},S_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},b_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},x_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[De]:[,e.headers[eo]]});return await a.collectBody(e.body,r),t},E_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},C_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},__e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[vt]:[,e.headers[Rt]],[HIe]:[,e.headers[KPe]]});return await a.collectBody(e.body,r),t},w_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)}),n=e.body;return t.Payload=V_e(n,r),t},A_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},v_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},T_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[Xr]:[,e.headers[On]],[dt]:[,e.headers[Mx]],[ht]:[,e.headers[Ec]],[pt]:[,e.headers[Cc]],[gt]:[,e.headers[_c]],[yt]:[,e.headers[wc]],[St]:[,e.headers[Ac]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[vt]:[,e.headers[Rt]]});return await a.collectBody(e.body,r),t},k_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e),[j7]:[,e.headers[VG]],[Xr]:[,e.headers[On]],[dr]:[,e.headers[_r]],[ur]:[,e.headers[wr]],[Nr]:[,e.headers[Nn]],[wt]:[()=>e.headers[Gt]!==void 0,()=>a.parseBoolean(e.headers[Gt])],[vt]:[,e.headers[Rt]]}),n=a.expectObject(await ge.parseXmlBody(e.body,r));return t.CopyPartResult=Fve(n),t},R_e=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=a.map({$metadata:F(e)});return await a.collectBody(e.body,r),t},$=async(e,r)=>{let t={...e,body:await ge.parseXmlErrorBody(e.body,r)},n=ge.loadRestXmlErrorCode(e,t.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await U_e(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await H_e(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await P_e(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await O_e(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await F_e(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await D_e(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await q_e(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await z_e(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await N_e(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await M_e(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await L_e(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await $_e(t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await B_e(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await j_e(t);default:let s=t.body;return I_e({output:e,parsedBody:s,errorCode:n})}},I_e=a.withBaseException(Cr),P_e=async(e,r)=>{let t=a.map({});e.body;let n=new mS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},O_e=async(e,r)=>{let t=a.map({});e.body;let n=new hS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},N_e=async(e,r)=>{let t=a.map({});e.body;let n=new bS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},B_e=async(e,r)=>{let t=a.map({});e.body;let n=new _S({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},D_e=async(e,r)=>{let t=a.map({}),n=e.body;n[Ro]!=null&&(t[Ro]=a.expectString(n[Ro])),n[Pe]!=null&&(t[Pe]=a.expectString(n[Pe]));let s=new gS({$metadata:F(e),...t});return a.decorateServiceException(s,e.body)},M_e=async(e,r)=>{let t=a.map({});e.body;let n=new xS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},L_e=async(e,r)=>{let t=a.map({});e.body;let n=new ES({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},F_e=async(e,r)=>{let t=a.map({});e.body;let n=new pS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},q_e=async(e,r)=>{let t=a.map({});e.body;let n=new yS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},U_e=async(e,r)=>{let t=a.map({});e.body;let n=new uS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},z_e=async(e,r)=>{let t=a.map({});e.body;let n=new SS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},j_e=async(e,r)=>{let t=a.map({});e.body;let n=new wS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},H_e=async(e,r)=>{let t=a.map({});e.body;let n=new fS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},$_e=async(e,r)=>{let t=a.map({});e.body;let n=new CS({$metadata:F(e),...t});return a.decorateServiceException(n,e.body)},V_e=(e,r)=>r.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await X_e(t.Records)}:t.Stats!=null?{Stats:await Q_e(t.Stats,r)}:t.Progress!=null?{Progress:await W_e(t.Progress,r)}:t.Cont!=null?{Cont:await G_e(t.Cont,r)}:t.End!=null?{End:await K_e(t.End,r)}:{$unknown:t}),G_e=async(e,r)=>{let t={};return await ge.parseXmlBody(e.body,r),Object.assign(t,Mve()),t},K_e=async(e,r)=>{let t={};return await ge.parseXmlBody(e.body,r),Object.assign(t,Qve()),t},W_e=async(e,r)=>{let t={},n=await ge.parseXmlBody(e.body,r);return t.Details=nke(n),t},X_e=async(e,r)=>{let t={};return t.Payload=e.body,t},Q_e=async(e,r)=>{let t={},n=await ge.parseXmlBody(e.body,r);return t.Details=Pke(n),t},Y_e=(e,r)=>{let t=new E.XmlNode(za);return e[Oa]!=null&&t.c(E.XmlNode.of(Oa,String(e[Oa])).n(Oa)),t},J_e=(e,r)=>{let t=new E.XmlNode(Gke);return e[J]!=null&&t.c(E.XmlNode.of(eRe,e[J]).n(J)),t},h7=(e,r)=>{let t=new E.XmlNode(Vke);return t.lc(e,"Grants","AccessControlList",()=>g7(e[pm])),e[Xe]!=null&&t.c(AAe(e[Xe]).n(Xe)),t},Z_e=(e,r)=>{let t=new E.XmlNode(Ua);return e[Xe]!=null&&t.c(E.XmlNode.of(BIe,e[Xe]).n(Xe)),t},ewe=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(eI,t).n(fr)),twe=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(rI,t).n(fr)),rwe=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(sI,t).n(fr)),nwe=(e,r)=>{let t=new E.XmlNode($ke);return t.cc(e,X),t.l(e,"Tags","Tag",()=>gc(e[Wr])),t},swe=(e,r)=>{let t=new E.XmlNode(ZR);return e[pe]!=null&&t.c(E.XmlNode.of(Xke,e[pe]).n(pe)),e[he]!=null&&t.c(iwe(e[he]).n(he)),e[ic]!=null&&t.c(cve(e[ic]).n(ic)),t},owe=(e,r)=>{let t=new E.XmlNode(Kke);return e[os]!=null&&t.c(awe(e[os]).n(os)),t},iwe=(e,r)=>{let t=new E.XmlNode(Wke);return x.AnalyticsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[Te]!=null&&t.c(Bd(n).n(Te))},And:n=>{e[At]!=null&&t.c(nwe(n).n(At))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},awe=(e,r)=>{let t=new E.XmlNode(Jke);return e[Jn]!=null&&t.c(E.XmlNode.of(Zke,e[Jn]).n(Jn)),e[Zl]!=null&&t.c(E.XmlNode.of(Ql,e[Zl]).n(Zl)),e[ze]!=null&&t.c(E.XmlNode.of(Px,e[ze]).n(ze)),t.cc(e,X),t},cwe=(e,r)=>{let t=new E.XmlNode(tRe);return t.cc(e,_Re),e[bn]!=null&&t.c(E.XmlNode.of(cRe,e[bn]).n(bn)),t},lwe=(e,r)=>{let t=new E.XmlNode(rRe);return t.l(e,"Rules","Rule",()=>sAe(e[as])),t},dwe=(e,r)=>{let t=new E.XmlNode(iRe);return e[Ya]!=null&&t.c(iAe(e[Ya]).n(Ya)),t},uwe=(e,r)=>{let t=new E.XmlNode(uRe);return t.l(e,"Parts","Part",()=>mwe(e[gm])),t},fwe=(e,r)=>{let t=new E.XmlNode(mRe);return t.cc(e,dt),t.cc(e,ht),t.cc(e,pt),t.cc(e,gt),t.cc(e,yt),t.cc(e,St),e[yn]!=null&&t.c(E.XmlNode.of(yn,String(e[yn])).n(yn)),t},mwe=(e,r)=>e.filter(t=>t!=null).map(t=>fwe(t).n(fr)),hwe=(e,r)=>{let t=new E.XmlNode(ja);return t.cc(e,D0),t.cc(e,q0),t},pwe=(e,r)=>{let t=new E.XmlNode(fRe);return t.l(e,"CORSRules","CORSRule",()=>ywe(e[cI])),t},gwe=(e,r)=>{let t=new E.XmlNode(aI);return t.cc(e,Lt),t.l(e,"AllowedHeaders","AllowedHeader",()=>ewe(e[tI])),t.l(e,"AllowedMethods","AllowedMethod",()=>twe(e[nI])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>rwe(e[oI])),t.l(e,"ExposeHeaders","ExposeHeader",()=>Iwe(e[lI])),e[Da]!=null&&t.c(E.XmlNode.of(Da,String(e[Da])).n(Da)),t},ywe=(e,r)=>e.filter(t=>t!=null).map(t=>gwe(t).n(fr)),Swe=(e,r)=>{let t=new E.XmlNode(dRe);return e[gd]!=null&&t.c(E.XmlNode.of(nRe,e[gd]).n(gd)),e[Qa]!=null&&t.c(oAe(e[Qa]).n(Qa)),e[ze]!=null&&t.c(cwe(e[ze]).n(ze)),t.lc(e,"Tags","Tags",()=>gc(e[Wr])),t},bwe=(e,r)=>{let t=new E.XmlNode(pRe);return t.cc(e,IRe),t.cc(e,bRe),t.cc(e,eG),t.cc(e,WI),t.cc(e,K7),t.cc(e,Z7),e[w0]!=null&&t.c(E.XmlNode.of(w0,String(e[w0])).n(w0)),t},xwe=(e,r)=>{let t=new E.XmlNode(gRe);return t.cc(e,qIe),t.cc(e,eG),t.cc(e,WI),t.cc(e,K7),t.cc(e,Z7),t},Ewe=(e,r)=>{let t=new E.XmlNode($a);return e[es]!=null&&t.c(E.XmlNode.of(Q7,e[es]).n(es)),e[Fe]!=null&&t.c(E.XmlNode.of(Fe,String(e[Fe])).n(Fe)),e[Fa]!=null&&t.c(E.XmlNode.of(Fa,String(e[Fa])).n(Fa)),t},Cwe=(e,r)=>{let t=new E.XmlNode(wRe);return t.l(e,"Objects","Object",()=>bAe(e[MIe])),e[k0]!=null&&t.c(E.XmlNode.of(k0,String(e[k0])).n(k0)),t},_we=(e,r)=>{let t=new E.XmlNode(Ha);return e[J]!=null&&t.c(E.XmlNode.of(CRe,e[J]).n(J)),t},wwe=(e,r)=>{let t=new E.XmlNode(lr);return e[ze]!=null&&t.c(E.XmlNode.of(Px,e[ze]).n(ze)),e[Jl]!=null&&t.c(E.XmlNode.of(Ql,e[Jl]).n(Jl)),t.cc(e,Pe),e[Ua]!=null&&t.c(Z_e(e[Ua]).n(Ua)),e[Gr]!=null&&t.c(vwe(e[Gr]).n(Gr)),e[sc]!=null&&t.c(jAe(e[sc]).n(sc)),e[Ja]!=null&&t.c(dAe(e[Ja]).n(Ja)),t},Awe=(e,r)=>{let t=new E.XmlNode(Xs);return e[TR]!=null&&t.c(E.XmlNode.of(Xr,e[TR]).n(TR)),e[DR]!=null&&t.c(E.XmlNode.of(Nr,e[DR]).n(DR)),t.cc(e,rIe),t},vwe=(e,r)=>{let t=new E.XmlNode(Gr);return t.cc(e,X0),t},Twe=(e,r)=>{let t=new E.XmlNode(Ga);return e[xe]!=null&&t.c(E.XmlNode.of(KI,e[xe]).n(xe)),t},kwe=(e,r)=>new E.XmlNode(Va),DI=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(fc,t).n(fr)),Rwe=(e,r)=>{let t=new E.XmlNode(Ka);return e[J]!=null&&t.c(E.XmlNode.of(vRe,e[J]).n(J)),t},Iwe=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(dI,t).n(fr)),Pwe=(e,r)=>{let t=new E.XmlNode(uI);return e[Pt]!=null&&t.c(E.XmlNode.of(ORe,e[Pt]).n(Pt)),e[Pn]!=null&&t.c(E.XmlNode.of(NRe,e[Pn]).n(Pn)),t},Owe=(e,r)=>e.filter(t=>t!=null).map(t=>Pwe(t).n(fr)),Nwe=(e,r)=>{let t=new E.XmlNode(B0);return t.cc(e,lG),t},Bwe=(e,r)=>{let t=new E.XmlNode(Do);if(e[In]!=null){let n=p7(e[In]).n(In);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return t.cc(e,Qs),t},p7=(e,r)=>{let t=new E.XmlNode(In);return t.cc(e,Ss),t.cc(e,P0),t.cc(e,Lt),t.cc(e,lS),t.a("xsi:type",e[bn]),t},g7=(e,r)=>e.filter(t=>t!=null).map(t=>Bwe(t).n(Do)),Dwe=(e,r)=>{let t=new E.XmlNode(Wa);return t.cc(e,sS),t},y7=(e,r)=>{let t=new E.XmlNode(Xa);return e[od]!=null&&t.c(bwe(e[od]).n(od)),t.cc(e,SRe),e[md]!=null&&t.c(Qwe(e[md]).n(md)),e[$R]!=null&&t.c(RAe(e[$R]).n($R)),t},Mwe=(e,r)=>{let t=new E.XmlNode($Re);return t.cc(e,X),t.l(e,"Tags","Tag",()=>gc(e[Wr])),t},Lwe=(e,r)=>{let t=new E.XmlNode(pI);return e[pe]!=null&&t.c(E.XmlNode.of(XRe,e[pe]).n(pe)),e[he]!=null&&t.c(Fwe(e[he]).n(he)),e[J]!=null&&t.c(E.XmlNode.of(QRe,e[J]).n(J)),t.l(e,"Tierings","Tiering",()=>hve(e[RI])),t},Fwe=(e,r)=>{let t=new E.XmlNode(WRe);return t.cc(e,X),e[Te]!=null&&t.c(Bd(e[Te]).n(Te)),e[At]!=null&&t.c(Mwe(e[At]).n(At)),t},qwe=(e,r)=>{let t=new E.XmlNode(hI);return e[lr]!=null&&t.c(Uwe(e[lr]).n(lr)),e[Ba]!=null&&t.c(E.XmlNode.of(Ba,String(e[Ba])).n(Ba)),e[he]!=null&&t.c(jwe(e[he]).n(he)),e[pe]!=null&&t.c(E.XmlNode.of(qRe,e[pe]).n(pe)),e[dd]!=null&&t.c(E.XmlNode.of(URe,e[dd]).n(dd)),t.lc(e,"OptionalFields","OptionalFields",()=>Hwe(e[Kl])),e[wd]!=null&&t.c(Vwe(e[wd]).n(wd)),t},Uwe=(e,r)=>{let t=new E.XmlNode(BRe);return e[os]!=null&&t.c($we(e[os]).n(os)),t},zwe=(e,r)=>{let t=new E.XmlNode(DRe);return e[vI]!=null&&t.c(ave(e[vI]).n(NS)),e[AI]!=null&&t.c(ove(e[AI]).n(OS)),t},jwe=(e,r)=>{let t=new E.XmlNode(MRe);return t.cc(e,X),t},Hwe=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(zRe,t).n(mI)),$we=(e,r)=>{let t=new E.XmlNode(jRe);return t.cc(e,Ql),e[ze]!=null&&t.c(E.XmlNode.of(Px,e[ze]).n(ze)),e[Jn]!=null&&t.c(E.XmlNode.of(LRe,e[Jn]).n(Jn)),t.cc(e,X),e[Xs]!=null&&t.c(zwe(e[Xs]).n(Xs)),t},Vwe=(e,r)=>{let t=new E.XmlNode(HRe);return e[cd]!=null&&t.c(E.XmlNode.of(FRe,e[cd]).n(cd)),t},Gwe=(e,r)=>{let t=new E.XmlNode(L0);return e[Io]!=null&&t.c(E.XmlNode.of(W7,e[Io]).n(Io)),e[Gr]!=null&&t.c(MI(e[Gr]).n(Gr)),t},Kwe=(e,r)=>{let t=new E.XmlNode(GRe);return e[Io]!=null&&t.c(E.XmlNode.of(W7,e[Io]).n(Io)),e[Gr]!=null&&t.c(MI(e[Gr]).n(Gr)),t},Wwe=(e,r)=>{let t=new E.XmlNode(F0);return e[Ys]!=null&&t.c(b7(e[Ys]).n(Ys)),e[Gr]!=null&&t.c(MI(e[Gr]).n(Gr)),t},Xwe=(e,r)=>{let t=new E.XmlNode(eIe);return e[Ys]!=null&&t.c(b7(e[Ys]).n(Ys)),t},Qwe=(e,r)=>{let t=new E.XmlNode(YRe);return e[bn]!=null&&t.c(E.XmlNode.of(ZRe,e[bn]).n(bn)),t},Ywe=(e,r)=>{let t=new E.XmlNode(JRe);return t.cc(e,WI),t},Jwe=(e,r)=>{let t=new E.XmlNode(sIe);return e[pe]!=null&&t.c(E.XmlNode.of(GI,e[pe]).n(pe)),e[U0]!=null&&t.c(E.XmlNode.of(U0,e[U0]).n(iI)),t.l(e,"Events","Event",()=>DI(e[Bo])),e[he]!=null&&t.c(LI(e[he]).n(he)),t},Zwe=(e,r)=>e.filter(t=>t!=null).map(t=>Jwe(t).n(fr)),eAe=(e,r)=>{let t=new E.XmlNode(nIe);return e[cn]!=null&&t.c(E.XmlNode.of(cn,a.serializeDateTime(e[cn]).toString()).n(cn)),e[Fe]!=null&&t.c(E.XmlNode.of(Fe,String(e[Fe])).n(Fe)),e[Na]!=null&&t.c(E.XmlNode.of(Na,String(e[Na])).n(Na)),t},tAe=(e,r)=>{let t=new E.XmlNode(cIe);return e[er]!=null&&t.c(eAe(e[er]).n(er)),t.cc(e,Lt),t.cc(e,X),e[he]!=null&&t.c(nAe(e[he]).n(he)),e[J]!=null&&t.c(E.XmlNode.of(kRe,e[J]).n(J)),t.l(e,"Transitions","Transition",()=>Sve(e[OI])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>gAe(e[bI])),e[Za]!=null&&t.c(hAe(e[Za]).n(Za)),e[za]!=null&&t.c(Y_e(e[za]).n(za)),t},rAe=(e,r)=>{let t=new E.XmlNode(lIe);return t.cc(e,X),t.l(e,"Tags","Tag",()=>gc(e[Wr])),e[ns]!=null&&t.c(E.XmlNode.of(Y7,String(e[ns])).n(ns)),e[ss]!=null&&t.c(E.XmlNode.of(J7,String(e[ss])).n(ss)),t},nAe=(e,r)=>{let t=new E.XmlNode(dIe);return t.cc(e,X),e[Te]!=null&&t.c(Bd(e[Te]).n(Te)),e[ns]!=null&&t.c(E.XmlNode.of(Y7,String(e[ns])).n(ns)),e[ss]!=null&&t.c(E.XmlNode.of(J7,String(e[ss])).n(ss)),e[At]!=null&&t.c(rAe(e[At]).n(At)),t},sAe=(e,r)=>e.filter(t=>t!=null).map(t=>tAe(t).n(fr)),oAe=(e,r)=>{let t=new E.XmlNode(oIe);return e[bn]!=null&&t.c(E.XmlNode.of(uIe,e[bn]).n(bn)),e[Pt]!=null&&t.c(E.XmlNode.of(iIe,e[Pt]).n(Pt)),t},iAe=(e,r)=>{let t=new E.XmlNode(Ya);return t.cc(e,iS),t.lc(e,"TargetGrants","TargetGrants",()=>uve(e[Xl])),t.cc(e,aS),e[uc]!=null&&t.c(fve(e[uc]).n(uc)),t},aAe=(e,r)=>{let t=new E.XmlNode(hIe);return e[F0]!=null&&t.c(Wwe(e[F0]).n(F0)),e[L0]!=null&&t.c(Gwe(e[L0]).n(L0)),t},cAe=(e,r)=>{let t=new E.XmlNode(X7);return e[Pt]!=null&&t.c(E.XmlNode.of(bIe,e[Pt]).n(Pt)),e[Pn]!=null&&t.c(E.XmlNode.of(_Ie,e[Pn]).n(Pn)),t},lAe=(e,r)=>{let t=new E.XmlNode(EIe);return e[nS]!=null&&t.c(QAe(e[nS]).n(nS)),t},MI=(e,r)=>{let t=new E.XmlNode(CIe);return e[KR]!=null&&t.c(E.XmlNode.of(b1e,e[KR]).n(KR)),t.cc(e,tIe),t},dAe=(e,r)=>{let t=new E.XmlNode(Ja);return e[J]!=null&&t.c(E.XmlNode.of(xIe,e[J]).n(J)),e[ad]!=null&&t.c(x7(e[ad]).n(ad)),t},uAe=(e,r)=>{let t=new E.XmlNode(fIe);return t.cc(e,X),t.l(e,"Tags","Tag",()=>gc(e[Wr])),t.cc(e,ko),t},fAe=(e,r)=>{let t=new E.XmlNode(yI);return e[pe]!=null&&t.c(E.XmlNode.of(SIe,e[pe]).n(pe)),e[he]!=null&&t.c(mAe(e[he]).n(he)),t},mAe=(e,r)=>{let t=new E.XmlNode(yIe);return x.MetricsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[Te]!=null&&t.c(Bd(n).n(Te))},AccessPointArn:n=>{e[ko]!=null&&t.c(E.XmlNode.of(ko,n).n(ko))},And:n=>{e[At]!=null&&t.c(uAe(n).n(At))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},hAe=(e,r)=>{let t=new E.XmlNode(Za);return e[ts]!=null&&t.c(E.XmlNode.of(Fe,String(e[ts])).n(ts)),e[rs]!=null&&t.c(E.XmlNode.of(uG,String(e[rs])).n(rs)),t},pAe=(e,r)=>{let t=new E.XmlNode(xI);return e[ts]!=null&&t.c(E.XmlNode.of(Fe,String(e[ts])).n(ts)),e[Pe]!=null&&t.c(E.XmlNode.of(cG,e[Pe]).n(Pe)),e[rs]!=null&&t.c(E.XmlNode.of(uG,String(e[rs])).n(rs)),t},gAe=(e,r)=>e.filter(t=>t!=null).map(t=>pAe(t).n(fr)),yAe=(e,r)=>{let t=new E.XmlNode(wIe);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>gve(e[kI])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>NAe(e[CI])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>Zwe(e[gI])),e[Va]!=null&&t.c(kwe(e[Va]).n(Va)),t},LI=(e,r)=>{let t=new E.XmlNode(AIe);return e[xe]!=null&&t.c(WAe(e[xe]).n(wI)),t},SAe=(e,r)=>{let t=new E.XmlNode(RIe);return e[xe]!=null&&t.c(E.XmlNode.of(KI,e[xe]).n(xe)),e[De]!=null&&t.c(E.XmlNode.of(DIe,e[De]).n(De)),t.cc(e,dt),e[T0]!=null&&t.c(E.XmlNode.of(T0,a.dateToUtcString(e[T0]).toString()).n(T0)),e[Or]!=null&&t.c(E.XmlNode.of(Or,String(e[Or])).n(Or)),t},bAe=(e,r)=>e.filter(t=>t!=null).map(t=>SAe(t).n(fr)),xAe=(e,r)=>{let t=new E.XmlNode(IIe);return t.cc(e,V0),e[Sn]!=null&&t.c(_Ae(e[Sn]).n(Sn)),t},EAe=(e,r)=>{let t=new E.XmlNode(PIe);return e[J]!=null&&t.c(E.XmlNode.of(Sc,e[J]).n(J)),t},CAe=(e,r)=>{let t=new E.XmlNode(OIe);return e[es]!=null&&t.c(E.XmlNode.of(Q7,e[es]).n(es)),e[Cd]!=null&&t.c(E.XmlNode.of(cn,a.serializeDateTime(e[Cd]).toString()).n(Cd)),t},_Ae=(e,r)=>{let t=new E.XmlNode(NIe);return e[$a]!=null&&t.c(Ewe(e[$a]).n($a)),t},wAe=(e,r)=>{let t=new E.XmlNode($0);return e[QR]!=null&&t.c(XAe(e[QR]).n(QR)),t},S7=(e,r)=>{let t=new E.XmlNode(ec);return e[od]!=null&&t.c(xwe(e[od]).n(od)),e[md]!=null&&t.c(Ywe(e[md]).n(md)),t},AAe=(e,r)=>{let t=new E.XmlNode(Xe);return t.cc(e,Ss),t.cc(e,Lt),t},vAe=(e,r)=>{let t=new E.XmlNode(vIe);return t.l(e,"Rules","Rule",()=>kAe(e[as])),t},TAe=(e,r)=>{let t=new E.XmlNode(kIe);return t.cc(e,hm),t},kAe=(e,r)=>e.filter(t=>t!=null).map(t=>TAe(t).n(fr)),RAe=(e,r)=>new E.XmlNode(FIe),IAe=(e,r)=>{let t=new E.XmlNode(tc);return t.cc(e,G0),t},PAe=(e,r)=>{let t=new E.XmlNode(LIe);return e[td]!=null&&t.c(E.XmlNode.of(R0,String(e[td])).n(td)),e[ud]!=null&&t.c(E.XmlNode.of(R0,String(e[ud])).n(ud)),e[rd]!=null&&t.c(E.XmlNode.of(R0,String(e[rd])).n(rd)),e[xd]!=null&&t.c(E.XmlNode.of(R0,String(e[xd])).n(xd)),t},OAe=(e,r)=>{let t=new E.XmlNode(EI);return e[pe]!=null&&t.c(E.XmlNode.of(GI,e[pe]).n(pe)),e[W0]!=null&&t.c(E.XmlNode.of(W0,e[W0]).n(_I)),t.l(e,"Events","Event",()=>DI(e[Bo])),e[he]!=null&&t.c(LI(e[he]).n(he)),t},NAe=(e,r)=>e.filter(t=>t!=null).map(t=>OAe(t).n(fr)),b7=(e,r)=>{let t=new E.XmlNode(Ys);return e[er]!=null&&t.c(E.XmlNode.of(RRe,e[er]).n(er)),e[Fe]!=null&&t.c(E.XmlNode.of(zIe,String(e[Fe])).n(Fe)),t},BAe=(e,r)=>{let t=new E.XmlNode(oc);return t.cc(e,Di),t.cc(e,M0),t.cc(e,Fi),t.cc(e,Q0),t.cc(e,Y0),t},DAe=(e,r)=>{let t=new E.XmlNode(rc);return t.cc(e,Di),t.cc(e,Fi),t},MAe=(e,r)=>{let t=new E.XmlNode(nc);return e[J]!=null&&t.c(E.XmlNode.of(jIe,e[J]).n(J)),t},LAe=(e,r)=>{let t=new E.XmlNode(UIe);return t.cc(e,Z0),t.l(e,"Rules","Rule",()=>zAe(e[as])),t},FAe=(e,r)=>{let t=new E.XmlNode(QIe);return t.cc(e,Lt),e[La]!=null&&t.c(E.XmlNode.of(La,String(e[La])).n(La)),t.cc(e,X),e[he]!=null&&t.c(UAe(e[he]).n(he)),e[J]!=null&&t.c(E.XmlNode.of(WIe,e[J]).n(J)),e[lc]!=null&&t.c(sve(e[lc]).n(lc)),e[Ka]!=null&&t.c(Rwe(e[Ka]).n(Ka)),e[lr]!=null&&t.c(wwe(e[lr]).n(lr)),e[Ha]!=null&&t.c(_we(e[Ha]).n(Ha)),t},qAe=(e,r)=>{let t=new E.XmlNode(GIe);return t.cc(e,X),t.l(e,"Tags","Tag",()=>gc(e[Wr])),t},UAe=(e,r)=>{let t=new E.XmlNode(KIe);return t.cc(e,X),e[Te]!=null&&t.c(Bd(e[Te]).n(Te)),e[At]!=null&&t.c(qAe(e[At]).n(At)),t},zAe=(e,r)=>e.filter(t=>t!=null).map(t=>FAe(t).n(fr)),jAe=(e,r)=>{let t=new E.XmlNode(sc);return e[J]!=null&&t.c(E.XmlNode.of(e1e,e[J]).n(J)),e[Td]!=null&&t.c(x7(e[Td]).n(Td)),t},x7=(e,r)=>{let t=new E.XmlNode(t1e);return e[Ma]!=null&&t.c(E.XmlNode.of(Ma,String(e[Ma])).n(Ma)),t},HAe=(e,r)=>{let t=new E.XmlNode($Ie);return t.cc(e,K0),t},$Ae=(e,r)=>{let t=new E.XmlNode(J0);return e[kR]!=null&&t.c(E.XmlNode.of(TRe,String(e[kR])).n(kR)),t},VAe=(e,r)=>{let t=new E.XmlNode(YIe);return e[Fe]!=null&&t.c(E.XmlNode.of(Fe,String(e[Fe])).n(Fe)),e[B0]!=null&&t.c(Nwe(e[B0]).n(B0)),e[bn]!=null&&t.c(E.XmlNode.of(XIe,e[bn]).n(bn)),t.cc(e,lG),t.cc(e,ARe),e[tS]!=null&&t.c(JAe(e[tS]).n(tS)),e[$0]!=null&&t.c(wAe(e[$0]).n($0)),t},GAe=(e,r)=>{let t=new E.XmlNode(PS);return e[ja]!=null&&t.c(hwe(e[ja]).n(ja)),e[oc]!=null&&t.c(BAe(e[oc]).n(oc)),t},KAe=(e,r)=>e.filter(t=>t!=null).map(t=>GAe(t).n(PS)),WAe=(e,r)=>{let t=new E.XmlNode(a1e);return t.l(e,"FilterRules","FilterRule",()=>Owe(e[fI])),t},XAe=(e,r)=>{let t=new E.XmlNode(c1e);return t.cc(e,Px),e[X]!=null&&t.c(E.XmlNode.of(aIe,e[X]).n(X)),e[Xs]!=null&&t.c(Awe(e[Xs]).n(Xs)),e[ER]!=null&&t.c(E.XmlNode.of(TIe,e[ER]).n(ER)),t.lc(e,"AccessControlList","AccessControlList",()=>g7(e[qa])),e[dc]!=null&&t.c(FI(e[dc]).n(dc)),t.lc(e,"UserMetadata","UserMetadata",()=>bve(e[x1e])),t.cc(e,Pe),t},QAe=(e,r)=>{let t=new E.XmlNode(nS);return e[No]!=null&&t.c(E.XmlNode.of(h1e,e[No]).n(No)),e[is]!=null&&t.c(E.XmlNode.of(p1e,e[is]).n(is)),t},YAe=(e,r)=>{let t=new E.XmlNode(rS);return e[I0]!=null&&t.c(E.XmlNode.of(I0,String(e[I0])).n(I0)),e[v0]!=null&&t.c(E.XmlNode.of(v0,String(e[v0])).n(v0)),t},JAe=(e,r)=>{let t=new E.XmlNode(tS);return e[Xa]!=null&&t.c(y7(e[Xa]).n(Xa)),t.cc(e,V7),t.cc(e,G7),e[ec]!=null&&t.c(S7(e[ec]).n(ec)),t},ZAe=(e,r)=>{let t=new E.XmlNode(u1e);return e[_d]!=null&&t.c(E.XmlNode.of(Xr,e[_d]).n(_d)),e[pd]!=null&&t.c(E.XmlNode.of(Nr,e[pd]).n(pd)),t},eve=(e,r)=>{let t=new E.XmlNode(f1e);return t.l(e,"Rules","Rule",()=>rve(e[as])),t},tve=(e,r)=>{let t=new E.XmlNode(m1e);return e[Yl]!=null&&t.c(ZAe(e[Yl]).n(Yl)),e[wt]!=null&&t.c(E.XmlNode.of(wt,String(e[wt])).n(wt)),t},rve=(e,r)=>e.filter(t=>t!=null).map(t=>tve(t).n(fr)),nve=(e,r)=>new E.XmlNode(cc),sve=(e,r)=>{let t=new E.XmlNode(lc);return e[ac]!=null&&t.c(ive(e[ac]).n(ac)),e[nc]!=null&&t.c(MAe(e[nc]).n(nc)),t},ove=(e,r)=>{let t=new E.XmlNode(OS);return e[hd]!=null&&t.c(E.XmlNode.of(Nr,e[hd]).n(hd)),t},ive=(e,r)=>{let t=new E.XmlNode(ac);return e[J]!=null&&t.c(E.XmlNode.of(i1e,e[J]).n(J)),t},ave=(e,r)=>new E.XmlNode(NS),cve=(e,r)=>{let t=new E.XmlNode(ic);return e[id]!=null&&t.c(lve(e[id]).n(id)),t},lve=(e,r)=>{let t=new E.XmlNode(r1e);return e[bd]!=null&&t.c(E.XmlNode.of(n1e,e[bd]).n(bd)),e[lr]!=null&&t.c(owe(e[lr]).n(lr)),t},Bd=(e,r)=>{let t=new E.XmlNode(Te);return e[xe]!=null&&t.c(E.XmlNode.of(KI,e[xe]).n(xe)),t.cc(e,Pn),t},FI=(e,r)=>{let t=new E.XmlNode(dc);return t.lc(e,"TagSet","TagSet",()=>gc(e[gs])),t},gc=(e,r)=>e.filter(t=>t!=null).map(t=>Bd(t).n(Te)),dve=(e,r)=>{let t=new E.XmlNode(y1e);if(e[In]!=null){let n=p7(e[In]).n(In);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return e[Qs]!=null&&t.c(E.XmlNode.of(oRe,e[Qs]).n(Qs)),t},uve=(e,r)=>e.filter(t=>t!=null).map(t=>dve(t).n(Do)),fve=(e,r)=>{let t=new E.XmlNode(uc);return e[cc]!=null&&t.c(nve(e[cc]).n(cc)),e[tc]!=null&&t.c(IAe(e[tc]).n(tc)),t},mve=(e,r)=>{let t=new E.XmlNode(II);return e[Fe]!=null&&t.c(E.XmlNode.of(KRe,String(e[Fe])).n(Fe)),e[Ro]!=null&&t.c(E.XmlNode.of(VRe,e[Ro]).n(Ro)),t},hve=(e,r)=>e.filter(t=>t!=null).map(t=>mve(t).n(fr)),pve=(e,r)=>{let t=new E.XmlNode(TI);return e[pe]!=null&&t.c(E.XmlNode.of(GI,e[pe]).n(pe)),e[oS]!=null&&t.c(E.XmlNode.of(oS,e[oS]).n(PI)),t.l(e,"Events","Event",()=>DI(e[Bo])),e[he]!=null&&t.c(LI(e[he]).n(he)),t},gve=(e,r)=>e.filter(t=>t!=null).map(t=>pve(t).n(fr)),yve=(e,r)=>{let t=new E.XmlNode(NI);return e[cn]!=null&&t.c(E.XmlNode.of(cn,a.serializeDateTime(e[cn]).toString()).n(cn)),e[Fe]!=null&&t.c(E.XmlNode.of(Fe,String(e[Fe])).n(Fe)),e[Pe]!=null&&t.c(E.XmlNode.of(cG,e[Pe]).n(Pe)),t},Sve=(e,r)=>e.filter(t=>t!=null).map(t=>yve(t).n(fr)),bve=(e,r)=>e.filter(t=>t!=null).map(t=>cAe(t).n(X7)),xve=(e,r)=>{let t=new E.XmlNode(E1e);return e[j0]!=null&&t.c(E.XmlNode.of(j0,e[j0]).n(SI)),e[J]!=null&&t.c(E.XmlNode.of(lRe,e[J]).n(J)),t},Eve=(e,r)=>{let t=new E.XmlNode(C1e);return e[Ga]!=null&&t.c(Twe(e[Ga]).n(Ga)),e[Wa]!=null&&t.c(Dwe(e[Wa]).n(Wa)),e[rc]!=null&&t.c(DAe(e[rc]).n(rc)),t.lc(e,"RoutingRules","RoutingRules",()=>KAe(e[Wl])),t},Cve=(e,r)=>{let t={};return e[Oa]!=null&&(t[Oa]=a.strictParseInt32(e[Oa])),t},_ve=(e,r)=>{let t={};return e[Xe]!=null&&(t[Xe]=a.expectString(e[Xe])),t},wve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),Ave=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),vve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),Tve=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),String(e.Tag).trim()===""?t[Wr]=[]:e[Te]!=null&&(t[Wr]=yc(a.getArrayIfSingleItem(e[Te]))),t},E7=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),String(e.Filter).trim()===""||e[he]!=null&&(t[he]=Ive(a.expectUnion(e[he]))),e[ic]!=null&&(t[ic]=Oke(e[ic])),t},kve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>E7(t)),Rve=(e,r)=>{let t={};return e[os]!=null&&(t[os]=Pve(e[os])),t},Ive=(e,r)=>e[X]!=null?{Prefix:a.expectString(e[X])}:e[Te]!=null?{Tag:Dd(e[Te])}:e[At]!=null?{And:Tve(e[At])}:{$unknown:Object.entries(e)[0]},Pve=(e,r)=>{let t={};return e[Jn]!=null&&(t[Jn]=a.expectString(e[Jn])),e[Zl]!=null&&(t[Zl]=a.expectString(e[Zl])),e[ze]!=null&&(t[ze]=a.expectString(e[ze])),e[X]!=null&&(t[X]=a.expectString(e[X])),t},Ove=(e,r)=>{let t={};return e[Pt]!=null&&(t[Pt]=a.expectString(e[Pt])),e[CR]!=null&&(t[CR]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[CR]))),e[mm]!=null&&(t[mm]=a.expectString(e[mm])),e[fm]!=null&&(t[fm]=a.expectString(e[fm])),t},C7=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Ove(t)),Nve=(e,r)=>{let t={};return e[ht]!=null&&(t[ht]=a.expectString(e[ht])),e[pt]!=null&&(t[pt]=a.expectString(e[pt])),e[gt]!=null&&(t[gt]=a.expectString(e[gt])),e[yt]!=null&&(t[yt]=a.expectString(e[yt])),e[St]!=null&&(t[St]=a.expectString(e[St])),e[bt]!=null&&(t[bt]=a.expectString(e[bt])),t},_7=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),Bve=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),t},Ix=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Bve(t)),Dve=(e,r)=>{let t={};return e[D0]!=null&&(t[D0]=a.expectString(e[D0])),e[q0]!=null&&(t[q0]=a.expectString(e[q0])),t},Mve=(e,r)=>({}),Lve=(e,r)=>{let t={};return e[dt]!=null&&(t[dt]=a.expectString(e[dt])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),e[bt]!=null&&(t[bt]=a.expectString(e[bt])),e[ht]!=null&&(t[ht]=a.expectString(e[ht])),e[pt]!=null&&(t[pt]=a.expectString(e[pt])),e[gt]!=null&&(t[gt]=a.expectString(e[gt])),e[yt]!=null&&(t[yt]=a.expectString(e[yt])),e[St]!=null&&(t[St]=a.expectString(e[St])),t},Fve=(e,r)=>{let t={};return e[dt]!=null&&(t[dt]=a.expectString(e[dt])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),e[ht]!=null&&(t[ht]=a.expectString(e[ht])),e[pt]!=null&&(t[pt]=a.expectString(e[pt])),e[gt]!=null&&(t[gt]=a.expectString(e[gt])),e[yt]!=null&&(t[yt]=a.expectString(e[yt])),e[St]!=null&&(t[St]=a.expectString(e[St])),t},qve=(e,r)=>{let t={};return e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),String(e.AllowedHeader).trim()===""?t[tI]=[]:e[eI]!=null&&(t[tI]=wve(a.getArrayIfSingleItem(e[eI]))),String(e.AllowedMethod).trim()===""?t[nI]=[]:e[rI]!=null&&(t[nI]=Ave(a.getArrayIfSingleItem(e[rI]))),String(e.AllowedOrigin).trim()===""?t[oI]=[]:e[sI]!=null&&(t[oI]=vve(a.getArrayIfSingleItem(e[sI]))),String(e.ExposeHeader).trim()===""?t[lI]=[]:e[dI]!=null&&(t[lI]=rTe(a.getArrayIfSingleItem(e[dI]))),e[Da]!=null&&(t[Da]=a.strictParseInt32(e[Da])),t},Uve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>qve(t)),zve=(e,r)=>{let t={};return e[es]!=null&&(t[es]=a.expectString(e[es])),e[Fe]!=null&&(t[Fe]=a.strictParseInt32(e[Fe])),e[Fa]!=null&&(t[Fa]=a.strictParseInt32(e[Fa])),t},jve=(e,r)=>{let t={};return e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[De]!=null&&(t[De]=a.expectString(e[De])),e[ys]!=null&&(t[ys]=a.parseBoolean(e[ys])),e[AR]!=null&&(t[AR]=a.expectString(e[AR])),t},Hve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>jve(t)),$ve=(e,r)=>{let t={};return e[Xe]!=null&&(t[Xe]=ji(e[Xe])),e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[De]!=null&&(t[De]=a.expectString(e[De])),e[ld]!=null&&(t[ld]=a.parseBoolean(e[ld])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),t},Vve=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),t},Gve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>$ve(t)),Kve=(e,r)=>{let t={};return e[ze]!=null&&(t[ze]=a.expectString(e[ze])),e[Jl]!=null&&(t[Jl]=a.expectString(e[Jl])),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),e[Ua]!=null&&(t[Ua]=_ve(e[Ua])),e[Gr]!=null&&(t[Gr]=Xve(e[Gr])),e[sc]!=null&&(t[sc]=gke(e[sc])),e[Ja]!=null&&(t[Ja]=OTe(e[Ja])),t},Wve=(e,r)=>{let t={};return e[YR]!=null&&(t[YR]=a.expectString(e[YR])),e[No]!=null&&(t[No]=a.expectString(e[No])),e[Ad]!=null&&(t[Ad]=a.expectString(e[Ad])),t},Xve=(e,r)=>{let t={};return e[X0]!=null&&(t[X0]=a.expectString(e[X0])),t},Qve=(e,r)=>({}),Yve=(e,r)=>{let t={};return e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[De]!=null&&(t[De]=a.expectString(e[De])),e[wR]!=null&&(t[wR]=a.expectString(e[wR])),e[FR]!=null&&(t[FR]=a.expectString(e[FR])),t},qI=(e,r)=>{let t={};return e[O0]!=null&&(t[O0]=a.expectString(e[O0])),e[N0]!=null&&(t[N0]=a.expectString(e[N0])),t},Jve=(e,r)=>{let t={};return e[xe]!=null&&(t[xe]=a.expectString(e[xe])),t},Zve=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Yve(t)),eTe=(e,r)=>({}),UI=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),tTe=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),t},rTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),nTe=(e,r)=>{let t={};return e[Pt]!=null&&(t[Pt]=a.expectString(e[Pt])),e[Pn]!=null&&(t[Pn]=a.expectString(e[Pn])),t},sTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>nTe(t)),oTe=(e,r)=>{let t={};return e[MR]!=null&&(t[MR]=ITe(e[MR])),t},iTe=(e,r)=>{let t={};return e[LR]!=null&&(t[LR]=PTe(e[LR])),e[J]!=null&&(t[J]=a.expectString(e[J])),e[bs]!=null&&(t[bs]=qI(e[bs])),t},aTe=(e,r)=>{let t={};return e[Id]!=null&&(t[S1e]=a.strictParseInt32(e[Id])),e[Li]!=null&&(t[Li]=a.expectString(e[Li])),e[Sd]!=null&&(t[Sd]=a.expectString(e[Sd])),e[Po]!=null&&(t[Po]=a.strictParseInt32(e[Po])),e[tt]!=null&&(t[tt]=a.parseBoolean(e[tt])),String(e.Part).trim()===""?t[gm]=[]:e[IS]!=null&&(t[gm]=tke(a.getArrayIfSingleItem(e[IS]))),t},cTe=(e,r)=>{let t={};return e[In]!=null&&(t[In]=w7(e[In])),e[Qs]!=null&&(t[Qs]=a.expectString(e[Qs])),t},w7=(e,r)=>{let t={};return e[Ss]!=null&&(t[Ss]=a.expectString(e[Ss])),e[P0]!=null&&(t[P0]=a.expectString(e[P0])),e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),e[lS]!=null&&(t[lS]=a.expectString(e[lS])),e[wV]!=null&&(t[bn]=a.expectString(e[wV])),t},A7=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>cTe(t)),lTe=(e,r)=>{let t={};return e[sS]!=null&&(t[sS]=a.expectString(e[sS])),t},v7=(e,r)=>{let t={};return e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),e[Ss]!=null&&(t[Ss]=a.expectString(e[Ss])),t},dTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),String(e.Tag).trim()===""?t[Wr]=[]:e[Te]!=null&&(t[Wr]=yc(a.getArrayIfSingleItem(e[Te]))),t},T7=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),e[he]!=null&&(t[he]=fTe(e[he])),e[J]!=null&&(t[J]=a.expectString(e[J])),String(e.Tiering).trim()===""?t[RI]=[]:e[II]!=null&&(t[RI]=Fke(a.getArrayIfSingleItem(e[II]))),t},uTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>T7(t)),fTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),e[Te]!=null&&(t[Te]=Dd(e[Te])),e[At]!=null&&(t[At]=dTe(e[At])),t},k7=(e,r)=>{let t={};return e[lr]!=null&&(t[lr]=hTe(e[lr])),e[Ba]!=null&&(t[Ba]=a.parseBoolean(e[Ba])),e[he]!=null&&(t[he]=gTe(e[he])),e[pe]!=null&&(t[pe]=a.expectString(e[pe])),e[dd]!=null&&(t[dd]=a.expectString(e[dd])),String(e.OptionalFields).trim()===""?t[Kl]=[]:e[Kl]!=null&&e[Kl][mI]!=null&&(t[Kl]=yTe(a.getArrayIfSingleItem(e[Kl][mI]))),e[wd]!=null&&(t[wd]=bTe(e[wd])),t},mTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>k7(t)),hTe=(e,r)=>{let t={};return e[os]!=null&&(t[os]=STe(e[os])),t},pTe=(e,r)=>{let t={};return e[NS]!=null&&(t[vI]=Ike(e[NS])),e[OS]!=null&&(t[AI]=kke(e[OS])),t},gTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),t},yTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>a.expectString(t)),STe=(e,r)=>{let t={};return e[Ql]!=null&&(t[Ql]=a.expectString(e[Ql])),e[ze]!=null&&(t[ze]=a.expectString(e[ze])),e[Jn]!=null&&(t[Jn]=a.expectString(e[Jn])),e[X]!=null&&(t[X]=a.expectString(e[X])),e[Xs]!=null&&(t[Xs]=pTe(e[Xs])),t},bTe=(e,r)=>{let t={};return e[cd]!=null&&(t[cd]=a.expectString(e[cd])),t},xTe=(e,r)=>{let t={};return e[Io]!=null&&(t[Io]=a.expectString(e[Io])),e[vd]!=null&&(t[vd]=a.expectString(e[vd])),e[bs]!=null&&(t[bs]=qI(e[bs])),e[is]!=null&&(t[is]=a.expectString(e[is])),e[Oo]!=null&&(t[Oo]=a.expectString(e[Oo])),t},ETe=(e,r)=>{let t={};return e[vd]!=null&&(t[vd]=a.expectString(e[vd])),e[bs]!=null&&(t[bs]=qI(e[bs])),e[is]!=null&&(t[is]=a.expectString(e[is])),e[Oo]!=null&&(t[Oo]=a.expectString(e[Oo])),e[Ys]!=null&&(t[Ys]=ake(e[Ys])),t},CTe=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),e[iI]!=null&&(t[U0]=a.expectString(e[iI])),String(e.Event).trim()===""?t[Bo]=[]:e[fc]!=null&&(t[Bo]=UI(a.getArrayIfSingleItem(e[fc]))),e[he]!=null&&(t[he]=zI(e[he])),t},_Te=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>CTe(t)),wTe=(e,r)=>{let t={};return e[cn]!=null&&(t[cn]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[cn]))),e[Fe]!=null&&(t[Fe]=a.strictParseInt32(e[Fe])),e[Na]!=null&&(t[Na]=a.parseBoolean(e[Na])),t},ATe=(e,r)=>{let t={};return e[er]!=null&&(t[er]=wTe(e[er])),e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),e[X]!=null&&(t[X]=a.expectString(e[X])),e[he]!=null&&(t[he]=TTe(e[he])),e[J]!=null&&(t[J]=a.expectString(e[J])),String(e.Transition).trim()===""?t[OI]=[]:e[NI]!=null&&(t[OI]=jke(a.getArrayIfSingleItem(e[NI]))),String(e.NoncurrentVersionTransition).trim()===""?t[bI]=[]:e[xI]!=null&&(t[bI]=UTe(a.getArrayIfSingleItem(e[xI]))),e[Za]!=null&&(t[Za]=FTe(e[Za])),e[za]!=null&&(t[za]=Cve(e[za])),t},vTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),String(e.Tag).trim()===""?t[Wr]=[]:e[Te]!=null&&(t[Wr]=yc(a.getArrayIfSingleItem(e[Te]))),e[ns]!=null&&(t[ns]=a.strictParseLong(e[ns])),e[ss]!=null&&(t[ss]=a.strictParseLong(e[ss])),t},TTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),e[Te]!=null&&(t[Te]=Dd(e[Te])),e[ns]!=null&&(t[ns]=a.strictParseLong(e[ns])),e[ss]!=null&&(t[ss]=a.strictParseLong(e[ss])),e[At]!=null&&(t[At]=vTe(e[At])),t},kTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>ATe(t)),RTe=(e,r)=>{let t={};return e[iS]!=null&&(t[iS]=a.expectString(e[iS])),String(e.TargetGrants).trim()===""?t[Xl]=[]:e[Xl]!=null&&e[Xl][Do]!=null&&(t[Xl]=Dke(a.getArrayIfSingleItem(e[Xl][Do]))),e[aS]!=null&&(t[aS]=a.expectString(e[aS])),e[uc]!=null&&(t[uc]=Mke(e[uc])),t},ITe=(e,r)=>{let t={};return e[vR]!=null&&(t[vR]=Wve(e[vR])),e[NR]!=null&&(t[NR]=ETe(e[NR])),e[PR]!=null&&(t[PR]=xTe(e[PR])),t},PTe=(e,r)=>{let t={};return e[XR]!=null&&(t[XR]=xke(e[XR])),t},OTe=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),e[ad]!=null&&(t[ad]=P7(e[ad])),t},NTe=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),String(e.Tag).trim()===""?t[Wr]=[]:e[Te]!=null&&(t[Wr]=yc(a.getArrayIfSingleItem(e[Te]))),e[ko]!=null&&(t[ko]=a.expectString(e[ko])),t},R7=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),String(e.Filter).trim()===""||e[he]!=null&&(t[he]=DTe(a.expectUnion(e[he]))),t},BTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>R7(t)),DTe=(e,r)=>e[X]!=null?{Prefix:a.expectString(e[X])}:e[Te]!=null?{Tag:Dd(e[Te])}:e[ko]!=null?{AccessPointArn:a.expectString(e[ko])}:e[At]!=null?{And:NTe(e[At])}:{$unknown:Object.entries(e)[0]},MTe=(e,r)=>{let t={};return e[xn]!=null&&(t[xn]=a.expectString(e[xn])),e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[OR]!=null&&(t[OR]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[OR]))),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),e[Xe]!=null&&(t[Xe]=ji(e[Xe])),e[fd]!=null&&(t[fd]=v7(e[fd])),e[we]!=null&&(t[we]=a.expectString(e[we])),e[bt]!=null&&(t[bt]=a.expectString(e[bt])),t},LTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>MTe(t)),FTe=(e,r)=>{let t={};return e[ts]!=null&&(t[ts]=a.strictParseInt32(e[ts])),e[rs]!=null&&(t[rs]=a.strictParseInt32(e[rs])),t},qTe=(e,r)=>{let t={};return e[ts]!=null&&(t[ts]=a.strictParseInt32(e[ts])),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),e[rs]!=null&&(t[rs]=a.strictParseInt32(e[rs])),t},UTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>qTe(t)),zI=(e,r)=>{let t={};return e[wI]!=null&&(t[xe]=bke(e[wI])),t},zTe=(e,r)=>{let t={};return e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),e[dt]!=null&&(t[dt]=a.expectString(e[dt])),String(e.ChecksumAlgorithm).trim()===""?t[we]=[]:e[we]!=null&&(t[we]=_7(a.getArrayIfSingleItem(e[we]))),e[bt]!=null&&(t[bt]=a.expectString(e[bt])),e[Or]!=null&&(t[Or]=a.strictParseLong(e[Or])),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),e[Xe]!=null&&(t[Xe]=ji(e[Xe])),e[Ed]!=null&&(t[Ed]=O7(e[Ed])),t},I7=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>zTe(t)),jTe=(e,r)=>{let t={};return e[V0]!=null&&(t[V0]=a.expectString(e[V0])),e[Sn]!=null&&(t[Sn]=VTe(e[Sn])),t},HTe=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),t},$Te=(e,r)=>{let t={};return e[es]!=null&&(t[es]=a.expectString(e[es])),e[Cd]!=null&&(t[Cd]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Cd]))),t},VTe=(e,r)=>{let t={};return e[$a]!=null&&(t[$a]=zve(e[$a])),t},GTe=(e,r)=>{let t={};return e[yn]!=null&&(t[yn]=a.strictParseInt32(e[yn])),e[Or]!=null&&(t[Or]=a.strictParseLong(e[Or])),e[ht]!=null&&(t[ht]=a.expectString(e[ht])),e[pt]!=null&&(t[pt]=a.expectString(e[pt])),e[gt]!=null&&(t[gt]=a.expectString(e[gt])),e[yt]!=null&&(t[yt]=a.expectString(e[yt])),e[St]!=null&&(t[St]=a.expectString(e[St])),t},KTe=(e,r)=>{let t={};return e[dt]!=null&&(t[dt]=a.expectString(e[dt])),String(e.ChecksumAlgorithm).trim()===""?t[we]=[]:e[we]!=null&&(t[we]=_7(a.getArrayIfSingleItem(e[we]))),e[bt]!=null&&(t[bt]=a.expectString(e[bt])),e[Or]!=null&&(t[Or]=a.strictParseLong(e[Or])),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[De]!=null&&(t[De]=a.expectString(e[De])),e[ld]!=null&&(t[ld]=a.parseBoolean(e[ld])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),e[Xe]!=null&&(t[Xe]=ji(e[Xe])),e[Ed]!=null&&(t[Ed]=O7(e[Ed])),t},WTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>KTe(t)),ji=(e,r)=>{let t={};return e[Ss]!=null&&(t[Ss]=a.expectString(e[Ss])),e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),t},XTe=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[as]=[]:e[Sn]!=null&&(t[as]=YTe(a.getArrayIfSingleItem(e[Sn]))),t},QTe=(e,r)=>{let t={};return e[hm]!=null&&(t[hm]=a.expectString(e[hm])),t},YTe=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>QTe(t)),JTe=(e,r)=>{let t={};return e[yn]!=null&&(t[yn]=a.strictParseInt32(e[yn])),e[Ft]!=null&&(t[Ft]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[Ft]))),e[dt]!=null&&(t[dt]=a.expectString(e[dt])),e[Or]!=null&&(t[Or]=a.strictParseLong(e[Or])),e[ht]!=null&&(t[ht]=a.expectString(e[ht])),e[pt]!=null&&(t[pt]=a.expectString(e[pt])),e[gt]!=null&&(t[gt]=a.expectString(e[gt])),e[yt]!=null&&(t[yt]=a.expectString(e[yt])),e[St]!=null&&(t[St]=a.expectString(e[St])),t},ZTe=(e,r)=>{let t={};return e[G0]!=null&&(t[G0]=a.expectString(e[G0])),t},eke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>JTe(t)),tke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>GTe(t)),rke=(e,r)=>{let t={};return e[RR]!=null&&(t[RR]=a.parseBoolean(e[RR])),t},nke=(e,r)=>{let t={};return e[sd]!=null&&(t[sd]=a.strictParseLong(e[sd])),e[ed]!=null&&(t[ed]=a.strictParseLong(e[ed])),e[nd]!=null&&(t[nd]=a.strictParseLong(e[nd])),t},ske=(e,r)=>{let t={};return e[td]!=null&&(t[td]=a.parseBoolean(e[td])),e[ud]!=null&&(t[ud]=a.parseBoolean(e[ud])),e[rd]!=null&&(t[rd]=a.parseBoolean(e[rd])),e[xd]!=null&&(t[xd]=a.parseBoolean(e[xd])),t},oke=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),e[_I]!=null&&(t[W0]=a.expectString(e[_I])),String(e.Event).trim()===""?t[Bo]=[]:e[fc]!=null&&(t[Bo]=UI(a.getArrayIfSingleItem(e[fc]))),e[he]!=null&&(t[he]=zI(e[he])),t},ike=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>oke(t)),ake=(e,r)=>{let t={};return e[er]!=null&&(t[er]=a.expectString(e[er])),e[Fe]!=null&&(t[Fe]=a.strictParseInt32(e[Fe])),t},cke=(e,r)=>{let t={};return e[Di]!=null&&(t[Di]=a.expectString(e[Di])),e[M0]!=null&&(t[M0]=a.expectString(e[M0])),e[Fi]!=null&&(t[Fi]=a.expectString(e[Fi])),e[Q0]!=null&&(t[Q0]=a.expectString(e[Q0])),e[Y0]!=null&&(t[Y0]=a.expectString(e[Y0])),t},lke=(e,r)=>{let t={};return e[Di]!=null&&(t[Di]=a.expectString(e[Di])),e[Fi]!=null&&(t[Fi]=a.expectString(e[Fi])),t},dke=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),t},uke=(e,r)=>{let t={};return e[Z0]!=null&&(t[Z0]=a.expectString(e[Z0])),String(e.Rule).trim()===""?t[as]=[]:e[Sn]!=null&&(t[as]=pke(a.getArrayIfSingleItem(e[Sn]))),t},fke=(e,r)=>{let t={};return e[Lt]!=null&&(t[Lt]=a.expectString(e[Lt])),e[La]!=null&&(t[La]=a.strictParseInt32(e[La])),e[X]!=null&&(t[X]=a.expectString(e[X])),e[he]!=null&&(t[he]=hke(e[he])),e[J]!=null&&(t[J]=a.expectString(e[J])),e[lc]!=null&&(t[lc]=Tke(e[lc])),e[Ka]!=null&&(t[Ka]=tTe(e[Ka])),e[lr]!=null&&(t[lr]=Kve(e[lr])),e[Ha]!=null&&(t[Ha]=Vve(e[Ha])),t},mke=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),String(e.Tag).trim()===""?t[Wr]=[]:e[Te]!=null&&(t[Wr]=yc(a.getArrayIfSingleItem(e[Te]))),t},hke=(e,r)=>{let t={};return e[X]!=null&&(t[X]=a.expectString(e[X])),e[Te]!=null&&(t[Te]=Dd(e[Te])),e[At]!=null&&(t[At]=mke(e[At])),t},pke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>fke(t)),gke=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),e[Td]!=null&&(t[Td]=P7(e[Td])),t},P7=(e,r)=>{let t={};return e[Ma]!=null&&(t[Ma]=a.strictParseInt32(e[Ma])),t},O7=(e,r)=>{let t={};return e[IR]!=null&&(t[IR]=a.parseBoolean(e[IR])),e[VR]!=null&&(t[VR]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[VR]))),t},yke=(e,r)=>{let t={};return e[ja]!=null&&(t[ja]=Dve(e[ja])),e[oc]!=null&&(t[oc]=cke(e[oc])),t},Ske=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>yke(t)),bke=(e,r)=>{let t={};return String(e.FilterRule).trim()===""?t[fI]=[]:e[uI]!=null&&(t[fI]=sTe(a.getArrayIfSingleItem(e[uI]))),t},xke=(e,r)=>{let t={};return e[No]!=null&&(t[No]=a.expectString(e[No])),e[is]!=null&&(t[is]=a.expectString(e[is])),e[Oo]!=null&&(t[Oo]=a.expectString(e[Oo])),e[Ad]!=null&&(t[Ad]=a.expectString(e[Ad])),t},Eke=(e,r)=>{let t={};return e[_d]!=null&&(t[_d]=a.expectString(e[_d])),e[pd]!=null&&(t[pd]=a.expectString(e[pd])),t},Cke=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[as]=[]:e[Sn]!=null&&(t[as]=wke(a.getArrayIfSingleItem(e[Sn]))),t},_ke=(e,r)=>{let t={};return e[Yl]!=null&&(t[Yl]=Eke(e[Yl])),e[wt]!=null&&(t[wt]=a.parseBoolean(e[wt])),t},wke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>_ke(t)),Ake=(e,r)=>{let t={};return e[bR]!=null&&(t[bR]=a.expectString(e[bR])),e[GR]!=null&&(t[GR]=a.expectString(e[GR])),e[WR]!=null&&(t[WR]=a.expectString(e[WR])),e[er]!=null&&(t[er]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[er]))),t},vke=(e,r)=>({}),Tke=(e,r)=>{let t={};return e[ac]!=null&&(t[ac]=Rke(e[ac])),e[nc]!=null&&(t[nc]=dke(e[nc])),t},kke=(e,r)=>{let t={};return e[hd]!=null&&(t[hd]=a.expectString(e[hd])),t},Rke=(e,r)=>{let t={};return e[J]!=null&&(t[J]=a.expectString(e[J])),t},Ike=(e,r)=>({}),Pke=(e,r)=>{let t={};return e[sd]!=null&&(t[sd]=a.strictParseLong(e[sd])),e[ed]!=null&&(t[ed]=a.strictParseLong(e[ed])),e[nd]!=null&&(t[nd]=a.strictParseLong(e[nd])),t},Oke=(e,r)=>{let t={};return e[id]!=null&&(t[id]=Nke(e[id])),t},Nke=(e,r)=>{let t={};return e[bd]!=null&&(t[bd]=a.expectString(e[bd])),e[lr]!=null&&(t[lr]=Rve(e[lr])),t},Dd=(e,r)=>{let t={};return e[xe]!=null&&(t[xe]=a.expectString(e[xe])),e[Pn]!=null&&(t[Pn]=a.expectString(e[Pn])),t},yc=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Dd(t)),Bke=(e,r)=>{let t={};return e[In]!=null&&(t[In]=w7(e[In])),e[Qs]!=null&&(t[Qs]=a.expectString(e[Qs])),t},Dke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Bke(t)),Mke=(e,r)=>{let t={};return e[cc]!=null&&(t[cc]=vke(e[cc])),e[tc]!=null&&(t[tc]=ZTe(e[tc])),t},Lke=(e,r)=>{let t={};return e[Fe]!=null&&(t[Fe]=a.strictParseInt32(e[Fe])),e[Ro]!=null&&(t[Ro]=a.expectString(e[Ro])),t},Fke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Lke(t)),qke=(e,r)=>{let t={};return e[pe]!=null&&(t[pe]=a.expectString(e[pe])),e[PI]!=null&&(t[oS]=a.expectString(e[PI])),String(e.Event).trim()===""?t[Bo]=[]:e[fc]!=null&&(t[Bo]=UI(a.getArrayIfSingleItem(e[fc]))),e[he]!=null&&(t[he]=zI(e[he])),t},Uke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>qke(t)),zke=(e,r)=>{let t={};return e[cn]!=null&&(t[cn]=a.expectNonNull(a.parseRfc3339DateTimeWithOffset(e[cn]))),e[Fe]!=null&&(t[Fe]=a.strictParseInt32(e[Fe])),e[Pe]!=null&&(t[Pe]=a.expectString(e[Pe])),t},jke=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>zke(t)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Hke=(e,r)=>a.collectBody(e,r).then(t=>r.utf8Encoder(t)),At="And",$ke="AnalyticsAndOperator",ZR="AnalyticsConfiguration",Md="ACL",qa="AccessControlList",Z9="AnalyticsConfigurationList",Vke="AccessControlPolicy",Ua="AccessControlTranslation",Gke="AccelerateConfiguration",N7="AbortDate",Kke="AnalyticsExportDestination",Wke="AnalyticsFilter",eI="AllowedHeader",tI="AllowedHeaders",Xke="AnalyticsId",za="AbortIncompleteMultipartUpload",Ql="AccountId",bR="AccessKeyId",rI="AllowedMethod",nI="AllowedMethods",sI="AllowedOrigin",oI="AllowedOrigins",Qke="AccessPointAlias",ko="AccessPointArn",w0="AllowQuotedRecordDelimiter",jI="AcceptRanges",B7="AbortRuleId",Yke="ArchiveStatus",Jke="AnalyticsS3BucketDestination",Zke="AnalyticsS3ExportFileFormat",Yl="ApplyServerSideEncryptionByDefault",Ro="AccessTier",Jl="Account",ze="Bucket",fm="BucketArn",Zl="BucketAccountId",eRe="BucketAccelerateStatus",kd="BypassGovernanceRetention",tRe="BucketInfo",wt="BucketKeyEnabled",rRe="BucketLifecycleConfiguration",nRe="BucketLocationConstraint",sRe="BucketLocationName",oRe="BucketLogsPermission",iRe="BucketLoggingStatus",aRe="BucketLocationType",Px="BucketName",ed="BytesProcessed",td="BlockPublicAcls",rd="BlockPublicPolicy",mm="BucketRegion",nd="BytesReturned",sd="BytesScanned",cRe="BucketType",lRe="BucketVersioningStatus",Ws="Buckets",xR="Credentials",we="ChecksumAlgorithm",ER="CannedACL",dRe="CreateBucketConfiguration",Ld="CacheControl",ht="ChecksumCRC32",pt="ChecksumCRC32C",gt="ChecksumCRC64NVME",Fd="ContentDisposition",CR="CreationDate",qd="ContentEncoding",iI="CloudFunction",eV="CloudFunctionConfiguration",Ud="ContentLanguage",qi="ContentLength",D7="ChecksumMode",qt="ContentMD5",uRe="CompletedMultipartUpload",fRe="CORSConfiguration",aI="CORSRule",cI="CORSRules",$r="CommonPrefixes",mRe="CompletedPart",HI="ContentRange",tV="ConfirmRemoveSelfBucketAccess",M7="CopySource",yt="ChecksumSHA1",St="ChecksumSHA256",L7="CopySourceIfMatch",AS="CopySourceIfModifiedSince",F7="CopySourceIfNoneMatch",vS="CopySourceIfUnmodifiedSince",hRe="CopySourceRange",q7="CopySourceSSECustomerAlgorithm",U7="CopySourceSSECustomerKey",z7="CopySourceSSECustomerKeyMD5",od="CSV",j7="CopySourceVersionId",pRe="CSVInput",gRe="CSVOutput",Io="ConfigurationState",bt="ChecksumType",yRe="ClientToken",zd="ContentType",SRe="CompressionType",lt="ContinuationToken",_R="Checksum",Bi="Contents",wR="Code",bRe="Comments",ja="Condition",Vr="Delimiter",Oa="DaysAfterInitiation",id="DataExport",xRe="DestinationIfMatch",rV="DestinationIfModifiedSince",ERe="DestinationIfNoneMatch",nV="DestinationIfUnmodifiedSince",ys="DeleteMarker",Ha="DeleteMarkerReplication",CRe="DeleteMarkerReplicationStatus",AR="DeleteMarkerVersionId",sV="DeleteMarkers",Ss="DisplayName",_Re="DataRedundancy",$a="DefaultRetention",vR="DestinationResult",Fe="Days",cn="Date",A0="Deleted",wRe="Delete",lr="Destination",ARe="Description",Js="Expires",P0="EmailAddress",Va="EventBridgeConfiguration",K="ExpectedBucketOwner",O0="ErrorCode",Gr="EncryptionConfiguration",Ga="ErrorDocument",lI="ExposeHeaders",dI="ExposeHeader",N0="ErrorMessage",Na="ExpiredObjectDeleteMarker",Ka="ExistingObjectReplication",vRe="ExistingObjectReplicationStatus",TRe="EnableRequestProgress",H7="ExpiresString",$7="ExpectedSourceBucketOwner",kRe="ExpirationStatus",RRe="ExpirationState",Kr="EncodingType",dt="ETag",TR="EncryptionType",ad="EventThreshold",V7="ExpressionType",Xs="Encryption",kR="Enabled",v0="End",bs="Error",oV="Errors",fc="Event",Bo="Events",G7="Expression",er="Expiration",he="Filter",K7="FieldDelimiter",IRe="FileHeaderInfo",PRe="FetchOwner",uI="FilterRule",ORe="FilterRuleName",NRe="FilterRuleValue",fI="FilterRules",mI="Field",Jn="Format",cd="Frequency",Do="Grant",jd="GrantFullControl",B0="GlacierJobParameters",Hd="GrantRead",$d="GrantReadACP",$I="GrantWrite",Vd="GrantWriteACP",pm="Grants",In="Grantee",D0="HttpErrorCodeReturnedEquals",Di="HostName",M0="HttpRedirectCode",pe="Id",hI="InventoryConfiguration",iV="InventoryConfigurationList",W7="InventoryConfigurationState",Wa="IndexDocument",Lt="ID",BRe="InventoryDestination",Ba="IsEnabled",DRe="InventoryEncryption",MRe="InventoryFilter",LRe="InventoryFormat",FRe="InventoryFrequency",qRe="InventoryId",URe="InventoryIncludedObjectVersions",ld="IsLatest",Gd="IfMatch",aV="IfMatchInitiatedTime",cV="IfMatchLastModifiedTime",lV="IfMatchSize",TS="IfModifiedSince",Cm="IfNoneMatch",zRe="InventoryOptionalField",dd="IncludedObjectVersions",RR="IsPublic",ud="IgnorePublicAcls",IR="IsRestoreInProgress",Xa="InputSerialization",jRe="InventoryS3BucketDestination",HRe="InventorySchedule",tt="IsTruncated",$Re="IntelligentTieringAndOperator",VRe="IntelligentTieringAccessTier",pI="IntelligentTieringConfiguration",dV="IntelligentTieringConfigurationList",PR="InventoryTableConfigurationResult",GRe="InventoryTableConfigurationUpdates",L0="InventoryTableConfiguration",KRe="IntelligentTieringDays",WRe="IntelligentTieringFilter",XRe="IntelligentTieringId",QRe="IntelligentTieringStatus",kS="IfUnmodifiedSince",fd="Initiator",OR="Initiated",md="JSON",YRe="JSONInput",JRe="JSONOutput",ZRe="JSONType",F0="JournalTableConfiguration",NR="JournalTableConfigurationResult",eIe="JournalTableConfigurationUpdates",xe="Key",BR="KeyCount",hd="KeyId",tIe="KmsKeyArn",Mi="KeyMarker",rIe="KMSContext",DR="KMSKeyId",pd="KMSMasterKeyID",q0="KeyPrefixEquals",Qa="Location",gd="LocationConstraint",Ya="LoggingEnabled",nIe="LifecycleExpiration",U0="LambdaFunctionArn",gI="LambdaFunctionConfigurations",sIe="LambdaFunctionConfiguration",oIe="LocationInfo",Ft="LastModified",T0="LastModifiedTime",iIe="LocationNameAsString",aIe="LocationPrefix",cIe="LifecycleRule",lIe="LifecycleRuleAndOperator",dIe="LifecycleRuleFilter",uIe="LocationType",z0="Marker",fIe="MetricsAndOperator",Da="MaxAgeSeconds",mIe="MaxBuckets",yI="MetricsConfiguration",uV="MetricsConfigurationList",MR="MetadataConfigurationResult",hIe="MetadataConfiguration",pIe="MetadataDirective",gIe="MaxDirectoryBuckets",SI="MfaDelete",X7="MetadataEntry",yIe="MetricsFilter",VI="MFA",j0="MFADelete",SIe="MetricsId",Zn="MaxKeys",bIe="MetadataKey",RS="MissingMeta",fV="MpuObjectSize",Po="MaxParts",xIe="MetricsStatus",EIe="MetadataTableConfiguration",LR="MetadataTableConfigurationResult",CIe="MetadataTableEncryptionConfiguration",H0="MaxUploads",_Ie="MetadataValue",Ja="Metrics",FR="Message",Ma="Minutes",es="Mode",Pt="Name",wIe="NotificationConfiguration",AIe="NotificationConfigurationFilter",ln="NextContinuationToken",ts="NoncurrentDays",GI="NotificationId",yd="NextKeyMarker",qR="NextMarker",rs="NewerNoncurrentVersions",Sd="NextPartNumberMarker",UR="NextUploadIdMarker",Za="NoncurrentVersionExpiration",zR="NextVersionIdMarker",bI="NoncurrentVersionTransitions",xI="NoncurrentVersionTransition",Xe="Owner",mV="ObjectAttributes",vIe="OwnershipControls",TIe="ObjectCannedACL",kIe="OwnershipControlsRule",Kl="OptionalFields",RIe="ObjectIdentifier",KI="ObjectKey",$0="OutputLocation",IIe="ObjectLockConfiguration",V0="ObjectLockEnabled",hV="ObjectLockEnabledForBucket",PIe="ObjectLockLegalHold",Sc="ObjectLockLegalHoldStatus",Kd="ObjectLockMode",OIe="ObjectLockRetention",Q7="ObjectLockRetentionMode",Zs="ObjectLockRetainUntilDate",NIe="ObjectLockRule",hm="ObjectOwnership",Rd="OptionalObjectAttributes",BIe="OwnerOverride",jR="ObjectParts",ec="OutputSerialization",ns="ObjectSizeGreaterThan",Y7="ObjectSizeGreaterThanBytes",ss="ObjectSizeLessThan",J7="ObjectSizeLessThanBytes",bd="OutputSchemaVersion",HR="ObjectSize",DIe="ObjectVersionId",MIe="Objects",X="Prefix",LIe="PublicAccessBlockConfiguration",Id="PartsCount",G0="PartitionDateSource",FIe="ParquetInput",yn="PartNumber",Li="PartNumberMarker",tc="PartitionedPrefix",K0="Payer",IS="Part",$R="Parquet",gm="Parts",Qs="Permission",Fi="Protocol",La="Priority",k0="Quiet",W0="QueueArn",EI="QueueConfiguration",CI="QueueConfigurations",Z7="QuoteCharacter",eG="QuoteEscapeCharacter",qIe="QuoteFields",_I="Queue",tG="Range",rc="RedirectAllRequestsTo",vt="RequestCharged",rG="ResponseCacheControl",nG="ResponseContentDisposition",sG="ResponseContentEncoding",oG="ResponseContentLanguage",iG="ResponseContentType",UIe="ReplicationConfiguration",WI="RecordDelimiter",aG="ResponseExpires",zIe="RecordExpirationDays",VR="RestoreExpiryDate",Ys="RecordExpiration",X0="ReplicaKmsKeyID",Q0="ReplaceKeyPrefixWith",Y0="ReplaceKeyWith",nc="ReplicaModifications",jIe="ReplicaModificationsStatus",HIe="RestoreOutputPath",ot="RequestPayer",xd="RestrictPublicBuckets",$Ie="RequestPaymentConfiguration",J0="RequestProgress",VIe="RequestRoute",GIe="ReplicationRuleAndOperator",KIe="ReplicationRuleFilter",WIe="ReplicationRuleStatus",XIe="RestoreRequestType",QIe="ReplicationRule",YIe="RestoreRequest",Wl="RoutingRules",PS="RoutingRule",JIe="RenameSource",XI="ReplicationStatus",Ed="RestoreStatus",ZIe="RequestToken",e1e="ReplicationTimeStatus",t1e="ReplicationTimeValue",sc="ReplicationTime",Cd="RetainUntilDate",QI="Restore",oc="Redirect",Z0="Role",Sn="Rule",as="Rules",J="Status",eS="StartAfter",GR="SecretAccessKey",KR="SseAlgorithm",os="S3BucketDestination",Pe="StorageClass",ic="StorageClassAnalysis",r1e="StorageClassAnalysisDataExport",n1e="StorageClassAnalysisSchemaVersion",pV="StatusCode",gV="SkipDestinationValidation",s1e="SourceIfMatch",yV="SourceIfModifiedSince",o1e="SourceIfNoneMatch",SV="SourceIfUnmodifiedSince",OS="SSE-KMS",ac="SseKmsEncryptedObjects",i1e="SseKmsEncryptedObjectsStatus",a1e="S3KeyFilter",wI="S3Key",c1e="S3Location",l1e="SessionMode",d1e="SelectObjectContentRequest",tS="SelectParameters",cc="SimplePrefix",rS="ScanRange",NS="SSE-S3",lc="SourceSelectionCriteria",Xr="ServerSideEncryption",_d="SSEAlgorithm",u1e="ServerSideEncryptionByDefault",f1e="ServerSideEncryptionConfiguration",dr="SSECustomerAlgorithm",Es="SSECustomerKey",ur="SSECustomerKeyMD5",AI="SSEKMS",Hi="SSEKMSEncryptionContext",Nr="SSEKMSKeyId",m1e="ServerSideEncryptionRule",vI="SSES3",WR="SessionToken",h1e="S3TablesBucketArn",nS="S3TablesDestination",XR="S3TablesDestinationResult",p1e="S3TablesName",QR="S3",wd="Schedule",R0="Setting",Or="Size",I0="Start",sS="Suffix",dc="Tagging",oS="TopicArn",Oo="TableArn",iS="TargetBucket",No="TableBucketArn",YR="TableBucketType",BS="TagCount",TI="TopicConfiguration",kI="TopicConfigurations",g1e="TaggingDirective",YI="TransitionDefaultMinimumObjectSize",Xl="TargetGrants",y1e="TargetGrant",is="TableName",Ad="TableNamespace",uc="TargetObjectKeyFormat",aS="TargetPrefix",S1e="TotalPartsCount",gs="TagSet",b1e="TableSseAlgorithm",cG="TransitionStorageClass",vd="TableStatus",Te="Tag",Wr="Tags",lG="Tier",RI="Tierings",II="Tiering",Td="Time",dG="Token",PI="Topic",OI="Transitions",NI="Transition",bn="Type",bV="Upload",xn="UploadId",cS="UploadIdMarker",x1e="UserMetadata",lS="URI",xV="Uploads",EV="Version",uG="VersionCount",E1e="VersioningConfiguration",De="VersionId",dS="VersionIdMarker",Pn="Value",CV="Versions",C1e="WebsiteConfiguration",_V="WriteOffsetBytes",_m="WebsiteRedirectLocation",Fa="Years",Ox="analytics",fG="accelerate",Nx="acl",mG="accept-ranges",_1e="attributes",w1e="bucket-region",JI="cors",wm="cache-control",Am="content-disposition",vm="content-encoding",Tm="content-language",mc="content-length",Ut="content-md5",hG="content-range",km="content-type",bc="continuation-token",A1e="delete",Bx="delimiter",hc="expires",ZI="encryption",Dx="encoding-type",Mx="etag",pG="expiresstring",v1e="fetch-owner",cs="id",xc="if-match",e1="if-modified-since",Lx="inventory",Wd="if-none-match",Fx="intelligent-tiering",t1="if-unmodified-since",gG="key-marker",r1="lifecycle",yG="legal-hold",Pd="last-modified",SG="location",bG="logging",T1e="list-type",qx="metrics",n1="metadataConfiguration",k1e="metadataInventoryTable",R1e="metadataJournalTable",s1="metadataTable",I1e="marker",P1e="max-buckets",O1e="max-directory-buckets",fr="member",o1="max-keys",N1e="max-parts",B1e="max-uploads",xG="notification",i1="ownershipControls",EG="object-lock",a1="policy",c1="publicAccessBlock",Ux="partNumber",D1e="policyStatus",M1e="part-number-marker",Rm="prefix",l1="replication",L1e="renameObject",CG="requestPayment",_G="range",wG="response-cache-control",AG="response-content-disposition",vG="response-content-encoding",TG="response-content-language",kG="response-content-type",RG="response-expires",F1e="restore",IG="retention",q1e="session",U1e="start-after",z1e="select",j1e="select-type",Xd="tagging",H1e="torrent",PG="uploads",Im="uploadId",$1e="upload-id-marker",OG="versioning",En="versionId",Ze='<?xml version="1.0" encoding="UTF-8"?>',V1e="versions",G1e="version-id-marker",d1="website",wV="xsi:type",Qd="x-amz-acl",DS="x-amz-abort-date",AV="x-amz-access-point-alias",NG="x-amz-abort-rule-id",K1e="x-amz-archive-status",BG="x-amz-bucket-arn",u1="x-amz-bypass-governance-retention",W1e="x-amz-bucket-location-name",X1e="x-amz-bucket-location-type",Q1e="x-amz-bucket-object-lock-enabled",DG="x-amz-bucket-object-lock-token",Y1e="x-amz-bucket-region",f1="x-amz-checksum-algorithm",Ec="x-amz-checksum-crc32",Cc="x-amz-checksum-crc32c",_c="x-amz-checksum-crc64nvme",MG="x-amz-checksum-mode",J1e="x-amz-confirm-remove-self-bucket-access",wc="x-amz-checksum-sha1",Ac="x-amz-checksum-sha256",LG="x-amz-copy-source",FG="x-amz-copy-source-if-match",qG="x-amz-copy-source-if-modified-since",UG="x-amz-copy-source-if-none-match",zG="x-amz-copy-source-if-unmodified-since",Z1e="x-amz-create-session-mode",ePe="x-amz-copy-source-range",jG="x-amz-copy-source-server-side-encryption-customer-algorithm",HG="x-amz-copy-source-server-side-encryption-customer-key",$G="x-amz-copy-source-server-side-encryption-customer-key-md5",VG="x-amz-copy-source-version-id",Yd="x-amz-checksum-type",tPe="x-amz-client-token",Ui="x-amz-delete-marker",Pm="x-amz-expiration",W="x-amz-expected-bucket-owner",rPe="x-amz-fwd-error-code",nPe="x-amz-fwd-error-message",sPe="x-amz-fwd-header-accept-ranges",oPe="x-amz-fwd-header-cache-control",iPe="x-amz-fwd-header-content-disposition",aPe="x-amz-fwd-header-content-encoding",cPe="x-amz-fwd-header-content-language",lPe="x-amz-fwd-header-content-range",dPe="x-amz-fwd-header-content-type",uPe="x-amz-fwd-header-etag",fPe="x-amz-fwd-header-expires",mPe="x-amz-fwd-header-last-modified",hPe="x-amz-fwd-header-x-amz-checksum-crc32",pPe="x-amz-fwd-header-x-amz-checksum-crc32c",gPe="x-amz-fwd-header-x-amz-checksum-crc64nvme",yPe="x-amz-fwd-header-x-amz-checksum-sha1",SPe="x-amz-fwd-header-x-amz-checksum-sha256",bPe="x-amz-fwd-header-x-amz-delete-marker",xPe="x-amz-fwd-header-x-amz-expiration",EPe="x-amz-fwd-header-x-amz-missing-meta",CPe="x-amz-fwd-header-x-amz-mp-parts-count",_Pe="x-amz-fwd-header-x-amz-object-lock-legal-hold",wPe="x-amz-fwd-header-x-amz-object-lock-mode",APe="x-amz-fwd-header-x-amz-object-lock-retain-until-date",vPe="x-amz-fwd-header-x-amz-restore",TPe="x-amz-fwd-header-x-amz-request-charged",kPe="x-amz-fwd-header-x-amz-replication-status",RPe="x-amz-fwd-header-x-amz-storage-class",IPe="x-amz-fwd-header-x-amz-server-side-encryption",PPe="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",OPe="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",NPe="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",BPe="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",DPe="x-amz-fwd-header-x-amz-tagging-count",MPe="x-amz-fwd-header-x-amz-version-id",LPe="x-amz-fwd-status",Jd="x-amz-grant-full-control",Zd="x-amz-grant-read",eu="x-amz-grant-read-acp",m1="x-amz-grant-write",tu="x-amz-grant-write-acp",FPe="x-amz-if-match-initiated-time",qPe="x-amz-if-match-last-modified-time",UPe="x-amz-if-match-size",h1="x-amz-mfa",zPe="x-amz-metadata-directive",MS="x-amz-missing-meta",jPe="x-amz-mp-object-size",HPe="x-amz-max-parts",LS="x-amz-mp-parts-count",$Pe="x-amz-object-attributes",Om="x-amz-object-lock-legal-hold",Nm="x-amz-object-lock-mode",pc="x-amz-object-lock-retain-until-date",VPe="x-amz-object-ownership",p1="x-amz-optional-object-attributes",vV="x-amz-object-size",GPe="x-amz-part-number-marker",GG="x-amz-restore",Rt="x-amz-request-charged",KPe="x-amz-restore-output-path",it="x-amz-request-payer",WPe="x-amz-request-route",XPe="x-amz-rename-source",KG="x-amz-replication-status",QPe="x-amz-rename-source-if-match",YPe="x-amz-rename-source-if-modified-since",JPe="x-amz-rename-source-if-none-match",ZPe="x-amz-rename-source-if-unmodified-since",eOe="x-amz-request-token",Bm="x-amz-storage-class",xt="x-amz-sdk-checksum-algorithm",tOe="x-amz-skip-destination-validation",WG="x-amz-source-expected-bucket-owner",On="x-amz-server-side-encryption",Nn="x-amz-server-side-encryption-aws-kms-key-id",Gt="x-amz-server-side-encryption-bucket-key-enabled",$i="x-amz-server-side-encryption-context",_r="x-amz-server-side-encryption-customer-algorithm",Cs="x-amz-server-side-encryption-customer-key",wr="x-amz-server-side-encryption-customer-key-md5",g1="x-amz-tagging",FS="x-amz-tagging-count",rOe="x-amz-tagging-directive",y1="x-amz-transition-default-minimum-object-size",eo="x-amz-version-id",nOe="x-amz-write-offset-bytes",Dm="x-amz-website-redirect-location",Ar="x-id",ym=class extends a.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(DV,BV).ser(Vbe).de(zEe).build(){},sOe=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(i=>i.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},oOe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),iOe=(e,r)=>{let t=Object.assign(J9.getAwsRegionExtensionConfiguration(e),a.getDefaultExtensionConfiguration(e),JR.getHttpHandlerExtensionConfiguration(e),sOe(e));return r.forEach(n=>n.configure(t)),Object.assign(e,J9.resolveAwsRegionExtensionConfiguration(t),a.resolveDefaultRuntimeConfig(t),JR.resolveHttpHandlerRuntimeConfig(t),oOe(t))},zi=class extends a.Client{config;constructor(...[r]){let t=SSe.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=xSe(t),s=X9.resolveUserAgentConfig(n),o=st.resolveFlexibleChecksumsConfig(s),i=Q9.resolveRetryConfig(o),c=hSe.resolveRegionConfig(i),l=W9.resolveHostHeaderConfig(c),d=z.resolveEndpointConfig(l),u=pSe.resolveEventStreamSerdeConfig(d),f=Y9.resolveHttpAuthSchemeConfig(u),g=ee.resolveS3Config(f,{session:[()=>this,ym]}),p=iOe(g,r?.extensions||[]);this.config=p,this.middlewareStack.use(X9.getUserAgentPlugin(this.config)),this.middlewareStack.use(Q9.getRetryPlugin(this.config)),this.middlewareStack.use(gSe.getContentLengthPlugin(this.config)),this.middlewareStack.use(W9.getHostHeaderPlugin(this.config)),this.middlewareStack.use(fSe.getLoggerPlugin(this.config)),this.middlewareStack.use(mSe.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(q.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:Y9.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async y=>new q.DefaultIdentityProviderConfig({"aws.auth#sigv4":y.credentials,"aws.auth#sigv4a":y.credentials})})),this.middlewareStack.use(q.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ee.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(uSe.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ee.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},qS=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(Fbe).de(BEe).build(){},US=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(kV,TV).ser(qbe).de(DEe).build(){},zS=class extends a.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(IV,RV).ser(Ube).de(MEe).build(){},jS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),bSe.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(zbe).de(LEe).build(){},HS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(jbe).de(FEe).build(){},$S=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Hbe).de(qEe).build(){},VS=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(OV,PV).ser($be).de(UEe).build(){},GS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(Kbe).de(HEe).build(){},KS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(Gbe).de(jEe).build(){},WS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(Wbe).de($Ee).build(){},XS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(Xbe).de(VEe).build(){},QS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(Qbe).de(GEe).build(){},YS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(Ybe).de(KEe).build(){},JS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(Jbe).de(WEe).build(){},ZS=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Zbe).de(XEe).build(){},eb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(exe).de(QEe).build(){},tb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(txe).de(YEe).build(){},rb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(rxe).de(JEe).build(){},nb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(nxe).de(ZEe).build(){},sb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(sxe).de(eCe).build(){},ob=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(oxe).de(tCe).build(){},ib=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(ixe).de(rCe).build(){},ab=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(axe).de(nCe).build(){},cb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(cxe).de(sCe).build(){},lb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(lxe).de(oCe).build(){},db=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(dxe).de(iCe).build(){},ub=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(uxe).de(aCe).build(){},fb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(fxe).de(cCe).build(){},mb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(mxe).de(lCe).build(){},hb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(hxe).de(dCe).build(){},pb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,FV).ser(pxe).de(uCe).build(){},gb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(gxe).de(fCe).build(){},yb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,HV).ser(yxe).de(mCe).build(){},Sb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Sxe).de(hCe).build(){},bb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(bxe).de(pCe).build(){},xb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(xxe).de(gCe).build(){},Eb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Exe).de(yCe).build(){},Cb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Cxe).de(SCe).build(){},_b=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(_xe).de(bCe).build(){},wb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(wxe).de(xCe).build(){},Ab=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(Axe).de(ECe).build(){},vb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(vxe).de(CCe).build(){},Tb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(Txe).de(_Ce).build(){},kb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(kxe).de(wCe).build(){},Rb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(Rxe).de(ACe).build(){},Ib=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(Ixe).de(vCe).build(){},Pb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(Pxe).de(TCe).build(){},Ob=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(Oxe).de(kCe).build(){},Nb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(Bxe).de(ICe).build(){},Bb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(GV,void 0).ser(Dxe).de(PCe).build(){},Db=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),xs.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(VV,$V).ser(Nxe).de(RCe).build(){},Mb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(Mxe).de(OCe).build(){},Lb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(Lxe).de(NCe).build(){},Fb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(Fxe).de(BCe).build(){},qb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(qxe).de(DCe).build(){},Ub=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,KV).ser(Uxe).de(MCe).build(){},zb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(zxe).de(LCe).build(){},Od=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(jxe).de(FCe).build(){},Nd=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(XV,WV).ser(Hxe).de(qCe).build(){},jb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser($xe).de(UCe).build(){},Hb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Vxe).de(zCe).build(){},$b=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,QV).ser(Gxe).de(jCe).build(){},Vb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Kxe).de(HCe).build(){},Sm=class extends a.Command.classBuilder().ep(H).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Wxe).de($Ce).build(){},bm=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(Xxe).de(VCe).build(){},Gb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(Qxe).de(GCe).build(){},Kb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(Yxe).de(KCe).build(){},xm=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(Jxe).de(WCe).build(){},Wb=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(Zxe).de(XCe).build(){},Em=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(YV,void 0).ser(eEe).de(QCe).build(){},Xb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(tEe).de(YCe).build(){},Qb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(rEe).de(JCe).build(){},Yb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(nEe).de(ZCe).build(){},Jb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(sEe).de(e_e).build(){},Zb=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(JV,void 0).ser(oEe).de(t_e).build(){},ex=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(iEe).de(r_e).build(){},tx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(ZV,void 0).ser(aEe).de(n_e).build(){},rx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(cEe).de(s_e).build(){},nx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(lEe).de(o_e).build(){},sx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(dEe).de(i_e).build(){},ox=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(uEe).de(a_e).build(){},ix=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(fEe).de(c_e).build(){},ax=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(mEe).de(l_e).build(){},cx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(hEe).de(d_e).build(){},lx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(pEe).de(u_e).build(){},dx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(gEe).de(f_e).build(){},ux=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(yEe).de(m_e).build(){},fx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(SEe).de(h_e).build(){},mx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(xEe).de(g_e).build(){},hx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getCheckContentLengthHeaderPlugin(n),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(t7,e7).ser(bEe).de(p_e).build(){},px=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(EEe).de(y_e).build(){},gx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(CEe).de(S_e).build(){},yx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(_Ee).de(b_e).build(){},Sx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(wEe).de(x_e).build(){},bx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(AEe).de(E_e).build(){},xx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(vEe).de(C_e).build(){},Ex=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(i7,void 0).ser(TEe).de(__e).build(){},Cx=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(c7,a7).ser(kEe).de(w_e).build(){},_x=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(REe).de(A_e).build(){},wx=class extends a.Command.classBuilder().ep({...H,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(IEe).de(v_e).build(){},Ax=class extends a.Command.classBuilder().ep({...H,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),st.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(d7,l7).ser(PEe).de(T_e).build(){},vx=class extends a.Command.classBuilder().ep({...H,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),xs.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(f7,u7).ser(OEe).de(k_e).build(){},Tx=class extends a.Command.classBuilder().ep({...H,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),z.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(m7,void 0).ser(NEe).de(R_e).build(){},aOe={AbortMultipartUploadCommand:qS,CompleteMultipartUploadCommand:US,CopyObjectCommand:zS,CreateBucketCommand:jS,CreateBucketMetadataConfigurationCommand:HS,CreateBucketMetadataTableConfigurationCommand:$S,CreateMultipartUploadCommand:VS,CreateSessionCommand:ym,DeleteBucketCommand:KS,DeleteBucketAnalyticsConfigurationCommand:GS,DeleteBucketCorsCommand:WS,DeleteBucketEncryptionCommand:XS,DeleteBucketIntelligentTieringConfigurationCommand:QS,DeleteBucketInventoryConfigurationCommand:YS,DeleteBucketLifecycleCommand:JS,DeleteBucketMetadataConfigurationCommand:ZS,DeleteBucketMetadataTableConfigurationCommand:eb,DeleteBucketMetricsConfigurationCommand:tb,DeleteBucketOwnershipControlsCommand:rb,DeleteBucketPolicyCommand:nb,DeleteBucketReplicationCommand:sb,DeleteBucketTaggingCommand:ob,DeleteBucketWebsiteCommand:ib,DeleteObjectCommand:ab,DeleteObjectsCommand:cb,DeleteObjectTaggingCommand:lb,DeletePublicAccessBlockCommand:db,GetBucketAccelerateConfigurationCommand:ub,GetBucketAclCommand:fb,GetBucketAnalyticsConfigurationCommand:mb,GetBucketCorsCommand:hb,GetBucketEncryptionCommand:pb,GetBucketIntelligentTieringConfigurationCommand:gb,GetBucketInventoryConfigurationCommand:yb,GetBucketLifecycleConfigurationCommand:Sb,GetBucketLocationCommand:bb,GetBucketLoggingCommand:xb,GetBucketMetadataConfigurationCommand:Eb,GetBucketMetadataTableConfigurationCommand:Cb,GetBucketMetricsConfigurationCommand:_b,GetBucketNotificationConfigurationCommand:wb,GetBucketOwnershipControlsCommand:Ab,GetBucketPolicyCommand:vb,GetBucketPolicyStatusCommand:Tb,GetBucketReplicationCommand:kb,GetBucketRequestPaymentCommand:Rb,GetBucketTaggingCommand:Ib,GetBucketVersioningCommand:Pb,GetBucketWebsiteCommand:Ob,GetObjectCommand:Db,GetObjectAclCommand:Nb,GetObjectAttributesCommand:Bb,GetObjectLegalHoldCommand:Mb,GetObjectLockConfigurationCommand:Lb,GetObjectRetentionCommand:Fb,GetObjectTaggingCommand:qb,GetObjectTorrentCommand:Ub,GetPublicAccessBlockCommand:zb,HeadBucketCommand:Od,HeadObjectCommand:Nd,ListBucketAnalyticsConfigurationsCommand:jb,ListBucketIntelligentTieringConfigurationsCommand:Hb,ListBucketInventoryConfigurationsCommand:$b,ListBucketMetricsConfigurationsCommand:Vb,ListBucketsCommand:Sm,ListDirectoryBucketsCommand:bm,ListMultipartUploadsCommand:Gb,ListObjectsCommand:Kb,ListObjectsV2Command:xm,ListObjectVersionsCommand:Wb,ListPartsCommand:Em,PutBucketAccelerateConfigurationCommand:Xb,PutBucketAclCommand:Qb,PutBucketAnalyticsConfigurationCommand:Yb,PutBucketCorsCommand:Jb,PutBucketEncryptionCommand:Zb,PutBucketIntelligentTieringConfigurationCommand:ex,PutBucketInventoryConfigurationCommand:tx,PutBucketLifecycleConfigurationCommand:rx,PutBucketLoggingCommand:nx,PutBucketMetricsConfigurationCommand:sx,PutBucketNotificationConfigurationCommand:ox,PutBucketOwnershipControlsCommand:ix,PutBucketPolicyCommand:ax,PutBucketReplicationCommand:cx,PutBucketRequestPaymentCommand:lx,PutBucketTaggingCommand:dx,PutBucketVersioningCommand:ux,PutBucketWebsiteCommand:fx,PutObjectCommand:hx,PutObjectAclCommand:mx,PutObjectLegalHoldCommand:px,PutObjectLockConfigurationCommand:gx,PutObjectRetentionCommand:yx,PutObjectTaggingCommand:Sx,PutPublicAccessBlockCommand:bx,RenameObjectCommand:xx,RestoreObjectCommand:Ex,SelectObjectContentCommand:Cx,UpdateBucketMetadataInventoryTableConfigurationCommand:_x,UpdateBucketMetadataJournalTableConfigurationCommand:wx,UploadPartCommand:Ax,UploadPartCopyCommand:vx,WriteGetObjectResponseCommand:Tx},kx=class extends zi{};a.createAggregatedClient(aOe,kx);var cOe=q.createPaginator(zi,Sm,"ContinuationToken","ContinuationToken","MaxBuckets"),lOe=q.createPaginator(zi,bm,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),dOe=q.createPaginator(zi,xm,"ContinuationToken","NextContinuationToken","MaxKeys"),uOe=q.createPaginator(zi,Em,"PartNumberMarker","NextPartNumberMarker","MaxParts"),XG=async(e,r)=>{let t;try{return t=await e.send(new Od(r)),{state:Vt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Vt.WaiterState.RETRY,reason:t}}return{state:Vt.WaiterState.RETRY,reason:t}},fOe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Vt.createWaiter({...t,...e},r,XG)},mOe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Vt.createWaiter({...t,...e},r,XG);return Vt.checkExceptions(n)},QG=async(e,r)=>{let t;try{t=await e.send(new Od(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Vt.WaiterState.SUCCESS,reason:t}}return{state:Vt.WaiterState.RETRY,reason:t}},hOe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Vt.createWaiter({...t,...e},r,QG)},pOe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Vt.createWaiter({...t,...e},r,QG);return Vt.checkExceptions(n)},YG=async(e,r)=>{let t;try{return t=await e.send(new Nd(r)),{state:Vt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Vt.WaiterState.RETRY,reason:t}}return{state:Vt.WaiterState.RETRY,reason:t}},gOe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Vt.createWaiter({...t,...e},r,YG)},yOe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Vt.createWaiter({...t,...e},r,YG);return Vt.checkExceptions(n)},JG=async(e,r)=>{let t;try{t=await e.send(new Nd(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Vt.WaiterState.SUCCESS,reason:t}}return{state:Vt.WaiterState.RETRY,reason:t}},SOe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Vt.createWaiter({...t,...e},r,JG)},bOe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Vt.createWaiter({...t,...e},r,JG);return Vt.checkExceptions(n)};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return a.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return a.Client}});x.AbortMultipartUploadCommand=qS;x.AnalyticsS3ExportFileFormat=GSe;x.ArchiveStatus=wbe;x.BucketAccelerateStatus=_Se;x.BucketAlreadyExists=mS;x.BucketAlreadyOwnedByYou=hS;x.BucketCannedACL=MSe;x.BucketLocationConstraint=USe;x.BucketLogsPermission=nbe;x.BucketType=FSe;x.BucketVersioningStatus=ybe;x.ChecksumAlgorithm=ISe;x.ChecksumMode=xbe;x.ChecksumType=TSe;x.CompleteMultipartUploadCommand=US;x.CompleteMultipartUploadOutputFilterSensitiveLog=TV;x.CompleteMultipartUploadRequestFilterSensitiveLog=kV;x.CompressionType=Obe;x.CopyObjectCommand=zS;x.CopyObjectOutputFilterSensitiveLog=RV;x.CopyObjectRequestFilterSensitiveLog=IV;x.CreateBucketCommand=jS;x.CreateBucketMetadataConfigurationCommand=HS;x.CreateBucketMetadataTableConfigurationCommand=$S;x.CreateMultipartUploadCommand=VS;x.CreateMultipartUploadOutputFilterSensitiveLog=PV;x.CreateMultipartUploadRequestFilterSensitiveLog=OV;x.CreateSessionCommand=ym;x.CreateSessionOutputFilterSensitiveLog=BV;x.CreateSessionRequestFilterSensitiveLog=DV;x.DataRedundancy=LSe;x.DeleteBucketAnalyticsConfigurationCommand=GS;x.DeleteBucketCommand=KS;x.DeleteBucketCorsCommand=WS;x.DeleteBucketEncryptionCommand=XS;x.DeleteBucketIntelligentTieringConfigurationCommand=QS;x.DeleteBucketInventoryConfigurationCommand=YS;x.DeleteBucketLifecycleCommand=JS;x.DeleteBucketMetadataConfigurationCommand=ZS;x.DeleteBucketMetadataTableConfigurationCommand=eb;x.DeleteBucketMetricsConfigurationCommand=tb;x.DeleteBucketOwnershipControlsCommand=rb;x.DeleteBucketPolicyCommand=nb;x.DeleteBucketReplicationCommand=sb;x.DeleteBucketTaggingCommand=ob;x.DeleteBucketWebsiteCommand=ib;x.DeleteMarkerReplicationStatus=cbe;x.DeleteObjectCommand=ab;x.DeleteObjectTaggingCommand=lb;x.DeleteObjectsCommand=cb;x.DeletePublicAccessBlockCommand=db;x.EncodingType=Abe;x.EncryptionFilterSensitiveLog=r7;x.EncryptionTypeMismatch=bS;x.Event=ibe;x.ExistingObjectReplicationStatus=ube;x.ExpirationState=$Se;x.ExpirationStatus=tbe;x.ExpressionType=Pbe;x.FileHeaderInfo=Nbe;x.FilterRuleName=abe;x.GetBucketAccelerateConfigurationCommand=ub;x.GetBucketAclCommand=fb;x.GetBucketAnalyticsConfigurationCommand=mb;x.GetBucketCorsCommand=hb;x.GetBucketEncryptionCommand=pb;x.GetBucketEncryptionOutputFilterSensitiveLog=FV;x.GetBucketIntelligentTieringConfigurationCommand=gb;x.GetBucketInventoryConfigurationCommand=yb;x.GetBucketInventoryConfigurationOutputFilterSensitiveLog=HV;x.GetBucketLifecycleConfigurationCommand=Sb;x.GetBucketLocationCommand=bb;x.GetBucketLoggingCommand=xb;x.GetBucketMetadataConfigurationCommand=Eb;x.GetBucketMetadataTableConfigurationCommand=Cb;x.GetBucketMetricsConfigurationCommand=_b;x.GetBucketNotificationConfigurationCommand=wb;x.GetBucketOwnershipControlsCommand=Ab;x.GetBucketPolicyCommand=vb;x.GetBucketPolicyStatusCommand=Tb;x.GetBucketReplicationCommand=kb;x.GetBucketRequestPaymentCommand=Rb;x.GetBucketTaggingCommand=Ib;x.GetBucketVersioningCommand=Pb;x.GetBucketWebsiteCommand=Ob;x.GetObjectAclCommand=Nb;x.GetObjectAttributesCommand=Bb;x.GetObjectAttributesRequestFilterSensitiveLog=GV;x.GetObjectCommand=Db;x.GetObjectLegalHoldCommand=Mb;x.GetObjectLockConfigurationCommand=Lb;x.GetObjectOutputFilterSensitiveLog=$V;x.GetObjectRequestFilterSensitiveLog=VV;x.GetObjectRetentionCommand=Fb;x.GetObjectTaggingCommand=qb;x.GetObjectTorrentCommand=Ub;x.GetObjectTorrentOutputFilterSensitiveLog=KV;x.GetPublicAccessBlockCommand=zb;x.HeadBucketCommand=Od;x.HeadObjectCommand=Nd;x.HeadObjectOutputFilterSensitiveLog=WV;x.HeadObjectRequestFilterSensitiveLog=XV;x.IdempotencyParameterMismatch=_S;x.IntelligentTieringAccessTier=XSe;x.IntelligentTieringStatus=WSe;x.InvalidObjectState=gS;x.InvalidRequest=xS;x.InvalidWriteOffset=ES;x.InventoryConfigurationFilterSensitiveLog=Rx;x.InventoryConfigurationState=jSe;x.InventoryDestinationFilterSensitiveLog=jV;x.InventoryEncryptionFilterSensitiveLog=UV;x.InventoryFormat=QSe;x.InventoryFrequency=ZSe;x.InventoryIncludedObjectVersions=YSe;x.InventoryOptionalField=JSe;x.InventoryS3BucketDestinationFilterSensitiveLog=zV;x.JSONType=Bbe;x.ListBucketAnalyticsConfigurationsCommand=jb;x.ListBucketIntelligentTieringConfigurationsCommand=Hb;x.ListBucketInventoryConfigurationsCommand=$b;x.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=QV;x.ListBucketMetricsConfigurationsCommand=Vb;x.ListBucketsCommand=Sm;x.ListDirectoryBucketsCommand=bm;x.ListMultipartUploadsCommand=Gb;x.ListObjectVersionsCommand=Wb;x.ListObjectsCommand=Kb;x.ListObjectsV2Command=xm;x.ListPartsCommand=Em;x.ListPartsRequestFilterSensitiveLog=YV;x.LocationType=qSe;x.MFADelete=Rbe;x.MFADeleteStatus=gbe;x.MetadataDirective=PSe;x.MetricsStatus=lbe;x.NoSuchBucket=pS;x.NoSuchKey=yS;x.NoSuchUpload=uS;x.NotFound=SS;x.ObjectAlreadyInActiveTierError=wS;x.ObjectAttributes=Ebe;x.ObjectCannedACL=RSe;x.ObjectLockEnabled=Cbe;x.ObjectLockLegalHoldStatus=OSe;x.ObjectLockMode=NSe;x.ObjectLockRetentionMode=_be;x.ObjectNotInActiveTierError=fS;x.ObjectOwnership=zSe;x.ObjectStorageClass=vbe;x.ObjectVersionStorageClass=kbe;x.OptionalObjectAttributes=Tbe;x.OutputLocationFilterSensitiveLog=s7;x.OwnerOverride=vSe;x.PartitionDateSource=sbe;x.Payer=pbe;x.Permission=ASe;x.Protocol=Sbe;x.PutBucketAccelerateConfigurationCommand=Xb;x.PutBucketAclCommand=Qb;x.PutBucketAnalyticsConfigurationCommand=Yb;x.PutBucketCorsCommand=Jb;x.PutBucketEncryptionCommand=Zb;x.PutBucketEncryptionRequestFilterSensitiveLog=JV;x.PutBucketIntelligentTieringConfigurationCommand=ex;x.PutBucketInventoryConfigurationCommand=tx;x.PutBucketInventoryConfigurationRequestFilterSensitiveLog=ZV;x.PutBucketLifecycleConfigurationCommand=rx;x.PutBucketLoggingCommand=nx;x.PutBucketMetricsConfigurationCommand=sx;x.PutBucketNotificationConfigurationCommand=ox;x.PutBucketOwnershipControlsCommand=ix;x.PutBucketPolicyCommand=ax;x.PutBucketReplicationCommand=cx;x.PutBucketRequestPaymentCommand=lx;x.PutBucketTaggingCommand=dx;x.PutBucketVersioningCommand=ux;x.PutBucketWebsiteCommand=fx;x.PutObjectAclCommand=mx;x.PutObjectCommand=hx;x.PutObjectLegalHoldCommand=px;x.PutObjectLockConfigurationCommand=gx;x.PutObjectOutputFilterSensitiveLog=e7;x.PutObjectRequestFilterSensitiveLog=t7;x.PutObjectRetentionCommand=yx;x.PutObjectTaggingCommand=Sx;x.PutPublicAccessBlockCommand=bx;x.QuoteFields=Dbe;x.RenameObjectCommand=xx;x.ReplicaModificationsStatus=fbe;x.ReplicationRuleStatus=hbe;x.ReplicationStatus=bbe;x.ReplicationTimeStatus=dbe;x.RequestCharged=ESe;x.RequestPayer=CSe;x.RestoreObjectCommand=Ex;x.RestoreObjectRequestFilterSensitiveLog=i7;x.RestoreRequestFilterSensitiveLog=o7;x.RestoreRequestType=Mbe;x.S3=kx;x.S3Client=zi;x.S3LocationFilterSensitiveLog=n7;x.S3ServiceException=Cr;x.S3TablesBucketType=obe;x.SSEKMSFilterSensitiveLog=qV;x.SelectObjectContentCommand=Cx;x.SelectObjectContentEventStreamFilterSensitiveLog=Lbe;x.SelectObjectContentOutputFilterSensitiveLog=a7;x.SelectObjectContentRequestFilterSensitiveLog=c7;x.ServerSideEncryption=kSe;x.ServerSideEncryptionByDefaultFilterSensitiveLog=MV;x.ServerSideEncryptionConfigurationFilterSensitiveLog=BI;x.ServerSideEncryptionRuleFilterSensitiveLog=LV;x.SessionCredentialsFilterSensitiveLog=NV;x.SessionMode=VSe;x.SseKmsEncryptedObjectsStatus=mbe;x.StorageClass=BSe;x.StorageClassAnalysisSchemaVersion=KSe;x.TableSseAlgorithm=HSe;x.TaggingDirective=DSe;x.Tier=Ibe;x.TooManyParts=CS;x.TransitionDefaultMinimumObjectSize=rbe;x.TransitionStorageClass=ebe;x.Type=wSe;x.UpdateBucketMetadataInventoryTableConfigurationCommand=_x;x.UpdateBucketMetadataJournalTableConfigurationCommand=wx;x.UploadPartCommand=Ax;x.UploadPartCopyCommand=vx;x.UploadPartCopyOutputFilterSensitiveLog=u7;x.UploadPartCopyRequestFilterSensitiveLog=f7;x.UploadPartOutputFilterSensitiveLog=l7;x.UploadPartRequestFilterSensitiveLog=d7;x.WriteGetObjectResponseCommand=Tx;x.WriteGetObjectResponseRequestFilterSensitiveLog=m7;x.paginateListBuckets=cOe;x.paginateListDirectoryBuckets=lOe;x.paginateListObjectsV2=dOe;x.paginateListParts=uOe;x.waitForBucketExists=fOe;x.waitForBucketNotExists=hOe;x.waitForObjectExists=gOe;x.waitForObjectNotExists=SOe;x.waitUntilBucketExists=mOe;x.waitUntilBucketNotExists=pOe;x.waitUntilObjectExists=yOe;x.waitUntilObjectNotExists=bOe});var tK=b(eK=>{"use strict";var xOe=up();function EOe(e){let{port:r,query:t}=e,{protocol:n,path:s,hostname:o}=e;n&&n.slice(-1)!==":"&&(n+=":"),r&&(o+=`:${r}`),s&&s.charAt(0)!=="/"&&(s=`/${s}`);let i=t?xOe.buildQueryString(t):"";i&&i[0]!=="?"&&(i=`?${i}`);let c="";if(e.username!=null||e.password!=null){let d=e.username??"",u=e.password??"";c=`${d}:${u}@`}let l="";return e.fragment&&(l=`#${e.fragment}`),`${n}//${c}${o}${s}${i}${l}`}eK.formatUrl=EOe});var rK=b(S1=>{"use strict";var COe=tK(),_Oe=Fs(),wOe=Ye(),AOe=Yg(),vOe="UNSIGNED-PAYLOAD",TOe="X-Amz-Content-Sha256",Mm=class{signer;constructor(r){let t={service:r.signingName||r.service||"s3",uriEscapePath:r.uriEscapePath||!1,applyChecksum:r.applyChecksum||!1,...r};this.signer=new AOe.SignatureV4MultiRegion(t)}presign(r,{unsignableHeaders:t=new Set,hoistableHeaders:n=new Set,unhoistableHeaders:s=new Set,...o}={}){return this.prepareRequest(r,{unsignableHeaders:t,unhoistableHeaders:s,hoistableHeaders:n}),this.signer.presign(r,{expiresIn:900,unsignableHeaders:t,unhoistableHeaders:s,...o})}presignWithCredentials(r,t,{unsignableHeaders:n=new Set,hoistableHeaders:s=new Set,unhoistableHeaders:o=new Set,...i}={}){return this.prepareRequest(r,{unsignableHeaders:n,unhoistableHeaders:o,hoistableHeaders:s}),this.signer.presignWithCredentials(r,t,{expiresIn:900,unsignableHeaders:n,unhoistableHeaders:o,...i})}prepareRequest(r,{unsignableHeaders:t=new Set,unhoistableHeaders:n=new Set,hoistableHeaders:s=new Set}={}){t.add("content-type"),Object.keys(r.headers).map(l=>l.toLowerCase()).filter(l=>l.startsWith("x-amz-server-side-encryption")).forEach(l=>{s.has(l)||n.add(l)}),r.headers[TOe]=vOe;let o=r.headers.host,i=r.port,c=`${r.hostname}${r.port!=null?":"+i:""}`;(!o||o===r.hostname&&r.port!=null)&&(r.headers.host=c)}},kOe=async(e,r,t={})=>{let n,s;if(typeof e.config.endpointProvider=="function"){let g=(await _Oe.getEndpointFromInstructions(r.input,r.constructor,e.config)).properties?.authSchemes?.[0];g?.name==="sigv4a"?s=g?.signingRegionSet?.join(","):s=g?.signingRegion,n=new Mm({...e.config,signingName:g?.signingName,region:async()=>s})}else n=new Mm(e.config);let o=(f,g)=>async p=>{let{request:y}=p;if(!wOe.HttpRequest.isInstance(y))throw new Error("Request to be presigned is not an valid HTTP request.");delete y.headers["amz-sdk-invocation-id"],delete y.headers["amz-sdk-request"],delete y.headers["x-amz-user-agent"];let A,k={...t,signingRegion:t.signingRegion??g.signing_region??s,signingService:t.signingService??g.signing_service};return g.s3ExpressIdentity?A=await n.presignWithCredentials(y,g.s3ExpressIdentity,k):A=await n.presign(y,k),{response:{},output:{$metadata:{httpStatusCode:200},presigned:A}}},i="presignInterceptMiddleware",c=e.middlewareStack.clone();c.addRelativeTo(o,{name:i,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let l=r.resolveMiddleware(c,e.config,{}),{output:d}=await l({input:r.input}),{presigned:u}=d;return COe.formatUrl(u)};S1.S3RequestPresigner=Mm;S1.getSignedUrl=kOe});var BOe={};Cn(BOe,{completeUpload:()=>IOe,deleteMedia:()=>OOe,getAccessUrl:()=>NOe,getUploadUrl:()=>ROe,updateMedia:()=>POe});module.exports=Re(BOe);var N1=O(O1(),1),Gx;function to(){return Gx||(Gx=new N1.PrismaClient),Gx}var ZK=process.env.FRONTEND_URL||"http://localhost:5173",eW=process.env.NODE_ENV||"development",B1=eW==="production",tW=()=>{let e=[ZK];return B1&&e.push("https://dkmxy676d3vgc.cloudfront.net"),B1||e.push("http://localhost:3000","http://localhost:5173"),e},D1=e=>{let r=tW(),t=e?.headers?.origin||e?.headers?.Origin||"";return{"Access-Control-Allow-Origin":r.includes(t)?t:r[0],"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Content-Type,Authorization,X-CSRF-Token","Access-Control-Max-Age":"86400"}};function Ki(e,r=200,t={}){let n=D1(t.event);return delete t.event,{statusCode:r,headers:{"content-type":"application/json",...n,"x-content-type-options":"nosniff","referrer-policy":"strict-origin-when-cross-origin","permissions-policy":"camera=(), microphone=(), geolocation=()","strict-transport-security":"max-age=63072000; includeSubDomains; preload",...t},body:JSON.stringify(e)}}function Ve(e,r=400,t={}){return Ki({error:e},r,t)}var UOe=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;var zOe="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");var lse=O(pP(),1);var uE=O(require("crypto"),1),hW=process.env.CSRF_ENABLED==="true";var gP=e=>uE.default.createHash("sha256").update(e).digest("hex");var pW=e=>{if(!e)return null;let r={};return e.split(";").forEach(t=>{let[n,...s]=t.split("=");n&&s.length>0&&(r[n.trim()]=s.join("=").trim())}),r["XSRF-TOKEN"]||null},gW=e=>e["x-csrf-token"]||e["X-CSRF-Token"]||null,yW=(e,r)=>{if(!e||!r)return!1;let t=gP(e),n=gP(r);return uE.default.timingSafeEqual(Buffer.from(t),Buffer.from(n))},fE=e=>{if(!hW)return null;let r=(e.requestContext?.http?.method||e.httpMethod||"GET").toUpperCase();if(!["POST","PUT","PATCH","DELETE"].includes(r))return null;let n=e.headers?.cookie||e.headers?.Cookie||"",s=pW(n),o=gW(e.headers||{});return yW(s,o)?null:{statusCode:403,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"},body:JSON.stringify({error:"CSRF token validation failed",message:"Invalid or missing CSRF token"})}};var aJ=O(mN(),1);var XNe={auth:{maxRequests:10,windowMs:9e5,message:"Too many authentication attempts. Please try again later."},emailVerification:{maxRequests:5,windowMs:36e5,message:"Too many verification email requests. Please try again later."},reports:{maxRequests:parseInt(process.env.REPORTS_MAX_PER_HOUR||"5",10),windowMs:36e5,message:"Too many reports submitted. Please try again later."},write:{maxRequests:100,windowMs:36e5,message:"Too many write requests. Please try again later."},read:{maxRequests:1e3,windowMs:36e5,message:"Too many read requests. Please try again later."}};var jD=O(zD(),1);var ase=process.env.JWT_SECRET||"dev-secret-key-change-in-production";var b3e=process.env.COOKIE_DOMAIN||void 0,x3e=process.env.NODE_ENV||"development";var HD=e=>{try{return jD.default.verify(e,ase)}catch{return null}},$D=(e,r="access")=>{let t=r==="access"?"access_token":"refresh_token",n=cse(e.headers?.cookie||e.headers?.Cookie||"");if(n[t])return n[t];if(r==="access"){let s=e.headers?.authorization||e.headers?.Authorization;if(s&&s.startsWith("Bearer "))return s.substring(7)}return null},cse=e=>{let r={};return e&&e.split(";").forEach(t=>{let[n,...s]=t.split("=");n&&s.length>0&&(r[n.trim()]=s.join("=").trim())}),r};var A_=e=>{let r=$D(e,"access");if(!r)return null;let t=HD(r);return!t||t.type!=="access"?null:t.userId||null};function $c(e){try{return A_(e)||null}catch{return null}}async function v_(e){if(!e)return Ve("Unauthorized - No valid token provided",401);let t=await to().user.findUnique({where:{id:e},select:{emailVerified:!0}});return t?t.emailVerified?null:Ve("Email verification required. Please verify your email address to access this resource.",403):Ve("User not found",404)}var vc=O(ZG(),1),zx=O(rK(),1),nK=O(require("crypto"),1),b1=new vc.S3Client({region:process.env.AWS_REGION||"us-west-2"}),x1=process.env.MEDIA_BUCKET||process.env.S3_BUCKET||"valine-media-uploads",ROe=async e=>{try{let r=fE(e);if(r)return r;let{id:t}=e.pathParameters||{};if(!t)return Ve("profileId is required",400);let n=$c(e);if(!n)return Ve("Unauthorized",401);let s=await v_(n);if(s)return s;let o=JSON.parse(e.body||"{}"),{type:i,title:c,description:l,privacy:d}=o;if(!i||!["image","video","pdf"].includes(i))return Ve("Valid type is required (image, video, or pdf)",400);let u=to(),f=await u.profile.findUnique({where:{id:t}});if(!f)return Ve("Profile not found",404);if(f.userId!==n)return Ve("Forbidden - not profile owner",403);let g=nK.default.randomUUID(),p=Date.now(),y=`profiles/${t}/media/${p}-${g}`,A=await u.media.create({data:{profileId:t,type:i,s3Key:y,title:c||null,description:l||null,privacy:d||"public",processedStatus:"pending"}}),k=new vc.PutObjectCommand({Bucket:x1,Key:y,ContentType:i==="video"?"video/mp4":i==="image"?"image/jpeg":"application/pdf"}),N=await(0,zx.getSignedUrl)(b1,k,{expiresIn:900});return Ki({mediaId:A.id,uploadUrl:N,s3Key:y,message:"Upload your file to the provided URL, then call /complete endpoint"},201)}catch(r){return console.error("Get upload URL error:",r),Ve("Server error: "+r.message,500)}},IOe=async e=>{try{let r=fE(e);if(r)return r;let{id:t}=e.pathParameters||{};if(!t)return Ve("profileId is required",400);let n=$c(e);if(!n)return Ve("Unauthorized",401);let s=await v_(n);if(s)return s;let o=JSON.parse(e.body||"{}"),{mediaId:i,width:c,height:l,fileSize:d}=o;if(!i)return Ve("mediaId is required",400);let u=to(),f=await u.profile.findUnique({where:{id:t}});if(!f)return Ve("Profile not found",404);if(f.userId!==n)return Ve("Forbidden - not profile owner",403);let g=await u.media.update({where:{id:i},data:{processedStatus:"processing",width:c||null,height:l||null,fileSize:d||null}});return Ki({media:g,message:"Upload marked as complete, processing started"})}catch(r){return console.error("Complete upload error:",r),Ve("Server error: "+r.message,500)}},POe=async e=>{try{let{id:r}=e.pathParameters||{};if(!r)return Ve("id is required",400);let t=$c(e);if(!t)return Ve("Unauthorized",401);let n=JSON.parse(e.body||"{}"),{title:s,description:o,privacy:i}=n,c=to(),l=await c.media.findUnique({where:{id:r},include:{profile:!0}});if(!l)return Ve("Media not found",404);if(l.profile.userId!==t)return Ve("Forbidden - not media owner",403);if(i&&!["public","on-request","private"].includes(i))return Ve("Invalid privacy value",400);let d={};s!==void 0&&(d.title=s),o!==void 0&&(d.description=o),i!==void 0&&(d.privacy=i);let u=await c.media.update({where:{id:r},data:d});return Ki(u)}catch(r){return console.error("Update media error:",r),Ve("Server error: "+r.message,500)}},OOe=async e=>{try{let{id:r}=e.pathParameters||{};if(!r)return Ve("id is required",400);let t=$c(e);if(!t)return Ve("Unauthorized",401);let n=to(),s=await n.media.findUnique({where:{id:r},include:{profile:!0}});return s?s.profile.userId!==t?Ve("Forbidden - not media owner",403):(await n.media.delete({where:{id:r}}),Ki({message:"Media deleted successfully"})):Ve("Media not found",404)}catch(r){return console.error("Delete media error:",r),Ve("Server error: "+r.message,500)}},NOe=async e=>{try{let{id:r}=e.pathParameters||{};if(!r)return Ve("id is required",400);let t=$c(e),n=to(),s=await n.media.findUnique({where:{id:r},include:{profile:!0}});if(!s)return Ve("Media not found",404);let o=t===s.profile.userId;if(s.privacy==="private"&&!o)return Ve("This media is private",403);if(s.privacy==="on-request"&&!o){if(!t)return Ve("Authentication required to request access",401);let d=await n.reelRequest.findUnique({where:{mediaId_requesterId:{mediaId:r,requesterId:t}}});if(!d||d.status!=="approved")return Ve("Access request required or pending",403)}let i=new vc.GetObjectCommand({Bucket:x1,Key:s.s3Key}),c=await(0,zx.getSignedUrl)(b1,i,{expiresIn:3600}),l=null;if(s.posterS3Key){let d=new vc.GetObjectCommand({Bucket:x1,Key:s.posterS3Key});l=await(0,zx.getSignedUrl)(b1,d,{expiresIn:3600})}return Ki({viewUrl:c,posterUrl:l,expiresIn:3600})}catch(r){return console.error("Get access URL error:",r),Ve("Server error: "+r.message,500)}};0&&(module.exports={completeUpload,deleteMedia,getAccessUrl,getUploadUrl,updateMedia});
/*! Bundled license information:

@otplib/plugin-crypto/index.js:
  (**
   * @otplib/plugin-crypto
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/plugin-thirty-two/index.js:
  (**
   * @otplib/plugin-thirty-two
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/core/index.js:
  (**
   * @otplib/core
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

@otplib/preset-default/index.js:
  (**
   * @otplib/preset-default
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

otplib/index.js:
  (**
   * otplib
   *
   * @author Gerald Yeo <contact@fusedthought.com>
   * @version: 12.0.1
   * @license: MIT
   **)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
