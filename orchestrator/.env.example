# Discord Configuration - Rin Bot
# Rin is the unified orchestrator bot that handles all Discord interactions.
# Different agent personalities (Amadeus, BuildAgent, StatusAgent, etc.) are 
# represented through custom embeds and formatting, all using this single token.
DISCORD_PUBLIC_KEY=your_discord_public_key_here
DISCORD_BOT_TOKEN=your_rin_bot_token_here

# GitHub Configuration
GITHUB_TOKEN=your_github_personal_access_token_here
GITHUB_WEBHOOK_SECRET=your_generated_webhook_secret_here

# AWS Configuration
AWS_REGION=us-west-2
STAGE=dev

# DynamoDB (auto-configured by SAM)
RUN_TABLE_NAME=valine-orchestrator-runs-dev

# Repository Configuration
GITHUB_REPO=gcolon75/Project-Valine
ISSUE_LABEL=ready

# Deploy Verification Configuration
FRONTEND_BASE_URL=https://your-frontend-domain.com
VITE_API_BASE=https://your-api-domain.com

# QoL Commands - Admin Authorization (OFF by default)
ALLOW_SECRET_WRITES=false
ADMIN_USER_IDS=discord_user_id_1,discord_user_id_2
ADMIN_ROLE_IDS=discord_role_id_1,discord_role_id_2

# QoL Commands - URL Validation
ALLOWED_DOMAINS=*.yourdomain.com,example.com
SAFE_LOCAL=false

# Phase 5: Observability Feature Flags (OFF by default for safety)
ENABLE_DEBUG_CMD=false
ENABLE_ALERTS=false
ALERT_CHANNEL_ID=

# =============================================================================
# BACKEND AGENT CONFIGURATION (Agent Hardening)
# =============================================================================

# Persistence adapter type: memory (default), sqlite, dynamodb
PERSISTENCE_ADAPTER=memory

# SQLite configuration (when PERSISTENCE_ADAPTER=sqlite)
SQLITE_DB_PATH=/tmp/backend_agent_conversations.db

# DynamoDB configuration (when PERSISTENCE_ADAPTER=dynamodb)
DYNAMODB_TABLE_NAME=backend-agent-conversations
DYNAMODB_REGION=us-east-1

# Check execution mode: real, mock, auto (default)
CHECK_MODE=auto

# Commands to execute for checks
CHECK_COMMAND_LINT=npm run lint
CHECK_COMMAND_TEST=npm run test:run
CHECK_COMMAND_BUILD=npm run build

# Retry configuration
GITHUB_API_MAX_RETRIES=3
GITHUB_API_BASE_DELAY=1.0
GITHUB_API_MAX_DELAY=60.0
GITHUB_API_EXPONENTIAL_BASE=2.0
GITHUB_API_JITTER=true

# Token pool for high-throughput (comma-separated)
# GITHUB_API_TOKEN_POOL=ghp_token1,ghp_token2,ghp_token3
